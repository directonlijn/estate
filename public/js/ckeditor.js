/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.l = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// identity function for calling harmory imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };

/******/ 	// define getter function for harmory exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		Object.defineProperty(exports, name, {
/******/ 			configurable: false,
/******/ 			enumerable: true,
/******/ 			get: getter
/******/ 		});
/******/ 	};

/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};

/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports) {

eval("/*\nCopyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\n(function(){window.CKEDITOR&&window.CKEDITOR.dom||(window.CKEDITOR||(window.CKEDITOR=function(){var a=/(^|.*[\\\\\\/])ckeditor\\.js(?:\\?.*|;.*)?$/i,e={timestamp:\"G87D\",version:\"4.5.11 (Standard)\",revision:\"3876e73\",rnd:Math.floor(900*Math.random())+100,_:{pending:[],basePathSrcPattern:a},status:\"unloaded\",basePath:function(){var b=window.CKEDITOR_BASEPATH||\"\";if(!b)for(var c=document.getElementsByTagName(\"script\"),e=0;e<c.length;e++){var f=c[e].src.match(a);if(f){b=f[1];break}}-1==b.indexOf(\":/\")&&\"//\"!=\nb.slice(0,2)&&(b=0===b.indexOf(\"/\")?location.href.match(/^.*?:\\/\\/[^\\/]*/)[0]+b:location.href.match(/^[^\\?]*\\/(?:)/)[0]+b);if(!b)throw'The CKEditor installation path could not be automatically detected. Please set the global variable \"CKEDITOR_BASEPATH\" before creating editor instances.';return b}(),getUrl:function(a){-1==a.indexOf(\":/\")&&0!==a.indexOf(\"/\")&&(a=this.basePath+a);this.timestamp&&\"/\"!=a.charAt(a.length-1)&&!/[&?]t=/.test(a)&&(a+=(0<=a.indexOf(\"?\")?\"\\x26\":\"?\")+\"t\\x3d\"+this.timestamp);\nreturn a},domReady:function(){function a(){try{document.addEventListener?(document.removeEventListener(\"DOMContentLoaded\",a,!1),b()):document.attachEvent&&\"complete\"===document.readyState&&(document.detachEvent(\"onreadystatechange\",a),b())}catch(f){}}function b(){for(var a;a=c.shift();)a()}var c=[];return function(f){function b(){try{document.documentElement.doScroll(\"left\")}catch(g){setTimeout(b,1);return}a()}c.push(f);\"complete\"===document.readyState&&setTimeout(a,1);if(1==c.length)if(document.addEventListener)document.addEventListener(\"DOMContentLoaded\",\na,!1),window.addEventListener(\"load\",a,!1);else if(document.attachEvent){document.attachEvent(\"onreadystatechange\",a);window.attachEvent(\"onload\",a);f=!1;try{f=!window.frameElement}catch(k){}document.documentElement.doScroll&&f&&b()}}}()},b=window.CKEDITOR_GETURL;if(b){var c=e.getUrl;e.getUrl=function(a){return b.call(e,a)||c.call(e,a)}}return e}()),CKEDITOR.event||(CKEDITOR.event=function(){},CKEDITOR.event.implementOn=function(a){var e=CKEDITOR.event.prototype,b;for(b in e)null==a[b]&&(a[b]=e[b])},\nCKEDITOR.event.prototype=function(){function a(a){var d=e(this);return d[a]||(d[a]=new b(a))}var e=function(a){a=a.getPrivate&&a.getPrivate()||a._||(a._={});return a.events||(a.events={})},b=function(a){this.name=a;this.listeners=[]};b.prototype={getListenerIndex:function(a){for(var b=0,e=this.listeners;b<e.length;b++)if(e[b].fn==a)return b;return-1}};return{define:function(b,d){var e=a.call(this,b);CKEDITOR.tools.extend(e,d,!0)},on:function(b,d,e,m,f){function h(a,g,f,h){a={name:b,sender:this,editor:a,\ndata:g,listenerData:m,stop:f,cancel:h,removeListener:k};return!1===d.call(e,a)?!1:a.data}function k(){n.removeListener(b,d)}var g=a.call(this,b);if(0>g.getListenerIndex(d)){g=g.listeners;e||(e=this);isNaN(f)&&(f=10);var n=this;h.fn=d;h.priority=f;for(var v=g.length-1;0<=v;v--)if(g[v].priority<=f)return g.splice(v+1,0,h),{removeListener:k};g.unshift(h)}return{removeListener:k}},once:function(){var a=Array.prototype.slice.call(arguments),b=a[1];a[1]=function(a){a.removeListener();return b.apply(this,\narguments)};return this.on.apply(this,a)},capture:function(){CKEDITOR.event.useCapture=1;var a=this.on.apply(this,arguments);CKEDITOR.event.useCapture=0;return a},fire:function(){var a=0,b=function(){a=1},l=0,m=function(){l=1};return function(f,h,k){\nvar this$1 = this;\nvar g=e(this)[f];f=a;var n=l;a=l=0;if(g){var v=g.listeners;if(v.length)for(var v=v.slice(0),r,q=0;q<v.length;q++){if(g.errorProof)try{r=v[q].call(this$1,k,h,b,m)}catch(t){}else r=v[q].call(this$1,k,h,b,m);!1===r?l=1:\"undefined\"!=typeof r&&(h=r);if(a||l)break}}h=\nl?!1:\"undefined\"==typeof h?!0:h;a=f;l=n;return h}}(),fireOnce:function(a,b,l){b=this.fire(a,b,l);delete e(this)[a];return b},removeListener:function(a,b){var l=e(this)[a];if(l){var m=l.getListenerIndex(b);0<=m&&l.listeners.splice(m,1)}},removeAllListeners:function(){var a=e(this),b;for(b in a)delete a[b]},hasListeners:function(a){return(a=e(this)[a])&&0<a.listeners.length}}}()),CKEDITOR.editor||(CKEDITOR.editor=function(){CKEDITOR._.pending.push([this,arguments]);CKEDITOR.event.call(this)},CKEDITOR.editor.prototype.fire=\nfunction(a,e){a in{instanceReady:1,loaded:1}&&(this[a]=!0);return CKEDITOR.event.prototype.fire.call(this,a,e,this)},CKEDITOR.editor.prototype.fireOnce=function(a,e){a in{instanceReady:1,loaded:1}&&(this[a]=!0);return CKEDITOR.event.prototype.fireOnce.call(this,a,e,this)},CKEDITOR.event.implementOn(CKEDITOR.editor.prototype)),CKEDITOR.env||(CKEDITOR.env=function(){var a=navigator.userAgent.toLowerCase(),e=a.match(/edge[ \\/](\\d+.?\\d*)/),b=-1<a.indexOf(\"trident/\"),b=!(!e&&!b),b={ie:b,edge:!!e,webkit:!b&&\n-1<a.indexOf(\" applewebkit/\"),air:-1<a.indexOf(\" adobeair/\"),mac:-1<a.indexOf(\"macintosh\"),quirks:\"BackCompat\"==document.compatMode&&(!document.documentMode||10>document.documentMode),mobile:-1<a.indexOf(\"mobile\"),iOS:/(ipad|iphone|ipod)/.test(a),isCustomDomain:function(){if(!this.ie)return!1;var a=document.domain,b=window.location.hostname;return a!=b&&a!=\"[\"+b+\"]\"},secure:\"https:\"==location.protocol};b.gecko=\"Gecko\"==navigator.product&&!b.webkit&&!b.ie;b.webkit&&(-1<a.indexOf(\"chrome\")?b.chrome=\n!0:b.safari=!0);var c=0;b.ie&&(c=e?parseFloat(e[1]):b.quirks||!document.documentMode?parseFloat(a.match(/msie (\\d+)/)[1]):document.documentMode,b.ie9Compat=9==c,b.ie8Compat=8==c,b.ie7Compat=7==c,b.ie6Compat=7>c||b.quirks);b.gecko&&(e=a.match(/rv:([\\d\\.]+)/))&&(e=e[1].split(\".\"),c=1E4*e[0]+100*(e[1]||0)+1*(e[2]||0));b.air&&(c=parseFloat(a.match(/ adobeair\\/(\\d+)/)[1]));b.webkit&&(c=parseFloat(a.match(/ applewebkit\\/(\\d+)/)[1]));b.version=c;b.isCompatible=!(b.ie&&7>c)&&!(b.gecko&&4E4>c)&&!(b.webkit&&\n534>c);b.hidpi=2<=window.devicePixelRatio;b.needsBrFiller=b.gecko||b.webkit||b.ie&&10<c;b.needsNbspFiller=b.ie&&11>c;b.cssClass=\"cke_browser_\"+(b.ie?\"ie\":b.gecko?\"gecko\":b.webkit?\"webkit\":\"unknown\");b.quirks&&(b.cssClass+=\" cke_browser_quirks\");b.ie&&(b.cssClass+=\" cke_browser_ie\"+(b.quirks?\"6 cke_browser_iequirks\":b.version));b.air&&(b.cssClass+=\" cke_browser_air\");b.iOS&&(b.cssClass+=\" cke_browser_ios\");b.hidpi&&(b.cssClass+=\" cke_hidpi\");return b}()),\"unloaded\"==CKEDITOR.status&&function(){CKEDITOR.event.implementOn(CKEDITOR);\nCKEDITOR.loadFullCore=function(){if(\"basic_ready\"!=CKEDITOR.status)CKEDITOR.loadFullCore._load=1;else{delete CKEDITOR.loadFullCore;var a=document.createElement(\"script\");a.type=\"text/javascript\";a.src=CKEDITOR.basePath+\"ckeditor.js\";document.getElementsByTagName(\"head\")[0].appendChild(a)}};CKEDITOR.loadFullCoreTimeout=0;CKEDITOR.add=function(a){(this._.pending||(this._.pending=[])).push(a)};(function(){CKEDITOR.domReady(function(){var a=CKEDITOR.loadFullCore,e=CKEDITOR.loadFullCoreTimeout;a&&(CKEDITOR.status=\n\"basic_ready\",a&&a._load?a():e&&setTimeout(function(){CKEDITOR.loadFullCore&&CKEDITOR.loadFullCore()},1E3*e))})})();CKEDITOR.status=\"basic_loaded\"}(),\"use strict\",CKEDITOR.VERBOSITY_WARN=1,CKEDITOR.VERBOSITY_ERROR=2,CKEDITOR.verbosity=CKEDITOR.VERBOSITY_WARN|CKEDITOR.VERBOSITY_ERROR,CKEDITOR.warn=function(a,e){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_WARN&&CKEDITOR.fire(\"log\",{type:\"warn\",errorCode:a,additionalData:e})},CKEDITOR.error=function(a,e){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_ERROR&&CKEDITOR.fire(\"log\",\n{type:\"error\",errorCode:a,additionalData:e})},CKEDITOR.on(\"log\",function(a){if(window.console&&window.console.log){var e=console[a.data.type]?a.data.type:\"log\",b=a.data.errorCode;if(a=a.data.additionalData)console[e](\"[CKEDITOR] Error code: \"+b+\".\",a);else console[e](\"[CKEDITOR] Error code: \"+b+\".\");console[e](\"[CKEDITOR] For more information about this error go to http://docs.ckeditor.com/#!/guide/dev_errors-section-\"+b)}},null,null,999),CKEDITOR.dom={},function(){var a=[],e=CKEDITOR.env.gecko?\"-moz-\":\nCKEDITOR.env.webkit?\"-webkit-\":CKEDITOR.env.ie?\"-ms-\":\"\",b=/&/g,c=/>/g,d=/</g,l=/\"/g,m=/&(lt|gt|amp|quot|nbsp|shy|#\\d{1,5});/g,f={lt:\"\\x3c\",gt:\"\\x3e\",amp:\"\\x26\",quot:'\"',nbsp:\" \",shy:\"­\"},h=function(a,g){return\"#\"==g[0]?String.fromCharCode(parseInt(g.slice(1),10)):f[g]};CKEDITOR.on(\"reset\",function(){a=[]});CKEDITOR.tools={arrayCompare:function(a,g){if(!a&&!g)return!0;if(!a||!g||a.length!=g.length)return!1;for(var f=0;f<a.length;f++)if(a[f]!=g[f])return!1;return!0},getIndex:function(a,g){for(var f=\n0;f<a.length;++f)if(g(a[f]))return f;return-1},clone:function(a){var g;if(a&&a instanceof Array){g=[];for(var f=0;f<a.length;f++)g[f]=CKEDITOR.tools.clone(a[f]);return g}if(null===a||\"object\"!=typeof a||a instanceof String||a instanceof Number||a instanceof Boolean||a instanceof Date||a instanceof RegExp||a.nodeType||a.window===a)return a;g=new a.constructor;for(f in a)g[f]=CKEDITOR.tools.clone(a[f]);return g},capitalize:function(a,g){return a.charAt(0).toUpperCase()+(g?a.slice(1):a.slice(1).toLowerCase())},\nextend:function(a){\nvar arguments$1 = arguments;\nvar g=arguments.length,f,b;\"boolean\"==typeof(f=arguments[g-1])?g--:\"boolean\"==typeof(f=arguments[g-2])&&(b=arguments[g-1],g-=2);for(var h=1;h<g;h++){var c=arguments$1[h],d;for(d in c)if(!0===f||null==a[d])if(!b||d in b)a[d]=c[d]}return a},prototypedCopy:function(a){var g=function(){};g.prototype=a;return new g},copy:function(a){var g={},f;for(f in a)g[f]=a[f];return g},isArray:function(a){return\"[object Array]\"==Object.prototype.toString.call(a)},isEmpty:function(a){for(var g in a)if(a.hasOwnProperty(g))return!1;\nreturn!0},cssVendorPrefix:function(a,g,f){if(f)return e+a+\":\"+g+\";\"+a+\":\"+g;f={};f[a]=g;f[e+a]=g;return f},cssStyleToDomStyle:function(){var a=document.createElement(\"div\").style,g=\"undefined\"!=typeof a.cssFloat?\"cssFloat\":\"undefined\"!=typeof a.styleFloat?\"styleFloat\":\"float\";return function(a){return\"float\"==a?g:a.replace(/-./g,function(a){return a.substr(1).toUpperCase()})}}(),buildStyleHtml:function(a){a=[].concat(a);for(var g,f=[],b=0;b<a.length;b++)if(g=a[b])/@import|[{}]/.test(g)?f.push(\"\\x3cstyle\\x3e\"+\ng+\"\\x3c/style\\x3e\"):f.push('\\x3clink type\\x3d\"text/css\" rel\\x3dstylesheet href\\x3d\"'+g+'\"\\x3e');return f.join(\"\")},htmlEncode:function(a){return void 0===a||null===a?\"\":String(a).replace(b,\"\\x26amp;\").replace(c,\"\\x26gt;\").replace(d,\"\\x26lt;\")},htmlDecode:function(a){return a.replace(m,h)},htmlEncodeAttr:function(a){return CKEDITOR.tools.htmlEncode(a).replace(l,\"\\x26quot;\")},htmlDecodeAttr:function(a){return CKEDITOR.tools.htmlDecode(a)},transformPlainTextToHtml:function(a,g){var f=g==CKEDITOR.ENTER_BR,\nb=this.htmlEncode(a.replace(/\\r\\n/g,\"\\n\")),b=b.replace(/\\t/g,\"\\x26nbsp;\\x26nbsp; \\x26nbsp;\"),h=g==CKEDITOR.ENTER_P?\"p\":\"div\";if(!f){var c=/\\n{2}/g;if(c.test(b))var d=\"\\x3c\"+h+\"\\x3e\",e=\"\\x3c/\"+h+\"\\x3e\",b=d+b.replace(c,function(){return e+d})+e}b=b.replace(/\\n/g,\"\\x3cbr\\x3e\");f||(b=b.replace(new RegExp(\"\\x3cbr\\x3e(?\\x3d\\x3c/\"+h+\"\\x3e)\"),function(a){return CKEDITOR.tools.repeat(a,2)}));b=b.replace(/^ | $/g,\"\\x26nbsp;\");return b=b.replace(/(>|\\s) /g,function(a,g){return g+\"\\x26nbsp;\"}).replace(/ (?=<)/g,\n\"\\x26nbsp;\")},getNextNumber:function(){var a=0;return function(){return++a}}(),getNextId:function(){return\"cke_\"+this.getNextNumber()},getUniqueId:function(){for(var a=\"e\",g=0;8>g;g++)a+=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return a},override:function(a,g){var f=g(a);f.prototype=a.prototype;return f},setTimeout:function(a,g,f,b,h){h||(h=window);f||(f=h);return h.setTimeout(function(){b?a.apply(f,[].concat(b)):a.apply(f)},g||0)},trim:function(){var a=/(?:^[ \\t\\n\\r]+)|(?:[ \\t\\n\\r]+$)/g;\nreturn function(g){return g.replace(a,\"\")}}(),ltrim:function(){var a=/^[ \\t\\n\\r]+/g;return function(g){return g.replace(a,\"\")}}(),rtrim:function(){var a=/[ \\t\\n\\r]+$/g;return function(g){return g.replace(a,\"\")}}(),indexOf:function(a,g){if(\"function\"==typeof g)for(var f=0,b=a.length;f<b;f++){if(g(a[f]))return f}else{if(a.indexOf)return a.indexOf(g);f=0;for(b=a.length;f<b;f++)if(a[f]===g)return f}return-1},search:function(a,g){var f=CKEDITOR.tools.indexOf(a,g);return 0<=f?a[f]:null},bind:function(a,\ng){return function(){return a.apply(g,arguments)}},createClass:function(a){var g=a.$,f=a.base,b=a.privates||a._,h=a.proto;a=a.statics;!g&&(g=function(){f&&this.base.apply(this,arguments)});if(b)var c=g,g=function(){\nvar this$1 = this;\nvar a=this._||(this._={}),g;for(g in b){var f=b[g];a[g]=\"function\"==typeof f?CKEDITOR.tools.bind(f,this$1):f}c.apply(this,arguments)};f&&(g.prototype=this.prototypedCopy(f.prototype),g.prototype.constructor=g,g.base=f,g.baseProto=f.prototype,g.prototype.base=function(){this.base=f.prototype.base;\nf.apply(this,arguments);this.base=arguments.callee});h&&this.extend(g.prototype,h,!0);a&&this.extend(g,a,!0);return g},addFunction:function(f,g){return a.push(function(){return f.apply(g||this,arguments)})-1},removeFunction:function(f){a[f]=null},callFunction:function(f){var g=a[f];return g&&g.apply(window,Array.prototype.slice.call(arguments,1))},cssLength:function(){var a=/^-?\\d+\\.?\\d*px$/,g;return function(f){g=CKEDITOR.tools.trim(f+\"\")+\"px\";return a.test(g)?g:f||\"\"}}(),convertToPx:function(){var a;\nreturn function(g){a||(a=CKEDITOR.dom.element.createFromHtml('\\x3cdiv style\\x3d\"position:absolute;left:-9999px;top:-9999px;margin:0px;padding:0px;border:0px;\"\\x3e\\x3c/div\\x3e',CKEDITOR.document),CKEDITOR.document.getBody().append(a));return/%$/.test(g)?g:(a.setStyle(\"width\",g),a.$.clientWidth)}}(),repeat:function(a,g){return Array(g+1).join(a)},tryThese:function(){\nvar arguments$1 = arguments;\nfor(var a,g=0,f=arguments.length;g<f;g++){var b=arguments$1[g];try{a=b();break}catch(h){}}return a},genKey:function(){return Array.prototype.slice.call(arguments).join(\"-\")},\ndefer:function(a){return function(){var g=arguments,f=this;window.setTimeout(function(){a.apply(f,g)},0)}},normalizeCssText:function(a,g){var f=[],b,h=CKEDITOR.tools.parseCssText(a,!0,g);for(b in h)f.push(b+\":\"+h[b]);f.sort();return f.length?f.join(\";\")+\";\":\"\"},convertRgbToHex:function(a){return a.replace(/(?:rgb\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\))/gi,function(a,f,b,h){a=[f,b,h];for(f=0;3>f;f++)a[f]=(\"0\"+parseInt(a[f],10).toString(16)).slice(-2);return\"#\"+a.join(\"\")})},normalizeHex:function(a){return a.replace(/#(([0-9a-f]{3}){1,2})($|;|\\s+)/gi,\nfunction(a,f,b,h){a=f.toLowerCase();3==a.length&&(a=a.split(\"\"),a=[a[0],a[0],a[1],a[1],a[2],a[2]].join(\"\"));return\"#\"+a+h})},parseCssText:function(a,g,f){var b={};f&&(a=(new CKEDITOR.dom.element(\"span\")).setAttribute(\"style\",a).getAttribute(\"style\")||\"\");a&&(a=CKEDITOR.tools.normalizeHex(CKEDITOR.tools.convertRgbToHex(a)));if(!a||\";\"==a)return b;a.replace(/&quot;/g,'\"').replace(/\\s*([^:;\\s]+)\\s*:\\s*([^;]+)\\s*(?=;|$)/g,function(a,f,h){g&&(f=f.toLowerCase(),\"font-family\"==f&&(h=h.replace(/\\s*,\\s*/g,\n\",\")),h=CKEDITOR.tools.trim(h));b[f]=h});return b},writeCssText:function(a,g){var f,b=[];for(f in a)b.push(f+\":\"+a[f]);g&&b.sort();return b.join(\"; \")},objectCompare:function(a,g,f){var b;if(!a&&!g)return!0;if(!a||!g)return!1;for(b in a)if(a[b]!=g[b])return!1;if(!f)for(b in g)if(a[b]!=g[b])return!1;return!0},objectKeys:function(a){var g=[],f;for(f in a)g.push(f);return g},convertArrayToObject:function(a,g){var f={};1==arguments.length&&(g=!0);for(var b=0,h=a.length;b<h;++b)f[a[b]]=g;return f},fixDomain:function(){for(var a;;)try{a=\nwindow.parent.document.domain;break}catch(g){a=a?a.replace(/.+?(?:\\.|$)/,\"\"):document.domain;if(!a)break;document.domain=a}return!!a},eventsBuffer:function(a,g,f){function b(){c=(new Date).getTime();h=!1;f?g.call(f):g()}var h,c=0;return{input:function(){if(!h){var g=(new Date).getTime()-c;g<a?h=setTimeout(b,a-g):b()}},reset:function(){h&&clearTimeout(h);h=c=0}}},enableHtml5Elements:function(a,g){for(var f=\"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup main mark meter nav output progress section summary time video\".split(\" \"),\nb=f.length,h;b--;)h=a.createElement(f[b]),g&&a.appendChild(h)},checkIfAnyArrayItemMatches:function(a,g){for(var f=0,b=a.length;f<b;++f)if(a[f].match(g))return!0;return!1},checkIfAnyObjectPropertyMatches:function(a,g){for(var f in a)if(f.match(g))return!0;return!1},transparentImageData:\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw\\x3d\\x3d\",getCookie:function(a){a=a.toLowerCase();for(var g=document.cookie.split(\";\"),f,b,h=0;h<g.length;h++)if(f=g[h].split(\"\\x3d\"),\nb=decodeURIComponent(CKEDITOR.tools.trim(f[0]).toLowerCase()),b===a)return decodeURIComponent(1<f.length?f[1]:\"\");return null},setCookie:function(a,g){document.cookie=encodeURIComponent(a)+\"\\x3d\"+encodeURIComponent(g)+\";path\\x3d/\"},getCsrfToken:function(){var a=CKEDITOR.tools.getCookie(\"ckCsrfToken\");if(!a||40!=a.length){var a=[],g=\"\";if(window.crypto&&window.crypto.getRandomValues)a=new Uint8Array(40),window.crypto.getRandomValues(a);else for(var f=0;40>f;f++)a.push(Math.floor(256*Math.random()));\nfor(f=0;f<a.length;f++)var b=\"abcdefghijklmnopqrstuvwxyz0123456789\".charAt(a[f]%36),g=g+(.5<Math.random()?b.toUpperCase():b);a=g;CKEDITOR.tools.setCookie(\"ckCsrfToken\",a)}return a},escapeCss:function(a){return a?window.CSS&&CSS.escape?CSS.escape(a):isNaN(parseInt(a.charAt(0),10))?a:\"\\\\3\"+a.charAt(0)+\" \"+a.substring(1,a.length):\"\"}}}(),CKEDITOR.dtd=function(){var a=CKEDITOR.tools.extend,e=function(a,g){\nvar arguments$1 = arguments;\nfor(var f=CKEDITOR.tools.clone(a),b=1;b<arguments.length;b++){g=arguments$1[b];for(var h in g)delete f[h]}return f},\nb={},c={},d={address:1,article:1,aside:1,blockquote:1,details:1,div:1,dl:1,fieldset:1,figure:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,hr:1,main:1,menu:1,nav:1,ol:1,p:1,pre:1,section:1,table:1,ul:1},l={command:1,link:1,meta:1,noscript:1,script:1,style:1},m={},f={\"#\":1},h={center:1,dir:1,noframes:1};a(b,{a:1,abbr:1,area:1,audio:1,b:1,bdi:1,bdo:1,br:1,button:1,canvas:1,cite:1,code:1,command:1,datalist:1,del:1,dfn:1,em:1,embed:1,i:1,iframe:1,img:1,input:1,ins:1,kbd:1,keygen:1,\nlabel:1,map:1,mark:1,meter:1,noscript:1,object:1,output:1,progress:1,q:1,ruby:1,s:1,samp:1,script:1,select:1,small:1,span:1,strong:1,sub:1,sup:1,textarea:1,time:1,u:1,\"var\":1,video:1,wbr:1},f,{acronym:1,applet:1,basefont:1,big:1,font:1,isindex:1,strike:1,style:1,tt:1});a(c,d,b,h);e={a:e(b,{a:1,button:1}),abbr:b,address:c,area:m,article:c,aside:c,audio:a({source:1,track:1},c),b:b,base:m,bdi:b,bdo:b,blockquote:c,body:c,br:m,button:e(b,{a:1,button:1}),canvas:b,caption:c,cite:b,code:b,col:m,colgroup:{col:1},\ncommand:m,datalist:a({option:1},b),dd:c,del:b,details:a({summary:1},c),dfn:b,div:c,dl:{dt:1,dd:1},dt:c,em:b,embed:m,fieldset:a({legend:1},c),figcaption:c,figure:a({figcaption:1},c),footer:c,form:c,h1:b,h2:b,h3:b,h4:b,h5:b,h6:b,head:a({title:1,base:1},l),header:c,hgroup:{h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},hr:m,html:a({head:1,body:1},c,l),i:b,iframe:f,img:m,input:m,ins:b,kbd:b,keygen:m,label:b,legend:b,li:c,link:m,main:c,map:c,mark:b,menu:a({li:1},c),meta:m,meter:e(b,{meter:1}),nav:c,noscript:a({link:1,\nmeta:1,style:1},b),object:a({param:1},b),ol:{li:1},optgroup:{option:1},option:f,output:b,p:b,param:m,pre:b,progress:e(b,{progress:1}),q:b,rp:b,rt:b,ruby:a({rp:1,rt:1},b),s:b,samp:b,script:f,section:c,select:{optgroup:1,option:1},small:b,source:m,span:b,strong:b,style:f,sub:b,summary:a({h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},b),sup:b,table:{caption:1,colgroup:1,thead:1,tfoot:1,tbody:1,tr:1},tbody:{tr:1},td:c,textarea:f,tfoot:{tr:1},th:c,thead:{tr:1},time:e(b,{time:1}),title:f,tr:{th:1,td:1},track:m,u:b,ul:{li:1},\n\"var\":b,video:a({source:1,track:1},c),wbr:m,acronym:b,applet:a({param:1},c),basefont:m,big:b,center:c,dialog:m,dir:{li:1},font:b,isindex:m,noframes:c,strike:b,tt:b};a(e,{$block:a({audio:1,dd:1,dt:1,figcaption:1,li:1,video:1},d,h),$blockLimit:{article:1,aside:1,audio:1,body:1,caption:1,details:1,dir:1,div:1,dl:1,fieldset:1,figcaption:1,figure:1,footer:1,form:1,header:1,hgroup:1,main:1,menu:1,nav:1,ol:1,section:1,table:1,td:1,th:1,tr:1,ul:1,video:1},$cdata:{script:1,style:1},$editable:{address:1,article:1,\naside:1,blockquote:1,body:1,details:1,div:1,fieldset:1,figcaption:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,main:1,nav:1,p:1,pre:1,section:1},$empty:{area:1,base:1,basefont:1,br:1,col:1,command:1,dialog:1,embed:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1},$inline:b,$list:{dl:1,ol:1,ul:1},$listItem:{dd:1,dt:1,li:1},$nonBodyContent:a({body:1,head:1,html:1},e.head),$nonEditable:{applet:1,audio:1,button:1,embed:1,iframe:1,map:1,object:1,\noption:1,param:1,script:1,textarea:1,video:1},$object:{applet:1,audio:1,button:1,hr:1,iframe:1,img:1,input:1,object:1,select:1,table:1,textarea:1,video:1},$removeEmpty:{abbr:1,acronym:1,b:1,bdi:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,mark:1,meter:1,output:1,q:1,ruby:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,time:1,tt:1,u:1,\"var\":1},$tabIndex:{a:1,area:1,button:1,input:1,object:1,select:1,textarea:1},$tableContent:{caption:1,col:1,colgroup:1,tbody:1,\ntd:1,tfoot:1,th:1,thead:1,tr:1},$transparent:{a:1,audio:1,canvas:1,del:1,ins:1,map:1,noscript:1,object:1,video:1},$intermediate:{caption:1,colgroup:1,dd:1,dt:1,figcaption:1,legend:1,li:1,optgroup:1,option:1,rp:1,rt:1,summary:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1}});return e}(),CKEDITOR.dom.event=function(a){this.$=a},CKEDITOR.dom.event.prototype={getKey:function(){return this.$.keyCode||this.$.which},getKeystroke:function(){var a=this.getKey();if(this.$.ctrlKey||this.$.metaKey)a+=CKEDITOR.CTRL;\nthis.$.shiftKey&&(a+=CKEDITOR.SHIFT);this.$.altKey&&(a+=CKEDITOR.ALT);return a},preventDefault:function(a){var e=this.$;e.preventDefault?e.preventDefault():e.returnValue=!1;a&&this.stopPropagation()},stopPropagation:function(){var a=this.$;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},getTarget:function(){var a=this.$.target||this.$.srcElement;return a?new CKEDITOR.dom.node(a):null},getPhase:function(){return this.$.eventPhase||2},getPageOffset:function(){var a=this.getTarget().getDocument().$;\nreturn{x:this.$.pageX||this.$.clientX+(a.documentElement.scrollLeft||a.body.scrollLeft),y:this.$.pageY||this.$.clientY+(a.documentElement.scrollTop||a.body.scrollTop)}}},CKEDITOR.CTRL=1114112,CKEDITOR.SHIFT=2228224,CKEDITOR.ALT=4456448,CKEDITOR.EVENT_PHASE_CAPTURING=1,CKEDITOR.EVENT_PHASE_AT_TARGET=2,CKEDITOR.EVENT_PHASE_BUBBLING=3,CKEDITOR.dom.domObject=function(a){a&&(this.$=a)},CKEDITOR.dom.domObject.prototype=function(){var a=function(a,b){return function(c){\"undefined\"!=typeof CKEDITOR&&a.fire(b,\nnew CKEDITOR.dom.event(c))}};return{getPrivate:function(){var a;(a=this.getCustomData(\"_\"))||this.setCustomData(\"_\",a={});return a},on:function(e){var b=this.getCustomData(\"_cke_nativeListeners\");b||(b={},this.setCustomData(\"_cke_nativeListeners\",b));b[e]||(b=b[e]=a(this,e),this.$.addEventListener?this.$.addEventListener(e,b,!!CKEDITOR.event.useCapture):this.$.attachEvent&&this.$.attachEvent(\"on\"+e,b));return CKEDITOR.event.prototype.on.apply(this,arguments)},removeListener:function(a){CKEDITOR.event.prototype.removeListener.apply(this,\narguments);if(!this.hasListeners(a)){var b=this.getCustomData(\"_cke_nativeListeners\"),c=b&&b[a];c&&(this.$.removeEventListener?this.$.removeEventListener(a,c,!1):this.$.detachEvent&&this.$.detachEvent(\"on\"+a,c),delete b[a])}},removeAllListeners:function(){\nvar this$1 = this;\nvar a=this.getCustomData(\"_cke_nativeListeners\"),b;for(b in a){var c=a[b];this$1.$.detachEvent?this$1.$.detachEvent(\"on\"+b,c):this$1.$.removeEventListener&&this$1.$.removeEventListener(b,c,!1);delete a[b]}CKEDITOR.event.prototype.removeAllListeners.call(this)}}}(),\nfunction(a){var e={};CKEDITOR.on(\"reset\",function(){e={}});a.equals=function(a){try{return a&&a.$===this.$}catch(c){return!1}};a.setCustomData=function(a,c){var d=this.getUniqueId();(e[d]||(e[d]={}))[a]=c;return this};a.getCustomData=function(a){var c=this.$[\"data-cke-expando\"];return(c=c&&e[c])&&a in c?c[a]:null};a.removeCustomData=function(a){var c=this.$[\"data-cke-expando\"],c=c&&e[c],d,l;c&&(d=c[a],l=a in c,delete c[a]);return l?d:null};a.clearCustomData=function(){this.removeAllListeners();var a=\nthis.$[\"data-cke-expando\"];a&&delete e[a]};a.getUniqueId=function(){return this.$[\"data-cke-expando\"]||(this.$[\"data-cke-expando\"]=CKEDITOR.tools.getNextNumber())};CKEDITOR.event.implementOn(a)}(CKEDITOR.dom.domObject.prototype),CKEDITOR.dom.node=function(a){return a?new CKEDITOR.dom[a.nodeType==CKEDITOR.NODE_DOCUMENT?\"document\":a.nodeType==CKEDITOR.NODE_ELEMENT?\"element\":a.nodeType==CKEDITOR.NODE_TEXT?\"text\":a.nodeType==CKEDITOR.NODE_COMMENT?\"comment\":a.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT?\n\"documentFragment\":\"domObject\"](a):this},CKEDITOR.dom.node.prototype=new CKEDITOR.dom.domObject,CKEDITOR.NODE_ELEMENT=1,CKEDITOR.NODE_DOCUMENT=9,CKEDITOR.NODE_TEXT=3,CKEDITOR.NODE_COMMENT=8,CKEDITOR.NODE_DOCUMENT_FRAGMENT=11,CKEDITOR.POSITION_IDENTICAL=0,CKEDITOR.POSITION_DISCONNECTED=1,CKEDITOR.POSITION_FOLLOWING=2,CKEDITOR.POSITION_PRECEDING=4,CKEDITOR.POSITION_IS_CONTAINED=8,CKEDITOR.POSITION_CONTAINS=16,CKEDITOR.tools.extend(CKEDITOR.dom.node.prototype,{appendTo:function(a,e){a.append(this,e);\nreturn a},clone:function(a,e){function b(c){c[\"data-cke-expando\"]&&(c[\"data-cke-expando\"]=!1);if(c.nodeType==CKEDITOR.NODE_ELEMENT||c.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)if(e||c.nodeType!=CKEDITOR.NODE_ELEMENT||c.removeAttribute(\"id\",!1),a){c=c.childNodes;for(var d=0;d<c.length;d++)b(c[d])}}function c(b){if(b.type==CKEDITOR.NODE_ELEMENT||b.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT){if(b.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var d=b.getName();\":\"==d[0]&&b.renameNode(d.substring(1))}if(a)for(d=0;d<\nb.getChildCount();d++)c(b.getChild(d))}}var d=this.$.cloneNode(a);b(d);d=new CKEDITOR.dom.node(d);CKEDITOR.env.ie&&9>CKEDITOR.env.version&&(this.type==CKEDITOR.NODE_ELEMENT||this.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&c(d);return d},hasPrevious:function(){return!!this.$.previousSibling},hasNext:function(){return!!this.$.nextSibling},insertAfter:function(a){a.$.parentNode.insertBefore(this.$,a.$.nextSibling);return a},insertBefore:function(a){a.$.parentNode.insertBefore(this.$,a.$);return a},insertBeforeMe:function(a){this.$.parentNode.insertBefore(a.$,\nthis.$);return a},getAddress:function(a){\nvar this$1 = this;\nfor(var e=[],b=this.getDocument().$.documentElement,c=this.$;c&&c!=b;){var d=c.parentNode;d&&e.unshift(this$1.getIndex.call({$:c},a));c=d}return e},getDocument:function(){return new CKEDITOR.dom.document(this.$.ownerDocument||this.$.parentNode.ownerDocument)},getIndex:function(a){\nvar this$1 = this;\nfunction e(a,f){var h=f?a.nextSibling:a.previousSibling;return h&&h.nodeType==CKEDITOR.NODE_TEXT?b(h)?e(h,f):h:null}function b(a){return!a.nodeValue||a.nodeValue==CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE}\nvar c=this.$,d=-1,l;if(!this.$.parentNode||a&&c.nodeType==CKEDITOR.NODE_TEXT&&b(c)&&!e(c)&&!e(c,!0))return-1;do a&&c!=this$1.$&&c.nodeType==CKEDITOR.NODE_TEXT&&(l||b(c))||(d++,l=c.nodeType==CKEDITOR.NODE_TEXT);while(c=c.previousSibling);return d},getNextSourceNode:function(a,e,b){if(b&&!b.call){var c=b;b=function(a){return!a.equals(c)}}a=!a&&this.getFirst&&this.getFirst();var d;if(!a){if(this.type==CKEDITOR.NODE_ELEMENT&&b&&!1===b(this,!0))return null;a=this.getNext()}for(;!a&&(d=(d||this).getParent());){if(b&&\n!1===b(d,!0))return null;a=d.getNext()}return!a||b&&!1===b(a)?null:e&&e!=a.type?a.getNextSourceNode(!1,e,b):a},getPreviousSourceNode:function(a,e,b){if(b&&!b.call){var c=b;b=function(a){return!a.equals(c)}}a=!a&&this.getLast&&this.getLast();var d;if(!a){if(this.type==CKEDITOR.NODE_ELEMENT&&b&&!1===b(this,!0))return null;a=this.getPrevious()}for(;!a&&(d=(d||this).getParent());){if(b&&!1===b(d,!0))return null;a=d.getPrevious()}return!a||b&&!1===b(a)?null:e&&a.type!=e?a.getPreviousSourceNode(!1,e,b):\na},getPrevious:function(a){var e=this.$,b;do b=(e=e.previousSibling)&&10!=e.nodeType&&new CKEDITOR.dom.node(e);while(b&&a&&!a(b));return b},getNext:function(a){var e=this.$,b;do b=(e=e.nextSibling)&&new CKEDITOR.dom.node(e);while(b&&a&&!a(b));return b},getParent:function(a){var e=this.$.parentNode;return e&&(e.nodeType==CKEDITOR.NODE_ELEMENT||a&&e.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)?new CKEDITOR.dom.node(e):null},getParents:function(a){var e=this,b=[];do b[a?\"push\":\"unshift\"](e);while(e=e.getParent());\nreturn b},getCommonAncestor:function(a){if(a.equals(this))return this;if(a.contains&&a.contains(this))return a;var e=this.contains?this:this.getParent();do if(e.contains(a))return e;while(e=e.getParent());return null},getPosition:function(a){var e=this.$,b=a.$;if(e.compareDocumentPosition)return e.compareDocumentPosition(b);if(e==b)return CKEDITOR.POSITION_IDENTICAL;if(this.type==CKEDITOR.NODE_ELEMENT&&a.type==CKEDITOR.NODE_ELEMENT){if(e.contains){if(e.contains(b))return CKEDITOR.POSITION_CONTAINS+\nCKEDITOR.POSITION_PRECEDING;if(b.contains(e))return CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING}if(\"sourceIndex\"in e)return 0>e.sourceIndex||0>b.sourceIndex?CKEDITOR.POSITION_DISCONNECTED:e.sourceIndex<b.sourceIndex?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING}e=this.getAddress();a=a.getAddress();for(var b=Math.min(e.length,a.length),c=0;c<b;c++)if(e[c]!=a[c])return e[c]<a[c]?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING;return e.length<a.length?CKEDITOR.POSITION_CONTAINS+\nCKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING},getAscendant:function(a,e){var b=this.$,c,d;e||(b=b.parentNode);\"function\"==typeof a?(d=!0,c=a):(d=!1,c=function(b){b=\"string\"==typeof b.nodeName?b.nodeName.toLowerCase():\"\";return\"string\"==typeof a?b==a:b in a});for(;b;){if(c(d?new CKEDITOR.dom.node(b):b))return new CKEDITOR.dom.node(b);try{b=b.parentNode}catch(l){b=null}}return null},hasAscendant:function(a,e){var b=this.$;e||(b=b.parentNode);for(;b;){if(b.nodeName&&\nb.nodeName.toLowerCase()==a)return!0;b=b.parentNode}return!1},move:function(a,e){a.append(this.remove(),e)},remove:function(a){var e=this.$,b=e.parentNode;if(b){if(a)for(;a=e.firstChild;)b.insertBefore(e.removeChild(a),e);b.removeChild(e)}return this},replace:function(a){this.insertBefore(a);a.remove()},trim:function(){this.ltrim();this.rtrim()},ltrim:function(){\nvar this$1 = this;\nfor(var a;this.getFirst&&(a=this.getFirst());){if(a.type==CKEDITOR.NODE_TEXT){var e=CKEDITOR.tools.ltrim(a.getText()),b=a.getLength();if(e)e.length<\nb&&(a.split(b-e.length),this$1.$.removeChild(this$1.$.firstChild));else{a.remove();continue}}break}},rtrim:function(){\nvar this$1 = this;\nfor(var a;this.getLast&&(a=this.getLast());){if(a.type==CKEDITOR.NODE_TEXT){var e=CKEDITOR.tools.rtrim(a.getText()),b=a.getLength();if(e)e.length<b&&(a.split(e.length),this$1.$.lastChild.parentNode.removeChild(this$1.$.lastChild));else{a.remove();continue}}break}CKEDITOR.env.needsBrFiller&&(a=this.$.lastChild)&&1==a.type&&\"br\"==a.nodeName.toLowerCase()&&a.parentNode.removeChild(a)},isReadOnly:function(a){var e=\nthis;this.type!=CKEDITOR.NODE_ELEMENT&&(e=this.getParent());CKEDITOR.env.edge&&e&&e.is(\"textarea\",\"input\")&&(a=!0);if(!a&&e&&\"undefined\"!=typeof e.$.isContentEditable)return!(e.$.isContentEditable||e.data(\"cke-editable\"));for(;e;){if(e.data(\"cke-editable\"))return!1;if(e.hasAttribute(\"contenteditable\"))return\"false\"==e.getAttribute(\"contenteditable\");e=e.getParent()}return!0}}),CKEDITOR.dom.window=function(a){CKEDITOR.dom.domObject.call(this,a)},CKEDITOR.dom.window.prototype=new CKEDITOR.dom.domObject,\nCKEDITOR.tools.extend(CKEDITOR.dom.window.prototype,{focus:function(){this.$.focus()},getViewPaneSize:function(){var a=this.$.document,e=\"CSS1Compat\"==a.compatMode;return{width:(e?a.documentElement.clientWidth:a.body.clientWidth)||0,height:(e?a.documentElement.clientHeight:a.body.clientHeight)||0}},getScrollPosition:function(){var a=this.$;if(\"pageXOffset\"in a)return{x:a.pageXOffset||0,y:a.pageYOffset||0};a=a.document;return{x:a.documentElement.scrollLeft||a.body.scrollLeft||0,y:a.documentElement.scrollTop||\na.body.scrollTop||0}},getFrame:function(){var a=this.$.frameElement;return a?new CKEDITOR.dom.element.get(a):null}}),CKEDITOR.dom.document=function(a){CKEDITOR.dom.domObject.call(this,a)},CKEDITOR.dom.document.prototype=new CKEDITOR.dom.domObject,CKEDITOR.tools.extend(CKEDITOR.dom.document.prototype,{type:CKEDITOR.NODE_DOCUMENT,appendStyleSheet:function(a){if(this.$.createStyleSheet)this.$.createStyleSheet(a);else{var e=new CKEDITOR.dom.element(\"link\");e.setAttributes({rel:\"stylesheet\",type:\"text/css\",\nhref:a});this.getHead().append(e)}},appendStyleText:function(a){if(this.$.createStyleSheet){var e=this.$.createStyleSheet(\"\");e.cssText=a}else{var b=new CKEDITOR.dom.element(\"style\",this);b.append(new CKEDITOR.dom.text(a,this));this.getHead().append(b)}return e||b.$.sheet},createElement:function(a,e){var b=new CKEDITOR.dom.element(a,this);e&&(e.attributes&&b.setAttributes(e.attributes),e.styles&&b.setStyles(e.styles));return b},createText:function(a){return new CKEDITOR.dom.text(a,this)},focus:function(){this.getWindow().focus()},\ngetActive:function(){var a;try{a=this.$.activeElement}catch(e){return null}return new CKEDITOR.dom.element(a)},getById:function(a){return(a=this.$.getElementById(a))?new CKEDITOR.dom.element(a):null},getByAddress:function(a,e){for(var b=this.$.documentElement,c=0;b&&c<a.length;c++){var d=a[c];if(e)for(var l=-1,m=0;m<b.childNodes.length;m++){var f=b.childNodes[m];if(!0!==e||3!=f.nodeType||!f.previousSibling||3!=f.previousSibling.nodeType)if(l++,l==d){b=f;break}}else b=b.childNodes[d]}return b?new CKEDITOR.dom.node(b):\nnull},getElementsByTag:function(a,e){CKEDITOR.env.ie&&8>=document.documentMode||!e||(a=e+\":\"+a);return new CKEDITOR.dom.nodeList(this.$.getElementsByTagName(a))},getHead:function(){var a=this.$.getElementsByTagName(\"head\")[0];return a=a?new CKEDITOR.dom.element(a):this.getDocumentElement().append(new CKEDITOR.dom.element(\"head\"),!0)},getBody:function(){return new CKEDITOR.dom.element(this.$.body)},getDocumentElement:function(){return new CKEDITOR.dom.element(this.$.documentElement)},getWindow:function(){return new CKEDITOR.dom.window(this.$.parentWindow||\nthis.$.defaultView)},write:function(a){this.$.open(\"text/html\",\"replace\");CKEDITOR.env.ie&&(a=a.replace(/(?:^\\s*<!DOCTYPE[^>]*?>)|^/i,'$\\x26\\n\\x3cscript data-cke-temp\\x3d\"1\"\\x3e('+CKEDITOR.tools.fixDomain+\")();\\x3c/script\\x3e\"));this.$.write(a);this.$.close()},find:function(a){return new CKEDITOR.dom.nodeList(this.$.querySelectorAll(a))},findOne:function(a){return(a=this.$.querySelector(a))?new CKEDITOR.dom.element(a):null},_getHtml5ShivFrag:function(){var a=this.getCustomData(\"html5ShivFrag\");a||\n(a=this.$.createDocumentFragment(),CKEDITOR.tools.enableHtml5Elements(a,!0),this.setCustomData(\"html5ShivFrag\",a));return a}}),CKEDITOR.dom.nodeList=function(a){this.$=a},CKEDITOR.dom.nodeList.prototype={count:function(){return this.$.length},getItem:function(a){return 0>a||a>=this.$.length?null:(a=this.$[a])?new CKEDITOR.dom.node(a):null}},CKEDITOR.dom.element=function(a,e){\"string\"==typeof a&&(a=(e?e.$:document).createElement(a));CKEDITOR.dom.domObject.call(this,a)},CKEDITOR.dom.element.get=function(a){return(a=\n\"string\"==typeof a?document.getElementById(a)||document.getElementsByName(a)[0]:a)&&(a.$?a:new CKEDITOR.dom.element(a))},CKEDITOR.dom.element.prototype=new CKEDITOR.dom.node,CKEDITOR.dom.element.createFromHtml=function(a,e){var b=new CKEDITOR.dom.element(\"div\",e);b.setHtml(a);return b.getFirst().remove()},CKEDITOR.dom.element.setMarker=function(a,e,b,c){var d=e.getCustomData(\"list_marker_id\")||e.setCustomData(\"list_marker_id\",CKEDITOR.tools.getNextNumber()).getCustomData(\"list_marker_id\"),l=e.getCustomData(\"list_marker_names\")||\ne.setCustomData(\"list_marker_names\",{}).getCustomData(\"list_marker_names\");a[d]=e;l[b]=1;return e.setCustomData(b,c)},CKEDITOR.dom.element.clearAllMarkers=function(a){for(var e in a)CKEDITOR.dom.element.clearMarkers(a,a[e],1)},CKEDITOR.dom.element.clearMarkers=function(a,e,b){var c=e.getCustomData(\"list_marker_names\"),d=e.getCustomData(\"list_marker_id\"),l;for(l in c)e.removeCustomData(l);e.removeCustomData(\"list_marker_names\");b&&(e.removeCustomData(\"list_marker_id\"),delete a[d])},function(){function a(a,\nb){return-1<(\" \"+a+\" \").replace(l,\" \").indexOf(\" \"+b+\" \")}function e(a){var b=!0;a.$.id||(a.$.id=\"cke_tmp_\"+CKEDITOR.tools.getNextNumber(),b=!1);return function(){b||a.removeAttribute(\"id\")}}function b(a,b){var c=CKEDITOR.tools.escapeCss(a.$.id);return\"#\"+c+\" \"+b.split(/,\\s*/).join(\", #\"+c+\" \")}function c(a){\nvar this$1 = this;\nfor(var b=0,c=0,g=m[a].length;c<g;c++)b+=parseInt(this$1.getComputedStyle(m[a][c])||0,10)||0;return b}var d=document.createElement(\"_\").classList,d=\"undefined\"!==typeof d&&null!==String(d.add).match(/\\[Native code\\]/gi),\nl=/[\\n\\t\\r]/g;CKEDITOR.tools.extend(CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_ELEMENT,addClass:d?function(a){this.$.classList.add(a);return this}:function(f){var b=this.$.className;b&&(a(b,f)||(b+=\" \"+f));this.$.className=b||f;return this},removeClass:d?function(a){var b=this.$;b.classList.remove(a);b.className||b.removeAttribute(\"class\");return this}:function(f){var b=this.getAttribute(\"class\");b&&a(b,f)&&((b=b.replace(new RegExp(\"(?:^|\\\\s+)\"+f+\"(?\\x3d\\\\s|$)\"),\"\").replace(/^\\s+/,\"\"))?this.setAttribute(\"class\",\nb):this.removeAttribute(\"class\"));return this},hasClass:function(f){return a(this.$.className,f)},append:function(a,b){\"string\"==typeof a&&(a=this.getDocument().createElement(a));b?this.$.insertBefore(a.$,this.$.firstChild):this.$.appendChild(a.$);return a},appendHtml:function(a){if(this.$.childNodes.length){var b=new CKEDITOR.dom.element(\"div\",this.getDocument());b.setHtml(a);b.moveChildren(this)}else this.setHtml(a)},appendText:function(a){null!=this.$.text&&CKEDITOR.env.ie&&9>CKEDITOR.env.version?\nthis.$.text+=a:this.append(new CKEDITOR.dom.text(a))},appendBogus:function(a){if(a||CKEDITOR.env.needsBrFiller){for(a=this.getLast();a&&a.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.rtrim(a.getText());)a=a.getPrevious();a&&a.is&&a.is(\"br\")||(a=this.getDocument().createElement(\"br\"),CKEDITOR.env.gecko&&a.setAttribute(\"type\",\"_moz\"),this.append(a))}},breakParent:function(a,b){var c=new CKEDITOR.dom.range(this.getDocument());c.setStartAfter(this);c.setEndAfter(a);var g=c.extractContents(!1,b||!1),d;c.insertNode(this.remove());\nif(CKEDITOR.env.ie&&!CKEDITOR.env.edge){for(c=new CKEDITOR.dom.element(\"div\");d=g.getFirst();)d.$.style.backgroundColor&&(d.$.style.backgroundColor=d.$.style.backgroundColor),c.append(d);c.insertAfter(this);c.remove(!0)}else g.insertAfterNode(this)},contains:document.compareDocumentPosition?function(a){return!!(this.$.compareDocumentPosition(a.$)&16)}:function(a){var b=this.$;return a.type!=CKEDITOR.NODE_ELEMENT?b.contains(a.getParent().$):b!=a.$&&b.contains(a.$)},focus:function(){function a(){try{this.$.focus()}catch(b){}}\nreturn function(b){b?CKEDITOR.tools.setTimeout(a,100,this):a.call(this)}}(),getHtml:function(){var a=this.$.innerHTML;return CKEDITOR.env.ie?a.replace(/<\\?[^>]*>/g,\"\"):a},getOuterHtml:function(){if(this.$.outerHTML)return this.$.outerHTML.replace(/<\\?[^>]*>/,\"\");var a=this.$.ownerDocument.createElement(\"div\");a.appendChild(this.$.cloneNode(!0));return a.innerHTML},getClientRect:function(){var a=CKEDITOR.tools.extend({},this.$.getBoundingClientRect());!a.width&&(a.width=a.right-a.left);!a.height&&\n(a.height=a.bottom-a.top);return a},setHtml:CKEDITOR.env.ie&&9>CKEDITOR.env.version?function(a){\nvar this$1 = this;\ntry{var b=this.$;if(this.getParent())return b.innerHTML=a;var c=this.getDocument()._getHtml5ShivFrag();c.appendChild(b);b.innerHTML=a;c.removeChild(b);return a}catch(g){this.$.innerHTML=\"\";b=new CKEDITOR.dom.element(\"body\",this.getDocument());b.$.innerHTML=a;for(b=b.getChildren();b.count();)this$1.append(b.getItem(0));return a}}:function(a){return this.$.innerHTML=a},setText:function(){var a=document.createElement(\"p\");\na.innerHTML=\"x\";a=a.textContent;return function(b){this.$[a?\"textContent\":\"innerText\"]=b}}(),getAttribute:function(){var a=function(a){return this.$.getAttribute(a,2)};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(a){switch(a){case \"class\":a=\"className\";break;case \"http-equiv\":a=\"httpEquiv\";break;case \"name\":return this.$.name;case \"tabindex\":return a=this.$.getAttribute(a,2),0!==a&&0===this.$.tabIndex&&(a=null),a;case \"checked\":return a=this.$.attributes.getNamedItem(a),\n(a.specified?a.nodeValue:this.$.checked)?\"checked\":null;case \"hspace\":case \"value\":return this.$[a];case \"style\":return this.$.style.cssText;case \"contenteditable\":case \"contentEditable\":return this.$.attributes.getNamedItem(\"contentEditable\").specified?this.$.getAttribute(\"contentEditable\"):null}return this.$.getAttribute(a,2)}:a}(),getAttributes:function(a){var b={},c=this.$.attributes,g;a=CKEDITOR.tools.isArray(a)?a:[];for(g=0;g<c.length;g++)-1===CKEDITOR.tools.indexOf(a,c[g].name)&&(b[c[g].name]=\nc[g].value);return b},getChildren:function(){return new CKEDITOR.dom.nodeList(this.$.childNodes)},getComputedStyle:document.defaultView&&document.defaultView.getComputedStyle?function(a){var b=this.getWindow().$.getComputedStyle(this.$,null);return b?b.getPropertyValue(a):\"\"}:function(a){return this.$.currentStyle[CKEDITOR.tools.cssStyleToDomStyle(a)]},getDtd:function(){var a=CKEDITOR.dtd[this.getName()];this.getDtd=function(){return a};return a},getElementsByTag:CKEDITOR.dom.document.prototype.getElementsByTag,\ngetTabIndex:function(){var a=this.$.tabIndex;return 0!==a||CKEDITOR.dtd.$tabIndex[this.getName()]||0===parseInt(this.getAttribute(\"tabindex\"),10)?a:-1},getText:function(){return this.$.textContent||this.$.innerText||\"\"},getWindow:function(){return this.getDocument().getWindow()},getId:function(){return this.$.id||null},getNameAtt:function(){return this.$.name||null},getName:function(){var a=this.$.nodeName.toLowerCase();if(CKEDITOR.env.ie&&8>=document.documentMode){var b=this.$.scopeName;\"HTML\"!=\nb&&(a=b.toLowerCase()+\":\"+a)}this.getName=function(){return a};return this.getName()},getValue:function(){return this.$.value},getFirst:function(a){var b=this.$.firstChild;(b=b&&new CKEDITOR.dom.node(b))&&a&&!a(b)&&(b=b.getNext(a));return b},getLast:function(a){var b=this.$.lastChild;(b=b&&new CKEDITOR.dom.node(b))&&a&&!a(b)&&(b=b.getPrevious(a));return b},getStyle:function(a){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(a)]},is:function(){\nvar arguments$1 = arguments;\nvar a=this.getName();if(\"object\"==typeof arguments[0])return!!arguments[0][a];\nfor(var b=0;b<arguments.length;b++)if(arguments$1[b]==a)return!0;return!1},isEditable:function(a){var b=this.getName();return this.isReadOnly()||\"none\"==this.getComputedStyle(\"display\")||\"hidden\"==this.getComputedStyle(\"visibility\")||CKEDITOR.dtd.$nonEditable[b]||CKEDITOR.dtd.$empty[b]||this.is(\"a\")&&(this.data(\"cke-saved-name\")||this.hasAttribute(\"name\"))&&!this.getChildCount()?!1:!1!==a?(a=CKEDITOR.dtd[b]||CKEDITOR.dtd.span,!(!a||!a[\"#\"])):!0},isIdentical:function(a){var b=this.clone(0,1);a=a.clone(0,\n1);b.removeAttributes([\"_moz_dirty\",\"data-cke-expando\",\"data-cke-saved-href\",\"data-cke-saved-name\"]);a.removeAttributes([\"_moz_dirty\",\"data-cke-expando\",\"data-cke-saved-href\",\"data-cke-saved-name\"]);if(b.$.isEqualNode)return b.$.style.cssText=CKEDITOR.tools.normalizeCssText(b.$.style.cssText),a.$.style.cssText=CKEDITOR.tools.normalizeCssText(a.$.style.cssText),b.$.isEqualNode(a.$);b=b.getOuterHtml();a=a.getOuterHtml();if(CKEDITOR.env.ie&&9>CKEDITOR.env.version&&this.is(\"a\")){var c=this.getParent();\nc.type==CKEDITOR.NODE_ELEMENT&&(c=c.clone(),c.setHtml(b),b=c.getHtml(),c.setHtml(a),a=c.getHtml())}return b==a},isVisible:function(){var a=(this.$.offsetHeight||this.$.offsetWidth)&&\"hidden\"!=this.getComputedStyle(\"visibility\"),b,c;a&&CKEDITOR.env.webkit&&(b=this.getWindow(),!b.equals(CKEDITOR.document.getWindow())&&(c=b.$.frameElement)&&(a=(new CKEDITOR.dom.element(c)).isVisible()));return!!a},isEmptyInlineRemoveable:function(){if(!CKEDITOR.dtd.$removeEmpty[this.getName()])return!1;for(var a=this.getChildren(),\nb=0,c=a.count();b<c;b++){var g=a.getItem(b);if(g.type!=CKEDITOR.NODE_ELEMENT||!g.data(\"cke-bookmark\"))if(g.type==CKEDITOR.NODE_ELEMENT&&!g.isEmptyInlineRemoveable()||g.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(g.getText()))return!1}return!0},hasAttributes:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(){\nvar this$1 = this;\nfor(var a=this.$.attributes,b=0;b<a.length;b++){var c=a[b];switch(c.nodeName){case \"class\":if(this$1.getAttribute(\"class\"))return!0;case \"data-cke-expando\":continue;default:if(c.specified)return!0}}return!1}:\nfunction(){var a=this.$.attributes,b=a.length,c={\"data-cke-expando\":1,_moz_dirty:1};return 0<b&&(2<b||!c[a[0].nodeName]||2==b&&!c[a[1].nodeName])},hasAttribute:function(){function a(b){var f=this.$.attributes.getNamedItem(b);if(\"input\"==this.getName())switch(b){case \"class\":return 0<this.$.className.length;case \"checked\":return!!this.$.checked;case \"value\":return b=this.getAttribute(\"type\"),\"checkbox\"==b||\"radio\"==b?\"on\"!=this.$.value:!!this.$.value}return f?f.specified:!1}return CKEDITOR.env.ie?\n8>CKEDITOR.env.version?function(b){return\"name\"==b?!!this.$.name:a.call(this,b)}:a:function(a){return!!this.$.attributes.getNamedItem(a)}}(),hide:function(){this.setStyle(\"display\",\"none\")},moveChildren:function(a,b){var c=this.$;a=a.$;if(c!=a){var g;if(b)for(;g=c.lastChild;)a.insertBefore(c.removeChild(g),a.firstChild);else for(;g=c.firstChild;)a.appendChild(c.removeChild(g))}},mergeSiblings:function(){function a(b,f,g){if(f&&f.type==CKEDITOR.NODE_ELEMENT){for(var c=[];f.data(\"cke-bookmark\")||f.isEmptyInlineRemoveable();)if(c.push(f),\nf=g?f.getNext():f.getPrevious(),!f||f.type!=CKEDITOR.NODE_ELEMENT)return;if(b.isIdentical(f)){for(var d=g?b.getLast():b.getFirst();c.length;)c.shift().move(b,!g);f.moveChildren(b,!g);f.remove();d&&d.type==CKEDITOR.NODE_ELEMENT&&d.mergeSiblings()}}}return function(b){if(!1===b||CKEDITOR.dtd.$removeEmpty[this.getName()]||this.is(\"a\"))a(this,this.getNext(),!0),a(this,this.getPrevious())}}(),show:function(){this.setStyles({display:\"\",visibility:\"\"})},setAttribute:function(){var a=function(a,b){this.$.setAttribute(a,\nb);return this};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(b,c){\"class\"==b?this.$.className=c:\"style\"==b?this.$.style.cssText=c:\"tabindex\"==b?this.$.tabIndex=c:\"checked\"==b?this.$.checked=c:\"contenteditable\"==b?a.call(this,\"contentEditable\",c):a.apply(this,arguments);return this}:CKEDITOR.env.ie8Compat&&CKEDITOR.env.secure?function(b,c){if(\"src\"==b&&c.match(/^http:\\/\\//))try{a.apply(this,arguments)}catch(g){}else a.apply(this,arguments);return this}:a}(),setAttributes:function(a){\nvar this$1 = this;\nfor(var b in a)this$1.setAttribute(b,\na[b]);return this},setValue:function(a){this.$.value=a;return this},removeAttribute:function(){var a=function(a){this.$.removeAttribute(a)};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(a){\"class\"==a?a=\"className\":\"tabindex\"==a?a=\"tabIndex\":\"contenteditable\"==a&&(a=\"contentEditable\");this.$.removeAttribute(a)}:a}(),removeAttributes:function(a){\nvar this$1 = this;\nif(CKEDITOR.tools.isArray(a))for(var b=0;b<a.length;b++)this$1.removeAttribute(a[b]);else for(b in a=a||this.getAttributes(),\na)a.hasOwnProperty(b)&&this$1.removeAttribute(b)},removeStyle:function(a){\nvar this$1 = this;\nvar b=this.$.style;if(b.removeProperty||\"border\"!=a&&\"margin\"!=a&&\"padding\"!=a)b.removeProperty?b.removeProperty(a):b.removeAttribute(CKEDITOR.tools.cssStyleToDomStyle(a)),this.$.style.cssText||this.removeAttribute(\"style\");else{var c=[\"top\",\"left\",\"right\",\"bottom\"],g;\"border\"==a&&(g=[\"color\",\"style\",\"width\"]);for(var b=[],d=0;d<c.length;d++)if(g)for(var e=0;e<g.length;e++)b.push([a,c[d],g[e]].join(\"-\"));else b.push([a,c[d]].join(\"-\"));\nfor(a=0;a<b.length;a++)this$1.removeStyle(b[a])}},setStyle:function(a,b){this.$.style[CKEDITOR.tools.cssStyleToDomStyle(a)]=b;return this},setStyles:function(a){\nvar this$1 = this;\nfor(var b in a)this$1.setStyle(b,a[b]);return this},setOpacity:function(a){CKEDITOR.env.ie&&9>CKEDITOR.env.version?(a=Math.round(100*a),this.setStyle(\"filter\",100<=a?\"\":\"progid:DXImageTransform.Microsoft.Alpha(opacity\\x3d\"+a+\")\")):this.setStyle(\"opacity\",a)},unselectable:function(){this.setStyles(CKEDITOR.tools.cssVendorPrefix(\"user-select\",\"none\"));\nif(CKEDITOR.env.ie){this.setAttribute(\"unselectable\",\"on\");for(var a,b=this.getElementsByTag(\"*\"),c=0,g=b.count();c<g;c++)a=b.getItem(c),a.setAttribute(\"unselectable\",\"on\")}},getPositionedAncestor:function(){for(var a=this;\"html\"!=a.getName();){if(\"static\"!=a.getComputedStyle(\"position\"))return a;a=a.getParent()}return null},getDocumentPosition:function(a){\nvar this$1 = this;\nvar b=0,c=0,g=this.getDocument(),d=g.getBody(),e=\"BackCompat\"==g.$.compatMode;if(document.documentElement.getBoundingClientRect&&(CKEDITOR.env.ie?\n8!==CKEDITOR.env.version:1)){var l=this.$.getBoundingClientRect(),m=g.$.documentElement,t=m.clientTop||d.$.clientTop||0,p=m.clientLeft||d.$.clientLeft||0,w=!0;CKEDITOR.env.ie&&(w=g.getDocumentElement().contains(this),g=g.getBody().contains(this),w=e&&g||!e&&w);w&&(CKEDITOR.env.webkit||CKEDITOR.env.ie&&12<=CKEDITOR.env.version?(b=d.$.scrollLeft||m.scrollLeft,c=d.$.scrollTop||m.scrollTop):(c=e?d.$:m,b=c.scrollLeft,c=c.scrollTop),b=l.left+b-p,c=l.top+c-t)}else for(t=this,p=null;t&&\"body\"!=t.getName()&&\n\"html\"!=t.getName();){b+=t.$.offsetLeft-t.$.scrollLeft;c+=t.$.offsetTop-t.$.scrollTop;t.equals(this$1)||(b+=t.$.clientLeft||0,c+=t.$.clientTop||0);for(;p&&!p.equals(t);)b-=p.$.scrollLeft,c-=p.$.scrollTop,p=p.getParent();p=t;t=(l=t.$.offsetParent)?new CKEDITOR.dom.element(l):null}a&&(l=this.getWindow(),t=a.getWindow(),!l.equals(t)&&l.$.frameElement&&(a=(new CKEDITOR.dom.element(l.$.frameElement)).getDocumentPosition(a),b+=a.x,c+=a.y));document.documentElement.getBoundingClientRect||!CKEDITOR.env.gecko||\ne||(b+=this.$.clientLeft?1:0,c+=this.$.clientTop?1:0);return{x:b,y:c}},scrollIntoView:function(a){\nvar this$1 = this;\nvar b=this.getParent();if(b){do if((b.$.clientWidth&&b.$.clientWidth<b.$.scrollWidth||b.$.clientHeight&&b.$.clientHeight<b.$.scrollHeight)&&!b.is(\"body\")&&this$1.scrollIntoParent(b,a,1),b.is(\"html\")){var c=b.getWindow();try{var g=c.$.frameElement;g&&(b=new CKEDITOR.dom.element(g))}catch(d){}}while(b=b.getParent())}},scrollIntoParent:function(a,b,c){var g,d,e,l;function m(b,g){/body|html/.test(a.getName())?\na.getWindow().$.scrollBy(b,g):(a.$.scrollLeft+=b,a.$.scrollTop+=g)}function t(a,b){var g={x:0,y:0};if(!a.is(w?\"body\":\"html\")){var c=a.$.getBoundingClientRect();g.x=c.left;g.y=c.top}c=a.getWindow();c.equals(b)||(c=t(CKEDITOR.dom.element.get(c.$.frameElement),b),g.x+=c.x,g.y+=c.y);return g}function p(a,b){return parseInt(a.getComputedStyle(\"margin-\"+b)||0,10)||0}!a&&(a=this.getWindow());e=a.getDocument();var w=\"BackCompat\"==e.$.compatMode;a instanceof CKEDITOR.dom.window&&(a=w?e.getBody():e.getDocumentElement());\nCKEDITOR.env.webkit&&(e=this.getEditor(!1))&&(e._.previousScrollTop=null);e=a.getWindow();d=t(this,e);var z=t(a,e),A=this.$.offsetHeight;g=this.$.offsetWidth;var u=a.$.clientHeight,x=a.$.clientWidth;e=d.x-p(this,\"left\")-z.x||0;l=d.y-p(this,\"top\")-z.y||0;g=d.x+g+p(this,\"right\")-(z.x+x)||0;d=d.y+A+p(this,\"bottom\")-(z.y+u)||0;(0>l||0<d)&&m(0,!0===b?l:!1===b?d:0>l?l:d);c&&(0>e||0<g)&&m(0>e?e:g,0)},setState:function(a,b,c){b=b||\"cke\";switch(a){case CKEDITOR.TRISTATE_ON:this.addClass(b+\"_on\");this.removeClass(b+\n\"_off\");this.removeClass(b+\"_disabled\");c&&this.setAttribute(\"aria-pressed\",!0);c&&this.removeAttribute(\"aria-disabled\");break;case CKEDITOR.TRISTATE_DISABLED:this.addClass(b+\"_disabled\");this.removeClass(b+\"_off\");this.removeClass(b+\"_on\");c&&this.setAttribute(\"aria-disabled\",!0);c&&this.removeAttribute(\"aria-pressed\");break;default:this.addClass(b+\"_off\"),this.removeClass(b+\"_on\"),this.removeClass(b+\"_disabled\"),c&&this.removeAttribute(\"aria-pressed\"),c&&this.removeAttribute(\"aria-disabled\")}},\ngetFrameDocument:function(){var a=this.$;try{a.contentWindow.document}catch(b){a.src=a.src}return a&&new CKEDITOR.dom.document(a.contentWindow.document)},copyAttributes:function(a,b){\nvar this$1 = this;\nvar c=this.$.attributes;b=b||{};for(var g=0;g<c.length;g++){var d=c[g],e=d.nodeName.toLowerCase(),l;if(!(e in b))if(\"checked\"==e&&(l=this$1.getAttribute(e)))a.setAttribute(e,l);else if(!CKEDITOR.env.ie||this$1.hasAttribute(e))l=this$1.getAttribute(e),null===l&&(l=d.nodeValue),a.setAttribute(e,l)}\"\"!==this.$.style.cssText&&\n(a.$.style.cssText=this.$.style.cssText)},renameNode:function(a){if(this.getName()!=a){var b=this.getDocument();a=new CKEDITOR.dom.element(a,b);this.copyAttributes(a);this.moveChildren(a);this.getParent(!0)&&this.$.parentNode.replaceChild(a.$,this.$);a.$[\"data-cke-expando\"]=this.$[\"data-cke-expando\"];this.$=a.$;delete this.getName}},getChild:function(){function a(b,c){var g=b.childNodes;if(0<=c&&c<g.length)return g[c]}return function(b){var c=this.$;if(b.slice)for(b=b.slice();0<b.length&&c;)c=a(c,\nb.shift());else c=a(c,b);return c?new CKEDITOR.dom.node(c):null}}(),getChildCount:function(){return this.$.childNodes.length},disableContextMenu:function(){function a(b){return b.type==CKEDITOR.NODE_ELEMENT&&b.hasClass(\"cke_enable_context_menu\")}this.on(\"contextmenu\",function(b){b.data.getTarget().getAscendant(a,!0)||b.data.preventDefault()})},getDirection:function(a){return a?this.getComputedStyle(\"direction\")||this.getDirection()||this.getParent()&&this.getParent().getDirection(1)||this.getDocument().$.dir||\n\"ltr\":this.getStyle(\"direction\")||this.getAttribute(\"dir\")},data:function(a,b){a=\"data-\"+a;if(void 0===b)return this.getAttribute(a);!1===b?this.removeAttribute(a):this.setAttribute(a,b);return null},getEditor:function(a){\nvar this$1 = this;\nvar b=CKEDITOR.instances,c,g,d;a=a||void 0===a;for(c in b)if(g=b[c],g.element.equals(this$1)&&g.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||!a&&(d=g.editable(),d.equals(this$1)||d.contains(this$1)))return g;return null},find:function(a){var c=e(this);a=new CKEDITOR.dom.nodeList(this.$.querySelectorAll(b(this,\na)));c();return a},findOne:function(a){var c=e(this);a=this.$.querySelector(b(this,a));c();return a?new CKEDITOR.dom.element(a):null},forEach:function(a,b,c){if(!(c||b&&this.type!=b))var g=a(this);if(!1!==g){c=this.getChildren();for(var d=0;d<c.count();d++)g=c.getItem(d),g.type==CKEDITOR.NODE_ELEMENT?g.forEach(a,b):b&&g.type!=b||a(g)}}});var m={width:[\"border-left-width\",\"border-right-width\",\"padding-left\",\"padding-right\"],height:[\"border-top-width\",\"border-bottom-width\",\"padding-top\",\"padding-bottom\"]};\nCKEDITOR.dom.element.prototype.setSize=function(a,b,d){\"number\"==typeof b&&(!d||CKEDITOR.env.ie&&CKEDITOR.env.quirks||(b-=c.call(this,a)),this.setStyle(a,b+\"px\"))};CKEDITOR.dom.element.prototype.getSize=function(a,b){var d=Math.max(this.$[\"offset\"+CKEDITOR.tools.capitalize(a)],this.$[\"client\"+CKEDITOR.tools.capitalize(a)])||0;b&&(d-=c.call(this,a));return d}}(),CKEDITOR.dom.documentFragment=function(a){a=a||CKEDITOR.document;this.$=a.type==CKEDITOR.NODE_DOCUMENT?a.$.createDocumentFragment():a},CKEDITOR.tools.extend(CKEDITOR.dom.documentFragment.prototype,\nCKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,insertAfterNode:function(a){a=a.$;a.parentNode.insertBefore(this.$,a.nextSibling)},getHtml:function(){var a=new CKEDITOR.dom.element(\"div\");this.clone(1,1).appendTo(a);return a.getHtml().replace(/\\s*data-cke-expando=\".*?\"/g,\"\")}},!0,{append:1,appendBogus:1,clone:1,getFirst:1,getHtml:1,getLast:1,getParent:1,getNext:1,getPrevious:1,appendTo:1,moveChildren:1,insertBefore:1,insertAfterNode:1,replace:1,trim:1,type:1,ltrim:1,rtrim:1,getDocument:1,\ngetChildCount:1,getChild:1,getChildren:1}),function(){function a(a,b){\nvar this$1 = this;\nvar g=this.range;if(this._.end)return null;if(!this._.start){this._.start=1;if(g.collapsed)return this.end(),null;g.optimize()}var c,d=g.startContainer;c=g.endContainer;var f=g.startOffset,k=g.endOffset,h,e=this.guard,n=this.type,l=a?\"getPreviousSourceNode\":\"getNextSourceNode\";if(!a&&!this._.guardLTR){var m=c.type==CKEDITOR.NODE_ELEMENT?c:c.getParent(),B=c.type==CKEDITOR.NODE_ELEMENT?c.getChild(k):c.getNext();this._.guardLTR=function(a,\nb){return(!b||!m.equals(a))&&(!B||!a.equals(B))&&(a.type!=CKEDITOR.NODE_ELEMENT||!b||!a.equals(g.root))}}if(a&&!this._.guardRTL){var C=d.type==CKEDITOR.NODE_ELEMENT?d:d.getParent(),F=d.type==CKEDITOR.NODE_ELEMENT?f?d.getChild(f-1):null:d.getPrevious();this._.guardRTL=function(a,b){return(!b||!C.equals(a))&&(!F||!a.equals(F))&&(a.type!=CKEDITOR.NODE_ELEMENT||!b||!a.equals(g.root))}}var E=a?this._.guardRTL:this._.guardLTR;h=e?function(a,b){return!1===E(a,b)?!1:e(a,b)}:E;this.current?c=this.current[l](!1,\nn,h):(a?c.type==CKEDITOR.NODE_ELEMENT&&(c=0<k?c.getChild(k-1):!1===h(c,!0)?null:c.getPreviousSourceNode(!0,n,h)):(c=d,c.type==CKEDITOR.NODE_ELEMENT&&((c=c.getChild(f))||(c=!1===h(d,!0)?null:d.getNextSourceNode(!0,n,h)))),c&&!1===h(c)&&(c=null));for(;c&&!this._.end;){this$1.current=c;if(!this$1.evaluator||!1!==this$1.evaluator(c)){if(!b)return c}else if(b&&this$1.evaluator)return!1;c=c[l](!1,n,h)}this.end();return this.current=null}function e(b){for(var g,c=null;g=a.call(this,b);)c=g;return c}CKEDITOR.dom.walker=\nCKEDITOR.tools.createClass({$:function(a){this.range=a;this._={}},proto:{end:function(){this._.end=1},next:function(){return a.call(this)},previous:function(){return a.call(this,1)},checkForward:function(){return!1!==a.call(this,0,1)},checkBackward:function(){return!1!==a.call(this,1,1)},lastForward:function(){return e.call(this)},lastBackward:function(){return e.call(this,1)},reset:function(){delete this.current;this._={}}}});var b={block:1,\"list-item\":1,table:1,\"table-row-group\":1,\"table-header-group\":1,\n\"table-footer-group\":1,\"table-row\":1,\"table-column-group\":1,\"table-column\":1,\"table-cell\":1,\"table-caption\":1},c={absolute:1,fixed:1};CKEDITOR.dom.element.prototype.isBlockBoundary=function(a){return\"none\"!=this.getComputedStyle(\"float\")||this.getComputedStyle(\"position\")in c||!b[this.getComputedStyle(\"display\")]?!!(this.is(CKEDITOR.dtd.$block)||a&&this.is(a)):!0};CKEDITOR.dom.walker.blockBoundary=function(a){return function(b){return!(b.type==CKEDITOR.NODE_ELEMENT&&b.isBlockBoundary(a))}};CKEDITOR.dom.walker.listItemBoundary=\nfunction(){return this.blockBoundary({br:1})};CKEDITOR.dom.walker.bookmark=function(a,b){function g(a){return a&&a.getName&&\"span\"==a.getName()&&a.data(\"cke-bookmark\")}return function(c){var d,f;d=c&&c.type!=CKEDITOR.NODE_ELEMENT&&(f=c.getParent())&&g(f);d=a?d:d||g(c);return!!(b^d)}};CKEDITOR.dom.walker.whitespaces=function(a){return function(b){var g;b&&b.type==CKEDITOR.NODE_TEXT&&(g=!CKEDITOR.tools.trim(b.getText())||CKEDITOR.env.webkit&&b.getText()==CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE);\nreturn!!(a^g)}};CKEDITOR.dom.walker.invisible=function(a){var b=CKEDITOR.dom.walker.whitespaces(),g=CKEDITOR.env.webkit?1:0;return function(c){b(c)?c=1:(c.type==CKEDITOR.NODE_TEXT&&(c=c.getParent()),c=c.$.offsetWidth<=g);return!!(a^c)}};CKEDITOR.dom.walker.nodeType=function(a,b){return function(g){return!!(b^g.type==a)}};CKEDITOR.dom.walker.bogus=function(a){function b(a){return!l(a)&&!m(a)}return function(g){var c=CKEDITOR.env.needsBrFiller?g.is&&g.is(\"br\"):g.getText&&d.test(g.getText());c&&(c=g.getParent(),\ng=g.getNext(b),c=c.isBlockBoundary()&&(!g||g.type==CKEDITOR.NODE_ELEMENT&&g.isBlockBoundary()));return!!(a^c)}};CKEDITOR.dom.walker.temp=function(a){return function(b){b.type!=CKEDITOR.NODE_ELEMENT&&(b=b.getParent());b=b&&b.hasAttribute(\"data-cke-temp\");return!!(a^b)}};var d=/^[\\t\\r\\n ]*(?:&nbsp;|\\xa0)$/,l=CKEDITOR.dom.walker.whitespaces(),m=CKEDITOR.dom.walker.bookmark(),f=CKEDITOR.dom.walker.temp(),h=function(a){return m(a)||l(a)||a.type==CKEDITOR.NODE_ELEMENT&&a.is(CKEDITOR.dtd.$inline)&&!a.is(CKEDITOR.dtd.$empty)};\nCKEDITOR.dom.walker.ignored=function(a){return function(b){b=l(b)||m(b)||f(b);return!!(a^b)}};var k=CKEDITOR.dom.walker.ignored();CKEDITOR.dom.walker.empty=function(a){return function(b){for(var g=0,c=b.getChildCount();g<c;++g)if(!k(b.getChild(g)))return!!a;return!a}};var g=CKEDITOR.dom.walker.empty(),n=CKEDITOR.dom.walker.validEmptyBlockContainers=CKEDITOR.tools.extend(function(a){var b={},g;for(g in a)CKEDITOR.dtd[g][\"#\"]&&(b[g]=1);return b}(CKEDITOR.dtd.$block),{caption:1,td:1,th:1});CKEDITOR.dom.walker.editable=\nfunction(a){return function(b){b=k(b)?!1:b.type==CKEDITOR.NODE_TEXT||b.type==CKEDITOR.NODE_ELEMENT&&(b.is(CKEDITOR.dtd.$inline)||b.is(\"hr\")||\"false\"==b.getAttribute(\"contenteditable\")||!CKEDITOR.env.needsBrFiller&&b.is(n)&&g(b))?!0:!1;return!!(a^b)}};CKEDITOR.dom.element.prototype.getBogus=function(){var a=this;do a=a.getPreviousSourceNode();while(h(a));return a&&(CKEDITOR.env.needsBrFiller?a.is&&a.is(\"br\"):a.getText&&d.test(a.getText()))?a:!1}}(),CKEDITOR.dom.range=function(a){this.endOffset=this.endContainer=\nthis.startOffset=this.startContainer=null;this.collapsed=!0;var e=a instanceof CKEDITOR.dom.document;this.document=e?a:a.getDocument();this.root=e?a.getBody():a},function(){function a(a){a.collapsed=a.startContainer&&a.endContainer&&a.startContainer.equals(a.endContainer)&&a.startOffset==a.endOffset}function e(a,b,c,d,f){function k(a,b,g,c){var d=g?a.getPrevious():a.getNext();if(c&&l)return d;u||c?b.append(a.clone(!0,f),g):(a.remove(),m&&b.append(a));return d}function h(){var a,b,g,c=Math.min(I.length,\nH.length);for(a=0;a<c;a++)if(b=I[a],g=H[a],!b.equals(g))return a;return a-1}function e(){var b=R-1,c=E&&J&&!x.equals(D);b<P-1||b<T-1||c?(c?a.moveToPosition(D,CKEDITOR.POSITION_BEFORE_START):T==b+1&&F?a.moveToPosition(H[b],CKEDITOR.POSITION_BEFORE_END):a.moveToPosition(H[b+1],CKEDITOR.POSITION_BEFORE_START),d&&(b=I[b+1])&&b.type==CKEDITOR.NODE_ELEMENT&&(c=CKEDITOR.dom.element.createFromHtml('\\x3cspan data-cke-bookmark\\x3d\"1\" style\\x3d\"display:none\"\\x3e\\x26nbsp;\\x3c/span\\x3e',a.document),c.insertAfter(b),\nb.mergeSiblings(!1),a.moveToBookmark({startNode:c}))):a.collapse(!0)}a.optimizeBookmark();var l=0===b,m=1==b,u=2==b;b=u||m;var x=a.startContainer,D=a.endContainer,y=a.startOffset,B=a.endOffset,C,F,E,J,G,M;if(u&&D.type==CKEDITOR.NODE_TEXT&&x.equals(D))x=a.document.createText(x.substring(y,B)),c.append(x);else{D.type==CKEDITOR.NODE_TEXT?u?M=!0:D=D.split(B):0<D.getChildCount()?B>=D.getChildCount()?(D=D.getChild(B-1),F=!0):D=D.getChild(B):J=F=!0;x.type==CKEDITOR.NODE_TEXT?u?G=!0:x.split(y):0<x.getChildCount()?\n0===y?(x=x.getChild(y),C=!0):x=x.getChild(y-1):E=C=!0;for(var I=x.getParents(),H=D.getParents(),R=h(),P=I.length-1,T=H.length-1,O=c,K,ca,W,U=-1,L=R;L<=P;L++){ca=I[L];W=ca.getNext();for(L!=P||ca.equals(H[L])&&P<T?b&&(K=O.append(ca.clone(0,f))):C?k(ca,O,!1,E):G&&O.append(a.document.createText(ca.substring(y)));W;){if(W.equals(H[L])){U=L;break}W=k(W,O)}O=K}O=c;for(L=R;L<=T;L++)if(c=H[L],W=c.getPrevious(),c.equals(I[L]))b&&(O=O.getChild(0));else{L!=T||c.equals(I[L])&&T<P?b&&(K=O.append(c.clone(0,f))):\nF?k(c,O,!1,J):M&&O.append(a.document.createText(c.substring(0,B)));if(L>U)for(;W;)W=k(W,O,!0);O=K}u||e()}}function b(){var a=!1,b=CKEDITOR.dom.walker.whitespaces(),c=CKEDITOR.dom.walker.bookmark(!0),d=CKEDITOR.dom.walker.bogus();return function(f){return c(f)||b(f)?!0:d(f)&&!a?a=!0:f.type==CKEDITOR.NODE_TEXT&&(f.hasAscendant(\"pre\")||CKEDITOR.tools.trim(f.getText()).length)||f.type==CKEDITOR.NODE_ELEMENT&&!f.is(l)?!1:!0}}function c(a){var b=CKEDITOR.dom.walker.whitespaces(),c=CKEDITOR.dom.walker.bookmark(1);\nreturn function(d){return c(d)||b(d)?!0:!a&&m(d)||d.type==CKEDITOR.NODE_ELEMENT&&d.is(CKEDITOR.dtd.$removeEmpty)}}function d(a){return function(){var b;return this[a?\"getPreviousNode\":\"getNextNode\"](function(a){!b&&k(a)&&(b=a);return h(a)&&!(m(a)&&a.equals(b))})}}var l={abbr:1,acronym:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,\"var\":1},m=CKEDITOR.dom.walker.bogus(),f=/^[\\t\\r\\n ]*(?:&nbsp;|\\xa0)$/,\nh=CKEDITOR.dom.walker.editable(),k=CKEDITOR.dom.walker.ignored(!0);CKEDITOR.dom.range.prototype={clone:function(){var a=new CKEDITOR.dom.range(this.root);a._setStartContainer(this.startContainer);a.startOffset=this.startOffset;a._setEndContainer(this.endContainer);a.endOffset=this.endOffset;a.collapsed=this.collapsed;return a},collapse:function(a){a?(this._setEndContainer(this.startContainer),this.endOffset=this.startOffset):(this._setStartContainer(this.endContainer),this.startOffset=this.endOffset);\nthis.collapsed=!0},cloneContents:function(a){var b=new CKEDITOR.dom.documentFragment(this.document);this.collapsed||e(this,2,b,!1,\"undefined\"==typeof a?!0:a);return b},deleteContents:function(a){this.collapsed||e(this,0,null,a)},extractContents:function(a,b){var c=new CKEDITOR.dom.documentFragment(this.document);this.collapsed||e(this,1,c,a,\"undefined\"==typeof b?!0:b);return c},createBookmark:function(a){var b,c,d,f,k=this.collapsed;b=this.document.createElement(\"span\");b.data(\"cke-bookmark\",1);b.setStyle(\"display\",\n\"none\");b.setHtml(\"\\x26nbsp;\");a&&(d=\"cke_bm_\"+CKEDITOR.tools.getNextNumber(),b.setAttribute(\"id\",d+(k?\"C\":\"S\")));k||(c=b.clone(),c.setHtml(\"\\x26nbsp;\"),a&&c.setAttribute(\"id\",d+\"E\"),f=this.clone(),f.collapse(),f.insertNode(c));f=this.clone();f.collapse(!0);f.insertNode(b);c?(this.setStartAfter(b),this.setEndBefore(c)):this.moveToPosition(b,CKEDITOR.POSITION_AFTER_END);return{startNode:a?d+(k?\"C\":\"S\"):b,endNode:a?d+\"E\":c,serializable:a,collapsed:k}},createBookmark2:function(){function a(b){var g=\nb.container,d=b.offset,f;f=g;var k=d;f=f.type!=CKEDITOR.NODE_ELEMENT||0===k||k==f.getChildCount()?0:f.getChild(k-1).type==CKEDITOR.NODE_TEXT&&f.getChild(k).type==CKEDITOR.NODE_TEXT;f&&(g=g.getChild(d-1),d=g.getLength());if(g.type==CKEDITOR.NODE_ELEMENT&&0<d){a:{for(f=g;d--;)if(k=f.getChild(d).getIndex(!0),0<=k){d=k;break a}d=-1}d+=1}if(g.type==CKEDITOR.NODE_TEXT){f=g;for(k=0;(f=f.getPrevious())&&f.type==CKEDITOR.NODE_TEXT;)k+=f.getText().replace(CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE,\"\").length;\nf=k;g.getText()?d+=f:(k=g.getPrevious(c),f?(d=f,g=k?k.getNext():g.getParent().getFirst()):(g=g.getParent(),d=k?k.getIndex(!0)+1:0))}b.container=g;b.offset=d}function b(a,g){var c=g.getCustomData(\"cke-fillingChar\");if(c){var d=a.container;c.equals(d)&&(a.offset-=CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE.length,0>=a.offset&&(a.offset=d.getIndex(),a.container=d.getParent()))}}var c=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_TEXT,!0);return function(c){var d=this.collapsed,f={container:this.startContainer,\noffset:this.startOffset},k={container:this.endContainer,offset:this.endOffset};c&&(a(f),b(f,this.root),d||(a(k),b(k,this.root)));return{start:f.container.getAddress(c),end:d?null:k.container.getAddress(c),startOffset:f.offset,endOffset:k.offset,normalized:c,collapsed:d,is2:!0}}}(),moveToBookmark:function(a){if(a.is2){var b=this.document.getByAddress(a.start,a.normalized),c=a.startOffset,d=a.end&&this.document.getByAddress(a.end,a.normalized);a=a.endOffset;this.setStart(b,c);d?this.setEnd(d,a):this.collapse(!0)}else b=\n(c=a.serializable)?this.document.getById(a.startNode):a.startNode,a=c?this.document.getById(a.endNode):a.endNode,this.setStartBefore(b),b.remove(),a?(this.setEndBefore(a),a.remove()):this.collapse(!0)},getBoundaryNodes:function(){var a=this.startContainer,b=this.endContainer,c=this.startOffset,d=this.endOffset,f;if(a.type==CKEDITOR.NODE_ELEMENT)if(f=a.getChildCount(),f>c)a=a.getChild(c);else if(1>f)a=a.getPreviousSourceNode();else{for(a=a.$;a.lastChild;)a=a.lastChild;a=new CKEDITOR.dom.node(a);a=\na.getNextSourceNode()||a}if(b.type==CKEDITOR.NODE_ELEMENT)if(f=b.getChildCount(),f>d)b=b.getChild(d).getPreviousSourceNode(!0);else if(1>f)b=b.getPreviousSourceNode();else{for(b=b.$;b.lastChild;)b=b.lastChild;b=new CKEDITOR.dom.node(b)}a.getPosition(b)&CKEDITOR.POSITION_FOLLOWING&&(a=b);return{startNode:a,endNode:b}},getCommonAncestor:function(a,b){var c=this.startContainer,d=this.endContainer,c=c.equals(d)?a&&c.type==CKEDITOR.NODE_ELEMENT&&this.startOffset==this.endOffset-1?c.getChild(this.startOffset):\nc:c.getCommonAncestor(d);return b&&!c.is?c.getParent():c},optimize:function(){var a=this.startContainer,b=this.startOffset;a.type!=CKEDITOR.NODE_ELEMENT&&(b?b>=a.getLength()&&this.setStartAfter(a):this.setStartBefore(a));a=this.endContainer;b=this.endOffset;a.type!=CKEDITOR.NODE_ELEMENT&&(b?b>=a.getLength()&&this.setEndAfter(a):this.setEndBefore(a))},optimizeBookmark:function(){var a=this.startContainer,b=this.endContainer;a.is&&a.is(\"span\")&&a.data(\"cke-bookmark\")&&this.setStartAt(a,CKEDITOR.POSITION_BEFORE_START);\nb&&b.is&&b.is(\"span\")&&b.data(\"cke-bookmark\")&&this.setEndAt(b,CKEDITOR.POSITION_AFTER_END)},trim:function(a,b){var c=this.startContainer,d=this.startOffset,f=this.collapsed;if((!a||f)&&c&&c.type==CKEDITOR.NODE_TEXT){if(d)if(d>=c.getLength())d=c.getIndex()+1,c=c.getParent();else{var k=c.split(d),d=c.getIndex()+1,c=c.getParent();this.startContainer.equals(this.endContainer)?this.setEnd(k,this.endOffset-this.startOffset):c.equals(this.endContainer)&&(this.endOffset+=1)}else d=c.getIndex(),c=c.getParent();\nthis.setStart(c,d);if(f){this.collapse(!0);return}}c=this.endContainer;d=this.endOffset;b||f||!c||c.type!=CKEDITOR.NODE_TEXT||(d?(d>=c.getLength()||c.split(d),d=c.getIndex()+1):d=c.getIndex(),c=c.getParent(),this.setEnd(c,d))},enlarge:function(a,b){\nvar this$1 = this;\nfunction c(a){return a&&a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute(\"contenteditable\")?null:a}var d=new RegExp(/[^\\s\\ufeff]/);switch(a){case CKEDITOR.ENLARGE_INLINE:var f=1;case CKEDITOR.ENLARGE_ELEMENT:var k=function(a,b){var c=new CKEDITOR.dom.range(e);\nc.setStart(a,b);c.setEndAt(e,CKEDITOR.POSITION_BEFORE_END);var c=new CKEDITOR.dom.walker(c),g;for(c.guard=function(a){return!(a.type==CKEDITOR.NODE_ELEMENT&&a.isBlockBoundary())};g=c.next();){if(g.type!=CKEDITOR.NODE_TEXT)return!1;C=g!=a?g.getText():g.substring(b);if(d.test(C))return!1}return!0};if(this.collapsed)break;var h=this.getCommonAncestor(),e=this.root,l,m,u,x,D,y=!1,B,C;B=this.startContainer;var F=this.startOffset;B.type==CKEDITOR.NODE_TEXT?(F&&(B=!CKEDITOR.tools.trim(B.substring(0,F)).length&&\nB,y=!!B),B&&((x=B.getPrevious())||(u=B.getParent()))):(F&&(x=B.getChild(F-1)||B.getLast()),x||(u=B));for(u=c(u);u||x;){if(u&&!x){!D&&u.equals(h)&&(D=!0);if(f?u.isBlockBoundary():!e.contains(u))break;y&&\"inline\"==u.getComputedStyle(\"display\")||(y=!1,D?l=u:this$1.setStartBefore(u));x=u.getPrevious()}for(;x;)if(B=!1,x.type==CKEDITOR.NODE_COMMENT)x=x.getPrevious();else{if(x.type==CKEDITOR.NODE_TEXT)C=x.getText(),d.test(C)&&(x=null),B=/[\\s\\ufeff]$/.test(C);else if((x.$.offsetWidth>(CKEDITOR.env.webkit?1:\n0)||b&&x.is(\"br\"))&&!x.data(\"cke-bookmark\"))if(y&&CKEDITOR.dtd.$removeEmpty[x.getName()]){C=x.getText();if(d.test(C))x=null;else for(var F=x.$.getElementsByTagName(\"*\"),E=0,J;J=F[E++];)if(!CKEDITOR.dtd.$removeEmpty[J.nodeName.toLowerCase()]){x=null;break}x&&(B=!!C.length)}else x=null;B&&(y?D?l=u:u&&this$1.setStartBefore(u):y=!0);if(x){B=x.getPrevious();if(!u&&!B){u=x;x=null;break}x=B}else u=null}u&&(u=c(u.getParent()))}B=this.endContainer;F=this.endOffset;u=x=null;D=y=!1;B.type==CKEDITOR.NODE_TEXT?\nCKEDITOR.tools.trim(B.substring(F)).length?y=!0:(y=!B.getLength(),F==B.getLength()?(x=B.getNext())||(u=B.getParent()):k(B,F)&&(u=B.getParent())):(x=B.getChild(F))||(u=B);for(;u||x;){if(u&&!x){!D&&u.equals(h)&&(D=!0);if(f?u.isBlockBoundary():!e.contains(u))break;y&&\"inline\"==u.getComputedStyle(\"display\")||(y=!1,D?m=u:u&&this$1.setEndAfter(u));x=u.getNext()}for(;x;){B=!1;if(x.type==CKEDITOR.NODE_TEXT)C=x.getText(),k(x,0)||(x=null),B=/^[\\s\\ufeff]/.test(C);else if(x.type==CKEDITOR.NODE_ELEMENT){if((0<x.$.offsetWidth||\nb&&x.is(\"br\"))&&!x.data(\"cke-bookmark\"))if(y&&CKEDITOR.dtd.$removeEmpty[x.getName()]){C=x.getText();if(d.test(C))x=null;else for(F=x.$.getElementsByTagName(\"*\"),E=0;J=F[E++];)if(!CKEDITOR.dtd.$removeEmpty[J.nodeName.toLowerCase()]){x=null;break}x&&(B=!!C.length)}else x=null}else B=1;B&&y&&(D?m=u:this$1.setEndAfter(u));if(x){B=x.getNext();if(!u&&!B){u=x;x=null;break}x=B}else u=null}u&&(u=c(u.getParent()))}l&&m&&(h=l.contains(m)?m:l,this.setStartBefore(h),this.setEndAfter(h));break;case CKEDITOR.ENLARGE_BLOCK_CONTENTS:case CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:u=\nnew CKEDITOR.dom.range(this.root);e=this.root;u.setStartAt(e,CKEDITOR.POSITION_AFTER_START);u.setEnd(this.startContainer,this.startOffset);u=new CKEDITOR.dom.walker(u);var G,M,I=CKEDITOR.dom.walker.blockBoundary(a==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?{br:1}:null),H=null,R=function(a){if(a.type==CKEDITOR.NODE_ELEMENT&&\"false\"==a.getAttribute(\"contenteditable\"))if(H){if(H.equals(a)){H=null;return}}else H=a;else if(H)return;var b=I(a);b||(G=a);return b},f=function(a){var b=R(a);!b&&a.is&&a.is(\"br\")&&\n(M=a);return b};u.guard=R;u=u.lastBackward();G=G||e;this.setStartAt(G,!G.is(\"br\")&&(!u&&this.checkStartOfBlock()||u&&G.contains(u))?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_AFTER_END);if(a==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS){u=this.clone();u=new CKEDITOR.dom.walker(u);var P=CKEDITOR.dom.walker.whitespaces(),T=CKEDITOR.dom.walker.bookmark();u.evaluator=function(a){return!P(a)&&!T(a)};if((u=u.previous())&&u.type==CKEDITOR.NODE_ELEMENT&&u.is(\"br\"))break}u=this.clone();u.collapse();u.setEndAt(e,\nCKEDITOR.POSITION_BEFORE_END);u=new CKEDITOR.dom.walker(u);u.guard=a==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?f:R;G=H=M=null;u=u.lastForward();G=G||e;this.setEndAt(G,!u&&this.checkEndOfBlock()||u&&G.contains(u)?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_BEFORE_START);M&&this.setEndAfter(M)}},shrink:function(a,b,c){if(!this.collapsed){a=a||CKEDITOR.SHRINK_TEXT;var d=this.clone(),f=this.startContainer,k=this.endContainer,h=this.startOffset,e=this.endOffset,l=1,m=1;f&&f.type==CKEDITOR.NODE_TEXT&&(h?\nh>=f.getLength()?d.setStartAfter(f):(d.setStartBefore(f),l=0):d.setStartBefore(f));k&&k.type==CKEDITOR.NODE_TEXT&&(e?e>=k.getLength()?d.setEndAfter(k):(d.setEndAfter(k),m=0):d.setEndBefore(k));var d=new CKEDITOR.dom.walker(d),u=CKEDITOR.dom.walker.bookmark();d.evaluator=function(b){return b.type==(a==CKEDITOR.SHRINK_ELEMENT?CKEDITOR.NODE_ELEMENT:CKEDITOR.NODE_TEXT)};var x;d.guard=function(b,d){if(u(b))return!0;if(a==CKEDITOR.SHRINK_ELEMENT&&b.type==CKEDITOR.NODE_TEXT||d&&b.equals(x)||!1===c&&b.type==\nCKEDITOR.NODE_ELEMENT&&b.isBlockBoundary()||b.type==CKEDITOR.NODE_ELEMENT&&b.hasAttribute(\"contenteditable\"))return!1;d||b.type!=CKEDITOR.NODE_ELEMENT||(x=b);return!0};l&&(f=d[a==CKEDITOR.SHRINK_ELEMENT?\"lastForward\":\"next\"]())&&this.setStartAt(f,b?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_START);m&&(d.reset(),(d=d[a==CKEDITOR.SHRINK_ELEMENT?\"lastBackward\":\"previous\"]())&&this.setEndAt(d,b?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_END));return!(!l&&!m)}},insertNode:function(a){this.optimizeBookmark();\nthis.trim(!1,!0);var b=this.startContainer,c=b.getChild(this.startOffset);c?a.insertBefore(c):b.append(a);a.getParent()&&a.getParent().equals(this.endContainer)&&this.endOffset++;this.setStartBefore(a)},moveToPosition:function(a,b){this.setStartAt(a,b);this.collapse(!0)},moveToRange:function(a){this.setStart(a.startContainer,a.startOffset);this.setEnd(a.endContainer,a.endOffset)},selectNodeContents:function(a){this.setStart(a,0);this.setEnd(a,a.type==CKEDITOR.NODE_TEXT?a.getLength():a.getChildCount())},\nsetStart:function(b,c){b.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[b.getName()]&&(c=b.getIndex(),b=b.getParent());this._setStartContainer(b);this.startOffset=c;this.endContainer||(this._setEndContainer(b),this.endOffset=c);a(this)},setEnd:function(b,c){b.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[b.getName()]&&(c=b.getIndex()+1,b=b.getParent());this._setEndContainer(b);this.endOffset=c;this.startContainer||(this._setStartContainer(b),this.startOffset=c);a(this)},setStartAfter:function(a){this.setStart(a.getParent(),\na.getIndex()+1)},setStartBefore:function(a){this.setStart(a.getParent(),a.getIndex())},setEndAfter:function(a){this.setEnd(a.getParent(),a.getIndex()+1)},setEndBefore:function(a){this.setEnd(a.getParent(),a.getIndex())},setStartAt:function(b,c){switch(c){case CKEDITOR.POSITION_AFTER_START:this.setStart(b,0);break;case CKEDITOR.POSITION_BEFORE_END:b.type==CKEDITOR.NODE_TEXT?this.setStart(b,b.getLength()):this.setStart(b,b.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setStartBefore(b);\nbreak;case CKEDITOR.POSITION_AFTER_END:this.setStartAfter(b)}a(this)},setEndAt:function(b,c){switch(c){case CKEDITOR.POSITION_AFTER_START:this.setEnd(b,0);break;case CKEDITOR.POSITION_BEFORE_END:b.type==CKEDITOR.NODE_TEXT?this.setEnd(b,b.getLength()):this.setEnd(b,b.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setEndBefore(b);break;case CKEDITOR.POSITION_AFTER_END:this.setEndAfter(b)}a(this)},fixBlock:function(a,b){var c=this.createBookmark(),d=this.document.createElement(b);this.collapse(a);\nthis.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS);this.extractContents().appendTo(d);d.trim();this.insertNode(d);var f=d.getBogus();f&&f.remove();d.appendBogus();this.moveToBookmark(c);return d},splitBlock:function(a,b){var c=new CKEDITOR.dom.elementPath(this.startContainer,this.root),d=new CKEDITOR.dom.elementPath(this.endContainer,this.root),f=c.block,k=d.block,h=null;if(!c.blockLimit.equals(d.blockLimit))return null;\"br\"!=a&&(f||(f=this.fixBlock(!0,a),k=(new CKEDITOR.dom.elementPath(this.endContainer,\nthis.root)).block),k||(k=this.fixBlock(!1,a)));c=f&&this.checkStartOfBlock();d=k&&this.checkEndOfBlock();this.deleteContents();f&&f.equals(k)&&(d?(h=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(k,CKEDITOR.POSITION_AFTER_END),k=null):c?(h=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(f,CKEDITOR.POSITION_BEFORE_START),f=null):(k=this.splitElement(f,b||!1),f.is(\"ul\",\"ol\")||f.appendBogus()));return{previousBlock:f,nextBlock:k,wasStartOfBlock:c,\nwasEndOfBlock:d,elementPath:h}},splitElement:function(a,b){if(!this.collapsed)return null;this.setEndAt(a,CKEDITOR.POSITION_BEFORE_END);var c=this.extractContents(!1,b||!1),d=a.clone(!1,b||!1);c.appendTo(d);d.insertAfter(a);this.moveToPosition(a,CKEDITOR.POSITION_AFTER_END);return d},removeEmptyBlocksAtEnd:function(){function a(g){return function(a){return b(a)||c(a)||a.type==CKEDITOR.NODE_ELEMENT&&a.isEmptyInlineRemoveable()||g.is(\"table\")&&a.is(\"caption\")?!1:!0}}var b=CKEDITOR.dom.walker.whitespaces(),\nc=CKEDITOR.dom.walker.bookmark(!1);return function(b){\nvar this$1 = this;\nfor(var c=this.createBookmark(),d=this[b?\"endPath\":\"startPath\"](),f=d.block||d.blockLimit,k;f&&!f.equals(d.root)&&!f.getFirst(a(f));)k=f.getParent(),this$1[b?\"setEndAt\":\"setStartAt\"](f,CKEDITOR.POSITION_AFTER_END),f.remove(1),f=k;this.moveToBookmark(c)}}(),startPath:function(){return new CKEDITOR.dom.elementPath(this.startContainer,this.root)},endPath:function(){return new CKEDITOR.dom.elementPath(this.endContainer,this.root)},checkBoundaryOfElement:function(a,\nb){var d=b==CKEDITOR.START,f=this.clone();f.collapse(d);f[d?\"setStartAt\":\"setEndAt\"](a,d?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END);f=new CKEDITOR.dom.walker(f);f.evaluator=c(d);return f[d?\"checkBackward\":\"checkForward\"]()},checkStartOfBlock:function(){var a=this.startContainer,c=this.startOffset;CKEDITOR.env.ie&&c&&a.type==CKEDITOR.NODE_TEXT&&(a=CKEDITOR.tools.ltrim(a.substring(0,c)),f.test(a)&&this.trim(0,1));this.trim();a=new CKEDITOR.dom.elementPath(this.startContainer,this.root);\nc=this.clone();c.collapse(!0);c.setStartAt(a.block||a.blockLimit,CKEDITOR.POSITION_AFTER_START);a=new CKEDITOR.dom.walker(c);a.evaluator=b();return a.checkBackward()},checkEndOfBlock:function(){var a=this.endContainer,c=this.endOffset;CKEDITOR.env.ie&&a.type==CKEDITOR.NODE_TEXT&&(a=CKEDITOR.tools.rtrim(a.substring(c)),f.test(a)&&this.trim(1,0));this.trim();a=new CKEDITOR.dom.elementPath(this.endContainer,this.root);c=this.clone();c.collapse(!1);c.setEndAt(a.block||a.blockLimit,CKEDITOR.POSITION_BEFORE_END);\na=new CKEDITOR.dom.walker(c);a.evaluator=b();return a.checkForward()},getPreviousNode:function(a,b,c){var d=this.clone();d.collapse(1);d.setStartAt(c||this.root,CKEDITOR.POSITION_AFTER_START);c=new CKEDITOR.dom.walker(d);c.evaluator=a;c.guard=b;return c.previous()},getNextNode:function(a,b,c){var d=this.clone();d.collapse();d.setEndAt(c||this.root,CKEDITOR.POSITION_BEFORE_END);c=new CKEDITOR.dom.walker(d);c.evaluator=a;c.guard=b;return c.next()},checkReadOnly:function(){function a(b,c){for(;b;){if(b.type==\nCKEDITOR.NODE_ELEMENT){if(\"false\"==b.getAttribute(\"contentEditable\")&&!b.data(\"cke-editable\"))return 0;if(b.is(\"html\")||\"true\"==b.getAttribute(\"contentEditable\")&&(b.contains(c)||b.equals(c)))break}b=b.getParent()}return 1}return function(){var b=this.startContainer,c=this.endContainer;return!(a(b,c)&&a(c,b))}}(),moveToElementEditablePosition:function(a,b){\nvar this$1 = this;\nif(a.type==CKEDITOR.NODE_ELEMENT&&!a.isEditable(!1))return this.moveToPosition(a,b?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),\n!0;for(var c=0;a;){if(a.type==CKEDITOR.NODE_TEXT){b&&this$1.endContainer&&this$1.checkEndOfBlock()&&f.test(a.getText())?this$1.moveToPosition(a,CKEDITOR.POSITION_BEFORE_START):this$1.moveToPosition(a,b?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START);c=1;break}if(a.type==CKEDITOR.NODE_ELEMENT)if(a.isEditable())this$1.moveToPosition(a,b?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_START),c=1;else if(b&&a.is(\"br\")&&this$1.endContainer&&this$1.checkEndOfBlock())this$1.moveToPosition(a,CKEDITOR.POSITION_BEFORE_START);\nelse if(\"false\"==a.getAttribute(\"contenteditable\")&&a.is(CKEDITOR.dtd.$block))return this$1.setStartBefore(a),this$1.setEndAfter(a),!0;var d=a,h=c,e=void 0;d.type==CKEDITOR.NODE_ELEMENT&&d.isEditable(!1)&&(e=d[b?\"getLast\":\"getFirst\"](k));h||e||(e=d[b?\"getPrevious\":\"getNext\"](k));a=e}return!!c},moveToClosestEditablePosition:function(a,b){var c,d=0,f,k,h=[CKEDITOR.POSITION_AFTER_END,CKEDITOR.POSITION_BEFORE_START];a?(c=new CKEDITOR.dom.range(this.root),c.moveToPosition(a,h[b?0:1])):c=this.clone();if(a&&\n!a.is(CKEDITOR.dtd.$block))d=1;else if(f=c[b?\"getNextEditableNode\":\"getPreviousEditableNode\"]())d=1,(k=f.type==CKEDITOR.NODE_ELEMENT)&&f.is(CKEDITOR.dtd.$block)&&\"false\"==f.getAttribute(\"contenteditable\")?(c.setStartAt(f,CKEDITOR.POSITION_BEFORE_START),c.setEndAt(f,CKEDITOR.POSITION_AFTER_END)):!CKEDITOR.env.needsBrFiller&&k&&f.is(CKEDITOR.dom.walker.validEmptyBlockContainers)?(c.setEnd(f,0),c.collapse()):c.moveToPosition(f,h[b?1:0]);d&&this.moveToRange(c);return!!d},moveToElementEditStart:function(a){return this.moveToElementEditablePosition(a)},\nmoveToElementEditEnd:function(a){return this.moveToElementEditablePosition(a,!0)},getEnclosedNode:function(){var a=this.clone();a.optimize();if(a.startContainer.type!=CKEDITOR.NODE_ELEMENT||a.endContainer.type!=CKEDITOR.NODE_ELEMENT)return null;var a=new CKEDITOR.dom.walker(a),b=CKEDITOR.dom.walker.bookmark(!1,!0),c=CKEDITOR.dom.walker.whitespaces(!0);a.evaluator=function(a){return c(a)&&b(a)};var d=a.next();a.reset();return d&&d.equals(a.previous())?d:null},getTouchedStartNode:function(){var a=this.startContainer;\nreturn this.collapsed||a.type!=CKEDITOR.NODE_ELEMENT?a:a.getChild(this.startOffset)||a},getTouchedEndNode:function(){var a=this.endContainer;return this.collapsed||a.type!=CKEDITOR.NODE_ELEMENT?a:a.getChild(this.endOffset-1)||a},getNextEditableNode:d(),getPreviousEditableNode:d(1),scrollIntoView:function(){var a=new CKEDITOR.dom.element.createFromHtml(\"\\x3cspan\\x3e\\x26nbsp;\\x3c/span\\x3e\",this.document),b,c,d,f=this.clone();f.optimize();(d=f.startContainer.type==CKEDITOR.NODE_TEXT)?(c=f.startContainer.getText(),\nb=f.startContainer.split(f.startOffset),a.insertAfter(f.startContainer)):f.insertNode(a);a.scrollIntoView();d&&(f.startContainer.setText(c),b.remove());a.remove()},_setStartContainer:function(a){this.startContainer=a},_setEndContainer:function(a){this.endContainer=a},_find:function(a,b){var c=this.getCommonAncestor(),d=this.getBoundaryNodes(),f=[],k,h,e,l;if(c&&c.find)for(h=c.find(a),k=0;k<h.count();k++)if(c=h.getItem(k),b||!c.isReadOnly())e=c.getPosition(d.startNode)&CKEDITOR.POSITION_FOLLOWING||\nd.startNode.equals(c),l=c.getPosition(d.endNode)&CKEDITOR.POSITION_PRECEDING+CKEDITOR.POSITION_IS_CONTAINED,e&&l&&f.push(c);return f}}}(),CKEDITOR.POSITION_AFTER_START=1,CKEDITOR.POSITION_BEFORE_END=2,CKEDITOR.POSITION_BEFORE_START=3,CKEDITOR.POSITION_AFTER_END=4,CKEDITOR.ENLARGE_ELEMENT=1,CKEDITOR.ENLARGE_BLOCK_CONTENTS=2,CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS=3,CKEDITOR.ENLARGE_INLINE=4,CKEDITOR.START=1,CKEDITOR.END=2,CKEDITOR.SHRINK_ELEMENT=1,CKEDITOR.SHRINK_TEXT=2,\"use strict\",function(){function a(a){1>\narguments.length||(this.range=a,this.forceBrBreak=0,this.enlargeBr=1,this.enforceRealBlocks=0,this._||(this._={}))}function e(a){var b=[];a.forEach(function(a){if(\"true\"==a.getAttribute(\"contenteditable\"))return b.push(a),!1},CKEDITOR.NODE_ELEMENT,!0);return b}function b(a,c,d,f){a:{null==f&&(f=e(d));for(var h;h=f.shift();)if(h.getDtd().p){f={element:h,remaining:f};break a}f=null}if(!f)return 0;if((h=CKEDITOR.filter.instances[f.element.data(\"cke-filter\")])&&!h.check(c))return b(a,c,d,f.remaining);\nc=new CKEDITOR.dom.range(f.element);c.selectNodeContents(f.element);c=c.createIterator();c.enlargeBr=a.enlargeBr;c.enforceRealBlocks=a.enforceRealBlocks;c.activeFilter=c.filter=h;a._.nestedEditable={element:f.element,container:d,remaining:f.remaining,iterator:c};return 1}function c(a,b,c){if(!b)return!1;a=a.clone();a.collapse(!c);return a.checkBoundaryOfElement(b,c?CKEDITOR.START:CKEDITOR.END)}var d=/^[\\r\\n\\t ]+$/,l=CKEDITOR.dom.walker.bookmark(!1,!0),m=CKEDITOR.dom.walker.whitespaces(!0),f=function(a){return l(a)&&\nm(a)},h={dd:1,dt:1,li:1};a.prototype={getNextParagraph:function(a){\nvar this$1 = this;\nvar g,e,m,r,q;a=a||\"p\";if(this._.nestedEditable){if(g=this._.nestedEditable.iterator.getNextParagraph(a))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,g;this.activeFilter=this.filter;if(b(this,a,this._.nestedEditable.container,this._.nestedEditable.remaining))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,this._.nestedEditable.iterator.getNextParagraph(a);this._.nestedEditable=null}if(!this.range.root.getDtd()[a])return null;\nif(!this._.started){var t=this.range.clone();e=t.startPath();var p=t.endPath(),w=!t.collapsed&&c(t,e.block),z=!t.collapsed&&c(t,p.block,1);t.shrink(CKEDITOR.SHRINK_ELEMENT,!0);w&&t.setStartAt(e.block,CKEDITOR.POSITION_BEFORE_END);z&&t.setEndAt(p.block,CKEDITOR.POSITION_AFTER_START);e=t.endContainer.hasAscendant(\"pre\",!0)||t.startContainer.hasAscendant(\"pre\",!0);t.enlarge(this.forceBrBreak&&!e||!this.enlargeBr?CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:CKEDITOR.ENLARGE_BLOCK_CONTENTS);t.collapsed||(e=new CKEDITOR.dom.walker(t.clone()),\np=CKEDITOR.dom.walker.bookmark(!0,!0),e.evaluator=p,this._.nextNode=e.next(),e=new CKEDITOR.dom.walker(t.clone()),e.evaluator=p,e=e.previous(),this._.lastNode=e.getNextSourceNode(!0,null,t.root),this._.lastNode&&this._.lastNode.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(this._.lastNode.getText())&&this._.lastNode.getParent().isBlockBoundary()&&(p=this.range.clone(),p.moveToPosition(this._.lastNode,CKEDITOR.POSITION_AFTER_END),p.checkEndOfBlock()&&(p=new CKEDITOR.dom.elementPath(p.endContainer,\np.root),this._.lastNode=(p.block||p.blockLimit).getNextSourceNode(!0))),this._.lastNode&&t.root.contains(this._.lastNode)||(this._.lastNode=this._.docEndMarker=t.document.createText(\"\"),this._.lastNode.insertAfter(e)),t=null);this._.started=1;e=t}p=this._.nextNode;t=this._.lastNode;for(this._.nextNode=null;p;){var w=0,z=p.hasAscendant(\"pre\"),A=p.type!=CKEDITOR.NODE_ELEMENT,u=0;if(A)p.type==CKEDITOR.NODE_TEXT&&d.test(p.getText())&&(A=0);else{var x=p.getName();if(CKEDITOR.dtd.$block[x]&&\"false\"==p.getAttribute(\"contenteditable\")){g=\np;b(this$1,a,g);break}else if(p.isBlockBoundary(this$1.forceBrBreak&&!z&&{br:1})){if(\"br\"==x)A=1;else if(!e&&!p.getChildCount()&&\"hr\"!=x){g=p;m=p.equals(t);break}e&&(e.setEndAt(p,CKEDITOR.POSITION_BEFORE_START),\"br\"!=x&&(this$1._.nextNode=p));w=1}else{if(p.getFirst()){e||(e=this$1.range.clone(),e.setStartAt(p,CKEDITOR.POSITION_BEFORE_START));p=p.getFirst();continue}A=1}}A&&!e&&(e=this$1.range.clone(),e.setStartAt(p,CKEDITOR.POSITION_BEFORE_START));m=(!w||A)&&p.equals(t);if(e&&!w)for(;!p.getNext(f)&&!m;){x=\np.getParent();if(x.isBlockBoundary(this$1.forceBrBreak&&!z&&{br:1})){w=1;A=0;m||x.equals(t);e.setEndAt(x,CKEDITOR.POSITION_BEFORE_END);break}p=x;A=1;m=p.equals(t);u=1}A&&e.setEndAt(p,CKEDITOR.POSITION_AFTER_END);p=this$1._getNextSourceNode(p,u,t);if((m=!p)||w&&e)break}if(!g){if(!e)return this._.docEndMarker&&this._.docEndMarker.remove(),this._.nextNode=null;g=new CKEDITOR.dom.elementPath(e.startContainer,e.root);p=g.blockLimit;w={div:1,th:1,td:1};g=g.block;!g&&p&&!this.enforceRealBlocks&&w[p.getName()]&&\ne.checkStartOfBlock()&&e.checkEndOfBlock()&&!p.equals(e.root)?g=p:!g||this.enforceRealBlocks&&g.is(h)?(g=this.range.document.createElement(a),e.extractContents().appendTo(g),g.trim(),e.insertNode(g),r=q=!0):\"li\"!=g.getName()?e.checkStartOfBlock()&&e.checkEndOfBlock()||(g=g.clone(!1),e.extractContents().appendTo(g),g.trim(),q=e.splitBlock(),r=!q.wasStartOfBlock,q=!q.wasEndOfBlock,e.insertNode(g)):m||(this._.nextNode=g.equals(t)?null:this._getNextSourceNode(e.getBoundaryNodes().endNode,1,t))}r&&(r=\ng.getPrevious())&&r.type==CKEDITOR.NODE_ELEMENT&&(\"br\"==r.getName()?r.remove():r.getLast()&&\"br\"==r.getLast().$.nodeName.toLowerCase()&&r.getLast().remove());q&&(r=g.getLast())&&r.type==CKEDITOR.NODE_ELEMENT&&\"br\"==r.getName()&&(!CKEDITOR.env.needsBrFiller||r.getPrevious(l)||r.getNext(l))&&r.remove();this._.nextNode||(this._.nextNode=m||g.equals(t)||!t?null:this._getNextSourceNode(g,1,t));return g},_getNextSourceNode:function(a,b,c){function d(a){return!(a.equals(c)||a.equals(f))}var f=this.range.root;\nfor(a=a.getNextSourceNode(b,null,d);!l(a);)a=a.getNextSourceNode(b,null,d);return a}};CKEDITOR.dom.range.prototype.createIterator=function(){return new a(this)}}(),CKEDITOR.command=function(a,e){this.uiItems=[];this.exec=function(b){if(this.state==CKEDITOR.TRISTATE_DISABLED||!this.checkAllowed())return!1;this.editorFocus&&a.focus();return!1===this.fire(\"exec\")?!0:!1!==e.exec.call(this,a,b)};this.refresh=function(a,b){if(!this.readOnly&&a.readOnly)return!0;if(this.context&&!b.isContextFor(this.context)||\n!this.checkAllowed(!0))return this.disable(),!0;this.startDisabled||this.enable();this.modes&&!this.modes[a.mode]&&this.disable();return!1===this.fire(\"refresh\",{editor:a,path:b})?!0:e.refresh&&!1!==e.refresh.apply(this,arguments)};var b;this.checkAllowed=function(c){return c||\"boolean\"!=typeof b?b=a.activeFilter.checkFeature(this):b};CKEDITOR.tools.extend(this,e,{modes:{wysiwyg:1},editorFocus:1,contextSensitive:!!e.context,state:CKEDITOR.TRISTATE_DISABLED});CKEDITOR.event.call(this)},CKEDITOR.command.prototype=\n{enable:function(){this.state==CKEDITOR.TRISTATE_DISABLED&&this.checkAllowed()&&this.setState(this.preserveState&&\"undefined\"!=typeof this.previousState?this.previousState:CKEDITOR.TRISTATE_OFF)},disable:function(){this.setState(CKEDITOR.TRISTATE_DISABLED)},setState:function(a){if(this.state==a||a!=CKEDITOR.TRISTATE_DISABLED&&!this.checkAllowed())return!1;this.previousState=this.state;this.state=a;this.fire(\"state\");return!0},toggleState:function(){this.state==CKEDITOR.TRISTATE_OFF?this.setState(CKEDITOR.TRISTATE_ON):\nthis.state==CKEDITOR.TRISTATE_ON&&this.setState(CKEDITOR.TRISTATE_OFF)}},CKEDITOR.event.implementOn(CKEDITOR.command.prototype),CKEDITOR.ENTER_P=1,CKEDITOR.ENTER_BR=2,CKEDITOR.ENTER_DIV=3,CKEDITOR.config={customConfig:\"config.js\",autoUpdateElement:!0,language:\"\",defaultLanguage:\"en\",contentsLangDirection:\"\",enterMode:CKEDITOR.ENTER_P,forceEnterMode:!1,shiftEnterMode:CKEDITOR.ENTER_BR,docType:\"\\x3c!DOCTYPE html\\x3e\",bodyId:\"\",bodyClass:\"\",fullPage:!1,height:200,contentsCss:CKEDITOR.getUrl(\"contents.css\"),\nextraPlugins:\"\",removePlugins:\"\",protectedSource:[],tabIndex:0,width:\"\",baseFloatZIndex:1E4,blockedKeystrokes:[CKEDITOR.CTRL+66,CKEDITOR.CTRL+73,CKEDITOR.CTRL+85]},function(){function a(a,b,c,d,f){var g,e;a=[];for(g in b){e=b[g];e=\"boolean\"==typeof e?{}:\"function\"==typeof e?{match:e}:E(e);\"$\"!=g.charAt(0)&&(e.elements=g);c&&(e.featureName=c.toLowerCase());var k=e;k.elements=m(k.elements,/\\s+/)||null;k.propertiesOnly=k.propertiesOnly||!0===k.elements;var h=/\\s*,\\s*/,l=void 0;for(l in M){k[l]=m(k[l],\nh)||null;var u=k,t=I[l],x=m(k[I[l]],h),A=k[l],p=[],D=!0,n=void 0;x?D=!1:x={};for(n in A)\"!\"==n.charAt(0)&&(n=n.slice(1),p.push(n),x[n]=!0,D=!1);for(;n=p.pop();)A[n]=A[\"!\"+n],delete A[\"!\"+n];u[t]=(D?!1:x)||null}k.match=k.match||null;d.push(e);a.push(e)}b=f.elements;f=f.generic;var H;c=0;for(d=a.length;c<d;++c){g=E(a[c]);e=!0===g.classes||!0===g.styles||!0===g.attributes;k=g;l=t=h=void 0;for(h in M)k[h]=w(k[h]);u=!0;for(l in I){h=I[l];t=k[h];x=[];A=void 0;for(A in t)-1<A.indexOf(\"*\")?x.push(new RegExp(\"^\"+\nA.replace(/\\*/g,\".*\")+\"$\")):x.push(A);t=x;t.length&&(k[h]=t,u=!1)}k.nothingRequired=u;k.noProperties=!(k.attributes||k.classes||k.styles);if(!0===g.elements||null===g.elements)f[e?\"unshift\":\"push\"](g);else for(H in k=g.elements,delete g.elements,k)if(b[H])b[H][e?\"unshift\":\"push\"](g);else b[H]=[g]}}function e(a,c,d,g){if(!a.match||a.match(c))if(g||f(a,c))if(a.propertiesOnly||(d.valid=!0),d.allAttributes||(d.allAttributes=b(a.attributes,c.attributes,d.validAttributes)),d.allStyles||(d.allStyles=b(a.styles,\nc.styles,d.validStyles)),!d.allClasses){a=a.classes;c=c.classes;g=d.validClasses;if(a)if(!0===a)a=!0;else{for(var e=0,k=c.length,h;e<k;++e)h=c[e],g[h]||(g[h]=a(h));a=!1}else a=!1;d.allClasses=a}}function b(a,b,c){if(!a)return!1;if(!0===a)return!0;for(var d in b)c[d]||(c[d]=a(d));return!1}function c(a,b,c){if(!a.match||a.match(b)){if(a.noProperties)return!1;c.hadInvalidAttribute=d(a.attributes,b.attributes)||c.hadInvalidAttribute;c.hadInvalidStyle=d(a.styles,b.styles)||c.hadInvalidStyle;a=a.classes;\nb=b.classes;if(a){for(var f=!1,g=!0===a,e=b.length;e--;)if(g||a(b[e]))b.splice(e,1),f=!0;a=f}else a=!1;c.hadInvalidClass=a||c.hadInvalidClass}}function d(a,b){if(!a)return!1;var c=!1,d=!0===a,f;for(f in b)if(d||a(f))delete b[f],c=!0;return c}function l(a,b,c){if(a.disabled||a.customConfig&&!c||!b)return!1;a._.cachedChecks={};return!0}function m(a,b){if(!a)return!1;if(!0===a)return a;if(\"string\"==typeof a)return a=J(a),\"*\"==a?!0:CKEDITOR.tools.convertArrayToObject(a.split(b));if(CKEDITOR.tools.isArray(a))return a.length?\nCKEDITOR.tools.convertArrayToObject(a):!1;var c={},d=0,f;for(f in a)c[f]=a[f],d++;return d?c:!1}function f(a,b){if(a.nothingRequired)return!0;var c,d,f,g;if(f=a.requiredClasses)for(g=b.classes,c=0;c<f.length;++c)if(d=f[c],\"string\"==typeof d){if(-1==CKEDITOR.tools.indexOf(g,d))return!1}else if(!CKEDITOR.tools.checkIfAnyArrayItemMatches(g,d))return!1;return h(b.styles,a.requiredStyles)&&h(b.attributes,a.requiredAttributes)}function h(a,b){if(!b)return!0;for(var c=0,d;c<b.length;++c)if(d=b[c],\"string\"==\ntypeof d){if(!(d in a))return!1}else if(!CKEDITOR.tools.checkIfAnyObjectPropertyMatches(a,d))return!1;return!0}function k(a){if(!a)return{};a=a.split(/\\s*,\\s*/).sort();for(var b={};a.length;)b[a.shift()]=\"cke-test\";return b}function g(a){var b,c,d,f,g={},e=1;for(a=J(a);b=a.match(H);)(c=b[2])?(d=n(c,\"styles\"),f=n(c,\"attrs\"),c=n(c,\"classes\")):d=f=c=null,g[\"$\"+e++]={elements:b[1],classes:c,styles:d,attributes:f},a=a.slice(b[0].length);return g}function n(a,b){var c=a.match(R[b]);return c?J(c[1]):null}\nfunction v(a){var b=a.styleBackup=a.attributes.style,c=a.classBackup=a.attributes[\"class\"];a.styles||(a.styles=CKEDITOR.tools.parseCssText(b||\"\",1));a.classes||(a.classes=c?c.split(/\\s+/):[])}function r(a,b,d,f){var g=0,k;f.toHtml&&(b.name=b.name.replace(P,\"$1\"));if(f.doCallbacks&&a.elementCallbacks){a:{k=a.elementCallbacks;for(var h=0,l=k.length,u;h<l;++h)if(u=k[h](b)){k=u;break a}k=void 0}if(k)return k}if(f.doTransform&&(k=a._.transformations[b.name])){v(b);for(h=0;h<k.length;++h)x(a,b,k[h]);t(b)}if(f.doFilter){a:{h=\nb.name;l=a._;a=l.allowedRules.elements[h];k=l.allowedRules.generic;h=l.disallowedRules.elements[h];l=l.disallowedRules.generic;u=f.skipRequired;var m={valid:!1,validAttributes:{},validClasses:{},validStyles:{},allAttributes:!1,allClasses:!1,allStyles:!1,hadInvalidAttribute:!1,hadInvalidClass:!1,hadInvalidStyle:!1},A,n;if(a||k){v(b);if(h)for(A=0,n=h.length;A<n;++A)if(!1===c(h[A],b,m)){a=null;break a}if(l)for(A=0,n=l.length;A<n;++A)c(l[A],b,m);if(a)for(A=0,n=a.length;A<n;++A)e(a[A],b,m,u);if(k)for(A=\n0,n=k.length;A<n;++A)e(k[A],b,m,u);a=m}else a=null}if(!a||!a.valid)return d.push(b),1;n=a.validAttributes;var D=a.validStyles;k=a.validClasses;var h=b.attributes,w=b.styles,l=b.classes;u=b.classBackup;var H=b.styleBackup,I,y,q=[],m=[],z=/^data-cke-/;A=!1;delete h.style;delete h[\"class\"];delete b.classBackup;delete b.styleBackup;if(!a.allAttributes)for(I in h)n[I]||(z.test(I)?I==(y=I.replace(/^data-cke-saved-/,\"\"))||n[y]||(delete h[I],A=!0):(delete h[I],A=!0));if(!a.allStyles||a.hadInvalidStyle){for(I in w)a.allStyles||\nD[I]?q.push(I+\":\"+w[I]):A=!0;q.length&&(h.style=q.sort().join(\"; \"))}else H&&(h.style=H);if(!a.allClasses||a.hadInvalidClass){for(I=0;I<l.length;++I)(a.allClasses||k[l[I]])&&m.push(l[I]);m.length&&(h[\"class\"]=m.sort().join(\" \"));u&&m.length<u.split(/\\s+/).length&&(A=!0)}else u&&(h[\"class\"]=u);A&&(g=1);if(!f.skipFinalValidation&&!p(b))return d.push(b),1}f.toHtml&&(b.name=b.name.replace(T,\"cke:$1\"));return g}function q(a){var b=[],c;for(c in a)-1<c.indexOf(\"*\")&&b.push(c.replace(/\\*/g,\".*\"));return b.length?\nnew RegExp(\"^(?:\"+b.join(\"|\")+\")$\"):null}function t(a){var b=a.attributes,c;delete b.style;delete b[\"class\"];if(c=CKEDITOR.tools.writeCssText(a.styles,!0))b.style=c;a.classes.length&&(b[\"class\"]=a.classes.sort().join(\" \"))}function p(a){switch(a.name){case \"a\":if(!(a.children.length||a.attributes.name||a.attributes.id))return!1;break;case \"img\":if(!a.attributes.src)return!1}return!0}function w(a){if(!a)return!1;if(!0===a)return!0;var b=q(a);return function(c){return c in a||b&&c.match(b)}}function z(){return new CKEDITOR.htmlParser.element(\"br\")}\nfunction A(a){return a.type==CKEDITOR.NODE_ELEMENT&&(\"br\"==a.name||F.$block[a.name])}function u(a,b,c){var d=a.name;if(F.$empty[d]||!a.children.length)\"hr\"==d&&\"br\"==b?a.replaceWith(z()):(a.parent&&c.push({check:\"it\",el:a.parent}),a.remove());else if(F.$block[d]||\"tr\"==d)if(\"br\"==b)a.previous&&!A(a.previous)&&(b=z(),b.insertBefore(a)),a.next&&!A(a.next)&&(b=z(),b.insertAfter(a)),a.replaceWithChildren();else{var d=a.children,f;b:{f=F[b];for(var g=0,k=d.length,e;g<k;++g)if(e=d[g],e.type==CKEDITOR.NODE_ELEMENT&&\n!f[e.name]){f=!1;break b}f=!0}if(f)a.name=b,a.attributes={},c.push({check:\"parent-down\",el:a});else{f=a.parent;for(var g=f.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||\"body\"==f.name,h,l,k=d.length;0<k;)e=d[--k],g&&(e.type==CKEDITOR.NODE_TEXT||e.type==CKEDITOR.NODE_ELEMENT&&F.$inline[e.name])?(h||(h=new CKEDITOR.htmlParser.element(b),h.insertAfter(a),c.push({check:\"parent-down\",el:h})),h.add(e,0)):(h=null,l=F[f.name]||F.span,e.insertAfter(a),f.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||e.type!=CKEDITOR.NODE_ELEMENT||\nl[e.name]||c.push({check:\"el-up\",el:e}));a.remove()}}else d in{style:1,script:1}?a.remove():(a.parent&&c.push({check:\"it\",el:a.parent}),a.replaceWithChildren())}function x(a,b,c){var d,f;for(d=0;d<c.length;++d)if(f=c[d],!(f.check&&!a.check(f.check,!1)||f.left&&!f.left(b))){f.right(b,O);break}}function D(a,b){var c=b.getDefinition(),d=c.attributes,f=c.styles,g,e,k,h;if(a.name!=c.element)return!1;for(g in d)if(\"class\"==g)for(c=d[g].split(/\\s+/),k=a.classes.join(\"|\");h=c.pop();){if(-1==k.indexOf(h))return!1}else if(a.attributes[g]!=\nd[g])return!1;for(e in f)if(a.styles[e]!=f[e])return!1;return!0}function y(a,b){var c,d;\"string\"==typeof a?c=a:a instanceof CKEDITOR.style?d=a:(c=a[0],d=a[1]);return[{element:c,left:d,right:function(a,c){c.transform(a,b)}}]}function B(a){return function(b){return D(b,a)}}function C(a){return function(b,c){c[a](b)}}var F=CKEDITOR.dtd,E=CKEDITOR.tools.copy,J=CKEDITOR.tools.trim,G=[\"\",\"p\",\"br\",\"div\"];CKEDITOR.FILTER_SKIP_TREE=2;CKEDITOR.filter=function(a){this.allowedContent=[];this.disallowedContent=\n[];this.elementCallbacks=null;this.disabled=!1;this.editor=null;this.id=CKEDITOR.tools.getNextNumber();this._={allowedRules:{elements:{},generic:[]},disallowedRules:{elements:{},generic:[]},transformations:{},cachedTests:{}};CKEDITOR.filter.instances[this.id]=this;if(a instanceof CKEDITOR.editor){a=this.editor=a;this.customConfig=!0;var b=a.config.allowedContent;!0===b?this.disabled=!0:(b||(this.customConfig=!1),this.allow(b,\"config\",1),this.allow(a.config.extraAllowedContent,\"extra\",1),this.allow(G[a.enterMode]+\n\" \"+G[a.shiftEnterMode],\"default\",1),this.disallow(a.config.disallowedContent))}else this.customConfig=!1,this.allow(a,\"default\",1)};CKEDITOR.filter.instances={};CKEDITOR.filter.prototype={allow:function(b,c,d){\nvar this$1 = this;\nif(!l(this,b,d))return!1;var f,e;if(\"string\"==typeof b)b=g(b);else if(b instanceof CKEDITOR.style){if(b.toAllowedContentRules)return this.allow(b.toAllowedContentRules(this.editor),c,d);f=b.getDefinition();b={};d=f.attributes;b[f.element]=f={styles:f.styles,requiredStyles:f.styles&&CKEDITOR.tools.objectKeys(f.styles)};\nd&&(d=E(d),f.classes=d[\"class\"]?d[\"class\"].split(/\\s+/):null,f.requiredClasses=f.classes,delete d[\"class\"],f.attributes=d,f.requiredAttributes=d&&CKEDITOR.tools.objectKeys(d))}else if(CKEDITOR.tools.isArray(b)){for(f=0;f<b.length;++f)e=this$1.allow(b[f],c,d);return e}a(this,b,c,this.allowedContent,this._.allowedRules);return!0},applyTo:function(a,b,c,d){if(this.disabled)return!1;var f=this,g=[],e=this.editor&&this.editor.config.protectedSource,k,h=!1,l={doFilter:!c,doTransform:!0,doCallbacks:!0,toHtml:b};\na.forEach(function(a){if(a.type==CKEDITOR.NODE_ELEMENT){if(\"off\"==a.attributes[\"data-cke-filter\"])return!1;if(!b||\"span\"!=a.name||!~CKEDITOR.tools.objectKeys(a.attributes).join(\"|\").indexOf(\"data-cke-\"))if(k=r(f,a,g,l),k&1)h=!0;else if(k&2)return!1}else if(a.type==CKEDITOR.NODE_COMMENT&&a.value.match(/^\\{cke_protected\\}(?!\\{C\\})/)){var c;a:{var d=decodeURIComponent(a.value.replace(/^\\{cke_protected\\}/,\"\"));c=[];var u,m,t;if(e)for(m=0;m<e.length;++m)if((t=d.match(e[m]))&&t[0].length==d.length){c=!0;\nbreak a}d=CKEDITOR.htmlParser.fragment.fromHtml(d);1==d.children.length&&(u=d.children[0]).type==CKEDITOR.NODE_ELEMENT&&r(f,u,c,l);c=!c.length}c||g.push(a)}},null,!0);g.length&&(h=!0);var m;a=[];d=G[d||(this.editor?this.editor.enterMode:CKEDITOR.ENTER_P)];for(var t;c=g.pop();)c.type==CKEDITOR.NODE_ELEMENT?u(c,d,a):c.remove();for(;m=a.pop();)if(c=m.el,c.parent)switch(t=F[c.parent.name]||F.span,m.check){case \"it\":F.$removeEmpty[c.name]&&!c.children.length?u(c,d,a):p(c)||u(c,d,a);break;case \"el-up\":c.parent.type==\nCKEDITOR.NODE_DOCUMENT_FRAGMENT||t[c.name]||u(c,d,a);break;case \"parent-down\":c.parent.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||t[c.name]||u(c.parent,d,a)}return h},checkFeature:function(a){if(this.disabled||!a)return!0;a.toFeature&&(a=a.toFeature(this.editor));return!a.requiredContent||this.check(a.requiredContent)},disable:function(){this.disabled=!0},disallow:function(b){if(!l(this,b,!0))return!1;\"string\"==typeof b&&(b=g(b));a(this,b,null,this.disallowedContent,this._.disallowedRules);return!0},\naddContentForms:function(a){\nvar this$1 = this;\nif(!this.disabled&&a){var b,c,d=[],f;for(b=0;b<a.length&&!f;++b)c=a[b],(\"string\"==typeof c||c instanceof CKEDITOR.style)&&this$1.check(c)&&(f=c);if(f){for(b=0;b<a.length;++b)d.push(y(a[b],f));this.addTransformations(d)}}},addElementCallback:function(a){this.elementCallbacks||(this.elementCallbacks=[]);this.elementCallbacks.push(a)},addFeature:function(a){if(this.disabled||!a)return!0;a.toFeature&&(a=a.toFeature(this.editor));this.allow(a.allowedContent,a.name);this.addTransformations(a.contentTransformations);\nthis.addContentForms(a.contentForms);return a.requiredContent&&(this.customConfig||this.disallowedContent.length)?this.check(a.requiredContent):!0},addTransformations:function(a){var b,c;if(!this.disabled&&a){var d=this._.transformations,f;for(f=0;f<a.length;++f){b=a[f];var g=void 0,e=void 0,k=void 0,h=void 0,l=void 0,u=void 0;c=[];for(e=0;e<b.length;++e)k=b[e],\"string\"==typeof k?(k=k.split(/\\s*:\\s*/),h=k[0],l=null,u=k[1]):(h=k.check,l=k.left,u=k.right),g||(g=k,g=g.element?g.element:h?h.match(/^([a-z0-9]+)/i)[0]:\ng.left.getDefinition().element),l instanceof CKEDITOR.style&&(l=B(l)),c.push({check:h==g?null:h,left:l,right:\"string\"==typeof u?C(u):u});b=g;d[b]||(d[b]=[]);d[b].push(c)}}},check:function(a,b,c){\nvar this$1 = this;\nif(this.disabled)return!0;if(CKEDITOR.tools.isArray(a)){for(var d=a.length;d--;)if(this$1.check(a[d],b,c))return!0;return!1}var f,e;if(\"string\"==typeof a){e=a+\"\\x3c\"+(!1===b?\"0\":\"1\")+(c?\"1\":\"0\")+\"\\x3e\";if(e in this._.cachedChecks)return this._.cachedChecks[e];d=g(a).$1;f=d.styles;var h=d.classes;d.name=d.elements;\nd.classes=h=h?h.split(/\\s*,\\s*/):[];d.styles=k(f);d.attributes=k(d.attributes);d.children=[];h.length&&(d.attributes[\"class\"]=h.join(\" \"));f&&(d.attributes.style=CKEDITOR.tools.writeCssText(d.styles));f=d}else d=a.getDefinition(),f=d.styles,h=d.attributes||{},f&&!CKEDITOR.tools.isEmpty(f)?(f=E(f),h.style=CKEDITOR.tools.writeCssText(f,!0)):f={},f={name:d.element,attributes:h,classes:h[\"class\"]?h[\"class\"].split(/\\s+/):[],styles:f,children:[]};var h=CKEDITOR.tools.clone(f),l=[],u;if(!1!==b&&(u=this._.transformations[f.name])){for(d=\n0;d<u.length;++d)x(this$1,f,u[d]);t(f)}r(this,h,l,{doFilter:!0,doTransform:!1!==b,skipRequired:!c,skipFinalValidation:!c});b=0<l.length?!1:CKEDITOR.tools.objectCompare(f.attributes,h.attributes,!0)?!0:!1;\"string\"==typeof a&&(this._.cachedChecks[e]=b);return b},getAllowedEnterMode:function(){var a=[\"p\",\"div\",\"br\"],b={p:CKEDITOR.ENTER_P,div:CKEDITOR.ENTER_DIV,br:CKEDITOR.ENTER_BR};return function(c,d){\nvar this$1 = this;\nvar f=a.slice(),g;if(this.check(G[c]))return c;for(d||(f=f.reverse());g=f.pop();)if(this$1.check(g))return b[g];\nreturn CKEDITOR.ENTER_BR}}(),destroy:function(){delete CKEDITOR.filter.instances[this.id];delete this._;delete this.allowedContent;delete this.disallowedContent}};var M={styles:1,attributes:1,classes:1},I={styles:\"requiredStyles\",attributes:\"requiredAttributes\",classes:\"requiredClasses\"},H=/^([a-z0-9\\-*\\s]+)((?:\\s*\\{[!\\w\\-,\\s\\*]+\\}\\s*|\\s*\\[[!\\w\\-,\\s\\*]+\\]\\s*|\\s*\\([!\\w\\-,\\s\\*]+\\)\\s*){0,3})(?:;\\s*|$)/i,R={styles:/{([^}]+)}/,attrs:/\\[([^\\]]+)\\]/,classes:/\\(([^\\)]+)\\)/},P=/^cke:(object|embed|param)$/,\nT=/^(object|embed|param)$/,O;O=CKEDITOR.filter.transformationsTools={sizeToStyle:function(a){this.lengthToStyle(a,\"width\");this.lengthToStyle(a,\"height\")},sizeToAttribute:function(a){this.lengthToAttribute(a,\"width\");this.lengthToAttribute(a,\"height\")},lengthToStyle:function(a,b,c){c=c||b;if(!(c in a.styles)){var d=a.attributes[b];d&&(/^\\d+$/.test(d)&&(d+=\"px\"),a.styles[c]=d)}delete a.attributes[b]},lengthToAttribute:function(a,b,c){c=c||b;if(!(c in a.attributes)){var d=a.styles[b],f=d&&d.match(/^(\\d+)(?:\\.\\d*)?px$/);\nf?a.attributes[c]=f[1]:\"cke-test\"==d&&(a.attributes[c]=\"cke-test\")}delete a.styles[b]},alignmentToStyle:function(a){if(!(\"float\"in a.styles)){var b=a.attributes.align;if(\"left\"==b||\"right\"==b)a.styles[\"float\"]=b}delete a.attributes.align},alignmentToAttribute:function(a){if(!(\"align\"in a.attributes)){var b=a.styles[\"float\"];if(\"left\"==b||\"right\"==b)a.attributes.align=b}delete a.styles[\"float\"]},matchesStyle:D,transform:function(a,b){if(\"string\"==typeof b)a.name=b;else{var c=b.getDefinition(),d=c.styles,\nf=c.attributes,g,e,k,h;a.name=c.element;for(g in f)if(\"class\"==g)for(c=a.classes.join(\"|\"),k=f[g].split(/\\s+/);h=k.pop();)-1==c.indexOf(h)&&a.classes.push(h);else a.attributes[g]=f[g];for(e in d)a.styles[e]=d[e]}}}}(),function(){CKEDITOR.focusManager=function(a){if(a.focusManager)return a.focusManager;this.hasFocus=!1;this.currentActive=null;this._={editor:a};return this};CKEDITOR.focusManager._={blurDelay:200};CKEDITOR.focusManager.prototype={focus:function(a){this._.timer&&clearTimeout(this._.timer);\na&&(this.currentActive=a);this.hasFocus||this._.locked||((a=CKEDITOR.currentInstance)&&a.focusManager.blur(1),this.hasFocus=!0,(a=this._.editor.container)&&a.addClass(\"cke_focus\"),this._.editor.fire(\"focus\"))},lock:function(){this._.locked=1},unlock:function(){delete this._.locked},blur:function(a){function e(){if(this.hasFocus){this.hasFocus=!1;var a=this._.editor.container;a&&a.removeClass(\"cke_focus\");this._.editor.fire(\"blur\")}}if(!this._.locked){this._.timer&&clearTimeout(this._.timer);var b=\nCKEDITOR.focusManager._.blurDelay;a||!b?e.call(this):this._.timer=CKEDITOR.tools.setTimeout(function(){delete this._.timer;e.call(this)},b,this)}},add:function(a,e){var b=a.getCustomData(\"focusmanager\");if(!b||b!=this){b&&b.remove(a);var b=\"focus\",c=\"blur\";e&&(CKEDITOR.env.ie?(b=\"focusin\",c=\"focusout\"):CKEDITOR.event.useCapture=1);var d={blur:function(){a.equals(this.currentActive)&&this.blur()},focus:function(){this.focus(a)}};a.on(b,d.focus,this);a.on(c,d.blur,this);e&&(CKEDITOR.event.useCapture=\n0);a.setCustomData(\"focusmanager\",this);a.setCustomData(\"focusmanager_handlers\",d)}},remove:function(a){a.removeCustomData(\"focusmanager\");var e=a.removeCustomData(\"focusmanager_handlers\");a.removeListener(\"blur\",e.blur);a.removeListener(\"focus\",e.focus)}}}(),CKEDITOR.keystrokeHandler=function(a){if(a.keystrokeHandler)return a.keystrokeHandler;this.keystrokes={};this.blockedKeystrokes={};this._={editor:a};return this},function(){var a,e=function(b){b=b.data;var d=b.getKeystroke(),e=this.keystrokes[d],\nm=this._.editor;a=!1===m.fire(\"key\",{keyCode:d,domEvent:b});a||(e&&(a=!1!==m.execCommand(e,{from:\"keystrokeHandler\"})),a||(a=!!this.blockedKeystrokes[d]));a&&b.preventDefault(!0);return!a},b=function(b){a&&(a=!1,b.data.preventDefault(!0))};CKEDITOR.keystrokeHandler.prototype={attach:function(a){a.on(\"keydown\",e,this);if(CKEDITOR.env.gecko&&CKEDITOR.env.mac)a.on(\"keypress\",b,this)}}}(),function(){CKEDITOR.lang={languages:{af:1,ar:1,bg:1,bn:1,bs:1,ca:1,cs:1,cy:1,da:1,de:1,\"de-ch\":1,el:1,\"en-au\":1,\"en-ca\":1,\n\"en-gb\":1,en:1,eo:1,es:1,et:1,eu:1,fa:1,fi:1,fo:1,\"fr-ca\":1,fr:1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,is:1,it:1,ja:1,ka:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,ms:1,nb:1,nl:1,no:1,pl:1,\"pt-br\":1,pt:1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,\"sr-latn\":1,sr:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,\"zh-cn\":1,zh:1},rtl:{ar:1,fa:1,he:1,ku:1,ug:1},load:function(a,e,b){a&&CKEDITOR.lang.languages[a]||(a=this.detect(e,a));var c=this;e=function(){c[a].dir=c.rtl[a]?\"rtl\":\"ltr\";b(a,c[a])};this[a]?e():CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(\"lang/\"+\na+\".js\"),e,this)},detect:function(a,e){var b=this.languages;e=e||navigator.userLanguage||navigator.language||a;var c=e.toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/),d=c[1],c=c[2];b[d+\"-\"+c]?d=d+\"-\"+c:b[d]||(d=null);CKEDITOR.lang.detect=d?function(){return d}:function(a){return a};return d||a}}}(),CKEDITOR.scriptLoader=function(){var a={},e={};return{load:function(b,c,d,l){var m=\"string\"==typeof b;m&&(b=[b]);d||(d=CKEDITOR);var f=b.length,h=[],k=[],g=function(a){c&&(m?c.call(d,a):c.call(d,h,k))};if(0===\nf)g(!0);else{var n=function(a,b){(b?h:k).push(a);0>=--f&&(l&&CKEDITOR.document.getDocumentElement().removeStyle(\"cursor\"),g(b))},v=function(b,c){a[b]=1;var d=e[b];delete e[b];for(var f=0;f<d.length;f++)d[f](b,c)},r=function(b){if(a[b])n(b,!0);else{var d=e[b]||(e[b]=[]);d.push(n);if(!(1<d.length)){var f=new CKEDITOR.dom.element(\"script\");f.setAttributes({type:\"text/javascript\",src:b});c&&(CKEDITOR.env.ie&&(8>=CKEDITOR.env.version||CKEDITOR.env.ie9Compat)?f.$.onreadystatechange=function(){if(\"loaded\"==\nf.$.readyState||\"complete\"==f.$.readyState)f.$.onreadystatechange=null,v(b,!0)}:(f.$.onload=function(){setTimeout(function(){v(b,!0)},0)},f.$.onerror=function(){v(b,!1)}));f.appendTo(CKEDITOR.document.getHead())}}};l&&CKEDITOR.document.getDocumentElement().setStyle(\"cursor\",\"wait\");for(var q=0;q<f;q++)r(b[q])}},queue:function(){function a(){var b;(b=c[0])&&this.load(b.scriptUrl,b.callback,CKEDITOR,0)}var c=[];return function(d,e){var m=this;c.push({scriptUrl:d,callback:function(){e&&e.apply(this,\narguments);c.shift();a.call(m)}});1==c.length&&a.call(this)}}()}}(),CKEDITOR.resourceManager=function(a,e){this.basePath=a;this.fileName=e;this.registered={};this.loaded={};this.externals={};this._={waitingList:{}}},CKEDITOR.resourceManager.prototype={add:function(a,e){if(this.registered[a])throw Error('[CKEDITOR.resourceManager.add] The resource name \"'+a+'\" is already registered.');var b=this.registered[a]=e||{};b.name=a;b.path=this.getPath(a);CKEDITOR.fire(a+CKEDITOR.tools.capitalize(this.fileName)+\n\"Ready\",b);return this.get(a)},get:function(a){return this.registered[a]||null},getPath:function(a){var e=this.externals[a];return CKEDITOR.getUrl(e&&e.dir||this.basePath+a+\"/\")},getFilePath:function(a){var e=this.externals[a];return CKEDITOR.getUrl(this.getPath(a)+(e?e.file:this.fileName+\".js\"))},addExternal:function(a,e,b){\nvar this$1 = this;\na=a.split(\",\");for(var c=0;c<a.length;c++){var d=a[c];b||(e=e.replace(/[^\\/]+$/,function(a){b=a;return\"\"}));this$1.externals[d]={dir:e,file:b||this$1.fileName+\".js\"}}},load:function(a,\ne,b){\nvar this$1 = this;\nCKEDITOR.tools.isArray(a)||(a=a?[a]:[]);for(var c=this.loaded,d=this.registered,l=[],m={},f={},h=0;h<a.length;h++){var k=a[h];if(k)if(c[k]||d[k])f[k]=this$1.get(k);else{var g=this$1.getFilePath(k);l.push(g);g in m||(m[g]=[]);m[g].push(k)}}CKEDITOR.scriptLoader.load(l,function(a,d){\nvar this$1 = this;\nif(d.length)throw Error('[CKEDITOR.resourceManager.load] Resource name \"'+m[d[0]].join(\",\")+'\" was not found at \"'+d[0]+'\".');for(var g=0;g<a.length;g++)for(var k=m[a[g]],h=0;h<k.length;h++){var l=k[h];f[l]=this$1.get(l);\nc[l]=1}e.call(b,f)},this)}},CKEDITOR.plugins=new CKEDITOR.resourceManager(\"plugins/\",\"plugin\"),CKEDITOR.plugins.load=CKEDITOR.tools.override(CKEDITOR.plugins.load,function(a){var e={};return function(b,c,d){var l={},m=function(b){a.call(this,b,function(a){CKEDITOR.tools.extend(l,a);var b=[],f;for(f in a){var n=a[f],v=n&&n.requires;if(!e[f]){if(n.icons)for(var r=n.icons.split(\",\"),q=r.length;q--;)CKEDITOR.skin.addIcon(r[q],n.path+\"icons/\"+(CKEDITOR.env.hidpi&&n.hidpi?\"hidpi/\":\"\")+r[q]+\".png\");e[f]=\n1}if(v)for(v.split&&(v=v.split(\",\")),n=0;n<v.length;n++)l[v[n]]||b.push(v[n])}if(b.length)m.call(this,b);else{for(f in l)n=l[f],n.onLoad&&!n.onLoad._called&&(!1===n.onLoad()&&delete l[f],n.onLoad._called=1);c&&c.call(d||window,l)}},this)};m.call(this,b)}}),CKEDITOR.plugins.setLang=function(a,e,b){var c=this.get(a);a=c.langEntries||(c.langEntries={});c=c.lang||(c.lang=[]);c.split&&(c=c.split(\",\"));-1==CKEDITOR.tools.indexOf(c,e)&&c.push(e);a[e]=b},CKEDITOR.ui=function(a){if(a.ui)return a.ui;this.items=\n{};this.instances={};this.editor=a;this._={handlers:{}};return this},CKEDITOR.ui.prototype={add:function(a,e,b){b.name=a.toLowerCase();var c=this.items[a]={type:e,command:b.command||null,args:Array.prototype.slice.call(arguments,2)};CKEDITOR.tools.extend(c,b)},get:function(a){return this.instances[a]},create:function(a){var e=this.items[a],b=e&&this._.handlers[e.type],c=e&&e.command&&this.editor.getCommand(e.command),b=b&&b.create.apply(this,e.args);this.instances[a]=b;c&&c.uiItems.push(b);b&&!b.type&&\n(b.type=e.type);return b},addHandler:function(a,e){this._.handlers[a]=e},space:function(a){return CKEDITOR.document.getById(this.spaceId(a))},spaceId:function(a){return this.editor.id+\"_\"+a}},CKEDITOR.event.implementOn(CKEDITOR.ui),function(){function a(a,d,g){CKEDITOR.event.call(this);a=a&&CKEDITOR.tools.clone(a);if(void 0!==d){if(!(d instanceof CKEDITOR.dom.element))throw Error(\"Expect element of type CKEDITOR.dom.element.\");if(!g)throw Error(\"One of the element modes must be specified.\");if(CKEDITOR.env.ie&&\nCKEDITOR.env.quirks&&g==CKEDITOR.ELEMENT_MODE_INLINE)throw Error(\"Inline element mode is not supported on IE quirks.\");if(!b(d,g))throw Error('The specified element mode is not supported on element: \"'+d.getName()+'\".');this.element=d;this.elementMode=g;this.name=this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO&&(d.getId()||d.getNameAtt())}else this.elementMode=CKEDITOR.ELEMENT_MODE_NONE;this._={};this.commands={};this.templates={};this.name=this.name||e();this.id=CKEDITOR.tools.getNextId();this.status=\n\"unloaded\";this.config=CKEDITOR.tools.prototypedCopy(CKEDITOR.config);this.ui=new CKEDITOR.ui(this);this.focusManager=new CKEDITOR.focusManager(this);this.keystrokeHandler=new CKEDITOR.keystrokeHandler(this);this.on(\"readOnly\",c);this.on(\"selectionChange\",function(a){l(this,a.data.path)});this.on(\"activeFilterChange\",function(){l(this,this.elementPath(),!0)});this.on(\"mode\",c);this.on(\"instanceReady\",function(){this.config.startupFocus&&this.focus()});CKEDITOR.fire(\"instanceCreated\",null,this);CKEDITOR.add(this);\nCKEDITOR.tools.setTimeout(function(){\"destroyed\"!==this.status?f(this,a):CKEDITOR.warn(\"editor-incorrect-destroy\")},0,this)}function e(){do var a=\"editor\"+ ++r;while(CKEDITOR.instances[a]);return a}function b(a,b){return b==CKEDITOR.ELEMENT_MODE_INLINE?a.is(CKEDITOR.dtd.$editable)||a.is(\"textarea\"):b==CKEDITOR.ELEMENT_MODE_REPLACE?!a.is(CKEDITOR.dtd.$nonBodyContent):1}function c(){\nvar this$1 = this;\nvar a=this.commands,b;for(b in a)d(this$1,a[b])}function d(a,b){b[b.startDisabled?\"disable\":a.readOnly&&!b.readOnly?\"disable\":\nb.modes[a.mode]?\"enable\":\"disable\"]()}function l(a,b,c){if(b){var d,f,g=a.commands;for(f in g)d=g[f],(c||d.contextSensitive)&&d.refresh(a,b)}}function m(a){var b=a.config.customConfig;if(!b)return!1;var b=CKEDITOR.getUrl(b),c=q[b]||(q[b]={});c.fn?(c.fn.call(a,a.config),CKEDITOR.getUrl(a.config.customConfig)!=b&&m(a)||a.fireOnce(\"customConfigLoaded\")):CKEDITOR.scriptLoader.queue(b,function(){c.fn=CKEDITOR.editorConfig?CKEDITOR.editorConfig:function(){};m(a)});return!0}function f(a,b){a.on(\"customConfigLoaded\",\nfunction(){if(b){if(b.on)for(var c in b.on)a.on(c,b.on[c]);CKEDITOR.tools.extend(a.config,b,!0);delete a.config.on}c=a.config;a.readOnly=c.readOnly?!0:a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?a.element.is(\"textarea\")?a.element.hasAttribute(\"disabled\")||a.element.hasAttribute(\"readonly\"):a.element.isReadOnly():a.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?a.element.hasAttribute(\"disabled\")||a.element.hasAttribute(\"readonly\"):!1;a.blockless=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?!(a.element.is(\"textarea\")||\nCKEDITOR.dtd[a.element.getName()].p):!1;a.tabIndex=c.tabIndex||a.element&&a.element.getAttribute(\"tabindex\")||0;a.activeEnterMode=a.enterMode=a.blockless?CKEDITOR.ENTER_BR:c.enterMode;a.activeShiftEnterMode=a.shiftEnterMode=a.blockless?CKEDITOR.ENTER_BR:c.shiftEnterMode;c.skin&&(CKEDITOR.skinName=c.skin);a.fireOnce(\"configLoaded\");a.dataProcessor=new CKEDITOR.htmlDataProcessor(a);a.filter=a.activeFilter=new CKEDITOR.filter(a);h(a)});b&&null!=b.customConfig&&(a.config.customConfig=b.customConfig);\nm(a)||a.fireOnce(\"customConfigLoaded\")}function h(a){CKEDITOR.skin.loadPart(\"editor\",function(){k(a)})}function k(a){CKEDITOR.lang.load(a.config.language,a.config.defaultLanguage,function(b,c){var d=a.config.title;a.langCode=b;a.lang=CKEDITOR.tools.prototypedCopy(c);a.title=\"string\"==typeof d||!1===d?d:[a.lang.editor,a.name].join(\", \");a.config.contentsLangDirection||(a.config.contentsLangDirection=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?a.element.getDirection(1):a.lang.dir);a.fire(\"langLoaded\");\ng(a)})}function g(a){a.getStylesSet(function(b){a.once(\"loaded\",function(){a.fire(\"stylesSet\",{styles:b})},null,null,1);n(a)})}function n(a){var b=a.config,c=b.plugins,d=b.extraPlugins,f=b.removePlugins;if(d)var g=new RegExp(\"(?:^|,)(?:\"+d.replace(/\\s*,\\s*/g,\"|\")+\")(?\\x3d,|$)\",\"g\"),c=c.replace(g,\"\"),c=c+(\",\"+d);if(f)var e=new RegExp(\"(?:^|,)(?:\"+f.replace(/\\s*,\\s*/g,\"|\")+\")(?\\x3d,|$)\",\"g\"),c=c.replace(e,\"\");CKEDITOR.env.air&&(c+=\",adobeair\");CKEDITOR.plugins.load(c.split(\",\"),function(c){var d=[],\nf=[],g=[];a.plugins=c;for(var k in c){var h=c[k],l=h.lang,u=null,m=h.requires,A;CKEDITOR.tools.isArray(m)&&(m=m.join(\",\"));if(m&&(A=m.match(e)))for(;m=A.pop();)CKEDITOR.error(\"editor-plugin-required\",{plugin:m.replace(\",\",\"\"),requiredBy:k});l&&!a.lang[k]&&(l.split&&(l=l.split(\",\")),0<=CKEDITOR.tools.indexOf(l,a.langCode)?u=a.langCode:(u=a.langCode.replace(/-.*/,\"\"),u=u!=a.langCode&&0<=CKEDITOR.tools.indexOf(l,u)?u:0<=CKEDITOR.tools.indexOf(l,\"en\")?\"en\":l[0]),h.langEntries&&h.langEntries[u]?(a.lang[k]=\nh.langEntries[u],u=null):g.push(CKEDITOR.getUrl(h.path+\"lang/\"+u+\".js\")));f.push(u);d.push(h)}CKEDITOR.scriptLoader.load(g,function(){for(var c=[\"beforeInit\",\"init\",\"afterInit\"],g=0;g<c.length;g++)for(var e=0;e<d.length;e++){var k=d[e];0===g&&f[e]&&k.lang&&k.langEntries&&(a.lang[k.name]=k.langEntries[f[e]]);if(k[c[g]])k[c[g]](a)}a.fireOnce(\"pluginsLoaded\");b.keystrokes&&a.setKeystroke(a.config.keystrokes);for(e=0;e<a.config.blockedKeystrokes.length;e++)a.keystrokeHandler.blockedKeystrokes[a.config.blockedKeystrokes[e]]=\n1;a.status=\"loaded\";a.fireOnce(\"loaded\");CKEDITOR.fire(\"instanceLoaded\",null,a)})})}function v(){var a=this.element;if(a&&this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO){var b=this.getData();this.config.htmlEncodeOutput&&(b=CKEDITOR.tools.htmlEncode(b));a.is(\"textarea\")?a.setValue(b):a.setHtml(b);return!0}return!1}a.prototype=CKEDITOR.editor.prototype;CKEDITOR.editor=a;var r=0,q={};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{addCommand:function(a,b){b.name=a.toLowerCase();var c=new CKEDITOR.command(this,\nb);this.mode&&d(this,c);return this.commands[a]=c},_attachToForm:function(){function a(b){c.updateElement();c._.required&&!d.getValue()&&!1===c.fire(\"required\")&&b.data.preventDefault()}function b(a){return!!(a&&a.call&&a.apply)}var c=this,d=c.element,f=new CKEDITOR.dom.element(d.$.form);d.is(\"textarea\")&&f&&(f.on(\"submit\",a),b(f.$.submit)&&(f.$.submit=CKEDITOR.tools.override(f.$.submit,function(b){return function(){a();b.apply?b.apply(this):b()}})),c.on(\"destroy\",function(){f.removeListener(\"submit\",\na)}))},destroy:function(a){this.fire(\"beforeDestroy\");!a&&v.call(this);this.editable(null);this.filter&&(this.filter.destroy(),delete this.filter);delete this.activeFilter;this.status=\"destroyed\";this.fire(\"destroy\");this.removeAllListeners();CKEDITOR.remove(this);CKEDITOR.fire(\"instanceDestroyed\",null,this)},elementPath:function(a){if(!a){a=this.getSelection();if(!a)return null;a=a.getStartElement()}return a?new CKEDITOR.dom.elementPath(a,this.editable()):null},createRange:function(){var a=this.editable();\nreturn a?new CKEDITOR.dom.range(a):null},execCommand:function(a,b){var c=this.getCommand(a),d={name:a,commandData:b,command:c};return c&&c.state!=CKEDITOR.TRISTATE_DISABLED&&!1!==this.fire(\"beforeCommandExec\",d)&&(d.returnValue=c.exec(d.commandData),!c.async&&!1!==this.fire(\"afterCommandExec\",d))?d.returnValue:!1},getCommand:function(a){return this.commands[a]},getData:function(a){!a&&this.fire(\"beforeGetData\");var b=this._.data;\"string\"!=typeof b&&(b=(b=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?\nb.is(\"textarea\")?b.getValue():b.getHtml():\"\");b={dataValue:b};!a&&this.fire(\"getData\",b);return b.dataValue},getSnapshot:function(){var a=this.fire(\"getSnapshot\");\"string\"!=typeof a&&(a=(a=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?a.is(\"textarea\")?a.getValue():a.getHtml():\"\");return a},loadSnapshot:function(a){this.fire(\"loadSnapshot\",a)},setData:function(a,b,c){var d=!0,f=b;b&&\"object\"==typeof b&&(c=b.internal,f=b.callback,d=!b.noSnapshot);!c&&d&&this.fire(\"saveSnapshot\");if(f||\n!c)this.once(\"dataReady\",function(a){!c&&d&&this.fire(\"saveSnapshot\");f&&f.call(a.editor)});a={dataValue:a};!c&&this.fire(\"setData\",a);this._.data=a.dataValue;!c&&this.fire(\"afterSetData\",a)},setReadOnly:function(a){a=null==a||a;this.readOnly!=a&&(this.readOnly=a,this.keystrokeHandler.blockedKeystrokes[8]=+a,this.editable().setReadOnly(a),this.fire(\"readOnly\"))},insertHtml:function(a,b,c){this.fire(\"insertHtml\",{dataValue:a,mode:b,range:c})},insertText:function(a){this.fire(\"insertText\",a)},insertElement:function(a){this.fire(\"insertElement\",\na)},getSelectedHtml:function(a){var b=this.editable(),c=this.getSelection(),c=c&&c.getRanges();if(!b||!c||0===c.length)return null;for(var d=new CKEDITOR.dom.documentFragment,f,g,e,k=0;k<c.length;k++){var h=c[k],l=h.startContainer;l.getName&&\"tr\"==l.getName()?(f||(f=l.getAscendant(\"table\").clone(),f.append(l.getAscendant(\"tbody\").clone()),d.append(f),f=f.findOne(\"tbody\")),g&&g.equals(l)||(g=l,e=l.clone(),f.append(e)),e.append(h.cloneContents())):d.append(h.cloneContents())}b=f?d:b.getHtmlFromRange(c[0]);\nreturn a?b.getHtml():b},extractSelectedHtml:function(a,b){var c=this.editable(),d=this.getSelection().getRanges();if(!c||0===d.length)return null;d=d[0];c=c.extractHtmlFromRange(d,b);b||this.getSelection().selectRanges([d]);return a?c.getHtml():c},focus:function(){this.fire(\"beforeFocus\")},checkDirty:function(){return\"ready\"==this.status&&this._.previousValue!==this.getSnapshot()},resetDirty:function(){this._.previousValue=this.getSnapshot()},updateElement:function(){return v.call(this)},setKeystroke:function(){for(var a=\nthis.keystrokeHandler.keystrokes,b=CKEDITOR.tools.isArray(arguments[0])?arguments[0]:[[].slice.call(arguments,0)],c,d,f=b.length;f--;)c=b[f],d=0,CKEDITOR.tools.isArray(c)&&(d=c[1],c=c[0]),d?a[c]=d:delete a[c]},addFeature:function(a){return this.filter.addFeature(a)},setActiveFilter:function(a){a||(a=this.filter);this.activeFilter!==a&&(this.activeFilter=a,this.fire(\"activeFilterChange\"),a===this.filter?this.setActiveEnterMode(null,null):this.setActiveEnterMode(a.getAllowedEnterMode(this.enterMode),\na.getAllowedEnterMode(this.shiftEnterMode,!0)))},setActiveEnterMode:function(a,b){a=a?this.blockless?CKEDITOR.ENTER_BR:a:this.enterMode;b=b?this.blockless?CKEDITOR.ENTER_BR:b:this.shiftEnterMode;if(this.activeEnterMode!=a||this.activeShiftEnterMode!=b)this.activeEnterMode=a,this.activeShiftEnterMode=b,this.fire(\"activeEnterModeChange\")},showNotification:function(a){alert(a)}})}(),CKEDITOR.ELEMENT_MODE_NONE=0,CKEDITOR.ELEMENT_MODE_REPLACE=1,CKEDITOR.ELEMENT_MODE_APPENDTO=2,CKEDITOR.ELEMENT_MODE_INLINE=\n3,CKEDITOR.htmlParser=function(){this._={htmlPartsRegex:/<(?:(?:\\/([^>]+)>)|(?:!--([\\S|\\s]*?)--\\x3e)|(?:([^\\/\\s>]+)((?:\\s+[\\w\\-:.]+(?:\\s*=\\s*?(?:(?:\"[^\"]*\")|(?:'[^']*')|[^\\s\"'\\/>]+))?)*)[\\S\\s]*?(\\/?)>))/g}},function(){var a=/([\\w\\-:.]+)(?:(?:\\s*=\\s*(?:(?:\"([^\"]*)\")|(?:'([^']*)')|([^\\s>]+)))|(?=\\s|$))/g,e={checked:1,compact:1,declare:1,defer:1,disabled:1,ismap:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,selected:1};CKEDITOR.htmlParser.prototype={onTagOpen:function(){},onTagClose:function(){},\nonText:function(){},onCDATA:function(){},onComment:function(){},parse:function(b){\nvar this$1 = this;\nfor(var c,d,l=0,m;c=this._.htmlPartsRegex.exec(b);){d=c.index;if(d>l)if(l=b.substring(l,d),m)m.push(l);else this$1.onText(l);l=this$1._.htmlPartsRegex.lastIndex;if(d=c[1])if(d=d.toLowerCase(),m&&CKEDITOR.dtd.$cdata[d]&&(this$1.onCDATA(m.join(\"\")),m=null),!m){this$1.onTagClose(d);continue}if(m)m.push(c[0]);else if(d=c[3]){if(d=d.toLowerCase(),!/=\"/.test(d)){var f={},h,k=c[4];c=!!c[5];if(k)for(;h=a.exec(k);){var g=h[1].toLowerCase();\nh=h[2]||h[3]||h[4]||\"\";f[g]=!h&&e[g]?g:CKEDITOR.tools.htmlDecodeAttr(h)}this$1.onTagOpen(d,f,c);!m&&CKEDITOR.dtd.$cdata[d]&&(m=[])}}else if(d=c[2])this$1.onComment(d)}if(b.length>l)this.onText(b.substring(l,b.length))}}}(),CKEDITOR.htmlParser.basicWriter=CKEDITOR.tools.createClass({$:function(){this._={output:[]}},proto:{openTag:function(a){this._.output.push(\"\\x3c\",a)},openTagClose:function(a,e){e?this._.output.push(\" /\\x3e\"):this._.output.push(\"\\x3e\")},attribute:function(a,e){\"string\"==typeof e&&(e=\nCKEDITOR.tools.htmlEncodeAttr(e));this._.output.push(\" \",a,'\\x3d\"',e,'\"')},closeTag:function(a){this._.output.push(\"\\x3c/\",a,\"\\x3e\")},text:function(a){this._.output.push(a)},comment:function(a){this._.output.push(\"\\x3c!--\",a,\"--\\x3e\")},write:function(a){this._.output.push(a)},reset:function(){this._.output=[];this._.indent=!1},getHtml:function(a){var e=this._.output.join(\"\");a&&this.reset();return e}}}),\"use strict\",function(){CKEDITOR.htmlParser.node=function(){};CKEDITOR.htmlParser.node.prototype=\n{remove:function(){var a=this.parent.children,e=CKEDITOR.tools.indexOf(a,this),b=this.previous,c=this.next;b&&(b.next=c);c&&(c.previous=b);a.splice(e,1);this.parent=null},replaceWith:function(a){var e=this.parent.children,b=CKEDITOR.tools.indexOf(e,this),c=a.previous=this.previous,d=a.next=this.next;c&&(c.next=a);d&&(d.previous=a);e[b]=a;a.parent=this.parent;this.parent=null},insertAfter:function(a){var e=a.parent.children,b=CKEDITOR.tools.indexOf(e,a),c=a.next;e.splice(b+1,0,this);this.next=a.next;\nthis.previous=a;a.next=this;c&&(c.previous=this);this.parent=a.parent},insertBefore:function(a){var e=a.parent.children,b=CKEDITOR.tools.indexOf(e,a);e.splice(b,0,this);this.next=a;(this.previous=a.previous)&&(a.previous.next=this);a.previous=this;this.parent=a.parent},getAscendant:function(a){var e=\"function\"==typeof a?a:\"string\"==typeof a?function(b){return b.name==a}:function(b){return b.name in a},b=this.parent;for(;b&&b.type==CKEDITOR.NODE_ELEMENT;){if(e(b))return b;b=b.parent}return null},wrapWith:function(a){this.replaceWith(a);\na.add(this);return a},getIndex:function(){return CKEDITOR.tools.indexOf(this.parent.children,this)},getFilterContext:function(a){return a||{}}}}(),\"use strict\",CKEDITOR.htmlParser.comment=function(a){this.value=a;this._={isBlockLike:!1}},CKEDITOR.htmlParser.comment.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_COMMENT,filter:function(a,e){var b=this.value;if(!(b=a.onComment(e,b,this)))return this.remove(),!1;if(\"string\"!=typeof b)return this.replaceWith(b),!1;this.value=\nb;return!0},writeHtml:function(a,e){e&&this.filter(e);a.comment(this.value)}}),\"use strict\",function(){CKEDITOR.htmlParser.text=function(a){this.value=a;this._={isBlockLike:!1}};CKEDITOR.htmlParser.text.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(a,e){if(!(this.value=a.onText(e,this.value,this)))return this.remove(),!1},writeHtml:function(a,e){e&&this.filter(e);a.text(this.value)}})}(),\"use strict\",function(){CKEDITOR.htmlParser.cdata=function(a){this.value=\na};CKEDITOR.htmlParser.cdata.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(){},writeHtml:function(a){a.write(this.value)}})}(),\"use strict\",CKEDITOR.htmlParser.fragment=function(){this.children=[];this.parent=null;this._={isBlockLike:!0,hasInlineStarted:!1}},function(){function a(a){return a.attributes[\"data-cke-survive\"]?!1:\"a\"==a.name&&a.attributes.href||CKEDITOR.dtd.$removeEmpty[a.name]}var e=CKEDITOR.tools.extend({table:1,ul:1,ol:1,dl:1},\nCKEDITOR.dtd.table,CKEDITOR.dtd.ul,CKEDITOR.dtd.ol,CKEDITOR.dtd.dl),b={ol:1,ul:1},c=CKEDITOR.tools.extend({},{html:1},CKEDITOR.dtd.html,CKEDITOR.dtd.body,CKEDITOR.dtd.head,{style:1,script:1}),d={ul:\"li\",ol:\"li\",dl:\"dd\",table:\"tbody\",tbody:\"tr\",thead:\"tr\",tfoot:\"tr\",tr:\"td\"};CKEDITOR.htmlParser.fragment.fromHtml=function(l,m,f){function h(a){var b;if(0<p.length)for(var c=0;c<p.length;c++){var d=p[c],f=d.name,g=CKEDITOR.dtd[f],e=z.name&&CKEDITOR.dtd[z.name];e&&!e[f]||a&&g&&!g[a]&&CKEDITOR.dtd[a]?f==\nz.name&&(n(z,z.parent,1),c--):(b||(k(),b=1),d=d.clone(),d.parent=z,z=d,p.splice(c,1),c--)}}function k(){for(;w.length;)n(w.shift(),z)}function g(a){if(a._.isBlockLike&&\"pre\"!=a.name&&\"textarea\"!=a.name){var b=a.children.length,c=a.children[b-1],d;c&&c.type==CKEDITOR.NODE_TEXT&&((d=CKEDITOR.tools.rtrim(c.value))?c.value=d:a.children.length=b-1)}}function n(b,c,d){c=c||z||t;var e=z;void 0===b.previous&&(v(c,b)&&(z=c,q.onTagOpen(f,{}),b.returnPoint=c=z),g(b),a(b)&&!b.children.length||c.add(b),\"pre\"==\nb.name&&(u=!1),\"textarea\"==b.name&&(A=!1));b.returnPoint?(z=b.returnPoint,delete b.returnPoint):z=d?c:e}function v(a,b){if((a==t||\"body\"==a.name)&&f&&(!a.name||CKEDITOR.dtd[a.name][f])){var c,d;return(c=b.attributes&&(d=b.attributes[\"data-cke-real-element-type\"])?d:b.name)&&c in CKEDITOR.dtd.$inline&&!(c in CKEDITOR.dtd.head)&&!b.isOrphan||b.type==CKEDITOR.NODE_TEXT}}function r(a,b){return a in CKEDITOR.dtd.$listItem||a in CKEDITOR.dtd.$tableContent?a==b||\"dt\"==a&&\"dd\"==b||\"dd\"==a&&\"dt\"==b:!1}var q=\nnew CKEDITOR.htmlParser,t=m instanceof CKEDITOR.htmlParser.element?m:\"string\"==typeof m?new CKEDITOR.htmlParser.element(m):new CKEDITOR.htmlParser.fragment,p=[],w=[],z=t,A=\"textarea\"==t.name,u=\"pre\"==t.name;q.onTagOpen=function(d,f,g,l){f=new CKEDITOR.htmlParser.element(d,f);f.isUnknown&&g&&(f.isEmpty=!0);f.isOptionalClose=l;if(a(f))p.push(f);else{if(\"pre\"==d)u=!0;else{if(\"br\"==d&&u){z.add(new CKEDITOR.htmlParser.text(\"\\n\"));return}\"textarea\"==d&&(A=!0)}if(\"br\"==d)w.push(f);else{for(;!(l=(g=z.name)?\nCKEDITOR.dtd[g]||(z._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):c,f.isUnknown||z.isUnknown||l[d]);)if(z.isOptionalClose)q.onTagClose(g);else if(d in b&&g in b)g=z.children,(g=g[g.length-1])&&\"li\"==g.name||n(g=new CKEDITOR.htmlParser.element(\"li\"),z),!f.returnPoint&&(f.returnPoint=z),z=g;else if(d in CKEDITOR.dtd.$listItem&&!r(d,g))q.onTagOpen(\"li\"==d?\"ul\":\"dl\",{},0,1);else if(g in e&&!r(d,g))!f.returnPoint&&(f.returnPoint=z),z=z.parent;else if(g in CKEDITOR.dtd.$inline&&p.unshift(z),z.parent)n(z,\nz.parent,1);else{f.isOrphan=1;break}h(d);k();f.parent=z;f.isEmpty?n(f):z=f}}};q.onTagClose=function(a){for(var b=p.length-1;0<=b;b--)if(a==p[b].name){p.splice(b,1);return}for(var c=[],d=[],g=z;g!=t&&g.name!=a;)g._.isBlockLike||d.unshift(g),c.push(g),g=g.returnPoint||g.parent;if(g!=t){for(b=0;b<c.length;b++){var e=c[b];n(e,e.parent)}z=g;g._.isBlockLike&&k();n(g,g.parent);g==z&&(z=z.parent);p=p.concat(d)}\"body\"==a&&(f=!1)};q.onText=function(a){if(!(z._.hasInlineStarted&&!w.length||u||A)&&(a=CKEDITOR.tools.ltrim(a),\n0===a.length))return;var b=z.name,g=b?CKEDITOR.dtd[b]||(z._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):c;if(!A&&!g[\"#\"]&&b in e)q.onTagOpen(d[b]||\"\"),q.onText(a);else{k();h();u||A||(a=a.replace(/[\\t\\r\\n ]{2,}|[\\t\\r\\n]/g,\" \"));a=new CKEDITOR.htmlParser.text(a);if(v(z,a))this.onTagOpen(f,{},0,1);z.add(a)}};q.onCDATA=function(a){z.add(new CKEDITOR.htmlParser.cdata(a))};q.onComment=function(a){k();h();z.add(new CKEDITOR.htmlParser.comment(a))};q.parse(l);for(k();z!=t;)n(z,z.parent,1);g(t);return t};\nCKEDITOR.htmlParser.fragment.prototype={type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,add:function(a,b){isNaN(b)&&(b=this.children.length);var c=0<b?this.children[b-1]:null;if(c){if(a._.isBlockLike&&c.type==CKEDITOR.NODE_TEXT&&(c.value=CKEDITOR.tools.rtrim(c.value),0===c.value.length)){this.children.pop();this.add(a);return}c.next=a}a.previous=c;a.parent=this;this.children.splice(b,0,a);this._.hasInlineStarted||(this._.hasInlineStarted=a.type==CKEDITOR.NODE_TEXT||a.type==CKEDITOR.NODE_ELEMENT&&!a._.isBlockLike)},\nfilter:function(a,b){b=this.getFilterContext(b);a.onRoot(b,this);this.filterChildren(a,!1,b)},filterChildren:function(a,b,c){\nvar this$1 = this;\nif(this.childrenFilteredBy!=a.id){c=this.getFilterContext(c);if(b&&!this.parent)a.onRoot(c,this);this.childrenFilteredBy=a.id;for(b=0;b<this.children.length;b++)!1===this$1.children[b].filter(a,c)&&b--}},writeHtml:function(a,b){b&&this.filter(b);this.writeChildrenHtml(a)},writeChildrenHtml:function(a,b,c){var d=this.getFilterContext();if(c&&!this.parent&&b)b.onRoot(d,this);b&&\nthis.filterChildren(b,!1,d);b=0;c=this.children;for(d=c.length;b<d;b++)c[b].writeHtml(a)},forEach:function(a,b,c){if(!(c||b&&this.type!=b))var d=a(this);if(!1!==d){c=this.children;for(var e=0;e<c.length;e++)d=c[e],d.type==CKEDITOR.NODE_ELEMENT?d.forEach(a,b):b&&d.type!=b||a(d)}},getFilterContext:function(a){return a||{}}}}(),\"use strict\",function(){function a(){this.rules=[]}function e(b,c,d,e){var m,f;for(m in c)(f=b[m])||(f=b[m]=new a),f.add(c[m],d,e)}CKEDITOR.htmlParser.filter=CKEDITOR.tools.createClass({$:function(b){this.id=\nCKEDITOR.tools.getNextNumber();this.elementNameRules=new a;this.attributeNameRules=new a;this.elementsRules={};this.attributesRules={};this.textRules=new a;this.commentRules=new a;this.rootRules=new a;b&&this.addRules(b,10)},proto:{addRules:function(a,c){var d;\"number\"==typeof c?d=c:c&&\"priority\"in c&&(d=c.priority);\"number\"!=typeof d&&(d=10);\"object\"!=typeof c&&(c={});a.elementNames&&this.elementNameRules.addMany(a.elementNames,d,c);a.attributeNames&&this.attributeNameRules.addMany(a.attributeNames,\nd,c);a.elements&&e(this.elementsRules,a.elements,d,c);a.attributes&&e(this.attributesRules,a.attributes,d,c);a.text&&this.textRules.add(a.text,d,c);a.comment&&this.commentRules.add(a.comment,d,c);a.root&&this.rootRules.add(a.root,d,c)},applyTo:function(a){a.filter(this)},onElementName:function(a,c){return this.elementNameRules.execOnName(a,c)},onAttributeName:function(a,c){return this.attributeNameRules.execOnName(a,c)},onText:function(a,c,d){return this.textRules.exec(a,c,d)},onComment:function(a,\nc,d){return this.commentRules.exec(a,c,d)},onRoot:function(a,c){return this.rootRules.exec(a,c)},onElement:function(a,c){\nvar this$1 = this;\nfor(var d=[this.elementsRules[\"^\"],this.elementsRules[c.name],this.elementsRules.$],e,m=0;3>m;m++)if(e=d[m]){e=e.exec(a,c,this$1);if(!1===e)return null;if(e&&e!=c)return this$1.onNode(a,e);if(c.parent&&!c.name)break}return c},onNode:function(a,c){var d=c.type;return d==CKEDITOR.NODE_ELEMENT?this.onElement(a,c):d==CKEDITOR.NODE_TEXT?new CKEDITOR.htmlParser.text(this.onText(a,c.value)):\nd==CKEDITOR.NODE_COMMENT?new CKEDITOR.htmlParser.comment(this.onComment(a,c.value)):null},onAttribute:function(a,c,d,e){return(d=this.attributesRules[d])?d.exec(a,e,c,this):e}}});CKEDITOR.htmlParser.filterRulesGroup=a;a.prototype={add:function(a,c,d){this.rules.splice(this.findIndex(c),0,{value:a,priority:c,options:d})},addMany:function(a,c,d){for(var e=[this.findIndex(c),0],m=0,f=a.length;m<f;m++)e.push({value:a[m],priority:c,options:d});this.rules.splice.apply(this.rules,e)},findIndex:function(a){for(var c=\nthis.rules,d=c.length-1;0<=d&&a<c[d].priority;)d--;return d+1},exec:function(a,c){var d=c instanceof CKEDITOR.htmlParser.node||c instanceof CKEDITOR.htmlParser.fragment,e=Array.prototype.slice.call(arguments,1),m=this.rules,f=m.length,h,k,g,n;for(n=0;n<f;n++)if(d&&(h=c.type,k=c.name),g=m[n],!(a.nonEditable&&!g.options.applyToAll||a.nestedEditable&&g.options.excludeNestedEditable)){g=g.value.apply(null,e);if(!1===g||d&&g&&(g.name!=k||g.type!=h))return g;null!=g&&(e[0]=c=g)}return c},execOnName:function(a,\nc){for(var d=0,e=this.rules,m=e.length,f;c&&d<m;d++)f=e[d],a.nonEditable&&!f.options.applyToAll||a.nestedEditable&&f.options.excludeNestedEditable||(c=c.replace(f.value[0],f.value[1]));return c}}}(),function(){function a(a,f){function g(a){return a||CKEDITOR.env.needsNbspFiller?new CKEDITOR.htmlParser.text(\" \"):new CKEDITOR.htmlParser.element(\"br\",{\"data-cke-bogus\":1})}function e(a,d){return function(f){if(f.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var e=[],h=b(f),u,m;if(h)for(k(h,1)&&e.push(h);h;)l(h)&&\n(u=c(h))&&k(u)&&((m=c(u))&&!l(m)?e.push(u):(g(A).insertAfter(u),u.remove())),h=h.previous;for(h=0;h<e.length;h++)e[h].remove();if(e=!a||!1!==(\"function\"==typeof d?d(f):d))A||CKEDITOR.env.needsBrFiller||f.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT?A||CKEDITOR.env.needsBrFiller||!(7<document.documentMode||f.name in CKEDITOR.dtd.tr||f.name in CKEDITOR.dtd.$listItem)?(e=b(f),e=!e||\"form\"==f.name&&\"input\"==e.name):e=!1:e=!1;e&&f.add(g(a))}}}function k(a,b){if((!A||CKEDITOR.env.needsBrFiller)&&a.type==CKEDITOR.NODE_ELEMENT&&\n\"br\"==a.name&&!a.attributes[\"data-cke-eol\"])return!0;var c;return a.type==CKEDITOR.NODE_TEXT&&(c=a.value.match(p))&&(c.index&&((new CKEDITOR.htmlParser.text(a.value.substring(0,c.index))).insertBefore(a),a.value=c[0]),!CKEDITOR.env.needsBrFiller&&A&&(!b||a.parent.name in n)||!A&&((c=a.previous)&&\"br\"==c.name||!c||l(c)))?!0:!1}var h={elements:{}},A=\"html\"==f,n=CKEDITOR.tools.extend({},u),x;for(x in n)\"#\"in z[x]||delete n[x];for(x in n)h.elements[x]=e(A,a.config.fillEmptyBlocks);h.root=e(A,!1);h.elements.br=\nfunction(a){return function(b){if(b.parent.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var f=b.attributes;if(\"data-cke-bogus\"in f||\"data-cke-eol\"in f)delete f[\"data-cke-bogus\"];else{for(f=b.next;f&&d(f);)f=f.next;var e=c(b);!f&&l(b.parent)?m(b.parent,g(a)):l(f)&&e&&!l(e)&&g(a).insertBefore(f)}}}}(A);return h}function e(a,b){return a!=CKEDITOR.ENTER_BR&&!1!==b?a==CKEDITOR.ENTER_DIV?\"div\":\"p\":!1}function b(a){for(a=a.children[a.children.length-1];a&&d(a);)a=a.previous;return a}function c(a){for(a=a.previous;a&&\nd(a);)a=a.previous;return a}function d(a){return a.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(a.value)||a.type==CKEDITOR.NODE_ELEMENT&&a.attributes[\"data-cke-bookmark\"]}function l(a){return a&&(a.type==CKEDITOR.NODE_ELEMENT&&a.name in u||a.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)}function m(a,b){var c=a.children[a.children.length-1];a.children.push(b);b.parent=a;c&&(c.next=b,b.previous=c)}function f(a){a=a.attributes;\"false\"!=a.contenteditable&&(a[\"data-cke-editable\"]=a.contenteditable?\"true\":1);\na.contenteditable=\"false\"}function h(a){a=a.attributes;switch(a[\"data-cke-editable\"]){case \"true\":a.contenteditable=\"true\";break;case \"1\":delete a.contenteditable}}function k(a){return a.replace(C,function(a,b,c){return\"\\x3c\"+b+c.replace(F,function(a,b){return E.test(b)&&-1==c.indexOf(\"data-cke-saved-\"+b)?\" data-cke-saved-\"+a+\" data-cke-\"+CKEDITOR.rnd+\"-\"+a:a})+\"\\x3e\"})}function g(a,b){return a.replace(b,function(a,b,c){0===a.indexOf(\"\\x3ctextarea\")&&(a=b+r(c).replace(/</g,\"\\x26lt;\").replace(/>/g,\n\"\\x26gt;\")+\"\\x3c/textarea\\x3e\");return\"\\x3ccke:encoded\\x3e\"+encodeURIComponent(a)+\"\\x3c/cke:encoded\\x3e\"})}function n(a){return a.replace(M,function(a,b){return decodeURIComponent(b)})}function v(a){return a.replace(/\\x3c!--(?!{cke_protected})[\\s\\S]+?--\\x3e/g,function(a){return\"\\x3c!--\"+w+\"{C}\"+encodeURIComponent(a).replace(/--/g,\"%2D%2D\")+\"--\\x3e\"})}function r(a){return a.replace(/\\x3c!--\\{cke_protected\\}\\{C\\}([\\s\\S]+?)--\\x3e/g,function(a,b){return decodeURIComponent(b)})}function q(a,b){var c=b._.dataStore;\nreturn a.replace(/\\x3c!--\\{cke_protected\\}([\\s\\S]+?)--\\x3e/g,function(a,b){return decodeURIComponent(b)}).replace(/\\{cke_protected_(\\d+)\\}/g,function(a,b){return c&&c[b]||\"\"})}function t(a,b){var c=[],d=b.config.protectedSource,f=b._.dataStore||(b._.dataStore={id:1}),g=/<\\!--\\{cke_temp(comment)?\\}(\\d*?)--\\x3e/g,d=[/<script[\\s\\S]*?(<\\/script>|$)/gi,/<noscript[\\s\\S]*?<\\/noscript>/gi,/<meta[\\s\\S]*?\\/?>/gi].concat(d);a=a.replace(/\\x3c!--[\\s\\S]*?--\\x3e/g,function(a){return\"\\x3c!--{cke_tempcomment}\"+(c.push(a)-\n1)+\"--\\x3e\"});for(var e=0;e<d.length;e++)a=a.replace(d[e],function(a){a=a.replace(g,function(a,b,d){return c[d]});return/cke_temp(comment)?/.test(a)?a:\"\\x3c!--{cke_temp}\"+(c.push(a)-1)+\"--\\x3e\"});a=a.replace(g,function(a,b,d){return\"\\x3c!--\"+w+(b?\"{C}\":\"\")+encodeURIComponent(c[d]).replace(/--/g,\"%2D%2D\")+\"--\\x3e\"});a=a.replace(/<\\w+(?:\\s+(?:(?:[^\\s=>]+\\s*=\\s*(?:[^'\"\\s>]+|'[^']*'|\"[^\"]*\"))|[^\\s=\\/>]+))+\\s*\\/?>/g,function(a){return a.replace(/\\x3c!--\\{cke_protected\\}([^>]*)--\\x3e/g,function(a,b){f[f.id]=\ndecodeURIComponent(b);return\"{cke_protected_\"+f.id++ +\"}\"})});return a=a.replace(/<(title|iframe|textarea)([^>]*)>([\\s\\S]*?)<\\/\\1>/g,function(a,c,d,f){return\"\\x3c\"+c+d+\"\\x3e\"+q(r(f),b)+\"\\x3c/\"+c+\"\\x3e\"})}CKEDITOR.htmlDataProcessor=function(b){var c,d,f=this;this.editor=b;this.dataFilter=c=new CKEDITOR.htmlParser.filter;this.htmlFilter=d=new CKEDITOR.htmlParser.filter;this.writer=new CKEDITOR.htmlParser.basicWriter;c.addRules(x);c.addRules(D,{applyToAll:!0});c.addRules(a(b,\"data\"),{applyToAll:!0});\nd.addRules(y);d.addRules(B,{applyToAll:!0});d.addRules(a(b,\"html\"),{applyToAll:!0});b.on(\"toHtml\",function(a){a=a.data;var c=a.dataValue,d,c=t(c,b),c=g(c,G),c=k(c),c=g(c,J),c=c.replace(I,\"$1cke:$2\"),c=c.replace(R,\"\\x3ccke:$1$2\\x3e\\x3c/cke:$1\\x3e\"),c=c.replace(/(<pre\\b[^>]*>)(\\r\\n|\\n)/g,\"$1$2$2\"),c=c.replace(/([^a-z0-9<\\-])(on\\w{3,})(?!>)/gi,\"$1data-cke-\"+CKEDITOR.rnd+\"-$2\");d=a.context||b.editable().getName();var f;CKEDITOR.env.ie&&9>CKEDITOR.env.version&&\"pre\"==d&&(d=\"div\",c=\"\\x3cpre\\x3e\"+c+\"\\x3c/pre\\x3e\",\nf=1);d=b.document.createElement(d);d.setHtml(\"a\"+c);c=d.getHtml().substr(1);c=c.replace(new RegExp(\"data-cke-\"+CKEDITOR.rnd+\"-\",\"ig\"),\"\");f&&(c=c.replace(/^<pre>|<\\/pre>$/gi,\"\"));c=c.replace(H,\"$1$2\");c=n(c);c=r(c);d=!1===a.fixForBody?!1:e(a.enterMode,b.config.autoParagraph);c=CKEDITOR.htmlParser.fragment.fromHtml(c,a.context,d);d&&(f=c,!f.children.length&&CKEDITOR.dtd[f.name][d]&&(d=new CKEDITOR.htmlParser.element(d),f.add(d)));a.dataValue=c},null,null,5);b.on(\"toHtml\",function(a){a.data.filter.applyTo(a.data.dataValue,\n!0,a.data.dontFilter,a.data.enterMode)&&b.fire(\"dataFiltered\")},null,null,6);b.on(\"toHtml\",function(a){a.data.dataValue.filterChildren(f.dataFilter,!0)},null,null,10);b.on(\"toHtml\",function(a){a=a.data;var b=a.dataValue,c=new CKEDITOR.htmlParser.basicWriter;b.writeChildrenHtml(c);b=c.getHtml(!0);a.dataValue=v(b)},null,null,15);b.on(\"toDataFormat\",function(a){var c=a.data.dataValue;a.data.enterMode!=CKEDITOR.ENTER_BR&&(c=c.replace(/^<br *\\/?>/i,\"\"));a.data.dataValue=CKEDITOR.htmlParser.fragment.fromHtml(c,\na.data.context,e(a.data.enterMode,b.config.autoParagraph))},null,null,5);b.on(\"toDataFormat\",function(a){a.data.dataValue.filterChildren(f.htmlFilter,!0)},null,null,10);b.on(\"toDataFormat\",function(a){a.data.filter.applyTo(a.data.dataValue,!1,!0)},null,null,11);b.on(\"toDataFormat\",function(a){var c=a.data.dataValue,d=f.writer;d.reset();c.writeChildrenHtml(d);c=d.getHtml(!0);c=r(c);c=q(c,b);a.data.dataValue=c},null,null,15)};CKEDITOR.htmlDataProcessor.prototype={toHtml:function(a,b,c,d){var f=this.editor,\ng,e,k,h;b&&\"object\"==typeof b?(g=b.context,c=b.fixForBody,d=b.dontFilter,e=b.filter,k=b.enterMode,h=b.protectedWhitespaces):g=b;g||null===g||(g=f.editable().getName());return f.fire(\"toHtml\",{dataValue:a,context:g,fixForBody:c,dontFilter:d,filter:e||f.filter,enterMode:k||f.enterMode,protectedWhitespaces:h}).dataValue},toDataFormat:function(a,b){var c,d,f;b&&(c=b.context,d=b.filter,f=b.enterMode);c||null===c||(c=this.editor.editable().getName());return this.editor.fire(\"toDataFormat\",{dataValue:a,\nfilter:d||this.editor.filter,context:c,enterMode:f||this.editor.enterMode}).dataValue}};var p=/(?:&nbsp;|\\xa0)$/,w=\"{cke_protected}\",z=CKEDITOR.dtd,A=\"caption colgroup col thead tfoot tbody\".split(\" \"),u=CKEDITOR.tools.extend({},z.$blockLimit,z.$block),x={elements:{input:f,textarea:f}},D={attributeNames:[[/^on/,\"data-cke-pa-on\"],[/^data-cke-expando$/,\"\"]]},y={elements:{embed:function(a){var b=a.parent;if(b&&\"object\"==b.name){var c=b.attributes.width,b=b.attributes.height;c&&(a.attributes.width=c);\nb&&(a.attributes.height=b)}},a:function(a){var b=a.attributes;if(!(a.children.length||b.name||b.id||a.attributes[\"data-cke-saved-name\"]))return!1}}},B={elementNames:[[/^cke:/,\"\"],[/^\\?xml:namespace$/,\"\"]],attributeNames:[[/^data-cke-(saved|pa)-/,\"\"],[/^data-cke-.*/,\"\"],[\"hidefocus\",\"\"]],elements:{$:function(a){var b=a.attributes;if(b){if(b[\"data-cke-temp\"])return!1;for(var c=[\"name\",\"href\",\"src\"],d,f=0;f<c.length;f++)d=\"data-cke-saved-\"+c[f],d in b&&delete b[c[f]]}return a},table:function(a){a.children.slice(0).sort(function(a,\nb){var c,d;a.type==CKEDITOR.NODE_ELEMENT&&b.type==a.type&&(c=CKEDITOR.tools.indexOf(A,a.name),d=CKEDITOR.tools.indexOf(A,b.name));-1<c&&-1<d&&c!=d||(c=a.parent?a.getIndex():-1,d=b.parent?b.getIndex():-1);return c>d?1:-1})},param:function(a){a.children=[];a.isEmpty=!0;return a},span:function(a){\"Apple-style-span\"==a.attributes[\"class\"]&&delete a.name},html:function(a){delete a.attributes.contenteditable;delete a.attributes[\"class\"]},body:function(a){delete a.attributes.spellcheck;delete a.attributes.contenteditable},\nstyle:function(a){var b=a.children[0];b&&b.value&&(b.value=CKEDITOR.tools.trim(b.value));a.attributes.type||(a.attributes.type=\"text/css\")},title:function(a){var b=a.children[0];!b&&m(a,b=new CKEDITOR.htmlParser.text);b.value=a.attributes[\"data-cke-title\"]||\"\"},input:h,textarea:h},attributes:{\"class\":function(a){return CKEDITOR.tools.ltrim(a.replace(/(?:^|\\s+)cke_[^\\s]*/g,\"\"))||!1}}};CKEDITOR.env.ie&&(B.attributes.style=function(a){return a.replace(/(^|;)([^\\:]+)/g,function(a){return a.toLowerCase()})});\nvar C=/<(a|area|img|input|source)\\b([^>]*)>/gi,F=/([\\w-:]+)\\s*=\\s*(?:(?:\"[^\"]*\")|(?:'[^']*')|(?:[^ \"'>]+))/gi,E=/^(href|src|name)$/i,J=/(?:<style(?=[ >])[^>]*>[\\s\\S]*?<\\/style>)|(?:<(:?link|meta|base)[^>]*>)/gi,G=/(<textarea(?=[ >])[^>]*>)([\\s\\S]*?)(?:<\\/textarea>)/gi,M=/<cke:encoded>([^<]*)<\\/cke:encoded>/gi,I=/(<\\/?)((?:object|embed|param|html|body|head|title)[^>]*>)/gi,H=/(<\\/?)cke:((?:html|body|head|title)[^>]*>)/gi,R=/<cke:(param|embed)([^>]*?)\\/?>(?!\\s*<\\/cke:\\1)/gi}(),\"use strict\",CKEDITOR.htmlParser.element=\nfunction(a,e){this.name=a;this.attributes=e||{};this.children=[];var b=a||\"\",c=b.match(/^cke:(.*)/);c&&(b=c[1]);b=!!(CKEDITOR.dtd.$nonBodyContent[b]||CKEDITOR.dtd.$block[b]||CKEDITOR.dtd.$listItem[b]||CKEDITOR.dtd.$tableContent[b]||CKEDITOR.dtd.$nonEditable[b]||\"br\"==b);this.isEmpty=!!CKEDITOR.dtd.$empty[a];this.isUnknown=!CKEDITOR.dtd[a];this._={isBlockLike:b,hasInlineStarted:this.isEmpty||!b}},CKEDITOR.htmlParser.cssStyle=function(a){var e={};((a instanceof CKEDITOR.htmlParser.element?a.attributes.style:\na)||\"\").replace(/&quot;/g,'\"').replace(/\\s*([^ :;]+)\\s*:\\s*([^;]+)\\s*(?=;|$)/g,function(a,c,d){\"font-family\"==c&&(d=d.replace(/[\"']/g,\"\"));e[c.toLowerCase()]=d});return{rules:e,populate:function(a){var c=this.toString();c&&(a instanceof CKEDITOR.dom.element?a.setAttribute(\"style\",c):a instanceof CKEDITOR.htmlParser.element?a.attributes.style=c:a.style=c)},toString:function(){var a=[],c;for(c in e)e[c]&&a.push(c,\":\",e[c],\";\");return a.join(\"\")}}},function(){function a(a){return function(b){return b.type==\nCKEDITOR.NODE_ELEMENT&&(\"string\"==typeof a?b.name==a:b.name in a)}}var e=function(a,b){a=a[0];b=b[0];return a<b?-1:a>b?1:0},b=CKEDITOR.htmlParser.fragment.prototype;CKEDITOR.htmlParser.element.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_ELEMENT,add:b.add,clone:function(){return new CKEDITOR.htmlParser.element(this.name,this.attributes)},filter:function(a,b){\nvar this$1 = this;\nvar e=this,m,f;b=e.getFilterContext(b);if(b.off)return!0;if(!e.parent)a.onRoot(b,e);for(;;){m=e.name;if(!(f=\na.onElementName(b,m)))return this$1.remove(),!1;e.name=f;if(!(e=a.onElement(b,e)))return this$1.remove(),!1;if(e!==this$1)return this$1.replaceWith(e),!1;if(e.name==m)break;if(e.type!=CKEDITOR.NODE_ELEMENT)return this$1.replaceWith(e),!1;if(!e.name)return this$1.replaceWithChildren(),!1}m=e.attributes;var h,k;for(h in m){for(f=m[h];;)if(k=a.onAttributeName(b,h))if(k!=h)delete m[h],h=k;else break;else{delete m[h];break}k&&(!1===(f=a.onAttribute(b,e,k,f))?delete m[k]:m[k]=f)}e.isEmpty||this.filterChildren(a,!1,\nb);return!0},filterChildren:b.filterChildren,writeHtml:function(a,b){b&&this.filter(b);var l=this.name,m=[],f=this.attributes,h,k;a.openTag(l,f);for(h in f)m.push([h,f[h]]);a.sortAttributes&&m.sort(e);h=0;for(k=m.length;h<k;h++)f=m[h],a.attribute(f[0],f[1]);a.openTagClose(l,this.isEmpty);this.writeChildrenHtml(a);this.isEmpty||a.closeTag(l)},writeChildrenHtml:b.writeChildrenHtml,replaceWithChildren:function(){\nvar this$1 = this;\nfor(var a=this.children,b=a.length;b;)a[--b].insertAfter(this$1);this.remove()},forEach:b.forEach,\ngetFirst:function(b){\nvar this$1 = this;\nif(!b)return this.children.length?this.children[0]:null;\"function\"!=typeof b&&(b=a(b));for(var d=0,e=this.children.length;d<e;++d)if(b(this$1.children[d]))return this$1.children[d];return null},getHtml:function(){var a=new CKEDITOR.htmlParser.basicWriter;this.writeChildrenHtml(a);return a.getHtml()},setHtml:function(a){\nvar this$1 = this;\na=this.children=CKEDITOR.htmlParser.fragment.fromHtml(a).children;for(var b=0,e=a.length;b<e;++b)a[b].parent=this$1},getOuterHtml:function(){var a=new CKEDITOR.htmlParser.basicWriter;\nthis.writeHtml(a);return a.getHtml()},split:function(a){for(var b=this.children.splice(a,this.children.length-a),e=this.clone(),m=0;m<b.length;++m)b[m].parent=e;e.children=b;b[0]&&(b[0].previous=null);0<a&&(this.children[a-1].next=null);this.parent.add(e,this.getIndex()+1);return e},addClass:function(a){if(!this.hasClass(a)){var b=this.attributes[\"class\"]||\"\";this.attributes[\"class\"]=b+(b?\" \":\"\")+a}},removeClass:function(a){var b=this.attributes[\"class\"];b&&((b=CKEDITOR.tools.trim(b.replace(new RegExp(\"(?:\\\\s+|^)\"+\na+\"(?:\\\\s+|$)\"),\" \")))?this.attributes[\"class\"]=b:delete this.attributes[\"class\"])},hasClass:function(a){var b=this.attributes[\"class\"];return b?(new RegExp(\"(?:^|\\\\s)\"+a+\"(?\\x3d\\\\s|$)\")).test(b):!1},getFilterContext:function(a){var b=[];a||(a={off:!1,nonEditable:!1,nestedEditable:!1});a.off||\"off\"!=this.attributes[\"data-cke-processor\"]||b.push(\"off\",!0);a.nonEditable||\"false\"!=this.attributes.contenteditable?a.nonEditable&&!a.nestedEditable&&\"true\"==this.attributes.contenteditable&&b.push(\"nestedEditable\",\n!0):b.push(\"nonEditable\",!0);if(b.length){a=CKEDITOR.tools.copy(a);for(var e=0;e<b.length;e+=2)a[b[e]]=b[e+1]}return a}},!0)}(),function(){var a={},e=/{([^}]+)}/g,b=/([\\\\'])/g,c=/\\n/g,d=/\\r/g;CKEDITOR.template=function(l){if(a[l])this.output=a[l];else{var m=l.replace(b,\"\\\\$1\").replace(c,\"\\\\n\").replace(d,\"\\\\r\").replace(e,function(a,b){return\"',data['\"+b+\"']\\x3d\\x3dundefined?'{\"+b+\"}':data['\"+b+\"'],'\"});this.output=a[l]=Function(\"data\",\"buffer\",\"return buffer?buffer.push('\"+m+\"'):['\"+m+\"'].join('');\")}}}(),\ndelete CKEDITOR.loadFullCore,CKEDITOR.instances={},CKEDITOR.document=new CKEDITOR.dom.document(document),CKEDITOR.add=function(a){CKEDITOR.instances[a.name]=a;a.on(\"focus\",function(){CKEDITOR.currentInstance!=a&&(CKEDITOR.currentInstance=a,CKEDITOR.fire(\"currentInstance\"))});a.on(\"blur\",function(){CKEDITOR.currentInstance==a&&(CKEDITOR.currentInstance=null,CKEDITOR.fire(\"currentInstance\"))});CKEDITOR.fire(\"instance\",null,a)},CKEDITOR.remove=function(a){delete CKEDITOR.instances[a.name]},function(){var a=\n{};CKEDITOR.addTemplate=function(e,b){var c=a[e];if(c)return c;c={name:e,source:b};CKEDITOR.fire(\"template\",c);return a[e]=new CKEDITOR.template(c.source)};CKEDITOR.getTemplate=function(e){return a[e]}}(),function(){var a=[];CKEDITOR.addCss=function(e){a.push(e)};CKEDITOR.getCss=function(){return a.join(\"\\n\")}}(),CKEDITOR.on(\"instanceDestroyed\",function(){CKEDITOR.tools.isEmpty(this.instances)&&CKEDITOR.fire(\"reset\")}),CKEDITOR.TRISTATE_ON=1,CKEDITOR.TRISTATE_OFF=2,CKEDITOR.TRISTATE_DISABLED=0,function(){CKEDITOR.inline=\nfunction(a,e){if(!CKEDITOR.env.isCompatible)return null;a=CKEDITOR.dom.element.get(a);if(a.getEditor())throw'The editor instance \"'+a.getEditor().name+'\" is already attached to the provided element.';var b=new CKEDITOR.editor(e,a,CKEDITOR.ELEMENT_MODE_INLINE),c=a.is(\"textarea\")?a:null;c?(b.setData(c.getValue(),null,!0),a=CKEDITOR.dom.element.createFromHtml('\\x3cdiv contenteditable\\x3d\"'+!!b.readOnly+'\" class\\x3d\"cke_textarea_inline\"\\x3e'+c.getValue()+\"\\x3c/div\\x3e\",CKEDITOR.document),a.insertAfter(c),\nc.hide(),c.$.form&&b._attachToForm()):b.setData(a.getHtml(),null,!0);b.on(\"loaded\",function(){b.fire(\"uiReady\");b.editable(a);b.container=a;b.ui.contentsElement=a;b.setData(b.getData(1));b.resetDirty();b.fire(\"contentDom\");b.mode=\"wysiwyg\";b.fire(\"mode\");b.status=\"ready\";b.fireOnce(\"instanceReady\");CKEDITOR.fire(\"instanceReady\",null,b)},null,null,1E4);b.on(\"destroy\",function(){c&&(b.container.clearCustomData(),b.container.remove(),c.show());b.element.clearCustomData();delete b.element});return b};\nCKEDITOR.inlineAll=function(){var a,e,b;for(b in CKEDITOR.dtd.$editable)for(var c=CKEDITOR.document.getElementsByTag(b),d=0,l=c.count();d<l;d++)a=c.getItem(d),\"true\"==a.getAttribute(\"contenteditable\")&&(e={element:a,config:{}},!1!==CKEDITOR.fire(\"inline\",e)&&CKEDITOR.inline(a,e.config))};CKEDITOR.domReady(function(){!CKEDITOR.disableAutoInline&&CKEDITOR.inlineAll()})}(),CKEDITOR.replaceClass=\"ckeditor\",function(){function a(a,d,l,m){if(!CKEDITOR.env.isCompatible)return null;a=CKEDITOR.dom.element.get(a);\nif(a.getEditor())throw'The editor instance \"'+a.getEditor().name+'\" is already attached to the provided element.';var f=new CKEDITOR.editor(d,a,m);m==CKEDITOR.ELEMENT_MODE_REPLACE&&(a.setStyle(\"visibility\",\"hidden\"),f._.required=a.hasAttribute(\"required\"),a.removeAttribute(\"required\"));l&&f.setData(l,null,!0);f.on(\"loaded\",function(){b(f);m==CKEDITOR.ELEMENT_MODE_REPLACE&&f.config.autoUpdateElement&&a.$.form&&f._attachToForm();f.setMode(f.config.startupMode,function(){f.resetDirty();f.status=\"ready\";\nf.fireOnce(\"instanceReady\");CKEDITOR.fire(\"instanceReady\",null,f)})});f.on(\"destroy\",e);return f}function e(){var a=this.container,b=this.element;a&&(a.clearCustomData(),a.remove());b&&(b.clearCustomData(),this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(b.show(),this._.required&&b.setAttribute(\"required\",\"required\")),delete this.element)}function b(a){var b=a.name,e=a.element,m=a.elementMode,f=a.fire(\"uiSpace\",{space:\"top\",html:\"\"}).html,h=a.fire(\"uiSpace\",{space:\"bottom\",html:\"\"}).html,k=new CKEDITOR.template('\\x3c{outerEl} id\\x3d\"cke_{name}\" class\\x3d\"{id} cke cke_reset cke_chrome cke_editor_{name} cke_{langDir} '+\nCKEDITOR.env.cssClass+'\"  dir\\x3d\"{langDir}\" lang\\x3d\"{langCode}\" role\\x3d\"application\"'+(a.title?' aria-labelledby\\x3d\"cke_{name}_arialbl\"':\"\")+\"\\x3e\"+(a.title?'\\x3cspan id\\x3d\"cke_{name}_arialbl\" class\\x3d\"cke_voice_label\"\\x3e{voiceLabel}\\x3c/span\\x3e':\"\")+'\\x3c{outerEl} class\\x3d\"cke_inner cke_reset\" role\\x3d\"presentation\"\\x3e{topHtml}\\x3c{outerEl} id\\x3d\"{contentId}\" class\\x3d\"cke_contents cke_reset\" role\\x3d\"presentation\"\\x3e\\x3c/{outerEl}\\x3e{bottomHtml}\\x3c/{outerEl}\\x3e\\x3c/{outerEl}\\x3e'),\nb=CKEDITOR.dom.element.createFromHtml(k.output({id:a.id,name:b,langDir:a.lang.dir,langCode:a.langCode,voiceLabel:a.title,topHtml:f?'\\x3cspan id\\x3d\"'+a.ui.spaceId(\"top\")+'\" class\\x3d\"cke_top cke_reset_all\" role\\x3d\"presentation\" style\\x3d\"height:auto\"\\x3e'+f+\"\\x3c/span\\x3e\":\"\",contentId:a.ui.spaceId(\"contents\"),bottomHtml:h?'\\x3cspan id\\x3d\"'+a.ui.spaceId(\"bottom\")+'\" class\\x3d\"cke_bottom cke_reset_all\" role\\x3d\"presentation\"\\x3e'+h+\"\\x3c/span\\x3e\":\"\",outerEl:CKEDITOR.env.ie?\"span\":\"div\"}));m==CKEDITOR.ELEMENT_MODE_REPLACE?\n(e.hide(),b.insertAfter(e)):e.append(b);a.container=b;a.ui.contentsElement=a.ui.space(\"contents\");f&&a.ui.space(\"top\").unselectable();h&&a.ui.space(\"bottom\").unselectable();e=a.config.width;m=a.config.height;e&&b.setStyle(\"width\",CKEDITOR.tools.cssLength(e));m&&a.ui.space(\"contents\").setStyle(\"height\",CKEDITOR.tools.cssLength(m));b.disableContextMenu();CKEDITOR.env.webkit&&b.on(\"focus\",function(){a.focus()});a.fireOnce(\"uiReady\")}CKEDITOR.replace=function(b,d){return a(b,d,null,CKEDITOR.ELEMENT_MODE_REPLACE)};\nCKEDITOR.appendTo=function(b,d,e){return a(b,d,e,CKEDITOR.ELEMENT_MODE_APPENDTO)};CKEDITOR.replaceAll=function(){\nvar arguments$1 = arguments;\nvar this$1 = this;\nfor(var a=document.getElementsByTagName(\"textarea\"),b=0;b<a.length;b++){var e=null,m=a[b];if(m.name||m.id){if(\"string\"==typeof arguments$1[0]){if(!(new RegExp(\"(?:^|\\\\s)\"+arguments$1[0]+\"(?:$|\\\\s)\")).test(m.className))continue}else if(\"function\"==typeof arguments$1[0]&&(e={},!1===arguments$1[0](m,e)))continue;this$1.replace(m,e)}}};CKEDITOR.editor.prototype.addMode=function(a,b){(this._.modes||(this._.modes=\n{}))[a]=b};CKEDITOR.editor.prototype.setMode=function(a,b){var e=this,m=this._.modes;if(a!=e.mode&&m&&m[a]){e.fire(\"beforeSetMode\",a);if(e.mode){var f=e.checkDirty(),m=e._.previousModeData,h,k=0;e.fire(\"beforeModeUnload\");e.editable(0);e._.previousMode=e.mode;e._.previousModeData=h=e.getData(1);\"source\"==e.mode&&m==h&&(e.fire(\"lockSnapshot\",{forceUpdate:!0}),k=1);e.ui.space(\"contents\").setHtml(\"\");e.mode=\"\"}else e._.previousModeData=e.getData(1);this._.modes[a](function(){e.mode=a;void 0!==f&&!f&&\ne.resetDirty();k?e.fire(\"unlockSnapshot\"):\"wysiwyg\"==a&&e.fire(\"saveSnapshot\");setTimeout(function(){e.fire(\"mode\");b&&b.call(e)},0)})}};CKEDITOR.editor.prototype.resize=function(a,b,e,m){var f=this.container,h=this.ui.space(\"contents\"),k=CKEDITOR.env.webkit&&this.document&&this.document.getWindow().$.frameElement;m=m?this.container.getFirst(function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasClass(\"cke_inner\")}):f;m.setSize(\"width\",a,!0);k&&(k.style.width=\"1%\");var g=(m.$.offsetHeight||0)-(h.$.clientHeight||\n0),f=Math.max(b-(e?0:g),0);b=e?b+g:b;h.setStyle(\"height\",f+\"px\");k&&(k.style.width=\"100%\");this.fire(\"resize\",{outerHeight:b,contentsHeight:f,outerWidth:a||m.getSize(\"width\")})};CKEDITOR.editor.prototype.getResizable=function(a){return a?this.ui.space(\"contents\"):this.container};CKEDITOR.domReady(function(){CKEDITOR.replaceClass&&CKEDITOR.replaceAll(CKEDITOR.replaceClass)})}(),CKEDITOR.config.startupMode=\"wysiwyg\",function(){function a(a){var b=a.editor,d=a.data.path,f=d.blockLimit,g=a.data.selection,\nk=g.getRanges()[0],h;if(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller)if(g=e(g,d))g.appendBogus(),h=CKEDITOR.env.ie;m(b,d.block,f)&&k.collapsed&&!k.getCommonAncestor().isReadOnly()&&(d=k.clone(),d.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS),f=new CKEDITOR.dom.walker(d),f.guard=function(a){return!c(a)||a.type==CKEDITOR.NODE_COMMENT||a.isReadOnly()},!f.checkForward()||d.checkStartOfBlock()&&d.checkEndOfBlock())&&(b=k.fixBlock(!0,b.activeEnterMode==CKEDITOR.ENTER_DIV?\"div\":\"p\"),CKEDITOR.env.needsBrFiller||\n(b=b.getFirst(c))&&b.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(b.getText()).match(/^(?:&nbsp;|\\xa0)$/)&&b.remove(),h=1,a.cancel());h&&k.select()}function e(a,b){if(a.isFake)return 0;var d=b.block||b.blockLimit,f=d&&d.getLast(c);if(!(!d||!d.isBlockBoundary()||f&&f.type==CKEDITOR.NODE_ELEMENT&&f.isBlockBoundary()||d.is(\"pre\")||d.getBogus()))return d}function b(a){var b=a.data.getTarget();b.is(\"input\")&&(b=b.getAttribute(\"type\"),\"submit\"!=b&&\"reset\"!=b||a.data.preventDefault())}function c(a){return g(a)&&\nn(a)}function d(a,b){return function(c){var d=c.data.$.toElement||c.data.$.fromElement||c.data.$.relatedTarget;(d=d&&d.nodeType==CKEDITOR.NODE_ELEMENT?new CKEDITOR.dom.element(d):null)&&(b.equals(d)||b.contains(d))||a.call(this,c)}}function l(a){function b(a){return function(b,f){f&&b.type==CKEDITOR.NODE_ELEMENT&&b.is(g)&&(d=b);if(!(f||!c(b)||a&&r(b)))return!1}}var d,f=a.getRanges()[0];a=a.root;var g={table:1,ul:1,ol:1,dl:1};if(f.startPath().contains(g)){var e=f.clone();e.collapse(1);e.setStartAt(a,\nCKEDITOR.POSITION_AFTER_START);a=new CKEDITOR.dom.walker(e);a.guard=b();a.checkBackward();if(d)return e=f.clone(),e.collapse(),e.setEndAt(d,CKEDITOR.POSITION_AFTER_END),a=new CKEDITOR.dom.walker(e),a.guard=b(!0),d=!1,a.checkForward(),d}return null}function m(a,b,c){return!1!==a.config.autoParagraph&&a.activeEnterMode!=CKEDITOR.ENTER_BR&&(a.editable().equals(c)&&!b||b&&\"true\"==b.getAttribute(\"contenteditable\"))}function f(a){return a.activeEnterMode!=CKEDITOR.ENTER_BR&&!1!==a.config.autoParagraph?\na.activeEnterMode==CKEDITOR.ENTER_DIV?\"div\":\"p\":!1}function h(a){var b=a.editor;b.getSelection().scrollIntoView();setTimeout(function(){b.fire(\"saveSnapshot\")},0)}function k(a,b,c){var d=a.getCommonAncestor(b);for(b=a=c?b:a;(a=a.getParent())&&!d.equals(a)&&1==a.getChildCount();)b=a;b.remove()}var g,n,v,r,q,t,p,w,z;CKEDITOR.editable=CKEDITOR.tools.createClass({base:CKEDITOR.dom.element,$:function(a,b){this.base(b.$||b);this.editor=a;this.status=\"unloaded\";this.hasFocus=!1;this.setup()},proto:{focus:function(){var a;\nif(CKEDITOR.env.webkit&&!this.hasFocus&&(a=this.editor._.previousActive||this.getDocument().getActive(),this.contains(a))){a.focus();return}CKEDITOR.env.edge&&14<CKEDITOR.env.version&&!this.hasFocus&&this.getDocument().equals(CKEDITOR.document)&&(this.editor._.previousScrollTop=this.$.scrollTop);try{!CKEDITOR.env.ie||CKEDITOR.env.edge&&14<CKEDITOR.env.version||!this.getDocument().equals(CKEDITOR.document)?this.$.focus():this.$.setActive()}catch(b){if(!CKEDITOR.env.ie)throw b;}CKEDITOR.env.safari&&\n!this.isInline()&&(a=CKEDITOR.document.getActive(),a.equals(this.getWindow().getFrame())||this.getWindow().focus())},on:function(a,b){var c=Array.prototype.slice.call(arguments,0);CKEDITOR.env.ie&&/^focus|blur$/.exec(a)&&(a=\"focus\"==a?\"focusin\":\"focusout\",b=d(b,this),c[0]=a,c[1]=b);return CKEDITOR.dom.element.prototype.on.apply(this,c)},attachListener:function(a){!this._.listeners&&(this._.listeners=[]);var b=Array.prototype.slice.call(arguments,1),b=a.on.apply(a,b);this._.listeners.push(b);return b},\nclearListeners:function(){var a=this._.listeners;try{for(;a.length;)a.pop().removeListener()}catch(b){}},restoreAttrs:function(){\nvar this$1 = this;\nvar a=this._.attrChanges,b,c;for(c in a)a.hasOwnProperty(c)&&(b=a[c],null!==b?this$1.setAttribute(c,b):this$1.removeAttribute(c))},attachClass:function(a){var b=this.getCustomData(\"classes\");this.hasClass(a)||(!b&&(b=[]),b.push(a),this.setCustomData(\"classes\",b),this.addClass(a))},changeAttr:function(a,b){var c=this.getAttribute(a);b!==c&&(!this._.attrChanges&&(this._.attrChanges=\n{}),a in this._.attrChanges||(this._.attrChanges[a]=c),this.setAttribute(a,b))},insertText:function(a){this.editor.focus();this.insertHtml(this.transformPlainTextToHtml(a),\"text\")},transformPlainTextToHtml:function(a){var b=this.editor.getSelection().getStartElement().hasAscendant(\"pre\",!0)?CKEDITOR.ENTER_BR:this.editor.activeEnterMode;return CKEDITOR.tools.transformPlainTextToHtml(a,b)},insertHtml:function(a,b,c){var d=this.editor;d.focus();d.fire(\"saveSnapshot\");c||(c=d.getSelection().getRanges()[0]);\nt(this,b||\"html\",a,c);c.select();h(this);this.editor.fire(\"afterInsertHtml\",{})},insertHtmlIntoRange:function(a,b,c){t(this,c||\"html\",a,b);this.editor.fire(\"afterInsertHtml\",{intoRange:b})},insertElement:function(a,b){var d=this.editor;d.focus();d.fire(\"saveSnapshot\");var f=d.activeEnterMode,d=d.getSelection(),g=a.getName(),g=CKEDITOR.dtd.$block[g];b||(b=d.getRanges()[0]);this.insertElementIntoRange(a,b)&&(b.moveToPosition(a,CKEDITOR.POSITION_AFTER_END),g&&((g=a.getNext(function(a){return c(a)&&!r(a)}))&&\ng.type==CKEDITOR.NODE_ELEMENT&&g.is(CKEDITOR.dtd.$block)?g.getDtd()[\"#\"]?b.moveToElementEditStart(g):b.moveToElementEditEnd(a):g||f==CKEDITOR.ENTER_BR||(g=b.fixBlock(!0,f==CKEDITOR.ENTER_DIV?\"div\":\"p\"),b.moveToElementEditStart(g))));d.selectRanges([b]);h(this)},insertElementIntoSelection:function(a){this.insertElement(a)},insertElementIntoRange:function(a,b){var c=this.editor,d=c.config.enterMode,f=a.getName(),g=CKEDITOR.dtd.$block[f];if(b.checkReadOnly())return!1;b.deleteContents(1);b.startContainer.type==\nCKEDITOR.NODE_ELEMENT&&b.startContainer.is({tr:1,table:1,tbody:1,thead:1,tfoot:1})&&p(b);var e,k;if(g)for(;(e=b.getCommonAncestor(0,1))&&(k=CKEDITOR.dtd[e.getName()])&&(!k||!k[f]);)e.getName()in CKEDITOR.dtd.span?b.splitElement(e):b.checkStartOfBlock()&&b.checkEndOfBlock()?(b.setStartBefore(e),b.collapse(!0),e.remove()):b.splitBlock(d==CKEDITOR.ENTER_DIV?\"div\":\"p\",c.editable());b.insertNode(a);return!0},setData:function(a,b){b||(a=this.editor.dataProcessor.toHtml(a));this.setHtml(a);this.fixInitialSelection();\n\"unloaded\"==this.status&&(this.status=\"ready\");this.editor.fire(\"dataReady\")},getData:function(a){var b=this.getHtml();a||(b=this.editor.dataProcessor.toDataFormat(b));return b},setReadOnly:function(a){this.setAttribute(\"contenteditable\",!a)},detach:function(){this.removeClass(\"cke_editable\");this.status=\"detached\";var a=this.editor;this._.detach();delete a.document;delete a.window},isInline:function(){return this.getDocument().equals(CKEDITOR.document)},fixInitialSelection:function(){function a(){var b=\nc.getDocument().$,d=b.getSelection(),f;a:if(d.anchorNode&&d.anchorNode==c.$)f=!0;else{if(CKEDITOR.env.webkit&&(f=c.getDocument().getActive())&&f.equals(c)&&!d.anchorNode){f=!0;break a}f=void 0}f&&(f=new CKEDITOR.dom.range(c),f.moveToElementEditStart(c),b=b.createRange(),b.setStart(f.startContainer.$,f.startOffset),b.collapse(!0),d.removeAllRanges(),d.addRange(b))}function b(){var a=c.getDocument().$,d=a.selection,f=c.getDocument().getActive();\"None\"==d.type&&f.equals(c)&&(d=new CKEDITOR.dom.range(c),\na=a.body.createTextRange(),d.moveToElementEditStart(c),d=d.startContainer,d.type!=CKEDITOR.NODE_ELEMENT&&(d=d.getParent()),a.moveToElementText(d.$),a.collapse(!0),a.select())}var c=this;if(CKEDITOR.env.ie&&(9>CKEDITOR.env.version||CKEDITOR.env.quirks))this.hasFocus&&(this.focus(),b());else if(this.hasFocus)this.focus(),a();else this.once(\"focus\",function(){a()},null,null,-999)},getHtmlFromRange:function(a){if(a.collapsed)return new CKEDITOR.dom.documentFragment(a.document);a={doc:this.getDocument(),\nrange:a.clone()};w.eol.detect(a,this);w.bogus.exclude(a);w.cell.shrink(a);a.fragment=a.range.cloneContents();w.tree.rebuild(a,this);w.eol.fix(a,this);return new CKEDITOR.dom.documentFragment(a.fragment.$)},extractHtmlFromRange:function(a,b){var c=z,d={range:a,doc:a.document},f=this.getHtmlFromRange(a);if(a.collapsed)return a.optimize(),f;a.enlarge(CKEDITOR.ENLARGE_INLINE,1);c.table.detectPurge(d);d.bookmark=a.createBookmark();delete d.range;var g=this.editor.createRange();g.moveToPosition(d.bookmark.startNode,\nCKEDITOR.POSITION_BEFORE_START);d.targetBookmark=g.createBookmark();c.list.detectMerge(d,this);c.table.detectRanges(d,this);c.block.detectMerge(d,this);d.tableContentsRanges?(c.table.deleteRanges(d),a.moveToBookmark(d.bookmark),d.range=a):(a.moveToBookmark(d.bookmark),d.range=a,a.extractContents(c.detectExtractMerge(d)));a.moveToBookmark(d.targetBookmark);a.optimize();c.fixUneditableRangePosition(a);c.list.merge(d,this);c.table.purge(d,this);c.block.merge(d,this);if(b){c=a.startPath();if(d=a.checkStartOfBlock()&&\na.checkEndOfBlock()&&c.block&&!a.root.equals(c.block)){a:{var d=c.block.getElementsByTag(\"span\"),g=0,e;if(d)for(;e=d.getItem(g++);)if(!n(e)){d=!0;break a}d=!1}d=!d}d&&(a.moveToPosition(c.block,CKEDITOR.POSITION_BEFORE_START),c.block.remove())}else c.autoParagraph(this.editor,a),v(a.startContainer)&&a.startContainer.appendBogus();a.startContainer.mergeSiblings();return f},setup:function(){var a=this.editor;this.attachListener(a,\"beforeGetData\",function(){var b=this.getData();this.is(\"textarea\")||!1!==\na.config.ignoreEmptyParagraph&&(b=b.replace(q,function(a,b){return b}));a.setData(b,null,1)},this);this.attachListener(a,\"getSnapshot\",function(a){a.data=this.getData(1)},this);this.attachListener(a,\"afterSetData\",function(){this.setData(a.getData(1))},this);this.attachListener(a,\"loadSnapshot\",function(a){this.setData(a.data,1)},this);this.attachListener(a,\"beforeFocus\",function(){var b=a.getSelection();(b=b&&b.getNative())&&\"Control\"==b.type||this.focus()},this);this.attachListener(a,\"insertHtml\",\nfunction(a){this.insertHtml(a.data.dataValue,a.data.mode,a.data.range)},this);this.attachListener(a,\"insertElement\",function(a){this.insertElement(a.data)},this);this.attachListener(a,\"insertText\",function(a){this.insertText(a.data)},this);this.setReadOnly(a.readOnly);this.attachClass(\"cke_editable\");a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?this.attachClass(\"cke_editable_inline\"):a.elementMode!=CKEDITOR.ELEMENT_MODE_REPLACE&&a.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||this.attachClass(\"cke_editable_themed\");\nthis.attachClass(\"cke_contents_\"+a.config.contentsLangDirection);a.keystrokeHandler.blockedKeystrokes[8]=+a.readOnly;a.keystrokeHandler.attach(this);this.on(\"blur\",function(){this.hasFocus=!1},null,null,-1);this.on(\"focus\",function(){this.hasFocus=!0},null,null,-1);if(CKEDITOR.env.webkit)this.on(\"scroll\",function(){a._.previousScrollTop=a.editable().$.scrollTop},null,null,-1);if(CKEDITOR.env.edge&&14<CKEDITOR.env.version){var d=function(){var b=a.editable();null!=a._.previousScrollTop&&b.getDocument().equals(CKEDITOR.document)&&\n(b.$.scrollTop=a._.previousScrollTop,a._.previousScrollTop=null,this.removeListener(\"scroll\",d))};this.on(\"scroll\",d)}a.focusManager.add(this);this.equals(CKEDITOR.document.getActive())&&(this.hasFocus=!0,a.once(\"contentDom\",function(){a.focusManager.focus(this)},this));this.isInline()&&this.changeAttr(\"tabindex\",a.tabIndex);if(!this.is(\"textarea\")){a.document=this.getDocument();a.window=this.getWindow();var f=a.document;this.changeAttr(\"spellcheck\",!a.config.disableNativeSpellChecker);var e=a.config.contentsLangDirection;\nthis.getDirection(1)!=e&&this.changeAttr(\"dir\",e);var h=CKEDITOR.getCss();if(h){var e=f.getHead(),m=e.getCustomData(\"stylesheet\");m?h!=m.getText()&&(CKEDITOR.env.ie&&9>CKEDITOR.env.version?m.$.styleSheet.cssText=h:m.setText(h)):(h=f.appendStyleText(h),h=new CKEDITOR.dom.element(h.ownerNode||h.owningElement),e.setCustomData(\"stylesheet\",h),h.data(\"cke-temp\",1))}e=f.getCustomData(\"stylesheet_ref\")||0;f.setCustomData(\"stylesheet_ref\",e+1);this.setCustomData(\"cke_includeReadonly\",!a.config.disableReadonlyStyling);\nthis.attachListener(this,\"click\",function(a){a=a.data;var b=(new CKEDITOR.dom.elementPath(a.getTarget(),this)).contains(\"a\");b&&2!=a.$.button&&b.isReadOnly()&&a.preventDefault()});var n={8:1,46:1};this.attachListener(a,\"key\",function(b){if(a.readOnly)return!0;var c=b.data.domEvent.getKey(),d;if(c in n){b=a.getSelection();var f,e=b.getRanges()[0],h=e.startPath(),k,m,u,c=8==c;CKEDITOR.env.ie&&11>CKEDITOR.env.version&&(f=b.getSelectedElement())||(f=l(b))?(a.fire(\"saveSnapshot\"),e.moveToPosition(f,CKEDITOR.POSITION_BEFORE_START),\nf.remove(),e.select(),a.fire(\"saveSnapshot\"),d=1):e.collapsed&&((k=h.block)&&(u=k[c?\"getPrevious\":\"getNext\"](g))&&u.type==CKEDITOR.NODE_ELEMENT&&u.is(\"table\")&&e[c?\"checkStartOfBlock\":\"checkEndOfBlock\"]()?(a.fire(\"saveSnapshot\"),e[c?\"checkEndOfBlock\":\"checkStartOfBlock\"]()&&k.remove(),e[\"moveToElementEdit\"+(c?\"End\":\"Start\")](u),e.select(),a.fire(\"saveSnapshot\"),d=1):h.blockLimit&&h.blockLimit.is(\"td\")&&(m=h.blockLimit.getAscendant(\"table\"))&&e.checkBoundaryOfElement(m,c?CKEDITOR.START:CKEDITOR.END)&&\n(u=m[c?\"getPrevious\":\"getNext\"](g))?(a.fire(\"saveSnapshot\"),e[\"moveToElementEdit\"+(c?\"End\":\"Start\")](u),e.checkStartOfBlock()&&e.checkEndOfBlock()?u.remove():e.select(),a.fire(\"saveSnapshot\"),d=1):(m=h.contains([\"td\",\"th\",\"caption\"]))&&e.checkBoundaryOfElement(m,c?CKEDITOR.START:CKEDITOR.END)&&(d=1))}return!d});a.blockless&&CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller&&this.attachListener(this,\"keyup\",function(b){b.data.getKeystroke()in n&&!this.getFirst(c)&&(this.appendBogus(),b=a.createRange(),b.moveToPosition(this,\nCKEDITOR.POSITION_AFTER_START),b.select())});this.attachListener(this,\"dblclick\",function(b){if(a.readOnly)return!1;b={element:b.data.getTarget()};a.fire(\"doubleclick\",b)});CKEDITOR.env.ie&&this.attachListener(this,\"click\",b);CKEDITOR.env.ie&&!CKEDITOR.env.edge||this.attachListener(this,\"mousedown\",function(b){var c=b.data.getTarget();c.is(\"img\",\"hr\",\"input\",\"textarea\",\"select\")&&!c.isReadOnly()&&(a.getSelection().selectElement(c),c.is(\"input\",\"textarea\",\"select\")&&b.data.preventDefault())});CKEDITOR.env.edge&&\nthis.attachListener(this,\"mouseup\",function(b){(b=b.data.getTarget())&&b.is(\"img\")&&a.getSelection().selectElement(b)});CKEDITOR.env.gecko&&this.attachListener(this,\"mouseup\",function(b){if(2==b.data.$.button&&(b=b.data.getTarget(),!b.getOuterHtml().replace(q,\"\"))){var c=a.createRange();c.moveToElementEditStart(b);c.select(!0)}});CKEDITOR.env.webkit&&(this.attachListener(this,\"click\",function(a){a.data.getTarget().is(\"input\",\"select\")&&a.data.preventDefault()}),this.attachListener(this,\"mouseup\",\nfunction(a){a.data.getTarget().is(\"input\",\"textarea\")&&a.data.preventDefault()}));CKEDITOR.env.webkit&&this.attachListener(a,\"key\",function(b){if(a.readOnly)return!0;b=b.data.domEvent.getKey();if(b in n){var c=8==b,d=a.getSelection().getRanges()[0];b=d.startPath();if(d.collapsed)a:{var f=b.block;if(f&&d[c?\"checkStartOfBlock\":\"checkEndOfBlock\"]()&&d.moveToClosestEditablePosition(f,!c)&&d.collapsed){if(d.startContainer.type==CKEDITOR.NODE_ELEMENT){var g=d.startContainer.getChild(d.startOffset-(c?1:\n0));if(g&&g.type==CKEDITOR.NODE_ELEMENT&&g.is(\"hr\")){a.fire(\"saveSnapshot\");g.remove();b=!0;break a}}d=d.startPath().block;if(!d||d&&d.contains(f))b=void 0;else{a.fire(\"saveSnapshot\");var e;(e=(c?d:f).getBogus())&&e.remove();e=a.getSelection();g=e.createBookmarks();(c?f:d).moveChildren(c?d:f,!1);b.lastElement.mergeSiblings();k(f,d,!c);e.selectBookmarks(g);b=!0}}else b=!1}else c=d,e=b.block,d=c.endPath().block,e&&d&&!e.equals(d)?(a.fire(\"saveSnapshot\"),(f=e.getBogus())&&f.remove(),c.enlarge(CKEDITOR.ENLARGE_INLINE),\nc.deleteContents(),d.getParent()&&(d.moveChildren(e,!1),b.lastElement.mergeSiblings(),k(e,d,!0)),c=a.getSelection().getRanges()[0],c.collapse(1),c.optimize(),\"\"===c.startContainer.getHtml()&&c.startContainer.appendBogus(),c.select(),b=!0):b=!1;if(!b)return;a.getSelection().scrollIntoView();a.fire(\"saveSnapshot\");return!1}},this,null,100)}}},_:{detach:function(){\nvar this$1 = this;\nthis.editor.setData(this.editor.getData(),0,1);this.clearListeners();this.restoreAttrs();var a;if(a=this.removeCustomData(\"classes\"))for(;a.length;)this$1.removeClass(a.pop());\nif(!this.is(\"textarea\")){a=this.getDocument();var b=a.getHead();if(b.getCustomData(\"stylesheet\")){var c=a.getCustomData(\"stylesheet_ref\");--c?a.setCustomData(\"stylesheet_ref\",c):(a.removeCustomData(\"stylesheet_ref\"),b.removeCustomData(\"stylesheet\").remove())}}this.editor.fire(\"contentDomUnload\");delete this.editor}}});CKEDITOR.editor.prototype.editable=function(a){var b=this._.editable;if(b&&a)return 0;arguments.length&&(b=this._.editable=a?a instanceof CKEDITOR.editable?a:new CKEDITOR.editable(this,\na):(b&&b.detach(),null));return b};CKEDITOR.on(\"instanceLoaded\",function(b){var c=b.editor;c.on(\"insertElement\",function(a){a=a.data;a.type==CKEDITOR.NODE_ELEMENT&&(a.is(\"input\")||a.is(\"textarea\"))&&(\"false\"!=a.getAttribute(\"contentEditable\")&&a.data(\"cke-editable\",a.hasAttribute(\"contenteditable\")?\"true\":\"1\"),a.setAttribute(\"contentEditable\",!1))});c.on(\"selectionChange\",function(b){if(!c.readOnly){var d=c.getSelection();d&&!d.isLocked&&(d=c.checkDirty(),c.fire(\"lockSnapshot\"),a(b),c.fire(\"unlockSnapshot\"),\n!d&&c.resetDirty())}})});CKEDITOR.on(\"instanceCreated\",function(a){var b=a.editor;b.on(\"mode\",function(){var a=b.editable();if(a&&a.isInline()){var c=b.title;a.changeAttr(\"role\",\"textbox\");a.changeAttr(\"aria-label\",c);c&&a.changeAttr(\"title\",c);var d=b.fire(\"ariaEditorHelpLabel\",{}).label;if(d&&(c=this.ui.space(this.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?\"top\":\"contents\"))){var f=CKEDITOR.tools.getNextId(),d=CKEDITOR.dom.element.createFromHtml('\\x3cspan id\\x3d\"'+f+'\" class\\x3d\"cke_voice_label\"\\x3e'+\nd+\"\\x3c/span\\x3e\");c.append(d);a.changeAttr(\"aria-describedby\",f)}}})});CKEDITOR.addCss(\".cke_editable{cursor:text}.cke_editable img,.cke_editable input,.cke_editable textarea{cursor:default}\");g=CKEDITOR.dom.walker.whitespaces(!0);n=CKEDITOR.dom.walker.bookmark(!1,!0);v=CKEDITOR.dom.walker.empty();r=CKEDITOR.dom.walker.bogus();q=/(^|<body\\b[^>]*>)\\s*<(p|div|address|h\\d|center|pre)[^>]*>\\s*(?:<br[^>]*>|&nbsp;|\\u00A0|&#160;)?\\s*(:?<\\/\\2>)?\\s*(?=$|<\\/body>)/gi;t=function(){function a(b){return b.type==\nCKEDITOR.NODE_ELEMENT}function b(c,d){var f,g,e,h,k=[],m=d.range.startContainer;f=d.range.startPath();for(var m=l[m.getName()],n=0,p=c.getChildren(),w=p.count(),x=-1,q=-1,t=0,D=f.contains(l.$list);n<w;++n)f=p.getItem(n),a(f)?(e=f.getName(),D&&e in CKEDITOR.dtd.$list?k=k.concat(b(f,d)):(h=!!m[e],\"br\"!=e||!f.data(\"cke-eol\")||n&&n!=w-1||(t=(g=n?k[n-1].node:p.getItem(n+1))&&(!a(g)||!g.is(\"br\")),g=g&&a(g)&&l.$block[g.getName()]),-1!=x||h||(x=n),h||(q=n),k.push({isElement:1,isLineBreak:t,isBlock:f.isBlockBoundary(),\nhasBlockSibling:g,node:f,name:e,allowed:h}),g=t=0)):k.push({isElement:0,node:f,allowed:1});-1<x&&(k[x].firstNotAllowed=1);-1<q&&(k[q].lastNotAllowed=1);return k}function d(b,c){var f=[],g=b.getChildren(),e=g.count(),k,h=0,m=l[c],n=!b.is(l.$inline)||b.is(\"br\");for(n&&f.push(\" \");h<e;h++)k=g.getItem(h),a(k)&&!k.is(m)?f=f.concat(d(k,c)):f.push(k);n&&f.push(\" \");return f}function g(b){return a(b.startContainer)&&b.startContainer.getChild(b.startOffset-1)}function e(b){return b&&a(b)&&(b.is(l.$removeEmpty)||\nb.is(\"a\")&&!b.isBlockBoundary())}function h(b,c,d,f){var g=b.clone(),e,k;g.setEndAt(c,CKEDITOR.POSITION_BEFORE_END);(e=(new CKEDITOR.dom.walker(g)).next())&&a(e)&&n[e.getName()]&&(k=e.getPrevious())&&a(k)&&!k.getParent().equals(b.startContainer)&&d.contains(k)&&f.contains(e)&&e.isIdentical(k)&&(e.moveChildren(k),e.remove(),h(b,c,d,f))}function k(b,c){function d(b,c){if(c.isBlock&&c.isElement&&!c.node.is(\"br\")&&a(b)&&b.is(\"br\"))return b.remove(),1}var f=c.endContainer.getChild(c.endOffset),g=c.endContainer.getChild(c.endOffset-\n1);f&&d(f,b[b.length-1]);g&&d(g,b[0])&&(c.setEnd(c.endContainer,c.endOffset-1),c.collapse())}var l=CKEDITOR.dtd,n={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ul:1,ol:1,li:1,pre:1,dl:1,blockquote:1},w={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},p=CKEDITOR.tools.extend({},l.$inline);delete p.br;return function(n,q,H,t){var r=n.editor,z=!1;\"unfiltered_html\"==q&&(q=\"html\",z=!0);if(!t.checkReadOnly()){var v=(new CKEDITOR.dom.elementPath(t.startContainer,t.root)).blockLimit||t.root;n={type:q,dontFilter:z,editable:n,\neditor:r,range:t,blockLimit:v,mergeCandidates:[],zombies:[]};q=n.range;t=n.mergeCandidates;var K,E;\"text\"==n.type&&q.shrink(CKEDITOR.SHRINK_ELEMENT,!0,!1)&&(K=CKEDITOR.dom.element.createFromHtml(\"\\x3cspan\\x3e\\x26nbsp;\\x3c/span\\x3e\",q.document),q.insertNode(K),q.setStartAfter(K));z=new CKEDITOR.dom.elementPath(q.startContainer);n.endPath=v=new CKEDITOR.dom.elementPath(q.endContainer);if(!q.collapsed){var r=v.block||v.blockLimit,W=q.getCommonAncestor();r&&!r.equals(W)&&!r.contains(W)&&q.checkEndOfBlock()&&\nn.zombies.push(r);q.deleteContents()}for(;(E=g(q))&&a(E)&&E.isBlockBoundary()&&z.contains(E);)q.moveToPosition(E,CKEDITOR.POSITION_BEFORE_END);h(q,n.blockLimit,z,v);K&&(q.setEndBefore(K),q.collapse(),K.remove());K=q.startPath();if(r=K.contains(e,!1,1))q.splitElement(r),n.inlineStylesRoot=r,n.inlineStylesPeak=K.lastElement;K=q.createBookmark();(r=K.startNode.getPrevious(c))&&a(r)&&e(r)&&t.push(r);(r=K.startNode.getNext(c))&&a(r)&&e(r)&&t.push(r);for(r=K.startNode;(r=r.getParent())&&e(r);)t.push(r);\nq.moveToBookmark(K);if(K=H){K=n.range;if(\"text\"==n.type&&n.inlineStylesRoot){E=n.inlineStylesPeak;q=E.getDocument().createText(\"{cke-peak}\");for(t=n.inlineStylesRoot.getParent();!E.equals(t);)q=q.appendTo(E.clone()),E=E.getParent();H=q.getOuterHtml().split(\"{cke-peak}\").join(H)}E=n.blockLimit.getName();if(/^\\s+|\\s+$/.test(H)&&\"span\"in CKEDITOR.dtd[E]){var U='\\x3cspan data-cke-marker\\x3d\"1\"\\x3e\\x26nbsp;\\x3c/span\\x3e';H=U+H+U}H=n.editor.dataProcessor.toHtml(H,{context:null,fixForBody:!1,protectedWhitespaces:!!U,\ndontFilter:n.dontFilter,filter:n.editor.activeFilter,enterMode:n.editor.activeEnterMode});E=K.document.createElement(\"body\");E.setHtml(H);U&&(E.getFirst().remove(),E.getLast().remove());if((U=K.startPath().block)&&(1!=U.getChildCount()||!U.getBogus()))a:{var L;if(1==E.getChildCount()&&a(L=E.getFirst())&&L.is(w)&&!L.hasAttribute(\"contenteditable\")){U=L.getElementsByTag(\"*\");K=0;for(t=U.count();K<t;K++)if(q=U.getItem(K),!q.is(p))break a;L.moveChildren(L.getParent(1));L.remove()}}n.dataWrapper=E;K=H}if(K){L=\nn.range;K=L.document;var N;E=n.blockLimit;t=0;var S,U=[],Q,Y;H=r=0;var V,da;q=L.startContainer;var z=n.endPath.elements[0],Z,v=z.getPosition(q),W=!!z.getCommonAncestor(q)&&v!=CKEDITOR.POSITION_IDENTICAL&&!(v&CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED);q=b(n.dataWrapper,n);for(k(q,L);t<q.length;t++){v=q[t];if(N=v.isLineBreak){N=L;V=E;var X=void 0,ga=void 0;v.hasBlockSibling?N=1:(X=N.startContainer.getAscendant(l.$block,1))&&X.is({div:1,p:1})?(ga=X.getPosition(V),ga==CKEDITOR.POSITION_IDENTICAL||\nga==CKEDITOR.POSITION_CONTAINS?N=0:(V=N.splitElement(X),N.moveToPosition(V,CKEDITOR.POSITION_AFTER_START),N=1)):N=0}if(N)H=0<t;else{N=L.startPath();!v.isBlock&&m(n.editor,N.block,N.blockLimit)&&(Y=f(n.editor))&&(Y=K.createElement(Y),Y.appendBogus(),L.insertNode(Y),CKEDITOR.env.needsBrFiller&&(S=Y.getBogus())&&S.remove(),L.moveToPosition(Y,CKEDITOR.POSITION_BEFORE_END));if((N=L.startPath().block)&&!N.equals(Q)){if(S=N.getBogus())S.remove(),U.push(N);Q=N}v.firstNotAllowed&&(r=1);if(r&&v.isElement){N=\nL.startContainer;for(V=null;N&&!l[N.getName()][v.name];){if(N.equals(E)){N=null;break}V=N;N=N.getParent()}if(N)V&&(da=L.splitElement(V),n.zombies.push(da),n.zombies.push(V));else{V=E.getName();Z=!t;N=t==q.length-1;V=d(v.node,V);for(var X=[],ga=V.length,ba=0,ea=void 0,ha=0,ia=-1;ba<ga;ba++)ea=V[ba],\" \"==ea?(ha||Z&&!ba||(X.push(new CKEDITOR.dom.text(\" \")),ia=X.length),ha=1):(X.push(ea),ha=0);N&&ia==X.length&&X.pop();Z=X}}if(Z){for(;N=Z.pop();)L.insertNode(N);Z=0}else L.insertNode(v.node);v.lastNotAllowed&&\nt<q.length-1&&((da=W?z:da)&&L.setEndAt(da,CKEDITOR.POSITION_AFTER_START),r=0);L.collapse()}}1!=q.length?S=!1:(S=q[0],S=S.isElement&&\"false\"==S.node.getAttribute(\"contenteditable\"));S&&(H=!0,N=q[0].node,L.setStartAt(N,CKEDITOR.POSITION_BEFORE_START),L.setEndAt(N,CKEDITOR.POSITION_AFTER_END));n.dontMoveCaret=H;n.bogusNeededBlocks=U}S=n.range;var aa;da=n.bogusNeededBlocks;for(Z=S.createBookmark();Q=n.zombies.pop();)Q.getParent()&&(Y=S.clone(),Y.moveToElementEditStart(Q),Y.removeEmptyBlocksAtEnd());if(da)for(;Q=\nda.pop();)CKEDITOR.env.needsBrFiller?Q.appendBogus():Q.append(S.document.createText(\" \"));for(;Q=n.mergeCandidates.pop();)Q.mergeSiblings();S.moveToBookmark(Z);if(!n.dontMoveCaret){for(Q=g(S);Q&&a(Q)&&!Q.is(l.$empty);){if(Q.isBlockBoundary())S.moveToPosition(Q,CKEDITOR.POSITION_BEFORE_END);else{if(e(Q)&&Q.getHtml().match(/(\\s|&nbsp;)$/g)){aa=null;break}aa=S.clone();aa.moveToPosition(Q,CKEDITOR.POSITION_BEFORE_END)}Q=Q.getLast(c)}aa&&S.moveToRange(aa)}}}}();p=function(){function a(b){b=new CKEDITOR.dom.walker(b);\nb.guard=function(a,b){if(b)return!1;if(a.type==CKEDITOR.NODE_ELEMENT)return a.is(CKEDITOR.dtd.$tableContent)};b.evaluator=function(a){return a.type==CKEDITOR.NODE_ELEMENT};return b}function b(a,c,d){c=a.getDocument().createElement(c);a.append(c,d);return c}function c(a){var b=a.count(),d;for(b;0<b--;)d=a.getItem(b),CKEDITOR.tools.trim(d.getHtml())||(d.appendBogus(),CKEDITOR.env.ie&&9>CKEDITOR.env.version&&d.getChildCount()&&d.getFirst().remove())}return function(d){var f=d.startContainer,g=f.getAscendant(\"table\",\n1),e=!1;c(g.getElementsByTag(\"td\"));c(g.getElementsByTag(\"th\"));g=d.clone();g.setStart(f,0);g=a(g).lastBackward();g||(g=d.clone(),g.setEndAt(f,CKEDITOR.POSITION_BEFORE_END),g=a(g).lastForward(),e=!0);g||(g=f);g.is(\"table\")?(d.setStartAt(g,CKEDITOR.POSITION_BEFORE_START),d.collapse(!0),g.remove()):(g.is({tbody:1,thead:1,tfoot:1})&&(g=b(g,\"tr\",e)),g.is(\"tr\")&&(g=b(g,g.getParent().is(\"thead\")?\"th\":\"td\",e)),(f=g.getBogus())&&f.remove(),d.moveToPosition(g,e?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END))}}();\nw={eol:{detect:function(a,b){var c=a.range,d=c.clone(),f=c.clone(),g=new CKEDITOR.dom.elementPath(c.startContainer,b),e=new CKEDITOR.dom.elementPath(c.endContainer,b);d.collapse(1);f.collapse();g.block&&d.checkBoundaryOfElement(g.block,CKEDITOR.END)&&(c.setStartAfter(g.block),a.prependEolBr=1);e.block&&f.checkBoundaryOfElement(e.block,CKEDITOR.START)&&(c.setEndBefore(e.block),a.appendEolBr=1)},fix:function(a,b){var c=b.getDocument(),d;a.appendEolBr&&(d=this.createEolBr(c),a.fragment.append(d));!a.prependEolBr||\nd&&!d.getPrevious()||a.fragment.append(this.createEolBr(c),1)},createEolBr:function(a){return a.createElement(\"br\",{attributes:{\"data-cke-eol\":1}})}},bogus:{exclude:function(a){var b=a.range.getBoundaryNodes(),c=b.startNode,b=b.endNode;!b||!r(b)||c&&c.equals(b)||a.range.setEndBefore(b)}},tree:{rebuild:function(a,b){var c=a.range,d=c.getCommonAncestor(),f=new CKEDITOR.dom.elementPath(d,b),g=new CKEDITOR.dom.elementPath(c.startContainer,b),c=new CKEDITOR.dom.elementPath(c.endContainer,b),e;d.type==\nCKEDITOR.NODE_TEXT&&(d=d.getParent());if(f.blockLimit.is({tr:1,table:1})){var k=f.contains(\"table\").getParent();e=function(a){return!a.equals(k)}}else if(f.block&&f.block.is(CKEDITOR.dtd.$listItem)&&(g=g.contains(CKEDITOR.dtd.$list),c=c.contains(CKEDITOR.dtd.$list),!g.equals(c))){var h=f.contains(CKEDITOR.dtd.$list).getParent();e=function(a){return!a.equals(h)}}e||(e=function(a){return!a.equals(f.block)&&!a.equals(f.blockLimit)});this.rebuildFragment(a,b,d,e)},rebuildFragment:function(a,b,c,d){for(var f;c&&\n!c.equals(b)&&d(c);)f=c.clone(0,1),a.fragment.appendTo(f),a.fragment=f,c=c.getParent()}},cell:{shrink:function(a){a=a.range;var b=a.startContainer,c=a.endContainer,d=a.startOffset,f=a.endOffset;b.type==CKEDITOR.NODE_ELEMENT&&b.equals(c)&&b.is(\"tr\")&&++d==f&&a.shrink(CKEDITOR.SHRINK_TEXT)}}};z=function(){function a(b,c){var d=b.getParent();if(d.is(CKEDITOR.dtd.$inline))b[c?\"insertBefore\":\"insertAfter\"](d)}function b(c,d,f){a(d);a(f,1);for(var g;g=f.getNext();)g.insertAfter(d),d=g;v(c)&&c.remove()}\nfunction c(a,b){var d=new CKEDITOR.dom.range(a);d.setStartAfter(b.startNode);d.setEndBefore(b.endNode);return d}return{list:{detectMerge:function(a,b){var d=c(b,a.bookmark),f=d.startPath(),g=d.endPath(),e=f.contains(CKEDITOR.dtd.$list),k=g.contains(CKEDITOR.dtd.$list);a.mergeList=e&&k&&e.getParent().equals(k.getParent())&&!e.equals(k);a.mergeListItems=f.block&&g.block&&f.block.is(CKEDITOR.dtd.$listItem)&&g.block.is(CKEDITOR.dtd.$listItem);if(a.mergeList||a.mergeListItems)d=d.clone(),d.setStartBefore(a.bookmark.startNode),\nd.setEndAfter(a.bookmark.endNode),a.mergeListBookmark=d.createBookmark()},merge:function(a,c){if(a.mergeListBookmark){var d=a.mergeListBookmark.startNode,f=a.mergeListBookmark.endNode,g=new CKEDITOR.dom.elementPath(d,c),e=new CKEDITOR.dom.elementPath(f,c);if(a.mergeList){var k=g.contains(CKEDITOR.dtd.$list),h=e.contains(CKEDITOR.dtd.$list);k.equals(h)||(h.moveChildren(k),h.remove())}a.mergeListItems&&(g=g.contains(CKEDITOR.dtd.$listItem),e=e.contains(CKEDITOR.dtd.$listItem),g.equals(e)||b(e,d,f));\nd.remove();f.remove()}}},block:{detectMerge:function(a,b){if(!a.tableContentsRanges&&!a.mergeListBookmark){var c=new CKEDITOR.dom.range(b);c.setStartBefore(a.bookmark.startNode);c.setEndAfter(a.bookmark.endNode);a.mergeBlockBookmark=c.createBookmark()}},merge:function(a,c){if(a.mergeBlockBookmark&&!a.purgeTableBookmark){var d=a.mergeBlockBookmark.startNode,f=a.mergeBlockBookmark.endNode,g=new CKEDITOR.dom.elementPath(d,c),e=new CKEDITOR.dom.elementPath(f,c),g=g.block,e=e.block;g&&e&&!g.equals(e)&&\nb(e,d,f);d.remove();f.remove()}}},table:function(){function a(c){var f=[],g,e=new CKEDITOR.dom.walker(c),k=c.startPath().contains(d),h=c.endPath().contains(d),l={};e.guard=function(a,e){if(a.type==CKEDITOR.NODE_ELEMENT){var m=\"visited_\"+(e?\"out\":\"in\");if(a.getCustomData(m))return;CKEDITOR.dom.element.setMarker(l,a,m,1)}if(e&&k&&a.equals(k))g=c.clone(),g.setEndAt(k,CKEDITOR.POSITION_BEFORE_END),f.push(g);else if(!e&&h&&a.equals(h))g=c.clone(),g.setStartAt(h,CKEDITOR.POSITION_AFTER_START),f.push(g);\nelse{if(m=!e)m=a.type==CKEDITOR.NODE_ELEMENT&&a.is(d)&&(!k||b(a,k))&&(!h||b(a,h));m&&(g=c.clone(),g.selectNodeContents(a),f.push(g))}};e.lastForward();CKEDITOR.dom.element.clearAllMarkers(l);return f}function b(a,c){var d=CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED,f=a.getPosition(c);return f===CKEDITOR.POSITION_IDENTICAL?!1:0===(f&d)}var d={td:1,th:1,caption:1};return{detectPurge:function(a){var b=a.range,c=b.clone();c.enlarge(CKEDITOR.ENLARGE_ELEMENT);var c=new CKEDITOR.dom.walker(c),\nf=0;c.evaluator=function(a){a.type==CKEDITOR.NODE_ELEMENT&&a.is(d)&&++f};c.checkForward();if(1<f){var c=b.startPath().contains(\"table\"),g=b.endPath().contains(\"table\");c&&g&&b.checkBoundaryOfElement(c,CKEDITOR.START)&&b.checkBoundaryOfElement(g,CKEDITOR.END)&&(b=a.range.clone(),b.setStartBefore(c),b.setEndAfter(g),a.purgeTableBookmark=b.createBookmark())}},detectRanges:function(f,g){var e=c(g,f.bookmark),k=e.clone(),h,l,m=e.getCommonAncestor();m.is(CKEDITOR.dtd.$tableContent)&&!m.is(d)&&(m=m.getAscendant(\"table\",\n!0));l=m;m=new CKEDITOR.dom.elementPath(e.startContainer,l);l=new CKEDITOR.dom.elementPath(e.endContainer,l);m=m.contains(\"table\");l=l.contains(\"table\");if(m||l)m&&l&&b(m,l)?(f.tableSurroundingRange=k,k.setStartAt(m,CKEDITOR.POSITION_AFTER_END),k.setEndAt(l,CKEDITOR.POSITION_BEFORE_START),k=e.clone(),k.setEndAt(m,CKEDITOR.POSITION_AFTER_END),h=e.clone(),h.setStartAt(l,CKEDITOR.POSITION_BEFORE_START),h=a(k).concat(a(h))):m?l||(f.tableSurroundingRange=k,k.setStartAt(m,CKEDITOR.POSITION_AFTER_END),e.setEndAt(m,\nCKEDITOR.POSITION_AFTER_END)):(f.tableSurroundingRange=k,k.setEndAt(l,CKEDITOR.POSITION_BEFORE_START),e.setStartAt(l,CKEDITOR.POSITION_AFTER_START)),f.tableContentsRanges=h?h:a(e)},deleteRanges:function(a){for(var b;b=a.tableContentsRanges.pop();)b.extractContents(),v(b.startContainer)&&b.startContainer.appendBogus();a.tableSurroundingRange&&a.tableSurroundingRange.extractContents()},purge:function(a){if(a.purgeTableBookmark){var b=a.doc,c=a.range.clone(),b=b.createElement(\"p\");b.insertBefore(a.purgeTableBookmark.startNode);\nc.moveToBookmark(a.purgeTableBookmark);c.deleteContents();a.range.moveToPosition(b,CKEDITOR.POSITION_AFTER_START)}}}}(),detectExtractMerge:function(a){return!(a.range.startPath().contains(CKEDITOR.dtd.$listItem)&&a.range.endPath().contains(CKEDITOR.dtd.$listItem))},fixUneditableRangePosition:function(a){a.startContainer.getDtd()[\"#\"]||a.moveToClosestEditablePosition(null,!0)},autoParagraph:function(a,b){var c=b.startPath(),d;m(a,c.block,c.blockLimit)&&(d=f(a))&&(d=b.document.createElement(d),d.appendBogus(),\nb.insertNode(d),b.moveToPosition(d,CKEDITOR.POSITION_AFTER_START))}}}()}(),function(){function a(){var a=this._.fakeSelection,b;a&&(b=this.getSelection(1),b&&b.isHidden()||(a.reset(),a=0));if(!a&&(a=b||this.getSelection(1),!a||a.getType()==CKEDITOR.SELECTION_NONE))return;this.fire(\"selectionCheck\",a);b=this.elementPath();if(!b.compare(this._.selectionPreviousPath)){var c=this._.selectionPreviousPath&&this._.selectionPreviousPath.blockLimit.equals(b.blockLimit);CKEDITOR.env.webkit&&!c&&(this._.previousActive=\nthis.document.getActive());this._.selectionPreviousPath=b;this.fire(\"selectionChange\",{selection:a,path:b})}}function e(){p=!0;t||(b.call(this),t=CKEDITOR.tools.setTimeout(b,200,this))}function b(){t=null;p&&(CKEDITOR.tools.setTimeout(a,0,this),p=!1)}function c(a){return w(a)||a.type==CKEDITOR.NODE_ELEMENT&&!a.is(CKEDITOR.dtd.$empty)?!0:!1}function d(a){function b(c,d){return c&&c.type!=CKEDITOR.NODE_TEXT?a.clone()[\"moveToElementEdit\"+(d?\"End\":\"Start\")](c):!1}if(!(a.root instanceof CKEDITOR.editable))return!1;\nvar d=a.startContainer,f=a.getPreviousNode(c,null,d),g=a.getNextNode(c,null,d);return b(f)||b(g,1)||!(f||g||d.type==CKEDITOR.NODE_ELEMENT&&d.isBlockBoundary()&&d.getBogus())?!0:!1}function l(a){m(a,!1);var b=a.getDocument().createText(r);a.setCustomData(\"cke-fillingChar\",b);return b}function m(a,b){var c=a&&a.removeCustomData(\"cke-fillingChar\");if(c){if(!1!==b){var d=a.getDocument().getSelection().getNative(),g=d&&\"None\"!=d.type&&d.getRangeAt(0),e=r.length;if(c.getLength()>e&&g&&g.intersectsNode(c.$)){var k=\n[{node:d.anchorNode,offset:d.anchorOffset},{node:d.focusNode,offset:d.focusOffset}];d.anchorNode==c.$&&d.anchorOffset>e&&(k[0].offset-=e);d.focusNode==c.$&&d.focusOffset>e&&(k[1].offset-=e)}}c.setText(f(c.getText(),1));k&&(c=a.getDocument().$,d=c.getSelection(),c=c.createRange(),c.setStart(k[0].node,k[0].offset),c.collapse(!0),d.removeAllRanges(),d.addRange(c),d.extend(k[1].node,k[1].offset))}}function f(a,b){return b?a.replace(q,function(a,b){return b?\" \":\"\"}):a.replace(r,\"\")}function h(a,b){var c=\nCKEDITOR.dom.element.createFromHtml('\\x3cdiv data-cke-hidden-sel\\x3d\"1\" data-cke-temp\\x3d\"1\" style\\x3d\"'+(CKEDITOR.env.ie&&14>CKEDITOR.env.version?\"display:none\":\"position:fixed;top:0;left:-1000px\")+'\"\\x3e'+(b||\"\\x26nbsp;\")+\"\\x3c/div\\x3e\",a.document);a.fire(\"lockSnapshot\");a.editable().append(c);var d=a.getSelection(1),f=a.createRange(),g=d.root.on(\"selectionchange\",function(a){a.cancel()},null,null,0);f.setStartAt(c,CKEDITOR.POSITION_AFTER_START);f.setEndAt(c,CKEDITOR.POSITION_BEFORE_END);d.selectRanges([f]);\ng.removeListener();a.fire(\"unlockSnapshot\");a._.hiddenSelectionContainer=c}function k(a){var b={37:1,39:1,8:1,46:1};return function(c){var d=c.data.getKeystroke();if(b[d]){var f=a.getSelection().getRanges(),g=f[0];1==f.length&&g.collapsed&&(d=g[38>d?\"getPreviousEditableNode\":\"getNextEditableNode\"]())&&d.type==CKEDITOR.NODE_ELEMENT&&\"false\"==d.getAttribute(\"contenteditable\")&&(a.getSelection().fake(d),c.data.preventDefault(),c.cancel())}}}function g(a){for(var b=0;b<a.length;b++){var c=a[b];c.getCommonAncestor().isReadOnly()&&\na.splice(b,1);if(!c.collapsed){if(c.startContainer.isReadOnly())for(var d=c.startContainer,f;d&&!((f=d.type==CKEDITOR.NODE_ELEMENT)&&d.is(\"body\")||!d.isReadOnly());)f&&\"false\"==d.getAttribute(\"contentEditable\")&&c.setStartAfter(d),d=d.getParent();d=c.startContainer;f=c.endContainer;var g=c.startOffset,e=c.endOffset,k=c.clone();d&&d.type==CKEDITOR.NODE_TEXT&&(g>=d.getLength()?k.setStartAfter(d):k.setStartBefore(d));f&&f.type==CKEDITOR.NODE_TEXT&&(e?k.setEndAfter(f):k.setEndBefore(f));d=new CKEDITOR.dom.walker(k);\nd.evaluator=function(d){if(d.type==CKEDITOR.NODE_ELEMENT&&d.isReadOnly()){var f=c.clone();c.setEndBefore(d);c.collapsed&&a.splice(b--,1);d.getPosition(k.endContainer)&CKEDITOR.POSITION_CONTAINS||(f.setStartAfter(d),f.collapsed||a.splice(b+1,0,f));return!0}return!1};d.next()}}return a}var n=\"function\"!=typeof window.getSelection,v=1,r=CKEDITOR.tools.repeat(\"​\",7),q=new RegExp(r+\"( )?\",\"g\"),t,p,w=CKEDITOR.dom.walker.invisible(1),z=function(){function a(b){return function(a){var c=a.editor.createRange();\nc.moveToClosestEditablePosition(a.selected,b)&&a.editor.getSelection().selectRanges([c]);return!1}}function b(a){return function(b){var c=b.editor,d=c.createRange(),f;(f=d.moveToClosestEditablePosition(b.selected,a))||(f=d.moveToClosestEditablePosition(b.selected,!a));f&&c.getSelection().selectRanges([d]);c.fire(\"saveSnapshot\");b.selected.remove();f||(d.moveToElementEditablePosition(c.editable()),c.getSelection().selectRanges([d]));c.fire(\"saveSnapshot\");return!1}}var c=a(),d=a(1);return{37:c,38:c,\n39:d,40:d,8:b(),46:b(1)}}();CKEDITOR.on(\"instanceCreated\",function(b){function c(){var a=d.getSelection();a&&a.removeAllRanges()}var d=b.editor;d.on(\"contentDom\",function(){function b(){w=new CKEDITOR.dom.selection(d.getSelection());w.lock()}function c(){g.removeListener(\"mouseup\",c);u.removeListener(\"mouseup\",c);var a=CKEDITOR.document.$.selection,b=a.createRange();\"None\"!=a.type&&b.parentElement().ownerDocument==f.$&&b.select()}var f=d.document,g=CKEDITOR.document,h=d.editable(),l=f.getBody(),u=\nf.getDocumentElement(),q=h.isInline(),p,w;CKEDITOR.env.gecko&&h.attachListener(h,\"focus\",function(a){a.removeListener();0!==p&&(a=d.getSelection().getNative())&&a.isCollapsed&&a.anchorNode==h.$&&(a=d.createRange(),a.moveToElementEditStart(h),a.select())},null,null,-2);h.attachListener(h,CKEDITOR.env.webkit?\"DOMFocusIn\":\"focus\",function(){p&&CKEDITOR.env.webkit&&(p=d._.previousActive&&d._.previousActive.equals(f.getActive()))&&null!=d._.previousScrollTop&&d._.previousScrollTop!=h.$.scrollTop&&(h.$.scrollTop=\nd._.previousScrollTop);d.unlockSelection(p);p=0},null,null,-1);h.attachListener(h,\"mousedown\",function(){p=0});if(CKEDITOR.env.ie||q)n?h.attachListener(h,\"beforedeactivate\",b,null,null,-1):h.attachListener(d,\"selectionCheck\",b,null,null,-1),h.attachListener(h,CKEDITOR.env.webkit?\"DOMFocusOut\":\"blur\",function(){d.lockSelection(w);p=1},null,null,-1),h.attachListener(h,\"mousedown\",function(){p=0});if(CKEDITOR.env.ie&&!q){var t;h.attachListener(h,\"mousedown\",function(a){2==a.data.$.button&&((a=d.document.getSelection())&&\na.getType()!=CKEDITOR.SELECTION_NONE||(t=d.window.getScrollPosition()))});h.attachListener(h,\"mouseup\",function(a){2==a.data.$.button&&t&&(d.document.$.documentElement.scrollLeft=t.x,d.document.$.documentElement.scrollTop=t.y);t=null});if(\"BackCompat\"!=f.$.compatMode){if(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat){var r,z;u.on(\"mousedown\",function(a){function b(a){a=a.data.$;if(r){var c=l.$.createTextRange();try{c.moveToPoint(a.clientX,a.clientY)}catch(d){}r.setEndPoint(0>z.compareEndPoints(\"StartToStart\",\nc)?\"EndToEnd\":\"StartToStart\",c);r.select()}}function c(){u.removeListener(\"mousemove\",b);g.removeListener(\"mouseup\",c);u.removeListener(\"mouseup\",c);r.select()}a=a.data;if(a.getTarget().is(\"html\")&&a.$.y<u.$.clientHeight&&a.$.x<u.$.clientWidth){r=l.$.createTextRange();try{r.moveToPoint(a.$.clientX,a.$.clientY)}catch(d){}z=r.duplicate();u.on(\"mousemove\",b);g.on(\"mouseup\",c);u.on(\"mouseup\",c)}})}if(7<CKEDITOR.env.version&&11>CKEDITOR.env.version)u.on(\"mousedown\",function(a){a.data.getTarget().is(\"html\")&&\n(g.on(\"mouseup\",c),u.on(\"mouseup\",c))})}}h.attachListener(h,\"selectionchange\",a,d);h.attachListener(h,\"keyup\",e,d);h.attachListener(h,CKEDITOR.env.webkit?\"DOMFocusIn\":\"focus\",function(){d.forceNextSelectionCheck();d.selectionChange(1)});if(q&&(CKEDITOR.env.webkit||CKEDITOR.env.gecko)){var x;h.attachListener(h,\"mousedown\",function(){x=1});h.attachListener(f.getDocumentElement(),\"mouseup\",function(){x&&e.call(d);x=0})}else h.attachListener(CKEDITOR.env.ie?h:f.getDocumentElement(),\"mouseup\",e,d);CKEDITOR.env.webkit&&\nh.attachListener(f,\"keydown\",function(a){switch(a.data.getKey()){case 13:case 33:case 34:case 35:case 36:case 37:case 39:case 8:case 45:case 46:m(h)}},null,null,-1);h.attachListener(h,\"keydown\",k(d),null,null,-1)});d.on(\"setData\",function(){d.unlockSelection();CKEDITOR.env.webkit&&c()});d.on(\"contentDomUnload\",function(){d.unlockSelection()});if(CKEDITOR.env.ie9Compat)d.on(\"beforeDestroy\",c,null,null,9);d.on(\"dataReady\",function(){delete d._.fakeSelection;delete d._.hiddenSelectionContainer;d.selectionChange(1)});\nd.on(\"loadSnapshot\",function(){var a=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT),b=d.editable().getLast(a);b&&b.hasAttribute(\"data-cke-hidden-sel\")&&(b.remove(),CKEDITOR.env.gecko&&(a=d.editable().getFirst(a))&&a.is(\"br\")&&a.getAttribute(\"_moz_editor_bogus_node\")&&a.remove())},null,null,100);d.on(\"key\",function(a){if(\"wysiwyg\"==d.mode){var b=d.getSelection();if(b.isFake){var c=z[a.data.keyCode];if(c)return c({editor:d,selected:b.getSelectedElement(),selection:b,keyEvent:a})}}})});if(CKEDITOR.env.webkit)CKEDITOR.on(\"instanceReady\",\nfunction(a){var b=a.editor;b.on(\"selectionChange\",function(){var a=b.editable(),c=a.getCustomData(\"cke-fillingChar\");c&&(c.getCustomData(\"ready\")?m(a):c.setCustomData(\"ready\",1))},null,null,-1);b.on(\"beforeSetMode\",function(){m(b.editable())},null,null,-1);b.on(\"getSnapshot\",function(a){a.data&&(a.data=f(a.data))},b,null,20);b.on(\"toDataFormat\",function(a){a.data.dataValue=f(a.data.dataValue)},null,null,0)});CKEDITOR.editor.prototype.selectionChange=function(b){(b?a:e).call(this)};CKEDITOR.editor.prototype.getSelection=\nfunction(a){return!this._.savedSelection&&!this._.fakeSelection||a?(a=this.editable())&&\"wysiwyg\"==this.mode?new CKEDITOR.dom.selection(a):null:this._.savedSelection||this._.fakeSelection};CKEDITOR.editor.prototype.lockSelection=function(a){a=a||this.getSelection(1);return a.getType()!=CKEDITOR.SELECTION_NONE?(!a.isLocked&&a.lock(),this._.savedSelection=a,!0):!1};CKEDITOR.editor.prototype.unlockSelection=function(a){var b=this._.savedSelection;return b?(b.unlock(a),delete this._.savedSelection,!0):\n!1};CKEDITOR.editor.prototype.forceNextSelectionCheck=function(){delete this._.selectionPreviousPath};CKEDITOR.dom.document.prototype.getSelection=function(){return new CKEDITOR.dom.selection(this)};CKEDITOR.dom.range.prototype.select=function(){var a=this.root instanceof CKEDITOR.editable?this.root.editor.getSelection():new CKEDITOR.dom.selection(this.root);a.selectRanges([this]);return a};CKEDITOR.SELECTION_NONE=1;CKEDITOR.SELECTION_TEXT=2;CKEDITOR.SELECTION_ELEMENT=3;CKEDITOR.dom.selection=function(a){if(a instanceof\nCKEDITOR.dom.selection){var b=a;a=a.root}var c=a instanceof CKEDITOR.dom.element;this.rev=b?b.rev:v++;this.document=a instanceof CKEDITOR.dom.document?a:a.getDocument();this.root=c?a:this.document.getBody();this.isLocked=0;this._={cache:{}};if(b)return CKEDITOR.tools.extend(this._.cache,b._.cache),this.isFake=b.isFake,this.isLocked=b.isLocked,this;a=this.getNative();var d,f;if(a)if(a.getRangeAt)d=(f=a.rangeCount&&a.getRangeAt(0))&&new CKEDITOR.dom.node(f.commonAncestorContainer);else{try{f=a.createRange()}catch(g){}d=\nf&&CKEDITOR.dom.element.get(f.item&&f.item(0)||f.parentElement())}if(!d||d.type!=CKEDITOR.NODE_ELEMENT&&d.type!=CKEDITOR.NODE_TEXT||!this.root.equals(d)&&!this.root.contains(d))this._.cache.type=CKEDITOR.SELECTION_NONE,this._.cache.startElement=null,this._.cache.selectedElement=null,this._.cache.selectedText=\"\",this._.cache.ranges=new CKEDITOR.dom.rangeList;return this};var A={img:1,hr:1,li:1,table:1,tr:1,td:1,th:1,embed:1,object:1,ol:1,ul:1,a:1,input:1,form:1,select:1,textarea:1,button:1,fieldset:1,\nthead:1,tfoot:1};CKEDITOR.tools.extend(CKEDITOR.dom.selection,{_removeFillingCharSequenceString:f,_createFillingCharSequenceNode:l,FILLING_CHAR_SEQUENCE:r});CKEDITOR.dom.selection.prototype={getNative:function(){return void 0!==this._.cache.nativeSel?this._.cache.nativeSel:this._.cache.nativeSel=n?this.document.$.selection:this.document.getWindow().$.getSelection()},getType:n?function(){var a=this._.cache;if(a.type)return a.type;var b=CKEDITOR.SELECTION_NONE;try{var c=this.getNative(),d=c.type;\"Text\"==\nd&&(b=CKEDITOR.SELECTION_TEXT);\"Control\"==d&&(b=CKEDITOR.SELECTION_ELEMENT);c.createRange().parentElement()&&(b=CKEDITOR.SELECTION_TEXT)}catch(f){}return a.type=b}:function(){var a=this._.cache;if(a.type)return a.type;var b=CKEDITOR.SELECTION_TEXT,c=this.getNative();if(!c||!c.rangeCount)b=CKEDITOR.SELECTION_NONE;else if(1==c.rangeCount){var c=c.getRangeAt(0),d=c.startContainer;d==c.endContainer&&1==d.nodeType&&1==c.endOffset-c.startOffset&&A[d.childNodes[c.startOffset].nodeName.toLowerCase()]&&(b=\nCKEDITOR.SELECTION_ELEMENT)}return a.type=b},getRanges:function(){var a=n?function(){function a(b){return(new CKEDITOR.dom.node(b)).getIndex()}var b=function(b,c){b=b.duplicate();b.collapse(c);var d=b.parentElement();if(!d.hasChildNodes())return{container:d,offset:0};for(var f=d.children,g,e,h=b.duplicate(),k=0,l=f.length-1,m=-1,n,q;k<=l;)if(m=Math.floor((k+l)/2),g=f[m],h.moveToElementText(g),n=h.compareEndPoints(\"StartToStart\",b),0<n)l=m-1;else if(0>n)k=m+1;else return{container:d,offset:a(g)};if(-1==\nm||m==f.length-1&&0>n){h.moveToElementText(d);h.setEndPoint(\"StartToStart\",b);h=h.text.replace(/(\\r\\n|\\r)/g,\"\\n\").length;f=d.childNodes;if(!h)return g=f[f.length-1],g.nodeType!=CKEDITOR.NODE_TEXT?{container:d,offset:f.length}:{container:g,offset:g.nodeValue.length};for(d=f.length;0<h&&0<d;)e=f[--d],e.nodeType==CKEDITOR.NODE_TEXT&&(q=e,h-=e.nodeValue.length);return{container:q,offset:-h}}h.collapse(0<n?!0:!1);h.setEndPoint(0<n?\"StartToStart\":\"EndToStart\",b);h=h.text.replace(/(\\r\\n|\\r)/g,\"\\n\").length;\nif(!h)return{container:d,offset:a(g)+(0<n?0:1)};for(;0<h;)try{e=g[0<n?\"previousSibling\":\"nextSibling\"],e.nodeType==CKEDITOR.NODE_TEXT&&(h-=e.nodeValue.length,q=e),g=e}catch(p){return{container:d,offset:a(g)}}return{container:q,offset:0<n?-h:q.nodeValue.length+h}};return function(){var a=this.getNative(),c=a&&a.createRange(),d=this.getType();if(!a)return[];if(d==CKEDITOR.SELECTION_TEXT)return a=new CKEDITOR.dom.range(this.root),d=b(c,!0),a.setStart(new CKEDITOR.dom.node(d.container),d.offset),d=b(c),\na.setEnd(new CKEDITOR.dom.node(d.container),d.offset),a.endContainer.getPosition(a.startContainer)&CKEDITOR.POSITION_PRECEDING&&a.endOffset<=a.startContainer.getIndex()&&a.collapse(),[a];if(d==CKEDITOR.SELECTION_ELEMENT){for(var d=[],f=0;f<c.length;f++){for(var g=c.item(f),e=g.parentNode,h=0,a=new CKEDITOR.dom.range(this.root);h<e.childNodes.length&&e.childNodes[h]!=g;h++);a.setStart(new CKEDITOR.dom.node(e),h);a.setEnd(new CKEDITOR.dom.node(e),h+1);d.push(a)}return d}return[]}}():function(){\nvar this$1 = this;\nvar a=\n[],b,c=this.getNative();if(!c)return a;for(var d=0;d<c.rangeCount;d++){var f=c.getRangeAt(d);b=new CKEDITOR.dom.range(this$1.root);b.setStart(new CKEDITOR.dom.node(f.startContainer),f.startOffset);b.setEnd(new CKEDITOR.dom.node(f.endContainer),f.endOffset);a.push(b)}return a};return function(b){var c=this._.cache,d=c.ranges;d||(c.ranges=d=new CKEDITOR.dom.rangeList(a.call(this)));return b?g(new CKEDITOR.dom.rangeList(d.slice())):d}}(),getStartElement:function(){var a=this._.cache;if(void 0!==a.startElement)return a.startElement;\nvar b;switch(this.getType()){case CKEDITOR.SELECTION_ELEMENT:return this.getSelectedElement();case CKEDITOR.SELECTION_TEXT:var c=this.getRanges()[0];if(c){if(c.collapsed)b=c.startContainer,b.type!=CKEDITOR.NODE_ELEMENT&&(b=b.getParent());else{for(c.optimize();b=c.startContainer,c.startOffset==(b.getChildCount?b.getChildCount():b.getLength())&&!b.isBlockBoundary();)c.setStartAfter(b);b=c.startContainer;if(b.type!=CKEDITOR.NODE_ELEMENT)return b.getParent();if((b=b.getChild(c.startOffset))&&b.type==\nCKEDITOR.NODE_ELEMENT)for(c=b.getFirst();c&&c.type==CKEDITOR.NODE_ELEMENT;)b=c,c=c.getFirst();else b=c.startContainer}b=b.$}}return a.startElement=b?new CKEDITOR.dom.element(b):null},getSelectedElement:function(){var a=this._.cache;if(void 0!==a.selectedElement)return a.selectedElement;var b=this,c=CKEDITOR.tools.tryThese(function(){return b.getNative().createRange().item(0)},function(){for(var a=b.getRanges()[0].clone(),c,d,f=2;f&&!((c=a.getEnclosedNode())&&c.type==CKEDITOR.NODE_ELEMENT&&A[c.getName()]&&\n(d=c));f--)a.shrink(CKEDITOR.SHRINK_ELEMENT);return d&&d.$});return a.selectedElement=c?new CKEDITOR.dom.element(c):null},getSelectedText:function(){var a=this._.cache;if(void 0!==a.selectedText)return a.selectedText;var b=this.getNative(),b=n?\"Control\"==b.type?\"\":b.createRange().text:b.toString();return a.selectedText=b},lock:function(){this.getRanges();this.getStartElement();this.getSelectedElement();this.getSelectedText();this._.cache.nativeSel=null;this.isLocked=1},unlock:function(a){if(this.isLocked){if(a)var b=\nthis.getSelectedElement(),c=!b&&this.getRanges(),d=this.isFake;this.isLocked=0;this.reset();a&&(a=b||c[0]&&c[0].getCommonAncestor())&&a.getAscendant(\"body\",1)&&(d?this.fake(b):b?this.selectElement(b):this.selectRanges(c))}},reset:function(){this._.cache={};this.isFake=0;var a=this.root.editor;if(a&&a._.fakeSelection)if(this.rev==a._.fakeSelection.rev){delete a._.fakeSelection;var b=a._.hiddenSelectionContainer;if(b){var c=a.checkDirty();a.fire(\"lockSnapshot\");b.remove();a.fire(\"unlockSnapshot\");!c&&\na.resetDirty()}delete a._.hiddenSelectionContainer}else CKEDITOR.warn(\"selection-fake-reset\");this.rev=v++},selectElement:function(a){var b=new CKEDITOR.dom.range(this.root);b.setStartBefore(a);b.setEndAfter(a);this.selectRanges([b])},selectRanges:function(a){\nvar this$1 = this;\nvar b=this.root.editor,b=b&&b._.hiddenSelectionContainer;this.reset();if(b)for(var b=this.root,c,f=0;f<a.length;++f)c=a[f],c.endContainer.equals(b)&&(c.endOffset=Math.min(c.endOffset,b.getChildCount()));if(a.length)if(this.isLocked){var g=CKEDITOR.document.getActive();\nthis.unlock();this.selectRanges(a);this.lock();g&&!g.equals(this.root)&&g.focus()}else{var e;a:{var h,k;if(1==a.length&&!(k=a[0]).collapsed&&(e=k.getEnclosedNode())&&e.type==CKEDITOR.NODE_ELEMENT&&(k=k.clone(),k.shrink(CKEDITOR.SHRINK_ELEMENT,!0),(h=k.getEnclosedNode())&&h.type==CKEDITOR.NODE_ELEMENT&&(e=h),\"false\"==e.getAttribute(\"contenteditable\")))break a;e=void 0}if(e)this.fake(e);else{if(n){k=CKEDITOR.dom.walker.whitespaces(!0);h=/\\ufeff|\\u00a0/;b={table:1,tbody:1,tr:1};1<a.length&&(e=a[a.length-\n1],a[0].setEnd(e.endContainer,e.endOffset));e=a[0];a=e.collapsed;var q,p,w;if((c=e.getEnclosedNode())&&c.type==CKEDITOR.NODE_ELEMENT&&c.getName()in A&&(!c.is(\"a\")||!c.getText()))try{w=c.$.createControlRange();w.addElement(c.$);w.select();return}catch(t){}if(e.startContainer.type==CKEDITOR.NODE_ELEMENT&&e.startContainer.getName()in b||e.endContainer.type==CKEDITOR.NODE_ELEMENT&&e.endContainer.getName()in b)e.shrink(CKEDITOR.NODE_ELEMENT,!0),a=e.collapsed;w=e.createBookmark();b=w.startNode;a||(g=w.endNode);\nw=e.document.$.body.createTextRange();w.moveToElementText(b.$);w.moveStart(\"character\",1);g?(h=e.document.$.body.createTextRange(),h.moveToElementText(g.$),w.setEndPoint(\"EndToEnd\",h),w.moveEnd(\"character\",-1)):(q=b.getNext(k),p=b.hasAscendant(\"pre\"),q=!(q&&q.getText&&q.getText().match(h))&&(p||!b.hasPrevious()||b.getPrevious().is&&b.getPrevious().is(\"br\")),p=e.document.createElement(\"span\"),p.setHtml(\"\\x26#65279;\"),p.insertBefore(b),q&&e.document.createText(\"﻿\").insertBefore(b));e.setStartBefore(b);\nb.remove();a?(q?(w.moveStart(\"character\",-1),w.select(),e.document.$.selection.clear()):w.select(),e.moveToPosition(p,CKEDITOR.POSITION_BEFORE_START),p.remove()):(e.setEndBefore(g),g.remove(),w.select())}else{g=this.getNative();if(!g)return;this.removeAllRanges();for(w=0;w<a.length;w++){if(w<a.length-1&&(q=a[w],p=a[w+1],h=q.clone(),h.setStart(q.endContainer,q.endOffset),h.setEnd(p.startContainer,p.startOffset),!h.collapsed&&(h.shrink(CKEDITOR.NODE_ELEMENT,!0),e=h.getCommonAncestor(),h=h.getEnclosedNode(),\ne.isReadOnly()||h&&h.isReadOnly()))){p.setStart(q.startContainer,q.startOffset);a.splice(w--,1);continue}e=a[w];p=this$1.document.$.createRange();e.collapsed&&CKEDITOR.env.webkit&&d(e)&&(h=l(this$1.root),e.insertNode(h),(q=h.getNext())&&!h.getPrevious()&&q.type==CKEDITOR.NODE_ELEMENT&&\"br\"==q.getName()?(m(this$1.root),e.moveToPosition(q,CKEDITOR.POSITION_BEFORE_START)):e.moveToPosition(h,CKEDITOR.POSITION_AFTER_END));p.setStart(e.startContainer.$,e.startOffset);try{p.setEnd(e.endContainer.$,e.endOffset)}catch(H){if(0<=\nH.toString().indexOf(\"NS_ERROR_ILLEGAL_VALUE\"))e.collapse(1),p.setEnd(e.endContainer.$,e.endOffset);else throw H;}g.addRange(p)}}this.reset();this.root.fire(\"selectionchange\")}}},fake:function(a,b){var c=this.root.editor;void 0===b&&a.hasAttribute(\"aria-label\")&&(b=a.getAttribute(\"aria-label\"));this.reset();h(c,b);var d=this._.cache,f=new CKEDITOR.dom.range(this.root);f.setStartBefore(a);f.setEndAfter(a);d.ranges=new CKEDITOR.dom.rangeList(f);d.selectedElement=d.startElement=a;d.type=CKEDITOR.SELECTION_ELEMENT;\nd.selectedText=d.nativeSel=null;this.isFake=1;this.rev=v++;c._.fakeSelection=this;this.root.fire(\"selectionchange\")},isHidden:function(){var a=this.getCommonAncestor();a&&a.type==CKEDITOR.NODE_TEXT&&(a=a.getParent());return!(!a||!a.data(\"cke-hidden-sel\"))},createBookmarks:function(a){a=this.getRanges().createBookmarks(a);this.isFake&&(a.isFake=1);return a},createBookmarks2:function(a){a=this.getRanges().createBookmarks2(a);this.isFake&&(a.isFake=1);return a},selectBookmarks:function(a){\nvar this$1 = this;\nfor(var b=\n[],c,d=0;d<a.length;d++){var f=new CKEDITOR.dom.range(this$1.root);f.moveToBookmark(a[d]);b.push(f)}a.isFake&&(c=b[0].getEnclosedNode(),c&&c.type==CKEDITOR.NODE_ELEMENT||(CKEDITOR.warn(\"selection-not-fake\"),a.isFake=0));a.isFake?this.fake(c):this.selectRanges(b);return this},getCommonAncestor:function(){var a=this.getRanges();return a.length?a[0].startContainer.getCommonAncestor(a[a.length-1].endContainer):null},scrollIntoView:function(){this.type!=CKEDITOR.SELECTION_NONE&&this.getRanges()[0].scrollIntoView()},\nremoveAllRanges:function(){if(this.getType()!=CKEDITOR.SELECTION_NONE){var a=this.getNative();try{a&&a[n?\"empty\":\"removeAllRanges\"]()}catch(b){}this.reset()}}}}(),\"use strict\",CKEDITOR.STYLE_BLOCK=1,CKEDITOR.STYLE_INLINE=2,CKEDITOR.STYLE_OBJECT=3,function(){function a(a,b){for(var c,d;(a=a.getParent())&&!a.equals(b);)if(a.getAttribute(\"data-nostyle\"))c=a;else if(!d){var f=a.getAttribute(\"contentEditable\");\"false\"==f?c=a:\"true\"==f&&(d=1)}return c}function e(a,b,c,d){return(a.getPosition(b)|d)==d&&\n(!c.childRule||c.childRule(a))}function b(c){\nvar this$1 = this;\nvar f=c.document;if(c.collapsed)f=w(this,f),c.insertNode(f),c.moveToPosition(f,CKEDITOR.POSITION_BEFORE_END);else{var g=this.element,h=this._.definition,k,l=h.ignoreReadonly,m=l||h.includeReadonly;null==m&&(m=c.root.getCustomData(\"cke_includeReadonly\"));var n=CKEDITOR.dtd[g];n||(k=!0,n=CKEDITOR.dtd.span);c.enlarge(CKEDITOR.ENLARGE_INLINE,1);c.trim();var p=c.createBookmark(),t=p.startNode,r=p.endNode,z=t,u;if(!l){var v=c.getCommonAncestor(),l=a(t,v),v=a(r,\nv);l&&(z=l.getNextSourceNode(!0));v&&(r=v)}for(z.getPosition(r)==CKEDITOR.POSITION_FOLLOWING&&(z=0);z;){l=!1;if(z.equals(r))z=null,l=!0;else{var A=z.type==CKEDITOR.NODE_ELEMENT?z.getName():null,v=A&&\"false\"==z.getAttribute(\"contentEditable\"),x=A&&z.getAttribute(\"data-nostyle\");if(A&&z.data(\"cke-bookmark\")){z=z.getNextSourceNode(!0);continue}if(v&&m&&CKEDITOR.dtd.$block[A])for(var D=z,y=d(D),B=void 0,C=y.length,ea=0,D=C&&new CKEDITOR.dom.range(D.getDocument());ea<C;++ea){var B=y[ea],ha=CKEDITOR.filter.instances[B.data(\"cke-filter\")];\nif(ha?ha.check(this$1):1)D.selectNodeContents(B),b.call(this$1,D)}y=A?!n[A]||x?0:v&&!m?0:e(z,r,h,M):1;if(y)if(B=z.getParent(),y=h,C=g,ea=k,!B||!(B.getDtd()||CKEDITOR.dtd.span)[C]&&!ea||y.parentRule&&!y.parentRule(B))l=!0;else{if(u||A&&CKEDITOR.dtd.$removeEmpty[A]&&(z.getPosition(r)|M)!=M||(u=c.clone(),u.setStartBefore(z)),A=z.type,A==CKEDITOR.NODE_TEXT||v||A==CKEDITOR.NODE_ELEMENT&&!z.getChildCount()){for(var A=z,E;(l=!A.getNext(J))&&(E=A.getParent(),n[E.getName()])&&e(E,t,h,I);)A=E;u.setEndAfter(A)}}else l=\n!0;z=z.getNextSourceNode(x||v)}if(l&&u&&!u.collapsed){for(var l=w(this,f),v=l.hasAttributes(),x=u.getCommonAncestor(),A={},y={},B={},C={},aa,fa,F;l&&x;){if(x.getName()==g){for(aa in h.attributes)!C[aa]&&(F=x.getAttribute(fa))&&(l.getAttribute(aa)==F?y[aa]=1:C[aa]=1);for(fa in h.styles)!B[fa]&&(F=x.getStyle(fa))&&(l.getStyle(fa)==F?A[fa]=1:B[fa]=1)}x=x.getParent()}for(aa in y)l.removeAttribute(aa);for(fa in A)l.removeStyle(fa);v&&!l.hasAttributes()&&(l=null);l?(u.extractContents().appendTo(l),u.insertNode(l),\nq.call(this$1,l),l.mergeSiblings(),CKEDITOR.env.ie||l.$.normalize()):(l=new CKEDITOR.dom.element(\"span\"),u.extractContents().appendTo(l),u.insertNode(l),q.call(this$1,l),l.remove(!0));u=null}}c.moveToBookmark(p);c.shrink(CKEDITOR.SHRINK_TEXT);c.shrink(CKEDITOR.NODE_ELEMENT,!0)}}function c(a){\nvar this$1 = this;\nfunction b(){for(var a=new CKEDITOR.dom.elementPath(d.getParent()),c=new CKEDITOR.dom.elementPath(l.getParent()),f=null,g=null,e=0;e<a.elements.length;e++){var h=a.elements[e];if(h==a.block||h==a.blockLimit)break;\nm.checkElementRemovable(h,!0)&&(f=h)}for(e=0;e<c.elements.length;e++){h=c.elements[e];if(h==c.block||h==c.blockLimit)break;m.checkElementRemovable(h,!0)&&(g=h)}g&&l.breakParent(g);f&&d.breakParent(f)}a.enlarge(CKEDITOR.ENLARGE_INLINE,1);var c=a.createBookmark(),d=c.startNode;if(a.collapsed){for(var f=new CKEDITOR.dom.elementPath(d.getParent(),a.root),g,e=0,h;e<f.elements.length&&(h=f.elements[e])&&h!=f.block&&h!=f.blockLimit;e++)if(this$1.checkElementRemovable(h)){var k;a.collapsed&&(a.checkBoundaryOfElement(h,\nCKEDITOR.END)||(k=a.checkBoundaryOfElement(h,CKEDITOR.START)))?(g=h,g.match=k?\"start\":\"end\"):(h.mergeSiblings(),h.is(this$1.element)?r.call(this$1,h):t(h,u(this$1)[h.getName()]))}if(g){h=d;for(e=0;;e++){k=f.elements[e];if(k.equals(g))break;else if(k.match)continue;else k=k.clone();k.append(h);h=k}h[\"start\"==g.match?\"insertBefore\":\"insertAfter\"](g)}}else{var l=c.endNode,m=this;b();for(f=d;!f.equals(l);)g=f.getNextSourceNode(),f.type==CKEDITOR.NODE_ELEMENT&&this$1.checkElementRemovable(f)&&(f.getName()==this$1.element?\nr.call(this$1,f):t(f,u(this$1)[f.getName()]),g.type==CKEDITOR.NODE_ELEMENT&&g.contains(d)&&(b(),g=d.getNext())),f=g}a.moveToBookmark(c);a.shrink(CKEDITOR.NODE_ELEMENT,!0)}function d(a){var b=[];a.forEach(function(a){if(\"true\"==a.getAttribute(\"contenteditable\"))return b.push(a),!1},CKEDITOR.NODE_ELEMENT,!0);return b}function l(a){var b=a.getEnclosedNode()||a.getCommonAncestor(!1,!0);(a=(new CKEDITOR.dom.elementPath(b,a.root)).contains(this.element,1))&&!a.isReadOnly()&&z(a,this)}function m(a){var b=a.getCommonAncestor(!0,\n!0);if(a=(new CKEDITOR.dom.elementPath(b,a.root)).contains(this.element,1)){var b=this._.definition,c=b.attributes;if(c)for(var d in c)a.removeAttribute(d,c[d]);if(b.styles)for(var f in b.styles)b.styles.hasOwnProperty(f)&&a.removeStyle(f)}}function f(a){\nvar this$1 = this;\nvar b=a.createBookmark(!0),c=a.createIterator();c.enforceRealBlocks=!0;this._.enterMode&&(c.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR);for(var d,f=a.document,g;d=c.getNextParagraph();)!d.isReadOnly()&&(c.activeFilter?c.activeFilter.check(this$1):\n1)&&(g=w(this$1,f,d),k(d,g));a.moveToBookmark(b)}function h(a){\nvar this$1 = this;\nvar b=a.createBookmark(1),c=a.createIterator();c.enforceRealBlocks=!0;c.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR;for(var d,f;d=c.getNextParagraph();)this$1.checkElementRemovable(d)&&(d.is(\"pre\")?((f=this$1._.enterMode==CKEDITOR.ENTER_BR?null:a.document.createElement(this$1._.enterMode==CKEDITOR.ENTER_P?\"p\":\"div\"))&&d.copyAttributes(f),k(d,f)):r.call(this$1,d));a.moveToBookmark(b)}function k(a,b){var c=!b;c&&(b=a.getDocument().createElement(\"div\"),\na.copyAttributes(b));var d=b&&b.is(\"pre\"),f=a.is(\"pre\"),e=!d&&f;if(d&&!f){f=b;(e=a.getBogus())&&e.remove();e=a.getHtml();e=n(e,/(?:^[ \\t\\n\\r]+)|(?:[ \\t\\n\\r]+$)/g,\"\");e=e.replace(/[ \\t\\r\\n]*(<br[^>]*>)[ \\t\\r\\n]*/gi,\"$1\");e=e.replace(/([ \\t\\n\\r]+|&nbsp;)/g,\" \");e=e.replace(/<br\\b[^>]*>/gi,\"\\n\");if(CKEDITOR.env.ie){var h=a.getDocument().createElement(\"div\");h.append(f);f.$.outerHTML=\"\\x3cpre\\x3e\"+e+\"\\x3c/pre\\x3e\";f.copyAttributes(h.getFirst());f=h.getFirst().remove()}else f.setHtml(e);b=f}else e?b=v(c?\n[a.getHtml()]:g(a),b):a.moveChildren(b);b.replace(a);if(d){var c=b,k;(k=c.getPrevious(G))&&k.type==CKEDITOR.NODE_ELEMENT&&k.is(\"pre\")&&(d=n(k.getHtml(),/\\n$/,\"\")+\"\\n\\n\"+n(c.getHtml(),/^\\n/,\"\"),CKEDITOR.env.ie?c.$.outerHTML=\"\\x3cpre\\x3e\"+d+\"\\x3c/pre\\x3e\":c.setHtml(d),k.remove())}else c&&p(b)}function g(a){var b=[];n(a.getOuterHtml(),/(\\S\\s*)\\n(?:\\s|(<span[^>]+data-cke-bookmark.*?\\/span>))*\\n(?!$)/gi,function(a,b,c){return b+\"\\x3c/pre\\x3e\"+c+\"\\x3cpre\\x3e\"}).replace(/<pre\\b.*?>([\\s\\S]*?)<\\/pre>/gi,function(a,\nc){b.push(c)});return b}function n(a,b,c){var d=\"\",f=\"\";a=a.replace(/(^<span[^>]+data-cke-bookmark.*?\\/span>)|(<span[^>]+data-cke-bookmark.*?\\/span>$)/gi,function(a,b,c){b&&(d=b);c&&(f=c);return\"\"});return d+a.replace(b,c)+f}function v(a,b){var c;1<a.length&&(c=new CKEDITOR.dom.documentFragment(b.getDocument()));for(var d=0;d<a.length;d++){var f=a[d],f=f.replace(/(\\r\\n|\\r)/g,\"\\n\"),f=n(f,/^[ \\t]*\\n/,\"\"),f=n(f,/\\n$/,\"\"),f=n(f,/^[ \\t]+|[ \\t]+$/g,function(a,b){return 1==a.length?\"\\x26nbsp;\":b?\" \"+CKEDITOR.tools.repeat(\"\\x26nbsp;\",\na.length-1):CKEDITOR.tools.repeat(\"\\x26nbsp;\",a.length-1)+\" \"}),f=f.replace(/\\n/g,\"\\x3cbr\\x3e\"),f=f.replace(/[ \\t]{2,}/g,function(a){return CKEDITOR.tools.repeat(\"\\x26nbsp;\",a.length-1)+\" \"});if(c){var g=b.clone();g.setHtml(f);c.append(g)}else b.setHtml(f)}return c||b}function r(a,b){\nvar this$1 = this;\nvar c=this._.definition,d=c.attributes,c=c.styles,f=u(this)[a.getName()],g=CKEDITOR.tools.isEmpty(d)&&CKEDITOR.tools.isEmpty(c),e;for(e in d)if(\"class\"!=e&&!this$1._.definition.fullMatch||a.getAttribute(e)==x(e,d[e]))b&&\n\"data-\"==e.slice(0,5)||(g=a.hasAttribute(e),a.removeAttribute(e));for(var h in c)this$1._.definition.fullMatch&&a.getStyle(h)!=x(h,c[h],!0)||(g=g||!!a.getStyle(h),a.removeStyle(h));t(a,f,B[a.getName()]);g&&(this._.definition.alwaysRemoveElement?p(a,1):!CKEDITOR.dtd.$block[a.getName()]||this._.enterMode==CKEDITOR.ENTER_BR&&!a.hasAttributes()?p(a):a.renameNode(this._.enterMode==CKEDITOR.ENTER_P?\"p\":\"div\"))}function q(a){\nvar this$1 = this;\nfor(var b=u(this),c=a.getElementsByTag(this.element),d,f=c.count();0<=--f;)d=c.getItem(f),\nd.isReadOnly()||r.call(this$1,d,!0);for(var g in b)if(g!=this$1.element)for(c=a.getElementsByTag(g),f=c.count()-1;0<=f;f--)d=c.getItem(f),d.isReadOnly()||t(d,b[g])}function t(a,b,c){if(b=b&&b.attributes)for(var d=0;d<b.length;d++){var f=b[d][0],g;if(g=a.getAttribute(f)){var e=b[d][1];(null===e||e.test&&e.test(g)||\"string\"==typeof e&&g==e)&&a.removeAttribute(f)}}c||p(a)}function p(a,b){if(!a.hasAttributes()||b)if(CKEDITOR.dtd.$block[a.getName()]){var c=a.getPrevious(G),d=a.getNext(G);!c||c.type!=CKEDITOR.NODE_TEXT&&\nc.isBlockBoundary({br:1})||a.append(\"br\",1);!d||d.type!=CKEDITOR.NODE_TEXT&&d.isBlockBoundary({br:1})||a.append(\"br\");a.remove(!0)}else c=a.getFirst(),d=a.getLast(),a.remove(!0),c&&(c.type==CKEDITOR.NODE_ELEMENT&&c.mergeSiblings(),d&&!c.equals(d)&&d.type==CKEDITOR.NODE_ELEMENT&&d.mergeSiblings())}function w(a,b,c){var d;d=a.element;\"*\"==d&&(d=\"span\");d=new CKEDITOR.dom.element(d,b);c&&c.copyAttributes(d);d=z(d,a);b.getCustomData(\"doc_processing_style\")&&d.hasAttribute(\"id\")?d.removeAttribute(\"id\"):\nb.setCustomData(\"doc_processing_style\",1);return d}function z(a,b){var c=b._.definition,d=c.attributes,c=CKEDITOR.style.getStyleText(c);if(d)for(var f in d)a.setAttribute(f,d[f]);c&&a.setAttribute(\"style\",c);return a}function A(a,b){for(var c in a)a[c]=a[c].replace(E,function(a,c){return b[c]})}function u(a){if(a._.overrides)return a._.overrides;var b=a._.overrides={},c=a._.definition.overrides;if(c){CKEDITOR.tools.isArray(c)||(c=[c]);for(var d=0;d<c.length;d++){var f=c[d],g,e;\"string\"==typeof f?\ng=f.toLowerCase():(g=f.element?f.element.toLowerCase():a.element,e=f.attributes);f=b[g]||(b[g]={});if(e){var f=f.attributes=f.attributes||[],h;for(h in e)f.push([h.toLowerCase(),e[h]])}}}return b}function x(a,b,c){var d=new CKEDITOR.dom.element(\"span\");d[c?\"setStyle\":\"setAttribute\"](a,b);return d[c?\"getStyle\":\"getAttribute\"](a)}function D(a,b){function c(a,b){return\"font-family\"==b.toLowerCase()?a.replace(/[\"']/g,\"\"):a}\"string\"==typeof a&&(a=CKEDITOR.tools.parseCssText(a));\"string\"==typeof b&&(b=\nCKEDITOR.tools.parseCssText(b,!0));for(var d in a)if(!(d in b)||c(b[d],d)!=c(a[d],d)&&\"inherit\"!=a[d]&&\"inherit\"!=b[d])return!1;return!0}function y(a,b,c){\nvar this$1 = this;\nvar d=a.document,f=a.getRanges();b=b?this.removeFromRange:this.applyToRange;for(var g,e=f.createIterator();g=e.getNextRange();)b.call(this$1,g,c);a.selectRanges(f);d.removeCustomData(\"doc_processing_style\")}var B={address:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1,section:1,header:1,footer:1,nav:1,article:1,aside:1,figure:1,dialog:1,hgroup:1,\ntime:1,meter:1,menu:1,command:1,keygen:1,output:1,progress:1,details:1,datagrid:1,datalist:1},C={a:1,blockquote:1,embed:1,hr:1,img:1,li:1,object:1,ol:1,table:1,td:1,tr:1,th:1,ul:1,dl:1,dt:1,dd:1,form:1,audio:1,video:1},F=/\\s*(?:;\\s*|$)/,E=/#\\((.+?)\\)/g,J=CKEDITOR.dom.walker.bookmark(0,1),G=CKEDITOR.dom.walker.whitespaces(1);CKEDITOR.style=function(a,b){if(\"string\"==typeof a.type)return new CKEDITOR.style.customHandlers[a.type](a);var c=a.attributes;c&&c.style&&(a.styles=CKEDITOR.tools.extend({},a.styles,\nCKEDITOR.tools.parseCssText(c.style)),delete c.style);b&&(a=CKEDITOR.tools.clone(a),A(a.attributes,b),A(a.styles,b));c=this.element=a.element?\"string\"==typeof a.element?a.element.toLowerCase():a.element:\"*\";this.type=a.type||(B[c]?CKEDITOR.STYLE_BLOCK:C[c]?CKEDITOR.STYLE_OBJECT:CKEDITOR.STYLE_INLINE);\"object\"==typeof this.element&&(this.type=CKEDITOR.STYLE_OBJECT);this._={definition:a}};CKEDITOR.style.prototype={apply:function(a){if(a instanceof CKEDITOR.dom.document)return y.call(this,a.getSelection());\nif(this.checkApplicable(a.elementPath(),a)){var b=this._.enterMode;b||(this._.enterMode=a.activeEnterMode);y.call(this,a.getSelection(),0,a);this._.enterMode=b}},remove:function(a){if(a instanceof CKEDITOR.dom.document)return y.call(this,a.getSelection(),1);if(this.checkApplicable(a.elementPath(),a)){var b=this._.enterMode;b||(this._.enterMode=a.activeEnterMode);y.call(this,a.getSelection(),1,a);this._.enterMode=b}},applyToRange:function(a){this.applyToRange=this.type==CKEDITOR.STYLE_INLINE?b:this.type==\nCKEDITOR.STYLE_BLOCK?f:this.type==CKEDITOR.STYLE_OBJECT?l:null;return this.applyToRange(a)},removeFromRange:function(a){this.removeFromRange=this.type==CKEDITOR.STYLE_INLINE?c:this.type==CKEDITOR.STYLE_BLOCK?h:this.type==CKEDITOR.STYLE_OBJECT?m:null;return this.removeFromRange(a)},applyToObject:function(a){z(a,this)},checkActive:function(a,b){\nvar this$1 = this;\nswitch(this.type){case CKEDITOR.STYLE_BLOCK:return this.checkElementRemovable(a.block||a.blockLimit,!0,b);case CKEDITOR.STYLE_OBJECT:case CKEDITOR.STYLE_INLINE:for(var c=\na.elements,d=0,f;d<c.length;d++)if(f=c[d],this$1.type!=CKEDITOR.STYLE_INLINE||f!=a.block&&f!=a.blockLimit){if(this$1.type==CKEDITOR.STYLE_OBJECT){var g=f.getName();if(!(\"string\"==typeof this$1.element?g==this$1.element:g in this$1.element))continue}if(this$1.checkElementRemovable(f,!0,b))return!0}}return!1},checkApplicable:function(a,b,c){b&&b instanceof CKEDITOR.filter&&(c=b);if(c&&!c.check(this))return!1;switch(this.type){case CKEDITOR.STYLE_OBJECT:return!!a.contains(this.element);case CKEDITOR.STYLE_BLOCK:return!!a.blockLimit.getDtd()[this.element]}return!0},\ncheckElementMatch:function(a,b){var c=this._.definition;if(!a||!c.ignoreReadonly&&a.isReadOnly())return!1;var d=a.getName();if(\"string\"==typeof this.element?d==this.element:d in this.element){if(!b&&!a.hasAttributes())return!0;if(d=c._AC)c=d;else{var d={},f=0,g=c.attributes;if(g)for(var e in g)f++,d[e]=g[e];if(e=CKEDITOR.style.getStyleText(c))d.style||f++,d.style=e;d._length=f;c=c._AC=d}if(c._length){for(var h in c)if(\"_length\"!=h)if(d=a.getAttribute(h)||\"\",\"style\"==h?D(c[h],d):c[h]==d){if(!b)return!0}else if(b)return!1;\nif(b)return!0}else return!0}return!1},checkElementRemovable:function(a,b,c){if(this.checkElementMatch(a,b,c))return!0;if(b=u(this)[a.getName()]){var d;if(!(b=b.attributes))return!0;for(c=0;c<b.length;c++)if(d=b[c][0],d=a.getAttribute(d)){var f=b[c][1];if(null===f)return!0;if(\"string\"==typeof f){if(d==f)return!0}else if(f.test(d))return!0}}return!1},buildPreview:function(a){var b=this._.definition,c=[],d=b.element;\"bdo\"==d&&(d=\"span\");var c=[\"\\x3c\",d],f=b.attributes;if(f)for(var g in f)c.push(\" \",\ng,'\\x3d\"',f[g],'\"');(f=CKEDITOR.style.getStyleText(b))&&c.push(' style\\x3d\"',f,'\"');c.push(\"\\x3e\",a||b.name,\"\\x3c/\",d,\"\\x3e\");return c.join(\"\")},getDefinition:function(){return this._.definition}};CKEDITOR.style.getStyleText=function(a){var b=a._ST;if(b)return b;var b=a.styles,c=a.attributes&&a.attributes.style||\"\",d=\"\";c.length&&(c=c.replace(F,\";\"));for(var f in b){var g=b[f],e=(f+\":\"+g).replace(F,\";\");\"inherit\"==g?d+=e:c+=e}c.length&&(c=CKEDITOR.tools.normalizeCssText(c,!0));return a._ST=c+d};CKEDITOR.style.customHandlers=\n{};CKEDITOR.style.addCustomHandler=function(a){var b=function(a){this._={definition:a};this.setup&&this.setup(a)};b.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.style.prototype),{assignedTo:CKEDITOR.STYLE_OBJECT},a,!0);return this.customHandlers[a.type]=b};var M=CKEDITOR.POSITION_PRECEDING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED,I=CKEDITOR.POSITION_FOLLOWING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED}(),CKEDITOR.styleCommand=function(a,\ne){this.requiredContent=this.allowedContent=this.style=a;CKEDITOR.tools.extend(this,e,!0)},CKEDITOR.styleCommand.prototype.exec=function(a){a.focus();this.state==CKEDITOR.TRISTATE_OFF?a.applyStyle(this.style):this.state==CKEDITOR.TRISTATE_ON&&a.removeStyle(this.style)},CKEDITOR.stylesSet=new CKEDITOR.resourceManager(\"\",\"stylesSet\"),CKEDITOR.addStylesSet=CKEDITOR.tools.bind(CKEDITOR.stylesSet.add,CKEDITOR.stylesSet),CKEDITOR.loadStylesSet=function(a,e,b){CKEDITOR.stylesSet.addExternal(a,e,\"\");CKEDITOR.stylesSet.load(a,\nb)},CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{attachStyleStateChange:function(a,e){var b=this._.styleStateChangeCallbacks;b||(b=this._.styleStateChangeCallbacks=[],this.on(\"selectionChange\",function(a){\nvar this$1 = this;\nfor(var d=0;d<b.length;d++){var e=b[d],m=e.style.checkActive(a.data.path,this$1)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF;e.fn.call(this$1,m)}}));b.push({style:a,fn:e})},applyStyle:function(a){a.apply(this)},removeStyle:function(a){a.remove(this)},getStylesSet:function(a){if(this._.stylesDefinitions)a(this._.stylesDefinitions);\nelse{var e=this,b=e.config.stylesCombo_stylesSet||e.config.stylesSet;if(!1===b)a(null);else if(b instanceof Array)e._.stylesDefinitions=b,a(b);else{b||(b=\"default\");var b=b.split(\":\"),c=b[0];CKEDITOR.stylesSet.addExternal(c,b[1]?b.slice(1).join(\":\"):CKEDITOR.getUrl(\"styles.js\"),\"\");CKEDITOR.stylesSet.load(c,function(b){e._.stylesDefinitions=b[c];a(e._.stylesDefinitions)})}}}}),CKEDITOR.dom.comment=function(a,e){\"string\"==typeof a&&(a=(e?e.$:document).createComment(a));CKEDITOR.dom.domObject.call(this,\na)},CKEDITOR.dom.comment.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.comment.prototype,{type:CKEDITOR.NODE_COMMENT,getOuterHtml:function(){return\"\\x3c!--\"+this.$.nodeValue+\"--\\x3e\"}}),\"use strict\",function(){var a={},e={},b;for(b in CKEDITOR.dtd.$blockLimit)b in CKEDITOR.dtd.$list||(a[b]=1);for(b in CKEDITOR.dtd.$block)b in CKEDITOR.dtd.$blockLimit||b in CKEDITOR.dtd.$empty||(e[b]=1);CKEDITOR.dom.elementPath=function(b,d){\nvar this$1 = this;\nvar l=null,m=null,f=[],h=b,k;d=d||b.getDocument().getBody();\ndo if(h.type==CKEDITOR.NODE_ELEMENT){f.push(h);if(!this$1.lastElement&&(this$1.lastElement=h,h.is(CKEDITOR.dtd.$object)||\"false\"==h.getAttribute(\"contenteditable\")))continue;if(h.equals(d))break;if(!m&&(k=h.getName(),\"true\"==h.getAttribute(\"contenteditable\")?m=h:!l&&e[k]&&(l=h),a[k])){if(k=!l&&\"div\"==k){a:{k=h.getChildren();for(var g=0,n=k.count();g<n;g++){var v=k.getItem(g);if(v.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$block[v.getName()]){k=!0;break a}}k=!1}k=!k}k?l=h:m=h}}while(h=h.getParent());m||\n(m=d);this.block=l;this.blockLimit=m;this.root=d;this.elements=f}}(),CKEDITOR.dom.elementPath.prototype={compare:function(a){var e=this.elements;a=a&&a.elements;if(!a||e.length!=a.length)return!1;for(var b=0;b<e.length;b++)if(!e[b].equals(a[b]))return!1;return!0},contains:function(a,e,b){var c;\"string\"==typeof a&&(c=function(b){return b.getName()==a});a instanceof CKEDITOR.dom.element?c=function(b){return b.equals(a)}:CKEDITOR.tools.isArray(a)?c=function(b){return-1<CKEDITOR.tools.indexOf(a,b.getName())}:\n\"function\"==typeof a?c=a:\"object\"==typeof a&&(c=function(b){return b.getName()in a});var d=this.elements,l=d.length;e&&l--;b&&(d=Array.prototype.slice.call(d,0),d.reverse());for(e=0;e<l;e++)if(c(d[e]))return d[e];return null},isContextFor:function(a){var e;return a in CKEDITOR.dtd.$block?(e=this.contains(CKEDITOR.dtd.$intermediate)||this.root.equals(this.block)&&this.block||this.blockLimit,!!e.getDtd()[a]):!0},direction:function(){return(this.block||this.blockLimit||this.root).getDirection(1)}},CKEDITOR.dom.text=\nfunction(a,e){\"string\"==typeof a&&(a=(e?e.$:document).createTextNode(a));this.$=a},CKEDITOR.dom.text.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.text.prototype,{type:CKEDITOR.NODE_TEXT,getLength:function(){return this.$.nodeValue.length},getText:function(){return this.$.nodeValue},setText:function(a){this.$.nodeValue=a},split:function(a){var e=this.$.parentNode,b=e.childNodes.length,c=this.getLength(),d=this.getDocument(),l=new CKEDITOR.dom.text(this.$.splitText(a),d);e.childNodes.length==\nb&&(a>=c?(l=d.createText(\"\"),l.insertAfter(this)):(a=d.createText(\"\"),a.insertAfter(l),a.remove()));return l},substring:function(a,e){return\"number\"!=typeof e?this.$.nodeValue.substr(a):this.$.nodeValue.substring(a,e)}}),function(){function a(a,c,d){var e=a.serializable,m=c[d?\"endContainer\":\"startContainer\"],f=d?\"endOffset\":\"startOffset\",h=e?c.document.getById(a.startNode):a.startNode;a=e?c.document.getById(a.endNode):a.endNode;m.equals(h.getPrevious())?(c.startOffset=c.startOffset-m.getLength()-\na.getPrevious().getLength(),m=a.getNext()):m.equals(a.getPrevious())&&(c.startOffset-=m.getLength(),m=a.getNext());m.equals(h.getParent())&&c[f]++;m.equals(a.getParent())&&c[f]++;c[d?\"endContainer\":\"startContainer\"]=m;return c}CKEDITOR.dom.rangeList=function(a){if(a instanceof CKEDITOR.dom.rangeList)return a;a?a instanceof CKEDITOR.dom.range&&(a=[a]):a=[];return CKEDITOR.tools.extend(a,e)};var e={createIterator:function(){var a=this,c=CKEDITOR.dom.walker.bookmark(),d=[],e;return{getNextRange:function(m){e=\nvoid 0===e?0:e+1;var f=a[e];if(f&&1<a.length){if(!e)for(var h=a.length-1;0<=h;h--)d.unshift(a[h].createBookmark(!0));if(m)for(var k=0;a[e+k+1];){var g=f.document;m=0;h=g.getById(d[k].endNode);for(g=g.getById(d[k+1].startNode);;){h=h.getNextSourceNode(!1);if(g.equals(h))m=1;else if(c(h)||h.type==CKEDITOR.NODE_ELEMENT&&h.isBlockBoundary())continue;break}if(!m)break;k++}for(f.moveToBookmark(d.shift());k--;)h=a[++e],h.moveToBookmark(d.shift()),f.setEnd(h.endContainer,h.endOffset)}return f}}},createBookmarks:function(b){\nvar this$1 = this;\nfor(var c=\n[],d,e=0;e<this.length;e++){c.push(d=this$1[e].createBookmark(b,!0));for(var m=e+1;m<this.length;m++)this$1[m]=a(d,this$1[m]),this$1[m]=a(d,this$1[m],!0)}return c},createBookmarks2:function(a){\nvar this$1 = this;\nfor(var c=[],d=0;d<this.length;d++)c.push(this$1[d].createBookmark2(a));return c},moveToBookmarks:function(a){\nvar this$1 = this;\nfor(var c=0;c<this.length;c++)this$1[c].moveToBookmark(a[c])}}}(),function(){function a(){return CKEDITOR.getUrl(CKEDITOR.skinName.split(\",\")[1]||\"skins/\"+CKEDITOR.skinName.split(\",\")[0]+\"/\")}function e(b){var c=\nCKEDITOR.skin[\"ua_\"+b],d=CKEDITOR.env;if(c)for(var c=c.split(\",\").sort(function(a,b){return a>b?-1:1}),f=0,e;f<c.length;f++)if(e=c[f],d.ie&&(e.replace(/^ie/,\"\")==d.version||d.quirks&&\"iequirks\"==e)&&(e=\"ie\"),d[e]){b+=\"_\"+c[f];break}return CKEDITOR.getUrl(a()+b+\".css\")}function b(a,b){l[a]||(CKEDITOR.document.appendStyleSheet(e(a)),l[a]=1);b&&b()}function c(a){var b=a.getById(m);b||(b=a.getHead().append(\"style\"),b.setAttribute(\"id\",m),b.setAttribute(\"type\",\"text/css\"));return b}function d(a,b,c){var d,\nf,e;if(CKEDITOR.env.webkit)for(b=b.split(\"}\").slice(0,-1),f=0;f<b.length;f++)b[f]=b[f].split(\"{\");for(var h=0;h<a.length;h++)if(CKEDITOR.env.webkit)for(f=0;f<b.length;f++){e=b[f][1];for(d=0;d<c.length;d++)e=e.replace(c[d][0],c[d][1]);a[h].$.sheet.addRule(b[f][0],e)}else{e=b;for(d=0;d<c.length;d++)e=e.replace(c[d][0],c[d][1]);CKEDITOR.env.ie&&11>CKEDITOR.env.version?a[h].$.styleSheet.cssText+=e:a[h].$.innerHTML+=e}}var l={};CKEDITOR.skin={path:a,loadPart:function(c,d){CKEDITOR.skin.name!=CKEDITOR.skinName.split(\",\")[0]?\nCKEDITOR.scriptLoader.load(CKEDITOR.getUrl(a()+\"skin.js\"),function(){b(c,d)}):b(c,d)},getPath:function(a){return CKEDITOR.getUrl(e(a))},icons:{},addIcon:function(a,b,c,d){a=a.toLowerCase();this.icons[a]||(this.icons[a]={path:b,offset:c||0,bgsize:d||\"16px\"})},getIconStyle:function(a,b,c,d,f){var e;a&&(a=a.toLowerCase(),b&&(e=this.icons[a+\"-rtl\"]),e||(e=this.icons[a]));a=c||e&&e.path||\"\";d=d||e&&e.offset;f=f||e&&e.bgsize||\"16px\";a&&(a=a.replace(/'/g,\"\\\\'\"));return a&&\"background-image:url('\"+CKEDITOR.getUrl(a)+\n\"');background-position:0 \"+d+\"px;background-size:\"+f+\";\"}};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{getUiColor:function(){return this.uiColor},setUiColor:function(a){var b=c(CKEDITOR.document);return(this.setUiColor=function(a){this.uiColor=a;var c=CKEDITOR.skin.chameleon,e=\"\",k=\"\";\"function\"==typeof c&&(e=c(this,\"editor\"),k=c(this,\"panel\"));a=[[h,a]];d([b],e,a);d(f,k,a)}).call(this,a)}});var m=\"cke_ui_color\",f=[],h=/\\$color/g;CKEDITOR.on(\"instanceLoaded\",function(a){if(!CKEDITOR.env.ie||\n!CKEDITOR.env.quirks){var b=a.editor;a=function(a){a=(a.data[0]||a.data).element.getElementsByTag(\"iframe\").getItem(0).getFrameDocument();if(!a.getById(\"cke_ui_color\")){a=c(a);f.push(a);var e=b.getUiColor();e&&d([a],CKEDITOR.skin.chameleon(b,\"panel\"),[[h,e]])}};b.on(\"panelShow\",a);b.on(\"menuShow\",a);b.config.uiColor&&b.setUiColor(b.config.uiColor)}})}(),function(){if(CKEDITOR.env.webkit)CKEDITOR.env.hc=!1;else{var a=CKEDITOR.dom.element.createFromHtml('\\x3cdiv style\\x3d\"width:0;height:0;position:absolute;left:-10000px;border:1px solid;border-color:red blue\"\\x3e\\x3c/div\\x3e',\nCKEDITOR.document);a.appendTo(CKEDITOR.document.getHead());try{var e=a.getComputedStyle(\"border-top-color\"),b=a.getComputedStyle(\"border-right-color\");CKEDITOR.env.hc=!(!e||e!=b)}catch(c){CKEDITOR.env.hc=!1}a.remove()}CKEDITOR.env.hc&&(CKEDITOR.env.cssClass+=\" cke_hc\");CKEDITOR.document.appendStyleText(\".cke{visibility:hidden;}\");CKEDITOR.status=\"loaded\";CKEDITOR.fireOnce(\"loaded\");if(a=CKEDITOR._.pending)for(delete CKEDITOR._.pending,e=0;e<a.length;e++)CKEDITOR.editor.prototype.constructor.apply(a[e][0],\na[e][1]),CKEDITOR.add(a[e][0])}(),CKEDITOR.skin.name=\"moono\",CKEDITOR.skin.ua_editor=\"ie,iequirks,ie7,ie8,gecko\",CKEDITOR.skin.ua_dialog=\"ie,iequirks,ie7,ie8\",CKEDITOR.skin.chameleon=function(){var a=function(){return function(a,b){for(var e=a.match(/[^#]./g),m=0;3>m;m++){var f=m,h;h=parseInt(e[m],16);h=(\"0\"+(0>b?0|h*(1+b):0|h+(255-h)*b).toString(16)).slice(-2);e[f]=h}return\"#\"+e.join(\"\")}}(),e=function(){var a=new CKEDITOR.template(\"background:#{to};background-image:linear-gradient(to bottom,{from},{to});filter:progid:DXImageTransform.Microsoft.gradient(gradientType\\x3d0,startColorstr\\x3d'{from}',endColorstr\\x3d'{to}');\");\nreturn function(b,e){return a.output({from:b,to:e})}}(),b={editor:new CKEDITOR.template(\"{id}.cke_chrome [border-color:{defaultBorder};] {id} .cke_top [ {defaultGradient}border-bottom-color:{defaultBorder};] {id} .cke_bottom [{defaultGradient}border-top-color:{defaultBorder};] {id} .cke_resizer [border-right-color:{ckeResizer}] {id} .cke_dialog_title [{defaultGradient}border-bottom-color:{defaultBorder};] {id} .cke_dialog_footer [{defaultGradient}outline-color:{defaultBorder};border-top-color:{defaultBorder};] {id} .cke_dialog_tab [{lightGradient}border-color:{defaultBorder};] {id} .cke_dialog_tab:hover [{mediumGradient}] {id} .cke_dialog_contents [border-top-color:{defaultBorder};] {id} .cke_dialog_tab_selected, {id} .cke_dialog_tab_selected:hover [background:{dialogTabSelected};border-bottom-color:{dialogTabSelectedBorder};] {id} .cke_dialog_body [background:{dialogBody};border-color:{defaultBorder};] {id} .cke_toolgroup [{lightGradient}border-color:{defaultBorder};] {id} a.cke_button_off:hover, {id} a.cke_button_off:focus, {id} a.cke_button_off:active [{mediumGradient}] {id} .cke_button_on [{ckeButtonOn}] {id} .cke_toolbar_separator [background-color: {ckeToolbarSeparator};] {id} .cke_combo_button [border-color:{defaultBorder};{lightGradient}] {id} a.cke_combo_button:hover, {id} a.cke_combo_button:focus, {id} .cke_combo_on a.cke_combo_button [border-color:{defaultBorder};{mediumGradient}] {id} .cke_path_item [color:{elementsPathColor};] {id} a.cke_path_item:hover, {id} a.cke_path_item:focus, {id} a.cke_path_item:active [background-color:{elementsPathBg};] {id}.cke_panel [border-color:{defaultBorder};] \"),\npanel:new CKEDITOR.template(\".cke_panel_grouptitle [{lightGradient}border-color:{defaultBorder};] .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menubutton:hover .cke_menubutton_icon, .cke_menubutton:focus .cke_menubutton_icon, .cke_menubutton:active .cke_menubutton_icon [background-color:{menubuttonIconHover};] .cke_menuseparator [background-color:{menubuttonIcon};] a:hover.cke_colorbox, a:focus.cke_colorbox, a:active.cke_colorbox [border-color:{defaultBorder};] a:hover.cke_colorauto, a:hover.cke_colormore, a:focus.cke_colorauto, a:focus.cke_colormore, a:active.cke_colorauto, a:active.cke_colormore [background-color:{ckeColorauto};border-color:{defaultBorder};] \")};\nreturn function(c,d){var l=c.uiColor,l={id:\".\"+c.id,defaultBorder:a(l,-.1),defaultGradient:e(a(l,.9),l),lightGradient:e(a(l,1),a(l,.7)),mediumGradient:e(a(l,.8),a(l,.5)),ckeButtonOn:e(a(l,.6),a(l,.7)),ckeResizer:a(l,-.4),ckeToolbarSeparator:a(l,.5),ckeColorauto:a(l,.8),dialogBody:a(l,.7),dialogTabSelected:e(\"#FFFFFF\",\"#FFFFFF\"),dialogTabSelectedBorder:\"#FFF\",elementsPathColor:a(l,-.6),elementsPathBg:l,menubuttonIcon:a(l,.5),menubuttonIconHover:a(l,.3)};return b[d].output(l).replace(/\\[/g,\"{\").replace(/\\]/g,\n\"}\")}}(),CKEDITOR.plugins.add(\"dialogui\",{onLoad:function(){var a=function(a){\nvar arguments$1 = arguments;\nthis._||(this._={});this._[\"default\"]=this._.initValue=a[\"default\"]||\"\";this._.required=a.required||!1;for(var b=[this._],c=1;c<arguments.length;c++)b.push(arguments$1[c]);b.push(!0);CKEDITOR.tools.extend.apply(CKEDITOR.tools,b);return this._},e={build:function(a,b,c){return new CKEDITOR.ui.dialog.textInput(a,b,c)}},b={build:function(a,b,c){return new CKEDITOR.ui.dialog[b.type](a,b,c)}},c={isChanged:function(){return this.getValue()!=\nthis.getInitValue()},reset:function(a){this.setValue(this.getInitValue(),a)},setInitValue:function(){this._.initValue=this.getValue()},resetInitValue:function(){this._.initValue=this._[\"default\"]},getInitValue:function(){return this._.initValue}},d=CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onChange:function(a,b){this._.domOnChangeRegistered||(a.on(\"load\",function(){this.getInputElement().on(\"change\",function(){a.parts.dialog.isVisible()&&this.fire(\"change\",{value:this.getValue()})},\nthis)},this),this._.domOnChangeRegistered=!0);this.on(\"change\",b)}},!0),l=/^on([A-Z]\\w+)/,m=function(a){for(var b in a)(l.test(b)||\"title\"==b||\"type\"==b)&&delete a[b];return a},f=function(a){a=a.data.getKeystroke();a==CKEDITOR.SHIFT+CKEDITOR.ALT+36?this.setDirectionMarker(\"ltr\"):a==CKEDITOR.SHIFT+CKEDITOR.ALT+35&&this.setDirectionMarker(\"rtl\")};CKEDITOR.tools.extend(CKEDITOR.ui.dialog,{labeledElement:function(b,c,d,f){if(!(4>arguments.length)){var e=a.call(this,c);e.labelId=CKEDITOR.tools.getNextId()+\n\"_label\";this._.children=[];var l={role:c.role||\"presentation\"};c.includeLabel&&(l[\"aria-labelledby\"]=e.labelId);CKEDITOR.ui.dialog.uiElement.call(this,b,c,d,\"div\",null,l,function(){var a=[],d=c.required?\" cke_required\":\"\";\"horizontal\"!=c.labelLayout?a.push('\\x3clabel class\\x3d\"cke_dialog_ui_labeled_label'+d+'\" ',' id\\x3d\"'+e.labelId+'\"',e.inputId?' for\\x3d\"'+e.inputId+'\"':\"\",(c.labelStyle?' style\\x3d\"'+c.labelStyle+'\"':\"\")+\"\\x3e\",c.label,\"\\x3c/label\\x3e\",'\\x3cdiv class\\x3d\"cke_dialog_ui_labeled_content\"',\nc.controlStyle?' style\\x3d\"'+c.controlStyle+'\"':\"\",' role\\x3d\"presentation\"\\x3e',f.call(this,b,c),\"\\x3c/div\\x3e\"):(d={type:\"hbox\",widths:c.widths,padding:0,children:[{type:\"html\",html:'\\x3clabel class\\x3d\"cke_dialog_ui_labeled_label'+d+'\" id\\x3d\"'+e.labelId+'\" for\\x3d\"'+e.inputId+'\"'+(c.labelStyle?' style\\x3d\"'+c.labelStyle+'\"':\"\")+\"\\x3e\"+CKEDITOR.tools.htmlEncode(c.label)+\"\\x3c/label\\x3e\"},{type:\"html\",html:'\\x3cspan class\\x3d\"cke_dialog_ui_labeled_content\"'+(c.controlStyle?' style\\x3d\"'+c.controlStyle+\n'\"':\"\")+\"\\x3e\"+f.call(this,b,c)+\"\\x3c/span\\x3e\"}]},CKEDITOR.dialog._.uiElementBuilders.hbox.build(b,d,a));return a.join(\"\")})}},textInput:function(b,c,d){if(!(3>arguments.length)){a.call(this,c);var e=this._.inputId=CKEDITOR.tools.getNextId()+\"_textInput\",l={\"class\":\"cke_dialog_ui_input_\"+c.type,id:e,type:c.type};c.validate&&(this.validate=c.validate);c.maxLength&&(l.maxlength=c.maxLength);c.size&&(l.size=c.size);c.inputStyle&&(l.style=c.inputStyle);var m=this,q=!1;b.on(\"load\",function(){m.getInputElement().on(\"keydown\",\nfunction(a){13==a.data.getKeystroke()&&(q=!0)});m.getInputElement().on(\"keyup\",function(a){13==a.data.getKeystroke()&&q&&(b.getButton(\"ok\")&&setTimeout(function(){b.getButton(\"ok\").click()},0),q=!1);m.bidi&&f.call(m,a)},null,null,1E3)});CKEDITOR.ui.dialog.labeledElement.call(this,b,c,d,function(){var a=['\\x3cdiv class\\x3d\"cke_dialog_ui_input_',c.type,'\" role\\x3d\"presentation\"'];c.width&&a.push('style\\x3d\"width:'+c.width+'\" ');a.push(\"\\x3e\\x3cinput \");l[\"aria-labelledby\"]=this._.labelId;this._.required&&\n(l[\"aria-required\"]=this._.required);for(var b in l)a.push(b+'\\x3d\"'+l[b]+'\" ');a.push(\" /\\x3e\\x3c/div\\x3e\");return a.join(\"\")})}},textarea:function(b,c,d){if(!(3>arguments.length)){a.call(this,c);var e=this,l=this._.inputId=CKEDITOR.tools.getNextId()+\"_textarea\",m={};c.validate&&(this.validate=c.validate);m.rows=c.rows||5;m.cols=c.cols||20;m[\"class\"]=\"cke_dialog_ui_input_textarea \"+(c[\"class\"]||\"\");\"undefined\"!=typeof c.inputStyle&&(m.style=c.inputStyle);c.dir&&(m.dir=c.dir);if(e.bidi)b.on(\"load\",\nfunction(){e.getInputElement().on(\"keyup\",f)},e);CKEDITOR.ui.dialog.labeledElement.call(this,b,c,d,function(){m[\"aria-labelledby\"]=this._.labelId;this._.required&&(m[\"aria-required\"]=this._.required);var a=['\\x3cdiv class\\x3d\"cke_dialog_ui_input_textarea\" role\\x3d\"presentation\"\\x3e\\x3ctextarea id\\x3d\"',l,'\" '],b;for(b in m)a.push(b+'\\x3d\"'+CKEDITOR.tools.htmlEncode(m[b])+'\" ');a.push(\"\\x3e\",CKEDITOR.tools.htmlEncode(e._[\"default\"]),\"\\x3c/textarea\\x3e\\x3c/div\\x3e\");return a.join(\"\")})}},checkbox:function(b,\nc,d){if(!(3>arguments.length)){var f=a.call(this,c,{\"default\":!!c[\"default\"]});c.validate&&(this.validate=c.validate);CKEDITOR.ui.dialog.uiElement.call(this,b,c,d,\"span\",null,null,function(){var a=CKEDITOR.tools.extend({},c,{id:c.id?c.id+\"_checkbox\":CKEDITOR.tools.getNextId()+\"_checkbox\"},!0),d=[],e=CKEDITOR.tools.getNextId()+\"_label\",g={\"class\":\"cke_dialog_ui_checkbox_input\",type:\"checkbox\",\"aria-labelledby\":e};m(a);c[\"default\"]&&(g.checked=\"checked\");\"undefined\"!=typeof a.inputStyle&&(a.style=a.inputStyle);\nf.checkbox=new CKEDITOR.ui.dialog.uiElement(b,a,d,\"input\",null,g);d.push(' \\x3clabel id\\x3d\"',e,'\" for\\x3d\"',g.id,'\"'+(c.labelStyle?' style\\x3d\"'+c.labelStyle+'\"':\"\")+\"\\x3e\",CKEDITOR.tools.htmlEncode(c.label),\"\\x3c/label\\x3e\");return d.join(\"\")})}},radio:function(b,c,d){if(!(3>arguments.length)){a.call(this,c);this._[\"default\"]||(this._[\"default\"]=this._.initValue=c.items[0][1]);c.validate&&(this.validate=c.validate);var f=[],e=this;c.role=\"radiogroup\";c.includeLabel=!0;CKEDITOR.ui.dialog.labeledElement.call(this,\nb,c,d,function(){for(var a=[],d=[],g=(c.id?c.id:CKEDITOR.tools.getNextId())+\"_radio\",l=0;l<c.items.length;l++){var w=c.items[l],z=void 0!==w[2]?w[2]:w[0],A=void 0!==w[1]?w[1]:w[0],u=CKEDITOR.tools.getNextId()+\"_radio_input\",x=u+\"_label\",u=CKEDITOR.tools.extend({},c,{id:u,title:null,type:null},!0),z=CKEDITOR.tools.extend({},u,{title:z},!0),D={type:\"radio\",\"class\":\"cke_dialog_ui_radio_input\",name:g,value:A,\"aria-labelledby\":x},y=[];e._[\"default\"]==A&&(D.checked=\"checked\");m(u);m(z);\"undefined\"!=typeof u.inputStyle&&\n(u.style=u.inputStyle);u.keyboardFocusable=!0;f.push(new CKEDITOR.ui.dialog.uiElement(b,u,y,\"input\",null,D));y.push(\" \");new CKEDITOR.ui.dialog.uiElement(b,z,y,\"label\",null,{id:x,\"for\":D.id},w[0]);a.push(y.join(\"\"))}new CKEDITOR.ui.dialog.hbox(b,f,a,d);return d.join(\"\")});this._.children=f}},button:function(b,c,d){if(arguments.length){\"function\"==typeof c&&(c=c(b.getParentEditor()));a.call(this,c,{disabled:c.disabled||!1});CKEDITOR.event.implementOn(this);var f=this;b.on(\"load\",function(){var a=this.getElement();\n(function(){a.on(\"click\",function(a){f.click();a.data.preventDefault()});a.on(\"keydown\",function(a){a.data.getKeystroke()in{32:1}&&(f.click(),a.data.preventDefault())})})();a.unselectable()},this);var e=CKEDITOR.tools.extend({},c);delete e.style;var l=CKEDITOR.tools.getNextId()+\"_label\";CKEDITOR.ui.dialog.uiElement.call(this,b,e,d,\"a\",null,{style:c.style,href:\"javascript:void(0)\",title:c.label,hidefocus:\"true\",\"class\":c[\"class\"],role:\"button\",\"aria-labelledby\":l},'\\x3cspan id\\x3d\"'+l+'\" class\\x3d\"cke_dialog_ui_button\"\\x3e'+\nCKEDITOR.tools.htmlEncode(c.label)+\"\\x3c/span\\x3e\")}},select:function(b,c,d){if(!(3>arguments.length)){var f=a.call(this,c);c.validate&&(this.validate=c.validate);f.inputId=CKEDITOR.tools.getNextId()+\"_select\";CKEDITOR.ui.dialog.labeledElement.call(this,b,c,d,function(){var a=CKEDITOR.tools.extend({},c,{id:c.id?c.id+\"_select\":CKEDITOR.tools.getNextId()+\"_select\"},!0),d=[],e=[],g={id:f.inputId,\"class\":\"cke_dialog_ui_input_select\",\"aria-labelledby\":this._.labelId};d.push('\\x3cdiv class\\x3d\"cke_dialog_ui_input_',\nc.type,'\" role\\x3d\"presentation\"');c.width&&d.push('style\\x3d\"width:'+c.width+'\" ');d.push(\"\\x3e\");void 0!==c.size&&(g.size=c.size);void 0!==c.multiple&&(g.multiple=c.multiple);m(a);for(var l=0,w;l<c.items.length&&(w=c.items[l]);l++)e.push('\\x3coption value\\x3d\"',CKEDITOR.tools.htmlEncode(void 0!==w[1]?w[1]:w[0]).replace(/\"/g,\"\\x26quot;\"),'\" /\\x3e ',CKEDITOR.tools.htmlEncode(w[0]));\"undefined\"!=typeof a.inputStyle&&(a.style=a.inputStyle);f.select=new CKEDITOR.ui.dialog.uiElement(b,a,d,\"select\",null,\ng,e.join(\"\"));d.push(\"\\x3c/div\\x3e\");return d.join(\"\")})}},file:function(b,c,d){if(!(3>arguments.length)){void 0===c[\"default\"]&&(c[\"default\"]=\"\");var f=CKEDITOR.tools.extend(a.call(this,c),{definition:c,buttons:[]});c.validate&&(this.validate=c.validate);b.on(\"load\",function(){CKEDITOR.document.getById(f.frameId).getParent().addClass(\"cke_dialog_ui_input_file\")});CKEDITOR.ui.dialog.labeledElement.call(this,b,c,d,function(){f.frameId=CKEDITOR.tools.getNextId()+\"_fileInput\";var a=['\\x3ciframe frameborder\\x3d\"0\" allowtransparency\\x3d\"0\" class\\x3d\"cke_dialog_ui_input_file\" role\\x3d\"presentation\" id\\x3d\"',\nf.frameId,'\" title\\x3d\"',c.label,'\" src\\x3d\"javascript:void('];a.push(CKEDITOR.env.ie?\"(function(){\"+encodeURIComponent(\"document.open();(\"+CKEDITOR.tools.fixDomain+\")();document.close();\")+\"})()\":\"0\");a.push(')\"\\x3e\\x3c/iframe\\x3e');return a.join(\"\")})}},fileButton:function(b,c,d){var f=this;if(!(3>arguments.length)){a.call(this,c);c.validate&&(this.validate=c.validate);var e=CKEDITOR.tools.extend({},c),l=e.onClick;e.className=(e.className?e.className+\" \":\"\")+\"cke_dialog_ui_button\";e.onClick=function(a){var d=\nc[\"for\"];l&&!1===l.call(this,a)||(b.getContentElement(d[0],d[1]).submit(),this.disable())};b.on(\"load\",function(){b.getContentElement(c[\"for\"][0],c[\"for\"][1])._.buttons.push(f)});CKEDITOR.ui.dialog.button.call(this,b,e,d)}},html:function(){var a=/^\\s*<[\\w:]+\\s+([^>]*)?>/,b=/^(\\s*<[\\w:]+(?:\\s+[^>]*)?)((?:.|\\r|\\n)+)$/,c=/\\/$/;return function(d,f,e){if(!(3>arguments.length)){var l=[],m=f.html;\"\\x3c\"!=m.charAt(0)&&(m=\"\\x3cspan\\x3e\"+m+\"\\x3c/span\\x3e\");var p=f.focus;if(p){var w=this.focus;this.focus=function(){(\"function\"==\ntypeof p?p:w).call(this);this.fire(\"focus\")};f.isFocusable&&(this.isFocusable=this.isFocusable);this.keyboardFocusable=!0}CKEDITOR.ui.dialog.uiElement.call(this,d,f,l,\"span\",null,null,\"\");l=l.join(\"\").match(a);m=m.match(b)||[\"\",\"\",\"\"];c.test(m[1])&&(m[1]=m[1].slice(0,-1),m[2]=\"/\"+m[2]);e.push([m[1],\" \",l[1]||\"\",m[2]].join(\"\"))}}}(),fieldset:function(a,b,c,d,f){var e=f.label;this._={children:b};CKEDITOR.ui.dialog.uiElement.call(this,a,f,d,\"fieldset\",null,null,function(){var a=[];e&&a.push(\"\\x3clegend\"+\n(f.labelStyle?' style\\x3d\"'+f.labelStyle+'\"':\"\")+\"\\x3e\"+e+\"\\x3c/legend\\x3e\");for(var b=0;b<c.length;b++)a.push(c[b]);return a.join(\"\")})}},!0);CKEDITOR.ui.dialog.html.prototype=new CKEDITOR.ui.dialog.uiElement;CKEDITOR.ui.dialog.labeledElement.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setLabel:function(a){var b=CKEDITOR.document.getById(this._.labelId);1>b.getChildCount()?(new CKEDITOR.dom.text(a,CKEDITOR.document)).appendTo(b):b.getChild(0).$.nodeValue=a;return this},getLabel:function(){var a=\nCKEDITOR.document.getById(this._.labelId);return!a||1>a.getChildCount()?\"\":a.getChild(0).getText()},eventProcessors:d},!0);CKEDITOR.ui.dialog.button.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{click:function(){return this._.disabled?!1:this.fire(\"click\",{dialog:this._.dialog})},enable:function(){this._.disabled=!1;var a=this.getElement();a&&a.removeClass(\"cke_disabled\")},disable:function(){this._.disabled=!0;this.getElement().addClass(\"cke_disabled\")},isVisible:function(){return this.getElement().getFirst().isVisible()},\nisEnabled:function(){return!this._.disabled},eventProcessors:CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onClick:function(a,b){this.on(\"click\",function(){b.apply(this,arguments)})}},!0),accessKeyUp:function(){this.click()},accessKeyDown:function(){this.focus()},keyboardFocusable:!0},!0);CKEDITOR.ui.dialog.textInput.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return CKEDITOR.document.getById(this._.inputId)},\nfocus:function(){var a=this.selectParentTab();setTimeout(function(){var b=a.getInputElement();b&&b.$.focus()},0)},select:function(){var a=this.selectParentTab();setTimeout(function(){var b=a.getInputElement();b&&(b.$.focus(),b.$.select())},0)},accessKeyUp:function(){this.select()},setValue:function(a){if(this.bidi){var b=a&&a.charAt(0);(b=\"‪\"==b?\"ltr\":\"‫\"==b?\"rtl\":null)&&(a=a.slice(1));this.setDirectionMarker(b)}a||(a=\"\");return CKEDITOR.ui.dialog.uiElement.prototype.setValue.apply(this,arguments)},\ngetValue:function(){var a=CKEDITOR.ui.dialog.uiElement.prototype.getValue.call(this);if(this.bidi&&a){var b=this.getDirectionMarker();b&&(a=(\"ltr\"==b?\"‪\":\"‫\")+a)}return a},setDirectionMarker:function(a){var b=this.getInputElement();a?b.setAttributes({dir:a,\"data-cke-dir-marker\":a}):this.getDirectionMarker()&&b.removeAttributes([\"dir\",\"data-cke-dir-marker\"])},getDirectionMarker:function(){return this.getInputElement().data(\"cke-dir-marker\")},keyboardFocusable:!0},c,!0);CKEDITOR.ui.dialog.textarea.prototype=\nnew CKEDITOR.ui.dialog.textInput;CKEDITOR.ui.dialog.select.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return this._.select.getElement()},add:function(a,b,c){var d=new CKEDITOR.dom.element(\"option\",this.getDialog().getParentEditor().document),f=this.getInputElement().$;d.$.text=a;d.$.value=void 0===b||null===b?a:b;void 0===c||null===c?CKEDITOR.env.ie?f.add(d.$):f.add(d.$,null):f.add(d.$,c);return this},remove:function(a){this.getInputElement().$.remove(a);\nreturn this},clear:function(){for(var a=this.getInputElement().$;0<a.length;)a.remove(0);return this},keyboardFocusable:!0},c,!0);CKEDITOR.ui.dialog.checkbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getInputElement:function(){return this._.checkbox.getElement()},setValue:function(a,b){this.getInputElement().$.checked=a;!b&&this.fire(\"change\",{value:a})},getValue:function(){return this.getInputElement().$.checked},accessKeyUp:function(){this.setValue(!this.getValue())},eventProcessors:{onChange:function(a,\nb){if(!CKEDITOR.env.ie||8<CKEDITOR.env.version)return d.onChange.apply(this,arguments);a.on(\"load\",function(){var a=this._.checkbox.getElement();a.on(\"propertychange\",function(b){b=b.data.$;\"checked\"==b.propertyName&&this.fire(\"change\",{value:a.$.checked})},this)},this);this.on(\"change\",b);return null}},keyboardFocusable:!0},c,!0);CKEDITOR.ui.dialog.radio.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setValue:function(a,b){for(var c=this._.children,d,f=0;f<c.length&&(d=c[f]);f++)d.getElement().$.checked=\nd.getValue()==a;!b&&this.fire(\"change\",{value:a})},getValue:function(){for(var a=this._.children,b=0;b<a.length;b++)if(a[b].getElement().$.checked)return a[b].getValue();return null},accessKeyUp:function(){var a=this._.children,b;for(b=0;b<a.length;b++)if(a[b].getElement().$.checked){a[b].getElement().focus();return}a[0].getElement().focus()},eventProcessors:{onChange:function(a,b){if(!CKEDITOR.env.ie||8<CKEDITOR.env.version)return d.onChange.apply(this,arguments);a.on(\"load\",function(){for(var a=\nthis._.children,b=this,c=0;c<a.length;c++)a[c].getElement().on(\"propertychange\",function(a){a=a.data.$;\"checked\"==a.propertyName&&this.$.checked&&b.fire(\"change\",{value:this.getAttribute(\"value\")})})},this);this.on(\"change\",b);return null}}},c,!0);CKEDITOR.ui.dialog.file.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,c,{getInputElement:function(){var a=CKEDITOR.document.getById(this._.frameId).getFrameDocument();return 0<a.$.forms.length?new CKEDITOR.dom.element(a.$.forms[0].elements[0]):\nthis.getElement()},submit:function(){this.getInputElement().getParent().$.submit();return this},getAction:function(){return this.getInputElement().getParent().$.action},registerEvents:function(a){\nvar this$1 = this;\nvar b=/^on([A-Z]\\w+)/,c,d=function(a,b,c,d){a.on(\"formLoaded\",function(){a.getInputElement().on(c,d,a)})},f;for(f in a)if(c=f.match(b))this$1.eventProcessors[f]?this$1.eventProcessors[f].call(this$1,this$1._.dialog,a[f]):d(this$1,this$1._.dialog,c[1].toLowerCase(),a[f]);return this},reset:function(){function a(){c.$.open();\nvar h=\"\";d.size&&(h=d.size-(CKEDITOR.env.ie?7:0));var z=b.frameId+\"_input\";c.$.write(['\\x3chtml dir\\x3d\"'+m+'\" lang\\x3d\"'+p+'\"\\x3e\\x3chead\\x3e\\x3ctitle\\x3e\\x3c/title\\x3e\\x3c/head\\x3e\\x3cbody style\\x3d\"margin: 0; overflow: hidden; background: transparent;\"\\x3e','\\x3cform enctype\\x3d\"multipart/form-data\" method\\x3d\"POST\" dir\\x3d\"'+m+'\" lang\\x3d\"'+p+'\" action\\x3d\"',CKEDITOR.tools.htmlEncode(d.action),'\"\\x3e\\x3clabel id\\x3d\"',b.labelId,'\" for\\x3d\"',z,'\" style\\x3d\"display:none\"\\x3e',CKEDITOR.tools.htmlEncode(d.label),\n'\\x3c/label\\x3e\\x3cinput style\\x3d\"width:100%\" id\\x3d\"',z,'\" aria-labelledby\\x3d\"',b.labelId,'\" type\\x3d\"file\" name\\x3d\"',CKEDITOR.tools.htmlEncode(d.id||\"cke_upload\"),'\" size\\x3d\"',CKEDITOR.tools.htmlEncode(0<h?h:\"\"),'\" /\\x3e\\x3c/form\\x3e\\x3c/body\\x3e\\x3c/html\\x3e\\x3cscript\\x3e',CKEDITOR.env.ie?\"(\"+CKEDITOR.tools.fixDomain+\")();\":\"\",\"window.parent.CKEDITOR.tools.callFunction(\"+e+\");\",\"window.onbeforeunload \\x3d function() {window.parent.CKEDITOR.tools.callFunction(\"+l+\")}\",\"\\x3c/script\\x3e\"].join(\"\"));\nc.$.close();for(h=0;h<f.length;h++)f[h].enable()}var b=this._,c=CKEDITOR.document.getById(b.frameId).getFrameDocument(),d=b.definition,f=b.buttons,e=this.formLoadedNumber,l=this.formUnloadNumber,m=b.dialog._.editor.lang.dir,p=b.dialog._.editor.langCode;e||(e=this.formLoadedNumber=CKEDITOR.tools.addFunction(function(){this.fire(\"formLoaded\")},this),l=this.formUnloadNumber=CKEDITOR.tools.addFunction(function(){this.getInputElement().clearCustomData()},this),this.getDialog()._.editor.on(\"destroy\",function(){CKEDITOR.tools.removeFunction(e);\nCKEDITOR.tools.removeFunction(l)}));CKEDITOR.env.gecko?setTimeout(a,500):a()},getValue:function(){return this.getInputElement().$.value||\"\"},setInitValue:function(){this._.initValue=\"\"},eventProcessors:{onChange:function(a,b){this._.domOnChangeRegistered||(this.on(\"formLoaded\",function(){this.getInputElement().on(\"change\",function(){this.fire(\"change\",{value:this.getValue()})},this)},this),this._.domOnChangeRegistered=!0);this.on(\"change\",b)}},keyboardFocusable:!0},!0);CKEDITOR.ui.dialog.fileButton.prototype=\nnew CKEDITOR.ui.dialog.button;CKEDITOR.ui.dialog.fieldset.prototype=CKEDITOR.tools.clone(CKEDITOR.ui.dialog.hbox.prototype);CKEDITOR.dialog.addUIElement(\"text\",e);CKEDITOR.dialog.addUIElement(\"password\",e);CKEDITOR.dialog.addUIElement(\"textarea\",b);CKEDITOR.dialog.addUIElement(\"checkbox\",b);CKEDITOR.dialog.addUIElement(\"radio\",b);CKEDITOR.dialog.addUIElement(\"button\",b);CKEDITOR.dialog.addUIElement(\"select\",b);CKEDITOR.dialog.addUIElement(\"file\",b);CKEDITOR.dialog.addUIElement(\"fileButton\",b);CKEDITOR.dialog.addUIElement(\"html\",\nb);CKEDITOR.dialog.addUIElement(\"fieldset\",{build:function(a,b,c){for(var d=b.children,f,e=[],l=[],m=0;m<d.length&&(f=d[m]);m++){var p=[];e.push(p);l.push(CKEDITOR.dialog._.uiElementBuilders[f.type].build(a,f,p))}return new CKEDITOR.ui.dialog[b.type](a,l,e,c,b)}})}}),CKEDITOR.DIALOG_RESIZE_NONE=0,CKEDITOR.DIALOG_RESIZE_WIDTH=1,CKEDITOR.DIALOG_RESIZE_HEIGHT=2,CKEDITOR.DIALOG_RESIZE_BOTH=3,CKEDITOR.DIALOG_STATE_IDLE=1,CKEDITOR.DIALOG_STATE_BUSY=2,function(){function a(){\nvar this$1 = this;\nfor(var a=this._.tabIdList.length,\nb=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId)+a,c=b-1;c>b-a;c--)if(this$1._.tabs[this$1._.tabIdList[c%a]][0].$.offsetHeight)return this$1._.tabIdList[c%a];return null}function e(){\nvar this$1 = this;\nfor(var a=this._.tabIdList.length,b=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId),c=b+1;c<b+a;c++)if(this$1._.tabs[this$1._.tabIdList[c%a]][0].$.offsetHeight)return this$1._.tabIdList[c%a];return null}function b(a,b){for(var c=a.$.getElementsByTagName(\"input\"),d=0,f=c.length;d<f;d++){var e=new CKEDITOR.dom.element(c[d]);\n\"text\"==e.getAttribute(\"type\").toLowerCase()&&(b?(e.setAttribute(\"value\",e.getCustomData(\"fake_value\")||\"\"),e.removeCustomData(\"fake_value\")):(e.setCustomData(\"fake_value\",e.getAttribute(\"value\")),e.setAttribute(\"value\",\"\")))}}function c(a,b){var c=this.getInputElement();c&&(a?c.removeAttribute(\"aria-invalid\"):c.setAttribute(\"aria-invalid\",!0));a||(this.select?this.select():this.focus());b&&alert(b);this.fire(\"validated\",{valid:a,msg:b})}function d(){var a=this.getInputElement();a&&a.removeAttribute(\"aria-invalid\")}\nfunction l(a){var b=CKEDITOR.dom.element.createFromHtml(CKEDITOR.addTemplate(\"dialog\",t).output({id:CKEDITOR.tools.getNextNumber(),editorId:a.id,langDir:a.lang.dir,langCode:a.langCode,editorDialogClass:\"cke_editor_\"+a.name.replace(/\\./g,\"\\\\.\")+\"_dialog\",closeTitle:a.lang.common.close,hidpi:CKEDITOR.env.hidpi?\"cke_hidpi\":\"\"})),c=b.getChild([0,0,0,0,0]),d=c.getChild(0),f=c.getChild(1);a.plugins.clipboard&&CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(c);!CKEDITOR.env.ie||CKEDITOR.env.quirks||\nCKEDITOR.env.edge||(a=\"javascript:void(function(){\"+encodeURIComponent(\"document.open();(\"+CKEDITOR.tools.fixDomain+\")();document.close();\")+\"}())\",CKEDITOR.dom.element.createFromHtml('\\x3ciframe frameBorder\\x3d\"0\" class\\x3d\"cke_iframe_shim\" src\\x3d\"'+a+'\" tabIndex\\x3d\"-1\"\\x3e\\x3c/iframe\\x3e').appendTo(c.getParent()));d.unselectable();f.unselectable();return{element:b,parts:{dialog:b.getChild(0),title:d,close:f,tabs:c.getChild(2),contents:c.getChild([3,0,0,0]),footer:c.getChild([3,0,1,0])}}}function m(a,\nb,c){this.element=b;this.focusIndex=c;this.tabIndex=0;this.isFocusable=function(){return!b.getAttribute(\"disabled\")&&b.isVisible()};this.focus=function(){a._.currentFocusIndex=this.focusIndex;this.element.focus()};b.on(\"keydown\",function(a){a.data.getKeystroke()in{32:1,13:1}&&this.fire(\"click\")});b.on(\"focus\",function(){this.fire(\"mouseover\")});b.on(\"blur\",function(){this.fire(\"mouseout\")})}function f(a){function b(){a.layout()}var c=CKEDITOR.document.getWindow();c.on(\"resize\",b);a.on(\"hide\",function(){c.removeListener(\"resize\",\nb)})}function h(a,b){this._={dialog:a};CKEDITOR.tools.extend(this,b)}function k(a){function b(c){var k=a.getSize(),l=CKEDITOR.document.getWindow().getViewPaneSize(),m=c.data.$.screenX,n=c.data.$.screenY,w=m-d.x,p=n-d.y;d={x:m,y:n};f.x+=w;f.y+=p;a.move(f.x+h[3]<g?-h[3]:f.x-h[1]>l.width-k.width-g?l.width-k.width+(\"rtl\"==e.lang.dir?0:h[1]):f.x,f.y+h[0]<g?-h[0]:f.y-h[2]>l.height-k.height-g?l.height-k.height+h[2]:f.y,1);c.data.preventDefault()}function c(){CKEDITOR.document.removeListener(\"mousemove\",\nb);CKEDITOR.document.removeListener(\"mouseup\",c);if(CKEDITOR.env.ie6Compat){var a=y.getChild(0).getFrameDocument();a.removeListener(\"mousemove\",b);a.removeListener(\"mouseup\",c)}}var d=null,f=null,e=a.getParentEditor(),g=e.config.dialog_magnetDistance,h=CKEDITOR.skin.margins||[0,0,0,0];\"undefined\"==typeof g&&(g=20);a.parts.title.on(\"mousedown\",function(e){d={x:e.data.$.screenX,y:e.data.$.screenY};CKEDITOR.document.on(\"mousemove\",b);CKEDITOR.document.on(\"mouseup\",c);f=a.getPosition();if(CKEDITOR.env.ie6Compat){var g=\ny.getChild(0).getFrameDocument();g.on(\"mousemove\",b);g.on(\"mouseup\",c)}e.data.preventDefault()},a)}function g(a){function b(c){var n=\"rtl\"==e.lang.dir,w=m.width,p=m.height,q=w+(c.data.$.screenX-l.x)*(n?-1:1)*(a._.moved?1:2),z=p+(c.data.$.screenY-l.y)*(a._.moved?1:2),u=a._.element.getFirst(),u=n&&u.getComputedStyle(\"right\"),t=a.getPosition();t.y+z>k.height&&(z=k.height-t.y);(n?u:t.x)+q>k.width&&(q=k.width-(n?u:t.x));if(f==CKEDITOR.DIALOG_RESIZE_WIDTH||f==CKEDITOR.DIALOG_RESIZE_BOTH)w=Math.max(d.minWidth||\n0,q-g);if(f==CKEDITOR.DIALOG_RESIZE_HEIGHT||f==CKEDITOR.DIALOG_RESIZE_BOTH)p=Math.max(d.minHeight||0,z-h);a.resize(w,p);a._.moved||a.layout();c.data.preventDefault()}function c(){CKEDITOR.document.removeListener(\"mouseup\",c);CKEDITOR.document.removeListener(\"mousemove\",b);n&&(n.remove(),n=null);if(CKEDITOR.env.ie6Compat){var a=y.getChild(0).getFrameDocument();a.removeListener(\"mouseup\",c);a.removeListener(\"mousemove\",b)}}var d=a.definition,f=d.resizable;if(f!=CKEDITOR.DIALOG_RESIZE_NONE){var e=a.getParentEditor(),\ng,h,k,l,m,n,w=CKEDITOR.tools.addFunction(function(d){m=a.getSize();var f=a.parts.contents;f.$.getElementsByTagName(\"iframe\").length&&(n=CKEDITOR.dom.element.createFromHtml('\\x3cdiv class\\x3d\"cke_dialog_resize_cover\" style\\x3d\"height: 100%; position: absolute; width: 100%;\"\\x3e\\x3c/div\\x3e'),f.append(n));h=m.height-a.parts.contents.getSize(\"height\",!(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.quirks));g=m.width-a.parts.contents.getSize(\"width\",1);l={x:d.screenX,y:d.screenY};k=CKEDITOR.document.getWindow().getViewPaneSize();\nCKEDITOR.document.on(\"mousemove\",b);CKEDITOR.document.on(\"mouseup\",c);CKEDITOR.env.ie6Compat&&(f=y.getChild(0).getFrameDocument(),f.on(\"mousemove\",b),f.on(\"mouseup\",c));d.preventDefault&&d.preventDefault()});a.on(\"load\",function(){var b=\"\";f==CKEDITOR.DIALOG_RESIZE_WIDTH?b=\" cke_resizer_horizontal\":f==CKEDITOR.DIALOG_RESIZE_HEIGHT&&(b=\" cke_resizer_vertical\");b=CKEDITOR.dom.element.createFromHtml('\\x3cdiv class\\x3d\"cke_resizer'+b+\" cke_resizer_\"+e.lang.dir+'\" title\\x3d\"'+CKEDITOR.tools.htmlEncode(e.lang.common.resize)+\n'\" onmousedown\\x3d\"CKEDITOR.tools.callFunction('+w+', event )\"\\x3e'+(\"ltr\"==e.lang.dir?\"◢\":\"◣\")+\"\\x3c/div\\x3e\");a.parts.footer.append(b,1)});e.on(\"destroy\",function(){CKEDITOR.tools.removeFunction(w)})}}function n(a){a.data.preventDefault(1)}function v(a){var b=CKEDITOR.document.getWindow(),c=a.config,d=c.dialog_backgroundCoverColor||\"white\",f=c.dialog_backgroundCoverOpacity,e=c.baseFloatZIndex,c=CKEDITOR.tools.genKey(d,f,e),g=D[c];g?g.show():(e=['\\x3cdiv tabIndex\\x3d\"-1\" style\\x3d\"position: ',CKEDITOR.env.ie6Compat?\n\"absolute\":\"fixed\",\"; z-index: \",e,\"; top: 0px; left: 0px; \",CKEDITOR.env.ie6Compat?\"\":\"background-color: \"+d,'\" class\\x3d\"cke_dialog_background_cover\"\\x3e'],CKEDITOR.env.ie6Compat&&(d=\"\\x3chtml\\x3e\\x3cbody style\\x3d\\\\'background-color:\"+d+\";\\\\'\\x3e\\x3c/body\\x3e\\x3c/html\\x3e\",e.push('\\x3ciframe hidefocus\\x3d\"true\" frameborder\\x3d\"0\" id\\x3d\"cke_dialog_background_iframe\" src\\x3d\"javascript:'),e.push(\"void((function(){\"+encodeURIComponent(\"document.open();(\"+CKEDITOR.tools.fixDomain+\")();document.write( '\"+\nd+\"' );document.close();\")+\"})())\"),e.push('\" style\\x3d\"position:absolute;left:0;top:0;width:100%;height: 100%;filter: progid:DXImageTransform.Microsoft.Alpha(opacity\\x3d0)\"\\x3e\\x3c/iframe\\x3e')),e.push(\"\\x3c/div\\x3e\"),g=CKEDITOR.dom.element.createFromHtml(e.join(\"\")),g.setOpacity(void 0!==f?f:.5),g.on(\"keydown\",n),g.on(\"keypress\",n),g.on(\"keyup\",n),g.appendTo(CKEDITOR.document.getBody()),D[c]=g);a.focusManager.add(g);y=g;a=function(){var a=b.getViewPaneSize();g.setStyles({width:a.width+\"px\",height:a.height+\n\"px\"})};var h=function(){var a=b.getScrollPosition(),c=CKEDITOR.dialog._.currentTop;g.setStyles({left:a.x+\"px\",top:a.y+\"px\"});if(c){do a=c.getPosition(),c.move(a.x,a.y);while(c=c._.parentDialog)}};x=a;b.on(\"resize\",a);a();CKEDITOR.env.mac&&CKEDITOR.env.webkit||g.focus();if(CKEDITOR.env.ie6Compat){var k=function(){h();arguments.callee.prevScrollHandler.apply(this,arguments)};b.$.setTimeout(function(){k.prevScrollHandler=window.onscroll||function(){};window.onscroll=k},0);h()}}function r(a){y&&(a.focusManager.remove(y),\na=CKEDITOR.document.getWindow(),y.hide(),a.removeListener(\"resize\",x),CKEDITOR.env.ie6Compat&&a.$.setTimeout(function(){window.onscroll=window.onscroll&&window.onscroll.prevScrollHandler||null},0),x=null)}var q=CKEDITOR.tools.cssLength,t='\\x3cdiv class\\x3d\"cke_reset_all {editorId} {editorDialogClass} {hidpi}\" dir\\x3d\"{langDir}\" lang\\x3d\"{langCode}\" role\\x3d\"dialog\" aria-labelledby\\x3d\"cke_dialog_title_{id}\"\\x3e\\x3ctable class\\x3d\"cke_dialog '+CKEDITOR.env.cssClass+' cke_{langDir}\" style\\x3d\"position:absolute\" role\\x3d\"presentation\"\\x3e\\x3ctr\\x3e\\x3ctd role\\x3d\"presentation\"\\x3e\\x3cdiv class\\x3d\"cke_dialog_body\" role\\x3d\"presentation\"\\x3e\\x3cdiv id\\x3d\"cke_dialog_title_{id}\" class\\x3d\"cke_dialog_title\" role\\x3d\"presentation\"\\x3e\\x3c/div\\x3e\\x3ca id\\x3d\"cke_dialog_close_button_{id}\" class\\x3d\"cke_dialog_close_button\" href\\x3d\"javascript:void(0)\" title\\x3d\"{closeTitle}\" role\\x3d\"button\"\\x3e\\x3cspan class\\x3d\"cke_label\"\\x3eX\\x3c/span\\x3e\\x3c/a\\x3e\\x3cdiv id\\x3d\"cke_dialog_tabs_{id}\" class\\x3d\"cke_dialog_tabs\" role\\x3d\"tablist\"\\x3e\\x3c/div\\x3e\\x3ctable class\\x3d\"cke_dialog_contents\" role\\x3d\"presentation\"\\x3e\\x3ctr\\x3e\\x3ctd id\\x3d\"cke_dialog_contents_{id}\" class\\x3d\"cke_dialog_contents_body\" role\\x3d\"presentation\"\\x3e\\x3c/td\\x3e\\x3c/tr\\x3e\\x3ctr\\x3e\\x3ctd id\\x3d\"cke_dialog_footer_{id}\" class\\x3d\"cke_dialog_footer\" role\\x3d\"presentation\"\\x3e\\x3c/td\\x3e\\x3c/tr\\x3e\\x3c/table\\x3e\\x3c/div\\x3e\\x3c/td\\x3e\\x3c/tr\\x3e\\x3c/table\\x3e\\x3c/div\\x3e';\nCKEDITOR.dialog=function(b,f){\nvar this$1 = this;\nfunction h(){var a=y._.focusList;a.sort(function(a,b){return a.tabIndex!=b.tabIndex?b.tabIndex-a.tabIndex:a.focusIndex-b.focusIndex});for(var b=a.length,c=0;c<b;c++)a[c].focusIndex=c}function m(a){var b=y._.focusList;a=a||0;if(!(1>b.length)){var c=y._.currentFocusIndex;y._.tabBarMode&&0>a&&(c=0);try{b[c].getInputElement().$.blur()}catch(d){}var f=c,e=1<y._.pageCount;do{f+=a;if(e&&!y._.tabBarMode&&(f==b.length||-1==f)){y._.tabBarMode=!0;y._.tabs[y._.currentTabId][0].focus();\ny._.currentFocusIndex=-1;return}f=(f+b.length)%b.length;if(f==c)break}while(a&&!b[f].isFocusable());b[f].focus();\"text\"==b[f].type&&b[f].select()}}function n(c){if(y==CKEDITOR.dialog._.currentTop){var d=c.data.getKeystroke(),f=\"rtl\"==b.lang.dir,g=[37,38,39,40];x=v=0;if(9==d||d==CKEDITOR.SHIFT+9)m(d==CKEDITOR.SHIFT+9?-1:1),x=1;else if(d==CKEDITOR.ALT+121&&!y._.tabBarMode&&1<y.getPageCount())y._.tabBarMode=!0,y._.tabs[y._.currentTabId][0].focus(),y._.currentFocusIndex=-1,x=1;else if(-1!=CKEDITOR.tools.indexOf(g,\nd)&&y._.tabBarMode)d=-1!=CKEDITOR.tools.indexOf([f?39:37,38],d)?a.call(y):e.call(y),y.selectPage(d),y._.tabs[d][0].focus(),x=1;else if(13!=d&&32!=d||!y._.tabBarMode)if(13==d)d=c.data.getTarget(),d.is(\"a\",\"button\",\"select\",\"textarea\")||d.is(\"input\")&&\"button\"==d.$.type||((d=this.getButton(\"ok\"))&&CKEDITOR.tools.setTimeout(d.click,0,d),x=1),v=1;else if(27==d)(d=this.getButton(\"cancel\"))?CKEDITOR.tools.setTimeout(d.click,0,d):!1!==this.fire(\"cancel\",{hide:!0}).hide&&this.hide(),v=1;else return;else this.selectPage(this._.currentTabId),\nthis._.tabBarMode=!1,this._.currentFocusIndex=-1,m(1),x=1;w(c)}}function w(a){x?a.data.preventDefault(1):v&&a.data.stopPropagation()}var q=CKEDITOR.dialog._.dialogDefinitions[f],z=CKEDITOR.tools.clone(p),t=b.config.dialog_buttonsOrder||\"OS\",r=b.lang.dir,A={},x,v;(\"OS\"==t&&CKEDITOR.env.mac||\"rtl\"==t&&\"ltr\"==r||\"ltr\"==t&&\"rtl\"==r)&&z.buttons.reverse();q=CKEDITOR.tools.extend(q(b),z);q=CKEDITOR.tools.clone(q);q=new u(this,q);z=l(b);this._={editor:b,element:z.element,name:f,contentSize:{width:0,height:0},\nsize:{width:0,height:0},contents:{},buttons:{},accessKeyMap:{},tabs:{},tabIdList:[],currentTabId:null,currentTabIndex:null,pageCount:0,lastTab:null,tabBarMode:!1,focusList:[],currentFocusIndex:0,hasFocus:!1};this.parts=z.parts;CKEDITOR.tools.setTimeout(function(){b.fire(\"ariaWidget\",this.parts.contents)},0,this);z={position:CKEDITOR.env.ie6Compat?\"absolute\":\"fixed\",top:0,visibility:\"hidden\"};z[\"rtl\"==r?\"right\":\"left\"]=0;this.parts.dialog.setStyles(z);CKEDITOR.event.call(this);this.definition=q=CKEDITOR.fire(\"dialogDefinition\",\n{name:f,definition:q},b).definition;if(!(\"removeDialogTabs\"in b._)&&b.config.removeDialogTabs){z=b.config.removeDialogTabs.split(\";\");for(r=0;r<z.length;r++)if(t=z[r].split(\":\"),2==t.length){var D=t[0];A[D]||(A[D]=[]);A[D].push(t[1])}b._.removeDialogTabs=A}if(b._.removeDialogTabs&&(A=b._.removeDialogTabs[f]))for(r=0;r<A.length;r++)q.removeContents(A[r]);if(q.onLoad)this.on(\"load\",q.onLoad);if(q.onShow)this.on(\"show\",q.onShow);if(q.onHide)this.on(\"hide\",q.onHide);if(q.onOk)this.on(\"ok\",function(a){b.fire(\"saveSnapshot\");\nsetTimeout(function(){b.fire(\"saveSnapshot\")},0);!1===q.onOk.call(this,a)&&(a.data.hide=!1)});this.state=CKEDITOR.DIALOG_STATE_IDLE;if(q.onCancel)this.on(\"cancel\",function(a){!1===q.onCancel.call(this,a)&&(a.data.hide=!1)});var y=this,B=function(a){\nvar this$1 = this;\nvar b=y._.contents,c=!1,d;for(d in b)for(var f in b[d])if(c=a.call(this$1,b[d][f]))return};this.on(\"ok\",function(a){B(function(b){if(b.validate){var d=b.validate(this),f=\"string\"==typeof d||!1===d;f&&(a.data.hide=!1,a.stop());c.call(b,!f,\"string\"==typeof d?\nd:void 0);return f}})},this,null,0);this.on(\"cancel\",function(a){B(function(c){if(c.isChanged())return b.config.dialog_noConfirmCancel||confirm(b.lang.common.confirmCancel)||(a.data.hide=!1),!0})},this,null,0);this.parts.close.on(\"click\",function(a){!1!==this.fire(\"cancel\",{hide:!0}).hide&&this.hide();a.data.preventDefault()},this);this.changeFocus=m;var C=this._.element;b.focusManager.add(C,1);this.on(\"show\",function(){C.on(\"keydown\",n,this);if(CKEDITOR.env.gecko)C.on(\"keypress\",w,this)});this.on(\"hide\",\nfunction(){C.removeListener(\"keydown\",n);CKEDITOR.env.gecko&&C.removeListener(\"keypress\",w);B(function(a){d.apply(a)})});this.on(\"iframeAdded\",function(a){(new CKEDITOR.dom.document(a.data.iframe.$.contentWindow.document)).on(\"keydown\",n,this,null,0)});this.on(\"show\",function(){h();var a=1<y._.pageCount;b.config.dialog_startupFocusTab&&a?(y._.tabBarMode=!0,y._.tabs[y._.currentTabId][0].focus(),y._.currentFocusIndex=-1):this._.hasFocus||(this._.currentFocusIndex=a?-1:this._.focusList.length-1,q.onFocus?\n(a=q.onFocus.call(this))&&a.focus():m(1))},this,null,4294967295);if(CKEDITOR.env.ie6Compat)this.on(\"load\",function(){var a=this.getElement(),b=a.getFirst();b.remove();b.appendTo(a)},this);k(this);g(this);(new CKEDITOR.dom.text(q.title,CKEDITOR.document)).appendTo(this.parts.title);for(r=0;r<q.contents.length;r++)(A=q.contents[r])&&this$1.addPage(A);this.parts.tabs.on(\"click\",function(a){var b=a.data.getTarget();b.hasClass(\"cke_dialog_tab\")&&(b=b.$.id,this.selectPage(b.substring(4,b.lastIndexOf(\"_\"))),\nthis._.tabBarMode&&(this._.tabBarMode=!1,this._.currentFocusIndex=-1,m(1)),a.data.preventDefault())},this);r=[];A=CKEDITOR.dialog._.uiElementBuilders.hbox.build(this,{type:\"hbox\",className:\"cke_dialog_footer_buttons\",widths:[],children:q.buttons},r).getChild();this.parts.footer.setHtml(r.join(\"\"));for(r=0;r<A.length;r++)this$1._.buttons[A[r].id]=A[r]};CKEDITOR.dialog.prototype={destroy:function(){this.hide();this._.element.remove()},resize:function(){return function(a,b){this._.contentSize&&this._.contentSize.width==\na&&this._.contentSize.height==b||(CKEDITOR.dialog.fire(\"resize\",{dialog:this,width:a,height:b},this._.editor),this.fire(\"resize\",{width:a,height:b},this._.editor),this.parts.contents.setStyles({width:a+\"px\",height:b+\"px\"}),\"rtl\"==this._.editor.lang.dir&&this._.position&&(this._.position.x=CKEDITOR.document.getWindow().getViewPaneSize().width-this._.contentSize.width-parseInt(this._.element.getFirst().getStyle(\"right\"),10)),this._.contentSize={width:a,height:b})}}(),getSize:function(){var a=this._.element.getFirst();\nreturn{width:a.$.offsetWidth||0,height:a.$.offsetHeight||0}},move:function(a,b,c){var d=this._.element.getFirst(),f=\"rtl\"==this._.editor.lang.dir,e=\"fixed\"==d.getComputedStyle(\"position\");CKEDITOR.env.ie&&d.setStyle(\"zoom\",\"100%\");e&&this._.position&&this._.position.x==a&&this._.position.y==b||(this._.position={x:a,y:b},e||(e=CKEDITOR.document.getWindow().getScrollPosition(),a+=e.x,b+=e.y),f&&(e=this.getSize(),a=CKEDITOR.document.getWindow().getViewPaneSize().width-e.width-a),b={top:(0<b?b:0)+\"px\"},\nb[f?\"right\":\"left\"]=(0<a?a:0)+\"px\",d.setStyles(b),c&&(this._.moved=1))},getPosition:function(){return CKEDITOR.tools.extend({},this._.position)},show:function(){\nvar this$1 = this;\nvar a=this._.element,b=this.definition;a.getParent()&&a.getParent().equals(CKEDITOR.document.getBody())?a.setStyle(\"display\",\"block\"):a.appendTo(CKEDITOR.document.getBody());this.resize(this._.contentSize&&this._.contentSize.width||b.width||b.minWidth,this._.contentSize&&this._.contentSize.height||b.height||b.minHeight);this.reset();this.selectPage(this.definition.contents[0].id);\nnull===CKEDITOR.dialog._.currentZIndex&&(CKEDITOR.dialog._.currentZIndex=this._.editor.config.baseFloatZIndex);this._.element.getFirst().setStyle(\"z-index\",CKEDITOR.dialog._.currentZIndex+=10);null===CKEDITOR.dialog._.currentTop?(CKEDITOR.dialog._.currentTop=this,this._.parentDialog=null,v(this._.editor)):(this._.parentDialog=CKEDITOR.dialog._.currentTop,this._.parentDialog.getElement().getFirst().$.style.zIndex-=Math.floor(this._.editor.config.baseFloatZIndex/2),CKEDITOR.dialog._.currentTop=this);\na.on(\"keydown\",C);a.on(\"keyup\",F);this._.hasFocus=!1;for(var c in b.contents)if(b.contents[c]){var a=b.contents[c],d=this$1._.tabs[a.id],e=a.requiredContent,g=0;if(d){for(var h in this._.contents[a.id]){var k=this$1._.contents[a.id][h];\"hbox\"!=k.type&&\"vbox\"!=k.type&&k.getInputElement()&&(k.requiredContent&&!this$1._.editor.activeFilter.check(k.requiredContent)?k.disable():(k.enable(),g++))}!g||e&&!this$1._.editor.activeFilter.check(e)?d[0].addClass(\"cke_dialog_tab_disabled\"):d[0].removeClass(\"cke_dialog_tab_disabled\")}}CKEDITOR.tools.setTimeout(function(){this.layout();\nf(this);this.parts.dialog.setStyle(\"visibility\",\"\");this.fireOnce(\"load\",{});CKEDITOR.ui.fire(\"ready\",this);this.fire(\"show\",{});this._.editor.fire(\"dialogShow\",this);this._.parentDialog||this._.editor.focusManager.lock();this.foreach(function(a){a.setInitValue&&a.setInitValue()})},100,this)},layout:function(){var a=this.parts.dialog,b=this.getSize(),c=CKEDITOR.document.getWindow().getViewPaneSize(),d=(c.width-b.width)/2,f=(c.height-b.height)/2;CKEDITOR.env.ie6Compat||(b.height+(0<f?f:0)>c.height||\nb.width+(0<d?d:0)>c.width?a.setStyle(\"position\",\"absolute\"):a.setStyle(\"position\",\"fixed\"));this.move(this._.moved?this._.position.x:d,this._.moved?this._.position.y:f)},foreach:function(a){\nvar this$1 = this;\nfor(var b in this._.contents)for(var c in this._.contents[b])a.call(this$1,this$1._.contents[b][c]);return this},reset:function(){var a=function(a){a.reset&&a.reset(1)};return function(){this.foreach(a);return this}}(),setupContent:function(){var a=arguments;this.foreach(function(b){b.setup&&b.setup.apply(b,a)})},\ncommitContent:function(){var a=arguments;this.foreach(function(b){CKEDITOR.env.ie&&this._.currentFocusIndex==b.focusIndex&&b.getInputElement().$.blur();b.commit&&b.commit.apply(b,a)})},hide:function(){if(this.parts.dialog.isVisible()){this.fire(\"hide\",{});this._.editor.fire(\"dialogHide\",this);this.selectPage(this._.tabIdList[0]);var a=this._.element;a.setStyle(\"display\",\"none\");this.parts.dialog.setStyle(\"visibility\",\"hidden\");for(J(this);CKEDITOR.dialog._.currentTop!=this;)CKEDITOR.dialog._.currentTop.hide();\nif(this._.parentDialog){var b=this._.parentDialog.getElement().getFirst();b.setStyle(\"z-index\",parseInt(b.$.style.zIndex,10)+Math.floor(this._.editor.config.baseFloatZIndex/2))}else r(this._.editor);if(CKEDITOR.dialog._.currentTop=this._.parentDialog)CKEDITOR.dialog._.currentZIndex-=10;else{CKEDITOR.dialog._.currentZIndex=null;a.removeListener(\"keydown\",C);a.removeListener(\"keyup\",F);var c=this._.editor;c.focus();setTimeout(function(){c.focusManager.unlock();CKEDITOR.env.iOS&&c.window.focus()},0)}delete this._.parentDialog;\nthis.foreach(function(a){a.resetInitValue&&a.resetInitValue()});this.setState(CKEDITOR.DIALOG_STATE_IDLE)}},addPage:function(a){if(!a.requiredContent||this._.editor.filter.check(a.requiredContent)){for(var b=[],c=a.label?' title\\x3d\"'+CKEDITOR.tools.htmlEncode(a.label)+'\"':\"\",d=CKEDITOR.dialog._.uiElementBuilders.vbox.build(this,{type:\"vbox\",className:\"cke_dialog_page_contents\",children:a.elements,expand:!!a.expand,padding:a.padding,style:a.style||\"width: 100%;\"},b),f=this._.contents[a.id]={},e=d.getChild(),\ng=0;d=e.shift();)d.notAllowed||\"hbox\"==d.type||\"vbox\"==d.type||g++,f[d.id]=d,\"function\"==typeof d.getChild&&e.push.apply(e,d.getChild());g||(a.hidden=!0);b=CKEDITOR.dom.element.createFromHtml(b.join(\"\"));b.setAttribute(\"role\",\"tabpanel\");d=CKEDITOR.env;f=\"cke_\"+a.id+\"_\"+CKEDITOR.tools.getNextNumber();c=CKEDITOR.dom.element.createFromHtml(['\\x3ca class\\x3d\"cke_dialog_tab\"',0<this._.pageCount?\" cke_last\":\"cke_first\",c,a.hidden?' style\\x3d\"display:none\"':\"\",' id\\x3d\"',f,'\"',d.gecko&&!d.hc?\"\":' href\\x3d\"javascript:void(0)\"',\n' tabIndex\\x3d\"-1\" hidefocus\\x3d\"true\" role\\x3d\"tab\"\\x3e',a.label,\"\\x3c/a\\x3e\"].join(\"\"));b.setAttribute(\"aria-labelledby\",f);this._.tabs[a.id]=[c,b];this._.tabIdList.push(a.id);!a.hidden&&this._.pageCount++;this._.lastTab=c;this.updateStyle();b.setAttribute(\"name\",a.id);b.appendTo(this.parts.contents);c.unselectable();this.parts.tabs.append(c);a.accessKey&&(E(this,this,\"CTRL+\"+a.accessKey,M,G),this._.accessKeyMap[\"CTRL+\"+a.accessKey]=a.id)}},selectPage:function(a){\nvar this$1 = this;\nif(this._.currentTabId!=a&&!this._.tabs[a][0].hasClass(\"cke_dialog_tab_disabled\")&&\n!1!==this.fire(\"selectPage\",{page:a,currentPage:this._.currentTabId})){for(var c in this._.tabs){var d=this$1._.tabs[c][0],f=this$1._.tabs[c][1];c!=a&&(d.removeClass(\"cke_dialog_tab_selected\"),f.hide());f.setAttribute(\"aria-hidden\",c!=a)}var e=this._.tabs[a];e[0].addClass(\"cke_dialog_tab_selected\");CKEDITOR.env.ie6Compat||CKEDITOR.env.ie7Compat?(b(e[1]),e[1].show(),setTimeout(function(){b(e[1],1)},0)):e[1].show();this._.currentTabId=a;this._.currentTabIndex=CKEDITOR.tools.indexOf(this._.tabIdList,a)}},\nupdateStyle:function(){this.parts.dialog[(1===this._.pageCount?\"add\":\"remove\")+\"Class\"](\"cke_single_page\")},hidePage:function(b){var c=this._.tabs[b]&&this._.tabs[b][0];c&&1!=this._.pageCount&&c.isVisible()&&(b==this._.currentTabId&&this.selectPage(a.call(this)),c.hide(),this._.pageCount--,this.updateStyle())},showPage:function(a){if(a=this._.tabs[a]&&this._.tabs[a][0])a.show(),this._.pageCount++,this.updateStyle()},getElement:function(){return this._.element},getName:function(){return this._.name},\ngetContentElement:function(a,b){var c=this._.contents[a];return c&&c[b]},getValueOf:function(a,b){return this.getContentElement(a,b).getValue()},setValueOf:function(a,b,c){return this.getContentElement(a,b).setValue(c)},getButton:function(a){return this._.buttons[a]},click:function(a){return this._.buttons[a].click()},disableButton:function(a){return this._.buttons[a].disable()},enableButton:function(a){return this._.buttons[a].enable()},getPageCount:function(){return this._.pageCount},getParentEditor:function(){return this._.editor},\ngetSelectedElement:function(){return this.getParentEditor().getSelection().getSelectedElement()},addFocusable:function(a,b){\nvar this$1 = this;\nif(\"undefined\"==typeof b)b=this._.focusList.length,this._.focusList.push(new m(this,a,b));else{this._.focusList.splice(b,0,new m(this,a,b));for(var c=b+1;c<this._.focusList.length;c++)this$1._.focusList[c].focusIndex++}},setState:function(a){if(this.state!=a){this.state=a;if(a==CKEDITOR.DIALOG_STATE_BUSY){if(!this.parts.spinner){var b=this.getParentEditor().lang.dir,c={attributes:{\"class\":\"cke_dialog_spinner\"},\nstyles:{\"float\":\"rtl\"==b?\"right\":\"left\"}};c.styles[\"margin-\"+(\"rtl\"==b?\"left\":\"right\")]=\"8px\";this.parts.spinner=CKEDITOR.document.createElement(\"div\",c);this.parts.spinner.setHtml(\"\\x26#8987;\");this.parts.spinner.appendTo(this.parts.title,1)}this.parts.spinner.show();this.getButton(\"ok\").disable()}else a==CKEDITOR.DIALOG_STATE_IDLE&&(this.parts.spinner&&this.parts.spinner.hide(),this.getButton(\"ok\").enable());this.fire(\"state\",a)}}};CKEDITOR.tools.extend(CKEDITOR.dialog,{add:function(a,b){this._.dialogDefinitions[a]&&\n\"function\"!=typeof b||(this._.dialogDefinitions[a]=b)},exists:function(a){return!!this._.dialogDefinitions[a]},getCurrent:function(){return CKEDITOR.dialog._.currentTop},isTabEnabled:function(a,b,c){a=a.config.removeDialogTabs;return!(a&&a.match(new RegExp(\"(?:^|;)\"+b+\":\"+c+\"(?:$|;)\",\"i\")))},okButton:function(){var a=function(a,b){b=b||{};return CKEDITOR.tools.extend({id:\"ok\",type:\"button\",label:a.lang.common.ok,\"class\":\"cke_dialog_ui_button_ok\",onClick:function(a){a=a.data.dialog;!1!==a.fire(\"ok\",\n{hide:!0}).hide&&a.hide()}},b,!0)};a.type=\"button\";a.override=function(b){return CKEDITOR.tools.extend(function(c){return a(c,b)},{type:\"button\"},!0)};return a}(),cancelButton:function(){var a=function(a,b){b=b||{};return CKEDITOR.tools.extend({id:\"cancel\",type:\"button\",label:a.lang.common.cancel,\"class\":\"cke_dialog_ui_button_cancel\",onClick:function(a){a=a.data.dialog;!1!==a.fire(\"cancel\",{hide:!0}).hide&&a.hide()}},b,!0)};a.type=\"button\";a.override=function(b){return CKEDITOR.tools.extend(function(c){return a(c,\nb)},{type:\"button\"},!0)};return a}(),addUIElement:function(a,b){this._.uiElementBuilders[a]=b}});CKEDITOR.dialog._={uiElementBuilders:{},dialogDefinitions:{},currentTop:null,currentZIndex:null};CKEDITOR.event.implementOn(CKEDITOR.dialog);CKEDITOR.event.implementOn(CKEDITOR.dialog.prototype);var p={resizable:CKEDITOR.DIALOG_RESIZE_BOTH,minWidth:600,minHeight:400,buttons:[CKEDITOR.dialog.okButton,CKEDITOR.dialog.cancelButton]},w=function(a,b,c){for(var d=0,f;f=a[d];d++)if(f.id==b||c&&f[c]&&(f=w(f[c],\nb,c)))return f;return null},z=function(a,b,c,d,f){if(c){for(var e=0,g;g=a[e];e++){if(g.id==c)return a.splice(e,0,b),b;if(d&&g[d]&&(g=z(g[d],b,c,d,!0)))return g}if(f)return null}a.push(b);return b},A=function(a,b,c){for(var d=0,f;f=a[d];d++){if(f.id==b)return a.splice(d,1);if(c&&f[c]&&(f=A(f[c],b,c)))return f}return null},u=function(a,b){this.dialog=a;for(var c=b.contents,d=0,f;f=c[d];d++)c[d]=f&&new h(a,f);CKEDITOR.tools.extend(this,b)};u.prototype={getContents:function(a){return w(this.contents,\na)},getButton:function(a){return w(this.buttons,a)},addContents:function(a,b){return z(this.contents,a,b)},addButton:function(a,b){return z(this.buttons,a,b)},removeContents:function(a){A(this.contents,a)},removeButton:function(a){A(this.buttons,a)}};h.prototype={get:function(a){return w(this.elements,a,\"children\")},add:function(a,b){return z(this.elements,a,b,\"children\")},remove:function(a){A(this.elements,a,\"children\")}};var x,D={},y,B={},C=function(a){var b=a.data.$.ctrlKey||a.data.$.metaKey,c=\na.data.$.altKey,d=a.data.$.shiftKey,f=String.fromCharCode(a.data.$.keyCode);(b=B[(b?\"CTRL+\":\"\")+(c?\"ALT+\":\"\")+(d?\"SHIFT+\":\"\")+f])&&b.length&&(b=b[b.length-1],b.keydown&&b.keydown.call(b.uiElement,b.dialog,b.key),a.data.preventDefault())},F=function(a){var b=a.data.$.ctrlKey||a.data.$.metaKey,c=a.data.$.altKey,d=a.data.$.shiftKey,f=String.fromCharCode(a.data.$.keyCode);(b=B[(b?\"CTRL+\":\"\")+(c?\"ALT+\":\"\")+(d?\"SHIFT+\":\"\")+f])&&b.length&&(b=b[b.length-1],b.keyup&&(b.keyup.call(b.uiElement,b.dialog,b.key),\na.data.preventDefault()))},E=function(a,b,c,d,f){(B[c]||(B[c]=[])).push({uiElement:a,dialog:b,key:c,keyup:f||a.accessKeyUp,keydown:d||a.accessKeyDown})},J=function(a){for(var b in B){for(var c=B[b],d=c.length-1;0<=d;d--)c[d].dialog!=a&&c[d].uiElement!=a||c.splice(d,1);0===c.length&&delete B[b]}},G=function(a,b){a._.accessKeyMap[b]&&a.selectPage(a._.accessKeyMap[b])},M=function(){};(function(){CKEDITOR.ui.dialog={uiElement:function(a,b,c,d,f,e,g){if(!(4>arguments.length)){var h=(d.call?d(b):d)||\"div\",\nk=[\"\\x3c\",h,\" \"],l=(f&&f.call?f(b):f)||{},m=(e&&e.call?e(b):e)||{},n=(g&&g.call?g.call(this,a,b):g)||\"\",w=this.domId=m.id||CKEDITOR.tools.getNextId()+\"_uiElement\";b.requiredContent&&!a.getParentEditor().filter.check(b.requiredContent)&&(l.display=\"none\",this.notAllowed=!0);m.id=w;var p={};b.type&&(p[\"cke_dialog_ui_\"+b.type]=1);b.className&&(p[b.className]=1);b.disabled&&(p.cke_disabled=1);for(var q=m[\"class\"]&&m[\"class\"].split?m[\"class\"].split(\" \"):[],w=0;w<q.length;w++)q[w]&&(p[q[w]]=1);q=[];for(w in p)q.push(w);\nm[\"class\"]=q.join(\" \");b.title&&(m.title=b.title);p=(b.style||\"\").split(\";\");b.align&&(q=b.align,l[\"margin-left\"]=\"left\"==q?0:\"auto\",l[\"margin-right\"]=\"right\"==q?0:\"auto\");for(w in l)p.push(w+\":\"+l[w]);b.hidden&&p.push(\"display:none\");for(w=p.length-1;0<=w;w--)\"\"===p[w]&&p.splice(w,1);0<p.length&&(m.style=(m.style?m.style+\"; \":\"\")+p.join(\"; \"));for(w in m)k.push(w+'\\x3d\"'+CKEDITOR.tools.htmlEncode(m[w])+'\" ');k.push(\"\\x3e\",n,\"\\x3c/\",h,\"\\x3e\");c.push(k.join(\"\"));(this._||(this._={})).dialog=a;\"boolean\"==\ntypeof b.isChanged&&(this.isChanged=function(){return b.isChanged});\"function\"==typeof b.isChanged&&(this.isChanged=b.isChanged);\"function\"==typeof b.setValue&&(this.setValue=CKEDITOR.tools.override(this.setValue,function(a){return function(c){a.call(this,b.setValue.call(this,c))}}));\"function\"==typeof b.getValue&&(this.getValue=CKEDITOR.tools.override(this.getValue,function(a){return function(){return b.getValue.call(this,a.call(this))}}));CKEDITOR.event.implementOn(this);this.registerEvents(b);\nthis.accessKeyUp&&this.accessKeyDown&&b.accessKey&&E(this,a,\"CTRL+\"+b.accessKey);var z=this;a.on(\"load\",function(){var b=z.getInputElement();if(b){var c=z.type in{checkbox:1,ratio:1}&&CKEDITOR.env.ie&&8>CKEDITOR.env.version?\"cke_dialog_ui_focused\":\"\";b.on(\"focus\",function(){a._.tabBarMode=!1;a._.hasFocus=!0;z.fire(\"focus\");c&&this.addClass(c)});b.on(\"blur\",function(){z.fire(\"blur\");c&&this.removeClass(c)})}});CKEDITOR.tools.extend(this,b);this.keyboardFocusable&&(this.tabIndex=b.tabIndex||0,this.focusIndex=\na._.focusList.push(this)-1,this.on(\"focus\",function(){a._.currentFocusIndex=z.focusIndex}))}},hbox:function(a,b,c,d,f){if(!(4>arguments.length)){this._||(this._={});var e=this._.children=b,g=f&&f.widths||null,h=f&&f.height||null,k,l={role:\"presentation\"};f&&f.align&&(l.align=f.align);CKEDITOR.ui.dialog.uiElement.call(this,a,f||{type:\"hbox\"},d,\"table\",{},l,function(){var a=['\\x3ctbody\\x3e\\x3ctr class\\x3d\"cke_dialog_ui_hbox\"\\x3e'];for(k=0;k<c.length;k++){var b=\"cke_dialog_ui_hbox_child\",d=[];0===k&&\n(b=\"cke_dialog_ui_hbox_first\");k==c.length-1&&(b=\"cke_dialog_ui_hbox_last\");a.push('\\x3ctd class\\x3d\"',b,'\" role\\x3d\"presentation\" ');g?g[k]&&d.push(\"width:\"+q(g[k])):d.push(\"width:\"+Math.floor(100/c.length)+\"%\");h&&d.push(\"height:\"+q(h));f&&void 0!==f.padding&&d.push(\"padding:\"+q(f.padding));CKEDITOR.env.ie&&CKEDITOR.env.quirks&&e[k].align&&d.push(\"text-align:\"+e[k].align);0<d.length&&a.push('style\\x3d\"'+d.join(\"; \")+'\" ');a.push(\"\\x3e\",c[k],\"\\x3c/td\\x3e\")}a.push(\"\\x3c/tr\\x3e\\x3c/tbody\\x3e\");return a.join(\"\")})}},\nvbox:function(a,b,c,d,f){if(!(3>arguments.length)){this._||(this._={});var e=this._.children=b,g=f&&f.width||null,h=f&&f.heights||null;CKEDITOR.ui.dialog.uiElement.call(this,a,f||{type:\"vbox\"},d,\"div\",null,{role:\"presentation\"},function(){var b=['\\x3ctable role\\x3d\"presentation\" cellspacing\\x3d\"0\" border\\x3d\"0\" '];b.push('style\\x3d\"');f&&f.expand&&b.push(\"height:100%;\");b.push(\"width:\"+q(g||\"100%\"),\";\");CKEDITOR.env.webkit&&b.push(\"float:none;\");b.push('\"');b.push('align\\x3d\"',CKEDITOR.tools.htmlEncode(f&&\nf.align||(\"ltr\"==a.getParentEditor().lang.dir?\"left\":\"right\")),'\" ');b.push(\"\\x3e\\x3ctbody\\x3e\");for(var d=0;d<c.length;d++){var k=[];b.push('\\x3ctr\\x3e\\x3ctd role\\x3d\"presentation\" ');g&&k.push(\"width:\"+q(g||\"100%\"));h?k.push(\"height:\"+q(h[d])):f&&f.expand&&k.push(\"height:\"+Math.floor(100/c.length)+\"%\");f&&void 0!==f.padding&&k.push(\"padding:\"+q(f.padding));CKEDITOR.env.ie&&CKEDITOR.env.quirks&&e[d].align&&k.push(\"text-align:\"+e[d].align);0<k.length&&b.push('style\\x3d\"',k.join(\"; \"),'\" ');b.push(' class\\x3d\"cke_dialog_ui_vbox_child\"\\x3e',\nc[d],\"\\x3c/td\\x3e\\x3c/tr\\x3e\")}b.push(\"\\x3c/tbody\\x3e\\x3c/table\\x3e\");return b.join(\"\")})}}}})();CKEDITOR.ui.dialog.uiElement.prototype={getElement:function(){return CKEDITOR.document.getById(this.domId)},getInputElement:function(){return this.getElement()},getDialog:function(){return this._.dialog},setValue:function(a,b){this.getInputElement().setValue(a);!b&&this.fire(\"change\",{value:a});return this},getValue:function(){return this.getInputElement().getValue()},isChanged:function(){return!1},selectParentTab:function(){for(var a=\nthis.getInputElement();(a=a.getParent())&&-1==a.$.className.search(\"cke_dialog_page_contents\"););if(!a)return this;a=a.getAttribute(\"name\");this._.dialog._.currentTabId!=a&&this._.dialog.selectPage(a);return this},focus:function(){this.selectParentTab().getInputElement().focus();return this},registerEvents:function(a){\nvar this$1 = this;\nvar b=/^on([A-Z]\\w+)/,c,d=function(a,b,c,d){b.on(\"load\",function(){a.getInputElement().on(c,d,a)})},f;for(f in a)if(c=f.match(b))this$1.eventProcessors[f]?this$1.eventProcessors[f].call(this$1,\nthis$1._.dialog,a[f]):d(this$1,this$1._.dialog,c[1].toLowerCase(),a[f]);return this},eventProcessors:{onLoad:function(a,b){a.on(\"load\",b,this)},onShow:function(a,b){a.on(\"show\",b,this)},onHide:function(a,b){a.on(\"hide\",b,this)}},accessKeyDown:function(){this.focus()},accessKeyUp:function(){},disable:function(){var a=this.getElement();this.getInputElement().setAttribute(\"disabled\",\"true\");a.addClass(\"cke_disabled\")},enable:function(){var a=this.getElement();this.getInputElement().removeAttribute(\"disabled\");\na.removeClass(\"cke_disabled\")},isEnabled:function(){return!this.getElement().hasClass(\"cke_disabled\")},isVisible:function(){return this.getInputElement().isVisible()},isFocusable:function(){return this.isEnabled()&&this.isVisible()?!0:!1}};CKEDITOR.ui.dialog.hbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getChild:function(a){if(1>arguments.length)return this._.children.concat();a.splice||(a=[a]);return 2>a.length?this._.children[a[0]]:this._.children[a[0]]&&this._.children[a[0]].getChild?\nthis._.children[a[0]].getChild(a.slice(1,a.length)):null}},!0);CKEDITOR.ui.dialog.vbox.prototype=new CKEDITOR.ui.dialog.hbox;(function(){var a={build:function(a,b,c){for(var d=b.children,f,e=[],g=[],h=0;h<d.length&&(f=d[h]);h++){var k=[];e.push(k);g.push(CKEDITOR.dialog._.uiElementBuilders[f.type].build(a,f,k))}return new CKEDITOR.ui.dialog[b.type](a,g,e,c,b)}};CKEDITOR.dialog.addUIElement(\"hbox\",a);CKEDITOR.dialog.addUIElement(\"vbox\",a)})();CKEDITOR.dialogCommand=function(a,b){this.dialogName=a;\nCKEDITOR.tools.extend(this,b,!0)};CKEDITOR.dialogCommand.prototype={exec:function(a){a.openDialog(this.dialogName)},canUndo:!1,editorFocus:1};(function(){var a=/^([a]|[^a])+$/,b=/^\\d*$/,c=/^\\d*(?:\\.\\d+)?$/,d=/^(((\\d*(\\.\\d+))|(\\d*))(px|\\%)?)?$/,f=/^(((\\d*(\\.\\d+))|(\\d*))(px|em|ex|in|cm|mm|pt|pc|\\%)?)?$/i,e=/^(\\s*[\\w-]+\\s*:\\s*[^:;]+(?:;|$))*$/;CKEDITOR.VALIDATE_OR=1;CKEDITOR.VALIDATE_AND=2;CKEDITOR.dialog.validate={functions:function(){var a=arguments;return function(){var b=this&&this.getValue?this.getValue():\na[0],c,d=CKEDITOR.VALIDATE_AND,f=[],e;for(e=0;e<a.length;e++)if(\"function\"==typeof a[e])f.push(a[e]);else break;e<a.length&&\"string\"==typeof a[e]&&(c=a[e],e++);e<a.length&&\"number\"==typeof a[e]&&(d=a[e]);var g=d==CKEDITOR.VALIDATE_AND?!0:!1;for(e=0;e<f.length;e++)g=d==CKEDITOR.VALIDATE_AND?g&&f[e](b):g||f[e](b);return g?!0:c}},regex:function(a,b){return function(c){c=this&&this.getValue?this.getValue():c;return a.test(c)?!0:b}},notEmpty:function(b){return this.regex(a,b)},integer:function(a){return this.regex(b,\na)},number:function(a){return this.regex(c,a)},cssLength:function(a){return this.functions(function(a){return f.test(CKEDITOR.tools.trim(a))},a)},htmlLength:function(a){return this.functions(function(a){return d.test(CKEDITOR.tools.trim(a))},a)},inlineStyle:function(a){return this.functions(function(a){return e.test(CKEDITOR.tools.trim(a))},a)},equals:function(a,b){return this.functions(function(b){return b==a},b)},notEqual:function(a,b){return this.functions(function(b){return b!=a},b)}};CKEDITOR.on(\"instanceDestroyed\",\nfunction(a){if(CKEDITOR.tools.isEmpty(CKEDITOR.instances)){for(var b;b=CKEDITOR.dialog._.currentTop;)b.hide();for(var c in D)D[c].remove();D={}}a=a.editor._.storedDialogs;for(var d in a)a[d].destroy()})})();CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{openDialog:function(a,b){var c=null,d=CKEDITOR.dialog._.dialogDefinitions[a];null===CKEDITOR.dialog._.currentTop&&v(this);if(\"function\"==typeof d)c=this._.storedDialogs||(this._.storedDialogs={}),c=c[a]||(c[a]=new CKEDITOR.dialog(this,a)),b&&b.call(c,\nc),c.show();else{if(\"failed\"==d)throw r(this),Error('[CKEDITOR.dialog.openDialog] Dialog \"'+a+'\" failed when loading definition.');\"string\"==typeof d&&CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(d),function(){\"function\"!=typeof CKEDITOR.dialog._.dialogDefinitions[a]&&(CKEDITOR.dialog._.dialogDefinitions[a]=\"failed\");this.openDialog(a,b)},this,0,1)}CKEDITOR.skin.loadPart(\"dialog\");return c}})}(),CKEDITOR.plugins.add(\"dialog\",{requires:\"dialogui\",init:function(a){a.on(\"doubleclick\",function(e){e.data.dialog&&\na.openDialog(e.data.dialog)},null,null,999)}}),function(){CKEDITOR.plugins.add(\"a11yhelp\",{requires:\"dialog\",availableLangs:{af:1,ar:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,\"de-ch\":1,el:1,en:1,\"en-gb\":1,eo:1,es:1,et:1,eu:1,fa:1,fi:1,fo:1,fr:1,\"fr-ca\":1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,nb:1,nl:1,no:1,pl:1,pt:1,\"pt-br\":1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,sr:1,\"sr-latn\":1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,\"zh-cn\":1},init:function(a){var e=this;a.addCommand(\"a11yHelp\",\n{exec:function(){var b=a.langCode,b=e.availableLangs[b]?b:e.availableLangs[b.replace(/-.*/,\"\")]?b.replace(/-.*/,\"\"):\"en\";CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(e.path+\"dialogs/lang/\"+b+\".js\"),function(){a.lang.a11yhelp=e.langEntries[b];a.openDialog(\"a11yHelp\")})},modes:{wysiwyg:1,source:1},readOnly:1,canUndo:!1});a.setKeystroke(CKEDITOR.ALT+48,\"a11yHelp\");CKEDITOR.dialog.add(\"a11yHelp\",this.path+\"dialogs/a11yhelp.js\");a.on(\"ariaEditorHelpLabel\",function(b){b.data.label=a.lang.common.editorHelp})}})}(),\nCKEDITOR.plugins.add(\"about\",{requires:\"dialog\",init:function(a){var e=a.addCommand(\"about\",new CKEDITOR.dialogCommand(\"about\"));e.modes={wysiwyg:1,source:1};e.canUndo=!1;e.readOnly=1;a.ui.addButton&&a.ui.addButton(\"About\",{label:a.lang.about.title,command:\"about\",toolbar:\"about\"});CKEDITOR.dialog.add(\"about\",this.path+\"dialogs/about.js\")}}),CKEDITOR.plugins.add(\"basicstyles\",{init:function(a){var e=0,b=function(b,d,h,k){if(k){k=new CKEDITOR.style(k);var g=c[h];g.unshift(k);a.attachStyleStateChange(k,\nfunction(b){!a.readOnly&&a.getCommand(h).setState(b)});a.addCommand(h,new CKEDITOR.styleCommand(k,{contentForms:g}));a.ui.addButton&&a.ui.addButton(b,{label:d,command:h,toolbar:\"basicstyles,\"+(e+=10)})}},c={bold:[\"strong\",\"b\",[\"span\",function(a){a=a.styles[\"font-weight\"];return\"bold\"==a||700<=+a}]],italic:[\"em\",\"i\",[\"span\",function(a){return\"italic\"==a.styles[\"font-style\"]}]],underline:[\"u\",[\"span\",function(a){return\"underline\"==a.styles[\"text-decoration\"]}]],strike:[\"s\",\"strike\",[\"span\",function(a){return\"line-through\"==\na.styles[\"text-decoration\"]}]],subscript:[\"sub\"],superscript:[\"sup\"]},d=a.config,l=a.lang.basicstyles;b(\"Bold\",l.bold,\"bold\",d.coreStyles_bold);b(\"Italic\",l.italic,\"italic\",d.coreStyles_italic);b(\"Underline\",l.underline,\"underline\",d.coreStyles_underline);b(\"Strike\",l.strike,\"strike\",d.coreStyles_strike);b(\"Subscript\",l.subscript,\"subscript\",d.coreStyles_subscript);b(\"Superscript\",l.superscript,\"superscript\",d.coreStyles_superscript);a.setKeystroke([[CKEDITOR.CTRL+66,\"bold\"],[CKEDITOR.CTRL+73,\"italic\"],\n[CKEDITOR.CTRL+85,\"underline\"]])}}),CKEDITOR.config.coreStyles_bold={element:\"strong\",overrides:\"b\"},CKEDITOR.config.coreStyles_italic={element:\"em\",overrides:\"i\"},CKEDITOR.config.coreStyles_underline={element:\"u\"},CKEDITOR.config.coreStyles_strike={element:\"s\",overrides:\"strike\"},CKEDITOR.config.coreStyles_subscript={element:\"sub\"},CKEDITOR.config.coreStyles_superscript={element:\"sup\"},function(){var a={exec:function(a){var b=a.getCommand(\"blockquote\").state,c=a.getSelection(),d=c&&c.getRanges()[0];\nif(d){var l=c.createBookmarks();if(CKEDITOR.env.ie){var m=l[0].startNode,f=l[0].endNode,h;if(m&&\"blockquote\"==m.getParent().getName())for(h=m;h=h.getNext();)if(h.type==CKEDITOR.NODE_ELEMENT&&h.isBlockBoundary()){m.move(h,!0);break}if(f&&\"blockquote\"==f.getParent().getName())for(h=f;h=h.getPrevious();)if(h.type==CKEDITOR.NODE_ELEMENT&&h.isBlockBoundary()){f.move(h);break}}var k=d.createIterator();k.enlargeBr=a.config.enterMode!=CKEDITOR.ENTER_BR;if(b==CKEDITOR.TRISTATE_OFF){for(m=[];b=k.getNextParagraph();)m.push(b);\n1>m.length&&(b=a.document.createElement(a.config.enterMode==CKEDITOR.ENTER_P?\"p\":\"div\"),f=l.shift(),d.insertNode(b),b.append(new CKEDITOR.dom.text(\"﻿\",a.document)),d.moveToBookmark(f),d.selectNodeContents(b),d.collapse(!0),f=d.createBookmark(),m.push(b),l.unshift(f));h=m[0].getParent();d=[];for(f=0;f<m.length;f++)b=m[f],h=h.getCommonAncestor(b.getParent());for(b={table:1,tbody:1,tr:1,ol:1,ul:1};b[h.getName()];)h=h.getParent();for(f=null;0<m.length;){for(b=m.shift();!b.getParent().equals(h);)b=b.getParent();\nb.equals(f)||d.push(b);f=b}for(;0<d.length;)if(b=d.shift(),\"blockquote\"==b.getName()){for(f=new CKEDITOR.dom.documentFragment(a.document);b.getFirst();)f.append(b.getFirst().remove()),m.push(f.getLast());f.replace(b)}else m.push(b);d=a.document.createElement(\"blockquote\");for(d.insertBefore(m[0]);0<m.length;)b=m.shift(),d.append(b)}else if(b==CKEDITOR.TRISTATE_ON){f=[];for(h={};b=k.getNextParagraph();){for(m=d=null;b.getParent();){if(\"blockquote\"==b.getParent().getName()){d=b.getParent();m=b;break}b=\nb.getParent()}d&&m&&!m.getCustomData(\"blockquote_moveout\")&&(f.push(m),CKEDITOR.dom.element.setMarker(h,m,\"blockquote_moveout\",!0))}CKEDITOR.dom.element.clearAllMarkers(h);b=[];m=[];for(h={};0<f.length;)k=f.shift(),d=k.getParent(),k.getPrevious()?k.getNext()?(k.breakParent(k.getParent()),m.push(k.getNext())):k.remove().insertAfter(d):k.remove().insertBefore(d),d.getCustomData(\"blockquote_processed\")||(m.push(d),CKEDITOR.dom.element.setMarker(h,d,\"blockquote_processed\",!0)),b.push(k);CKEDITOR.dom.element.clearAllMarkers(h);\nfor(f=m.length-1;0<=f;f--){d=m[f];a:{h=d;for(var k=0,g=h.getChildCount(),n=void 0;k<g&&(n=h.getChild(k));k++)if(n.type==CKEDITOR.NODE_ELEMENT&&n.isBlockBoundary()){h=!1;break a}h=!0}h&&d.remove()}if(a.config.enterMode==CKEDITOR.ENTER_BR)for(d=!0;b.length;)if(k=b.shift(),\"div\"==k.getName()){f=new CKEDITOR.dom.documentFragment(a.document);!d||!k.getPrevious()||k.getPrevious().type==CKEDITOR.NODE_ELEMENT&&k.getPrevious().isBlockBoundary()||f.append(a.document.createElement(\"br\"));for(d=k.getNext()&&\n!(k.getNext().type==CKEDITOR.NODE_ELEMENT&&k.getNext().isBlockBoundary());k.getFirst();)k.getFirst().remove().appendTo(f);d&&f.append(a.document.createElement(\"br\"));f.replace(k);d=!1}}c.selectBookmarks(l);a.focus()}},refresh:function(a,b){this.setState(a.elementPath(b.block||b.blockLimit).contains(\"blockquote\",1)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)},context:\"blockquote\",allowedContent:\"blockquote\",requiredContent:\"blockquote\"};CKEDITOR.plugins.add(\"blockquote\",{init:function(e){e.blockless||\n(e.addCommand(\"blockquote\",a),e.ui.addButton&&e.ui.addButton(\"Blockquote\",{label:e.lang.blockquote.toolbar,command:\"blockquote\",toolbar:\"blocks,10\"}))}})}(),\"use strict\",function(){function a(a,b,c){b.type||(b.type=\"auto\");if(c&&!1===a.fire(\"beforePaste\",b)||!b.dataValue&&b.dataTransfer.isEmpty())return!1;b.dataValue||(b.dataValue=\"\");if(CKEDITOR.env.gecko&&\"drop\"==b.method&&a.toolbox)a.once(\"afterPaste\",function(){a.toolbox.focus()});return a.fire(\"paste\",b)}function e(b){function c(){var a=b.editable();\nif(CKEDITOR.plugins.clipboard.isCustomCopyCutSupported){var d=function(a){b.readOnly&&\"cut\"==a.name||B.initPasteDataTransfer(a,b);a.data.preventDefault()};a.on(\"copy\",d);a.on(\"cut\",d);a.on(\"cut\",function(){b.readOnly||b.extractSelectedHtml()},null,null,999)}a.on(B.mainPasteEvent,function(a){\"beforepaste\"==B.mainPasteEvent&&C||x(a)});\"beforepaste\"==B.mainPasteEvent&&(a.on(\"paste\",function(a){F||(e(),a.data.preventDefault(),x(a),k(\"paste\")||b.openDialog(\"paste\"))}),a.on(\"contextmenu\",h,null,null,0),\na.on(\"beforepaste\",function(a){!a.data||a.data.$.ctrlKey||a.data.$.shiftKey||h()},null,null,0));a.on(\"beforecut\",function(){!C&&l(b)});var f;a.attachListener(CKEDITOR.env.ie?a:b.document.getDocumentElement(),\"mouseup\",function(){f=setTimeout(function(){D()},0)});b.on(\"destroy\",function(){clearTimeout(f)});a.on(\"keyup\",D)}function d(a){return{type:a,canUndo:\"cut\"==a,startDisabled:!0,exec:function(){\"cut\"==this.type&&l();var a;var c=this.type;if(CKEDITOR.env.ie)a=k(c);else try{a=b.document.$.execCommand(c,\n!1,null)}catch(d){a=!1}a||b.showNotification(b.lang.clipboard[this.type+\"Error\"]);return a}}}function f(){return{canUndo:!1,async:!0,exec:function(b,c){var d=this,f=function(c,f){c&&a(b,c,!!f);b.fire(\"afterCommandExec\",{name:\"paste\",command:d,returnValue:!!c})};\"string\"==typeof c?f({dataValue:c,method:\"paste\",dataTransfer:B.initPasteDataTransfer()},1):b.getClipboardData(f)}}}function e(){F=1;setTimeout(function(){F=0},100)}function h(){C=1;setTimeout(function(){C=0},10)}function k(a){var c=b.document,\nd=c.getBody(),f=!1,e=function(){f=!0};d.on(a,e);7<CKEDITOR.env.version?c.$.execCommand(a):c.$.selection.createRange().execCommand(a);d.removeListener(a,e);return f}function l(){if(CKEDITOR.env.ie&&!CKEDITOR.env.quirks){var a=b.getSelection(),c,d,f;a.getType()==CKEDITOR.SELECTION_ELEMENT&&(c=a.getSelectedElement())&&(d=a.getRanges()[0],f=b.document.createText(\"\"),f.insertBefore(c),d.setStartBefore(f),d.setEndAfter(c),a.selectRanges([d]),setTimeout(function(){c.getParent()&&(f.remove(),a.selectElement(c))},\n0))}}function m(a,c){var d=b.document,f=b.editable(),e=function(a){a.cancel()},h;if(!d.getById(\"cke_pastebin\")){var k=b.getSelection(),l=k.createBookmarks();CKEDITOR.env.ie&&k.root.fire(\"selectionchange\");var n=new CKEDITOR.dom.element(!CKEDITOR.env.webkit&&!f.is(\"body\")||CKEDITOR.env.ie?\"div\":\"body\",d);n.setAttributes({id:\"cke_pastebin\",\"data-cke-temp\":\"1\"});var w=0,d=d.getWindow();CKEDITOR.env.webkit?(f.append(n),n.addClass(\"cke_editable\"),f.is(\"body\")||(w=\"static\"!=f.getComputedStyle(\"position\")?\nf:CKEDITOR.dom.element.get(f.$.offsetParent),w=w.getDocumentPosition().y)):f.getAscendant(CKEDITOR.env.ie?\"body\":\"html\",1).append(n);n.setStyles({position:\"absolute\",top:d.getScrollPosition().y-w+10+\"px\",width:\"1px\",height:Math.max(1,d.getViewPaneSize().height-20)+\"px\",overflow:\"hidden\",margin:0,padding:0});CKEDITOR.env.safari&&n.setStyles(CKEDITOR.tools.cssVendorPrefix(\"user-select\",\"text\"));(w=n.getParent().isReadOnly())?(n.setOpacity(0),n.setAttribute(\"contenteditable\",!0)):n.setStyle(\"ltr\"==b.config.contentsLangDirection?\n\"left\":\"right\",\"-10000px\");b.on(\"selectionChange\",e,null,null,0);if(CKEDITOR.env.webkit||CKEDITOR.env.gecko)h=f.once(\"blur\",e,null,null,-100);w&&n.focus();w=new CKEDITOR.dom.range(n);w.selectNodeContents(n);var p=w.select();CKEDITOR.env.ie&&(h=f.once(\"blur\",function(){b.lockSelection(p)}));var q=CKEDITOR.document.getWindow().getScrollPosition().y;setTimeout(function(){CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=q);h&&h.removeListener();CKEDITOR.env.ie&&f.focus();k.selectBookmarks(l);\nn.remove();var a;CKEDITOR.env.webkit&&(a=n.getFirst())&&a.is&&a.hasClass(\"Apple-style-span\")&&(n=a);b.removeListener(\"selectionChange\",e);c(n.getHtml())},0)}}function A(){if(\"paste\"==B.mainPasteEvent)return b.fire(\"beforePaste\",{type:\"auto\",method:\"paste\"}),!1;b.focus();e();var a=b.focusManager;a.lock();if(b.editable().fire(B.mainPasteEvent)&&!k(\"paste\"))return a.unlock(),!1;a.unlock();return!0}function u(a){if(\"wysiwyg\"==b.mode)switch(a.data.keyCode){case CKEDITOR.CTRL+86:case CKEDITOR.SHIFT+45:a=\nb.editable();e();\"paste\"==B.mainPasteEvent&&a.fire(\"beforepaste\");break;case CKEDITOR.CTRL+88:case CKEDITOR.SHIFT+46:b.fire(\"saveSnapshot\"),setTimeout(function(){b.fire(\"saveSnapshot\")},50)}}function x(c){var d={type:\"auto\",method:\"paste\",dataTransfer:B.initPasteDataTransfer(c)};d.dataTransfer.cacheData();var f=!1!==b.fire(\"beforePaste\",d);f&&B.canClipboardApiBeTrusted(d.dataTransfer,b)?(c.data.preventDefault(),setTimeout(function(){a(b,d)},0)):m(c,function(c){d.dataValue=c.replace(/<span[^>]+data-cke-bookmark[^<]*?<\\/span>/ig,\n\"\");f&&a(b,d)})}function D(){if(\"wysiwyg\"==b.mode){var a=y(\"paste\");b.getCommand(\"cut\").setState(y(\"cut\"));b.getCommand(\"copy\").setState(y(\"copy\"));b.getCommand(\"paste\").setState(a);b.fire(\"pasteState\",a)}}function y(a){if(E&&a in{paste:1,cut:1})return CKEDITOR.TRISTATE_DISABLED;if(\"paste\"==a)return CKEDITOR.TRISTATE_OFF;a=b.getSelection();var c=a.getRanges();return a.getType()==CKEDITOR.SELECTION_NONE||1==c.length&&c[0].collapsed?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_OFF}var B=CKEDITOR.plugins.clipboard,\nC=0,F=0,E=0;(function(){b.on(\"key\",u);b.on(\"contentDom\",c);b.on(\"selectionChange\",function(a){E=a.data.selection.getRanges()[0].checkReadOnly();D()});b.contextMenu&&b.contextMenu.addListener(function(a,b){E=b.getRanges()[0].checkReadOnly();return{cut:y(\"cut\"),copy:y(\"copy\"),paste:y(\"paste\")}})})();(function(){function a(c,d,f,e,h){var k=b.lang.clipboard[d];b.addCommand(d,f);b.ui.addButton&&b.ui.addButton(c,{label:k,command:d,toolbar:\"clipboard,\"+e});b.addMenuItems&&b.addMenuItem(d,{label:k,command:d,\ngroup:\"clipboard\",order:h})}a(\"Cut\",\"cut\",d(\"cut\"),10,1);a(\"Copy\",\"copy\",d(\"copy\"),20,4);a(\"Paste\",\"paste\",f(),30,8)})();b.getClipboardData=function(a,c){function d(a){a.removeListener();a.cancel();c(a.data)}function f(a){a.removeListener();a.cancel();l=!0;c({type:k,dataValue:a.data.dataValue,dataTransfer:a.data.dataTransfer,method:\"paste\"})}function e(){this.customTitle=a&&a.title}var h=!1,k=\"auto\",l=!1;c||(c=a,a=null);b.on(\"paste\",d,null,null,0);b.on(\"beforePaste\",function(a){a.removeListener();\nh=!0;k=a.data.type},null,null,1E3);!1===A()&&(b.removeListener(\"paste\",d),h&&b.fire(\"pasteDialog\",e)?(b.on(\"pasteDialogCommit\",f),b.on(\"dialogHide\",function(a){a.removeListener();a.data.removeListener(\"pasteDialogCommit\",f);setTimeout(function(){l||c(null)},10)})):c(null))}}function b(a){if(CKEDITOR.env.webkit){if(!a.match(/^[^<]*$/g)&&!a.match(/^(<div><br( ?\\/)?><\\/div>|<div>[^<]*<\\/div>)*$/gi))return\"html\"}else if(CKEDITOR.env.ie){if(!a.match(/^([^<]|<br( ?\\/)?>)*$/gi)&&!a.match(/^(<p>([^<]|<br( ?\\/)?>)*<\\/p>|(\\r\\n))*$/gi))return\"html\"}else if(CKEDITOR.env.gecko){if(!a.match(/^([^<]|<br( ?\\/)?>)*$/gi))return\"html\"}else return\"html\";\nreturn\"htmlifiedtext\"}function c(a,b){function c(a){return CKEDITOR.tools.repeat(\"\\x3c/p\\x3e\\x3cp\\x3e\",~~(a/2))+(1==a%2?\"\\x3cbr\\x3e\":\"\")}b=b.replace(/\\s+/g,\" \").replace(/> +</g,\"\\x3e\\x3c\").replace(/<br ?\\/>/gi,\"\\x3cbr\\x3e\");b=b.replace(/<\\/?[A-Z]+>/g,function(a){return a.toLowerCase()});if(b.match(/^[^<]$/))return b;CKEDITOR.env.webkit&&-1<b.indexOf(\"\\x3cdiv\\x3e\")&&(b=b.replace(/^(<div>(<br>|)<\\/div>)(?!$|(<div>(<br>|)<\\/div>))/g,\"\\x3cbr\\x3e\").replace(/^(<div>(<br>|)<\\/div>){2}(?!$)/g,\"\\x3cdiv\\x3e\\x3c/div\\x3e\"),\nb.match(/<div>(<br>|)<\\/div>/)&&(b=\"\\x3cp\\x3e\"+b.replace(/(<div>(<br>|)<\\/div>)+/g,function(a){return c(a.split(\"\\x3c/div\\x3e\\x3cdiv\\x3e\").length+1)})+\"\\x3c/p\\x3e\"),b=b.replace(/<\\/div><div>/g,\"\\x3cbr\\x3e\"),b=b.replace(/<\\/?div>/g,\"\"));CKEDITOR.env.gecko&&a.enterMode!=CKEDITOR.ENTER_BR&&(CKEDITOR.env.gecko&&(b=b.replace(/^<br><br>$/,\"\\x3cbr\\x3e\")),-1<b.indexOf(\"\\x3cbr\\x3e\\x3cbr\\x3e\")&&(b=\"\\x3cp\\x3e\"+b.replace(/(<br>){2,}/g,function(a){return c(a.length/4)})+\"\\x3c/p\\x3e\"));return m(a,b)}function d(){function a(){var b=\n{},c;for(c in CKEDITOR.dtd)\"$\"!=c.charAt(0)&&\"div\"!=c&&\"span\"!=c&&(b[c]=1);return b}var b={};return{get:function(c){return\"plain-text\"==c?b.plainText||(b.plainText=new CKEDITOR.filter(\"br\")):\"semantic-content\"==c?((c=b.semanticContent)||(c=new CKEDITOR.filter,c.allow({$1:{elements:a(),attributes:!0,styles:!1,classes:!1}}),c=b.semanticContent=c),c):c?new CKEDITOR.filter(c):null}}}function l(a,b,c){b=CKEDITOR.htmlParser.fragment.fromHtml(b);var d=new CKEDITOR.htmlParser.basicWriter;c.applyTo(b,!0,!1,\na.activeEnterMode);b.writeHtml(d);return d.getHtml()}function m(a,b){a.enterMode==CKEDITOR.ENTER_BR?b=b.replace(/(<\\/p><p>)+/g,function(a){return CKEDITOR.tools.repeat(\"\\x3cbr\\x3e\",a.length/7*2)}).replace(/<\\/?p>/g,\"\"):a.enterMode==CKEDITOR.ENTER_DIV&&(b=b.replace(/<(\\/)?p>/g,\"\\x3c$1div\\x3e\"));return b}function f(a){a.data.preventDefault();a.data.$.dataTransfer.dropEffect=\"none\"}function h(b){var c=CKEDITOR.plugins.clipboard;b.on(\"contentDom\",function(){function d(c,f,e){f.select();a(b,{dataTransfer:e,\nmethod:\"drop\"},1);e.sourceEditor.fire(\"saveSnapshot\");e.sourceEditor.editable().extractHtmlFromRange(c);e.sourceEditor.getSelection().selectRanges([c]);e.sourceEditor.fire(\"saveSnapshot\")}function f(d,e){d.select();a(b,{dataTransfer:e,method:\"drop\"},1);c.resetDragDataTransfer()}function e(a,c,d){var f={$:a.data.$,target:a.data.getTarget()};c&&(f.dragRange=c);d&&(f.dropRange=d);!1===b.fire(a.name,f)&&a.data.preventDefault()}function h(a){a.type!=CKEDITOR.NODE_ELEMENT&&(a=a.getParent());return a.getChildCount()}\nvar k=b.editable(),l=CKEDITOR.plugins.clipboard.getDropTarget(b),m=b.ui.space(\"top\"),A=b.ui.space(\"bottom\");c.preventDefaultDropOnElement(m);c.preventDefaultDropOnElement(A);k.attachListener(l,\"dragstart\",e);k.attachListener(b,\"dragstart\",c.resetDragDataTransfer,c,null,1);k.attachListener(b,\"dragstart\",function(a){c.initDragDataTransfer(a,b)},null,null,2);k.attachListener(b,\"dragstart\",function(){var a=c.dragRange=b.getSelection().getRanges()[0];CKEDITOR.env.ie&&10>CKEDITOR.env.version&&(c.dragStartContainerChildCount=\na?h(a.startContainer):null,c.dragEndContainerChildCount=a?h(a.endContainer):null)},null,null,100);k.attachListener(l,\"dragend\",e);k.attachListener(b,\"dragend\",c.initDragDataTransfer,c,null,1);k.attachListener(b,\"dragend\",c.resetDragDataTransfer,c,null,100);k.attachListener(l,\"dragover\",function(a){var b=a.data.getTarget();b&&b.is&&b.is(\"html\")?a.data.preventDefault():CKEDITOR.env.ie&&CKEDITOR.plugins.clipboard.isFileApiSupported&&a.data.$.dataTransfer.types.contains(\"Files\")&&a.data.preventDefault()});\nk.attachListener(l,\"drop\",function(a){if(!a.data.$.defaultPrevented){a.data.preventDefault();var d=a.data.getTarget();if(!d.isReadOnly()||d.type==CKEDITOR.NODE_ELEMENT&&d.is(\"html\")){var d=c.getRangeAtDropPosition(a,b),f=c.dragRange;d&&e(a,f,d)}}},null,null,9999);k.attachListener(b,\"drop\",c.initDragDataTransfer,c,null,1);k.attachListener(b,\"drop\",function(a){if(a=a.data){var e=a.dropRange,h=a.dragRange,k=a.dataTransfer;k.getTransferType(b)==CKEDITOR.DATA_TRANSFER_INTERNAL?setTimeout(function(){c.internalDrop(h,\ne,k,b)},0):k.getTransferType(b)==CKEDITOR.DATA_TRANSFER_CROSS_EDITORS?d(h,e,k):f(e,k)}},null,null,9999)})}CKEDITOR.plugins.add(\"clipboard\",{requires:\"dialog\",init:function(a){var f,k=d();a.config.forcePasteAsPlainText?f=\"plain-text\":a.config.pasteFilter?f=a.config.pasteFilter:!CKEDITOR.env.webkit||\"pasteFilter\"in a.config||(f=\"semantic-content\");a.pasteFilter=k.get(f);e(a);h(a);CKEDITOR.dialog.add(\"paste\",CKEDITOR.getUrl(this.path+\"dialogs/paste.js\"));a.on(\"paste\",function(b){b.data.dataTransfer||\n(b.data.dataTransfer=new CKEDITOR.plugins.clipboard.dataTransfer);if(!b.data.dataValue){var c=b.data.dataTransfer,d=c.getData(\"text/html\");if(d)b.data.dataValue=d,b.data.type=\"html\";else if(d=c.getData(\"text/plain\"))b.data.dataValue=a.editable().transformPlainTextToHtml(d),b.data.type=\"text\"}},null,null,1);a.on(\"paste\",function(a){var b=a.data.dataValue,c=CKEDITOR.dtd.$block;-1<b.indexOf(\"Apple-\")&&(b=b.replace(/<span class=\"Apple-converted-space\">&nbsp;<\\/span>/gi,\" \"),\"html\"!=a.data.type&&(b=b.replace(/<span class=\"Apple-tab-span\"[^>]*>([^<]*)<\\/span>/gi,\nfunction(a,b){return b.replace(/\\t/g,\"\\x26nbsp;\\x26nbsp; \\x26nbsp;\")})),-1<b.indexOf('\\x3cbr class\\x3d\"Apple-interchange-newline\"\\x3e')&&(a.data.startsWithEOL=1,a.data.preSniffing=\"html\",b=b.replace(/<br class=\"Apple-interchange-newline\">/,\"\")),b=b.replace(/(<[^>]+) class=\"Apple-[^\"]*\"/gi,\"$1\"));if(b.match(/^<[^<]+cke_(editable|contents)/i)){var d,f,e=new CKEDITOR.dom.element(\"div\");for(e.setHtml(b);1==e.getChildCount()&&(d=e.getFirst())&&d.type==CKEDITOR.NODE_ELEMENT&&(d.hasClass(\"cke_editable\")||\nd.hasClass(\"cke_contents\"));)e=f=d;f&&(b=f.getHtml().replace(/<br>$/i,\"\"))}CKEDITOR.env.ie?b=b.replace(/^&nbsp;(?: |\\r\\n)?<(\\w+)/g,function(b,d){return d.toLowerCase()in c?(a.data.preSniffing=\"html\",\"\\x3c\"+d):b}):CKEDITOR.env.webkit?b=b.replace(/<\\/(\\w+)><div><br><\\/div>$/,function(b,d){return d in c?(a.data.endsWithEOL=1,\"\\x3c/\"+d+\"\\x3e\"):b}):CKEDITOR.env.gecko&&(b=b.replace(/(\\s)<br>$/,\"$1\"));a.data.dataValue=b},null,null,3);a.on(\"paste\",function(d){d=d.data;var f=d.type,e=d.dataValue,h,m=a.config.clipboard_defaultContentType||\n\"html\",n=d.dataTransfer.getTransferType(a);h=\"html\"==f||\"html\"==d.preSniffing?\"html\":b(e);\"htmlifiedtext\"==h&&(e=c(a.config,e));\"text\"==f&&\"html\"==h?e=l(a,e,k.get(\"plain-text\")):n==CKEDITOR.DATA_TRANSFER_EXTERNAL&&a.pasteFilter&&!d.dontFilter&&(e=l(a,e,a.pasteFilter));d.startsWithEOL&&(e='\\x3cbr data-cke-eol\\x3d\"1\"\\x3e'+e);d.endsWithEOL&&(e+='\\x3cbr data-cke-eol\\x3d\"1\"\\x3e');\"auto\"==f&&(f=\"html\"==h||\"html\"==m?\"html\":\"text\");d.type=f;d.dataValue=e;delete d.preSniffing;delete d.startsWithEOL;delete d.endsWithEOL},\nnull,null,6);a.on(\"paste\",function(b){b=b.data;b.dataValue&&(a.insertHtml(b.dataValue,b.type,b.range),setTimeout(function(){a.fire(\"afterPaste\")},0))},null,null,1E3);a.on(\"pasteDialog\",function(b){setTimeout(function(){a.openDialog(\"paste\",b.data)},0)})}});CKEDITOR.plugins.clipboard={isCustomCopyCutSupported:!CKEDITOR.env.ie&&!CKEDITOR.env.iOS,isCustomDataTypesSupported:!CKEDITOR.env.ie,isFileApiSupported:!CKEDITOR.env.ie||9<CKEDITOR.env.version,mainPasteEvent:CKEDITOR.env.ie&&!CKEDITOR.env.edge?\n\"beforepaste\":\"paste\",canClipboardApiBeTrusted:function(a,b){return a.getTransferType(b)!=CKEDITOR.DATA_TRANSFER_EXTERNAL||CKEDITOR.env.chrome&&!a.isEmpty()||CKEDITOR.env.gecko&&(a.getData(\"text/html\")||a.getFilesCount())?!0:!1},getDropTarget:function(a){var b=a.editable();return CKEDITOR.env.ie&&9>CKEDITOR.env.version||b.isInline()?b:a.document},fixSplitNodesAfterDrop:function(a,b,c,d){function f(a,c,d){var e=a;e.type==CKEDITOR.NODE_TEXT&&(e=a.getParent());if(e.equals(c)&&d!=c.getChildCount())return a=\nb.startContainer.getChild(b.startOffset-1),c=b.startContainer.getChild(b.startOffset),a&&a.type==CKEDITOR.NODE_TEXT&&c&&c.type==CKEDITOR.NODE_TEXT&&(d=a.getLength(),a.setText(a.getText()+c.getText()),c.remove(),b.setStart(a,d),b.collapse(!0)),!0}var e=b.startContainer;\"number\"==typeof d&&\"number\"==typeof c&&e.type==CKEDITOR.NODE_ELEMENT&&(f(a.startContainer,e,c)||f(a.endContainer,e,d))},isDropRangeAffectedByDragRange:function(a,b){var c=b.startContainer,d=b.endOffset;return a.endContainer.equals(c)&&\na.endOffset<=d||a.startContainer.getParent().equals(c)&&a.startContainer.getIndex()<d||a.endContainer.getParent().equals(c)&&a.endContainer.getIndex()<d?!0:!1},internalDrop:function(b,c,d,f){var e=CKEDITOR.plugins.clipboard,h=f.editable(),k,l;f.fire(\"saveSnapshot\");f.fire(\"lockSnapshot\",{dontUpdate:1});CKEDITOR.env.ie&&10>CKEDITOR.env.version&&this.fixSplitNodesAfterDrop(b,c,e.dragStartContainerChildCount,e.dragEndContainerChildCount);(l=this.isDropRangeAffectedByDragRange(b,c))||(k=b.createBookmark(!1));\ne=c.clone().createBookmark(!1);l&&(k=b.createBookmark(!1));b=k.startNode;c=k.endNode;l=e.startNode;c&&b.getPosition(l)&CKEDITOR.POSITION_PRECEDING&&c.getPosition(l)&CKEDITOR.POSITION_FOLLOWING&&l.insertBefore(b);b=f.createRange();b.moveToBookmark(k);h.extractHtmlFromRange(b,1);c=f.createRange();c.moveToBookmark(e);a(f,{dataTransfer:d,method:\"drop\",range:c},1);f.fire(\"unlockSnapshot\")},getRangeAtDropPosition:function(a,b){var c=a.data.$,d=c.clientX,f=c.clientY,e=b.getSelection(!0).getRanges()[0],h=\nb.createRange();if(a.data.testRange)return a.data.testRange;if(document.caretRangeFromPoint)c=b.document.$.caretRangeFromPoint(d,f),h.setStart(CKEDITOR.dom.node(c.startContainer),c.startOffset),h.collapse(!0);else if(c.rangeParent)h.setStart(CKEDITOR.dom.node(c.rangeParent),c.rangeOffset),h.collapse(!0);else{if(CKEDITOR.env.ie&&8<CKEDITOR.env.version&&e&&b.editable().hasFocus)return e;if(document.body.createTextRange){b.focus();c=b.document.getBody().$.createTextRange();try{for(var k=!1,l=0;20>l&&\n!k;l++){if(!k)try{c.moveToPoint(d,f-l),k=!0}catch(m){}if(!k)try{c.moveToPoint(d,f+l),k=!0}catch(u){}}if(k){var x=\"cke-temp-\"+(new Date).getTime();c.pasteHTML('\\x3cspan id\\x3d\"'+x+'\"\\x3e​\\x3c/span\\x3e');var D=b.document.getById(x);h.moveToPosition(D,CKEDITOR.POSITION_BEFORE_START);D.remove()}else{var y=b.document.$.elementFromPoint(d,f),B=new CKEDITOR.dom.element(y),C;if(B.equals(b.editable())||\"html\"==B.getName())return e&&e.startContainer&&!e.startContainer.equals(b.editable())?e:null;C=B.getClientRect();\nd<C.left?h.setStartAt(B,CKEDITOR.POSITION_AFTER_START):h.setStartAt(B,CKEDITOR.POSITION_BEFORE_END);h.collapse(!0)}}catch(F){return null}}else return null}return h},initDragDataTransfer:function(a,b){var c=a.data.$?a.data.$.dataTransfer:null,d=new this.dataTransfer(c,b);c?this.dragData&&d.id==this.dragData.id?d=this.dragData:this.dragData=d:this.dragData?d=this.dragData:this.dragData=d;a.data.dataTransfer=d},resetDragDataTransfer:function(){this.dragData=null},initPasteDataTransfer:function(a,b){if(this.isCustomCopyCutSupported){if(a&&\na.data&&a.data.$){var c=new this.dataTransfer(a.data.$.clipboardData,b);this.copyCutData&&c.id==this.copyCutData.id?(c=this.copyCutData,c.$=a.data.$.clipboardData):this.copyCutData=c;return c}return new this.dataTransfer(null,b)}return new this.dataTransfer(CKEDITOR.env.edge&&a&&a.data.$&&a.data.$.clipboardData||null,b)},preventDefaultDropOnElement:function(a){a&&a.on(\"dragover\",f)}};var k=CKEDITOR.plugins.clipboard.isCustomDataTypesSupported?\"cke/id\":\"Text\";CKEDITOR.plugins.clipboard.dataTransfer=\nfunction(a,b){a&&(this.$=a);this._={metaRegExp:/^<meta.*?>/i,bodyRegExp:/<body(?:[\\s\\S]*?)>([\\s\\S]*)<\\/body>/i,fragmentRegExp:/\\x3c!--(?:Start|End)Fragment--\\x3e/g,data:{},files:[],normalizeType:function(a){a=a.toLowerCase();return\"text\"==a||\"text/plain\"==a?\"Text\":\"url\"==a?\"URL\":a}};this.id=this.getData(k);this.id||(this.id=\"Text\"==k?\"\":\"cke-\"+CKEDITOR.tools.getUniqueId());if(\"Text\"!=k)try{this.$.setData(k,this.id)}catch(c){}b&&(this.sourceEditor=b,this.setData(\"text/html\",b.getSelectedHtml(1)),\"Text\"==\nk||this.getData(\"text/plain\")||this.setData(\"text/plain\",b.getSelection().getSelectedText()))};CKEDITOR.DATA_TRANSFER_INTERNAL=1;CKEDITOR.DATA_TRANSFER_CROSS_EDITORS=2;CKEDITOR.DATA_TRANSFER_EXTERNAL=3;CKEDITOR.plugins.clipboard.dataTransfer.prototype={getData:function(a){a=this._.normalizeType(a);var b=this._.data[a];if(void 0===b||null===b||\"\"===b)try{b=this.$.getData(a)}catch(c){}if(void 0===b||null===b||\"\"===b)b=\"\";\"text/html\"==a?(b=b.replace(this._.metaRegExp,\"\"),(a=this._.bodyRegExp.exec(b))&&\na.length&&(b=a[1],b=b.replace(this._.fragmentRegExp,\"\"))):\"Text\"==a&&CKEDITOR.env.gecko&&this.getFilesCount()&&\"file://\"==b.substring(0,7)&&(b=\"\");return b},setData:function(a,b){a=this._.normalizeType(a);this._.data[a]=b;if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported||\"URL\"==a||\"Text\"==a){\"Text\"==k&&\"Text\"==a&&(this.id=b);try{this.$.setData(a,b)}catch(c){}}},getTransferType:function(a){return this.sourceEditor?this.sourceEditor==a?CKEDITOR.DATA_TRANSFER_INTERNAL:CKEDITOR.DATA_TRANSFER_CROSS_EDITORS:\nCKEDITOR.DATA_TRANSFER_EXTERNAL},cacheData:function(){\nvar this$1 = this;\nfunction a(c){c=b._.normalizeType(c);var d=b.getData(c);d&&(b._.data[c]=d)}if(this.$){var b=this,c,d;if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(c=0;c<this.$.types.length;c++)a(this$1.$.types[c])}else a(\"Text\"),a(\"URL\");d=this._getImageFromClipboard();if(this.$&&this.$.files||d){this._.files=[];if(this.$.files&&this.$.files.length)for(c=0;c<this.$.files.length;c++)this$1._.files.push(this$1.$.files[c]);0===this._.files.length&&\nd&&this._.files.push(d)}}},getFilesCount:function(){return this._.files.length?this._.files.length:this.$&&this.$.files&&this.$.files.length?this.$.files.length:this._getImageFromClipboard()?1:0},getFile:function(a){return this._.files.length?this._.files[a]:this.$&&this.$.files&&this.$.files.length?this.$.files[a]:0===a?this._getImageFromClipboard():void 0},isEmpty:function(){\nvar this$1 = this;\nvar a={},b;if(this.getFilesCount())return!1;for(b in this._.data)a[b]=1;if(this.$)if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(var c=\n0;c<this.$.types.length;c++)a[this$1.$.types[c]]=1}else a.Text=1,a.URL=1;\"Text\"!=k&&(a[k]=0);for(b in a)if(a[b]&&\"\"!==this$1.getData(b))return!1;return!0},_getImageFromClipboard:function(){var a;if(this.$&&this.$.items&&this.$.items[0])try{if((a=this.$.items[0].getAsFile())&&a.type)return a}catch(b){}}}}(),function(){CKEDITOR.plugins.add(\"panel\",{beforeInit:function(a){a.ui.addHandler(CKEDITOR.UI_PANEL,CKEDITOR.ui.panel.handler)}});CKEDITOR.UI_PANEL=\"panel\";CKEDITOR.ui.panel=function(a,b){b&&CKEDITOR.tools.extend(this,\nb);CKEDITOR.tools.extend(this,{className:\"\",css:[]});this.id=CKEDITOR.tools.getNextId();this.document=a;this.isFramed=this.forceIFrame||this.css.length;this._={blocks:{}}};CKEDITOR.ui.panel.handler={create:function(a){return new CKEDITOR.ui.panel(a)}};var a=CKEDITOR.addTemplate(\"panel\",'\\x3cdiv lang\\x3d\"{langCode}\" id\\x3d\"{id}\" dir\\x3d{dir} class\\x3d\"cke cke_reset_all {editorId} cke_panel cke_panel {cls} cke_{dir}\" style\\x3d\"z-index:{z-index}\" role\\x3d\"presentation\"\\x3e{frame}\\x3c/div\\x3e'),e=CKEDITOR.addTemplate(\"panel-frame\",\n'\\x3ciframe id\\x3d\"{id}\" class\\x3d\"cke_panel_frame\" role\\x3d\"presentation\" frameborder\\x3d\"0\" src\\x3d\"{src}\"\\x3e\\x3c/iframe\\x3e'),b=CKEDITOR.addTemplate(\"panel-frame-inner\",'\\x3c!DOCTYPE html\\x3e\\x3chtml class\\x3d\"cke_panel_container {env}\" dir\\x3d\"{dir}\" lang\\x3d\"{langCode}\"\\x3e\\x3chead\\x3e{css}\\x3c/head\\x3e\\x3cbody class\\x3d\"cke_{dir}\" style\\x3d\"margin:0;padding:0\" onload\\x3d\"{onload}\"\\x3e\\x3c/body\\x3e\\x3c/html\\x3e');CKEDITOR.ui.panel.prototype={render:function(c,d){this.getHolderElement=function(){var a=\nthis._.holder;if(!a){if(this.isFramed){var a=this.document.getById(this.id+\"_frame\"),c=a.getParent(),a=a.getFrameDocument();CKEDITOR.env.iOS&&c.setStyles({overflow:\"scroll\",\"-webkit-overflow-scrolling\":\"touch\"});c=CKEDITOR.tools.addFunction(CKEDITOR.tools.bind(function(){this.isLoaded=!0;if(this.onLoad)this.onLoad()},this));a.write(b.output(CKEDITOR.tools.extend({css:CKEDITOR.tools.buildStyleHtml(this.css),onload:\"window.parent.CKEDITOR.tools.callFunction(\"+c+\");\"},l)));a.getWindow().$.CKEDITOR=CKEDITOR;\na.on(\"keydown\",function(a){var b=a.data.getKeystroke(),c=this.document.getById(this.id).getAttribute(\"dir\");this._.onKeyDown&&!1===this._.onKeyDown(b)?a.data.preventDefault():(27==b||b==(\"rtl\"==c?39:37))&&this.onEscape&&!1===this.onEscape(b)&&a.data.preventDefault()},this);a=a.getBody();a.unselectable();CKEDITOR.env.air&&CKEDITOR.tools.callFunction(c)}else a=this.document.getById(this.id);this._.holder=a}return a};var l={editorId:c.id,id:this.id,langCode:c.langCode,dir:c.lang.dir,cls:this.className,\nframe:\"\",env:CKEDITOR.env.cssClass,\"z-index\":c.config.baseFloatZIndex+1};if(this.isFramed){var m=CKEDITOR.env.air?\"javascript:void(0)\":CKEDITOR.env.ie?\"javascript:void(function(){\"+encodeURIComponent(\"document.open();(\"+CKEDITOR.tools.fixDomain+\")();document.close();\")+\"}())\":\"\";l.frame=e.output({id:this.id+\"_frame\",src:m})}m=a.output(l);d&&d.push(m);return m},addBlock:function(a,b){b=this._.blocks[a]=b instanceof CKEDITOR.ui.panel.block?b:new CKEDITOR.ui.panel.block(this.getHolderElement(),b);this._.currentBlock||\nthis.showBlock(a);return b},getBlock:function(a){return this._.blocks[a]},showBlock:function(a){a=this._.blocks[a];var b=this._.currentBlock,e=!this.forceIFrame||CKEDITOR.env.ie?this._.holder:this.document.getById(this.id+\"_frame\");b&&b.hide();this._.currentBlock=a;CKEDITOR.fire(\"ariaWidget\",e);a._.focusIndex=-1;this._.onKeyDown=a.onKeyDown&&CKEDITOR.tools.bind(a.onKeyDown,a);a.show();return a},destroy:function(){this.element&&this.element.remove()}};CKEDITOR.ui.panel.block=CKEDITOR.tools.createClass({$:function(a,\nb){this.element=a.append(a.getDocument().createElement(\"div\",{attributes:{tabindex:-1,\"class\":\"cke_panel_block\"},styles:{display:\"none\"}}));b&&CKEDITOR.tools.extend(this,b);this.element.setAttributes({role:this.attributes.role||\"presentation\",\"aria-label\":this.attributes[\"aria-label\"],title:this.attributes.title||this.attributes[\"aria-label\"]});this.keys={};this._.focusIndex=-1;this.element.disableContextMenu()},_:{markItem:function(a){-1!=a&&(a=this.element.getElementsByTag(\"a\").getItem(this._.focusIndex=\na),CKEDITOR.env.webkit&&a.getDocument().getWindow().focus(),a.focus(),this.onMark&&this.onMark(a))}},proto:{show:function(){this.element.setStyle(\"display\",\"\")},hide:function(){this.onHide&&!0===this.onHide.call(this)||this.element.setStyle(\"display\",\"none\")},onKeyDown:function(a,b){\nvar this$1 = this;\nvar e=this.keys[a];switch(e){case \"next\":for(var m=this._.focusIndex,e=this.element.getElementsByTag(\"a\"),f;f=e.getItem(++m);)if(f.getAttribute(\"_cke_focus\")&&f.$.offsetWidth){this$1._.focusIndex=m;f.focus();break}return f||\nb?!1:(this._.focusIndex=-1,this.onKeyDown(a,1));case \"prev\":m=this._.focusIndex;for(e=this.element.getElementsByTag(\"a\");0<m&&(f=e.getItem(--m));){if(f.getAttribute(\"_cke_focus\")&&f.$.offsetWidth){this$1._.focusIndex=m;f.focus();break}f=null}return f||b?!1:(this._.focusIndex=e.count(),this.onKeyDown(a,1));case \"click\":case \"mouseup\":return m=this._.focusIndex,(f=0<=m&&this.element.getElementsByTag(\"a\").getItem(m))&&(f.$[e]?f.$[e]():f.$[\"on\"+e]()),!1}return!0}}})}(),CKEDITOR.plugins.add(\"floatpanel\",\n{requires:\"panel\"}),function(){function a(a,c,d,l,m){m=CKEDITOR.tools.genKey(c.getUniqueId(),d.getUniqueId(),a.lang.dir,a.uiColor||\"\",l.css||\"\",m||\"\");var f=e[m];f||(f=e[m]=new CKEDITOR.ui.panel(c,l),f.element=d.append(CKEDITOR.dom.element.createFromHtml(f.render(a),c)),f.element.setStyles({display:\"none\",position:\"absolute\"}));return f}var e={};CKEDITOR.ui.floatPanel=CKEDITOR.tools.createClass({$:function(b,c,d,e){function m(){g.hide()}d.forceIFrame=1;d.toolbarRelated&&b.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&\n(c=CKEDITOR.document.getById(\"cke_\"+b.name));var f=c.getDocument();e=a(b,f,c,d,e||0);var h=e.element,k=h.getFirst(),g=this;h.disableContextMenu();this.element=h;this._={editor:b,panel:e,parentElement:c,definition:d,document:f,iframe:k,children:[],dir:b.lang.dir,showBlockParams:null};b.on(\"mode\",m);b.on(\"resize\",m);f.getWindow().on(\"resize\",function(){this.reposition()},this)},proto:{addBlock:function(a,c){return this._.panel.addBlock(a,c)},addListBlock:function(a,c){return this._.panel.addListBlock(a,\nc)},getBlock:function(a){return this._.panel.getBlock(a)},showBlock:function(a,c,d,e,m,f){var h=this._.panel,k=h.showBlock(a);this._.showBlockParams=[].slice.call(arguments);this.allowBlur(!1);var g=this._.editor.editable();this._.returnFocus=g.hasFocus?g:new CKEDITOR.dom.element(CKEDITOR.document.$.activeElement);this._.hideTimeout=0;var n=this.element,g=this._.iframe,g=CKEDITOR.env.ie&&!CKEDITOR.env.edge?g:new CKEDITOR.dom.window(g.$.contentWindow),v=n.getDocument(),r=this._.parentElement.getPositionedAncestor(),\nq=c.getDocumentPosition(v),v=r?r.getDocumentPosition(v):{x:0,y:0},t=\"rtl\"==this._.dir,p=q.x+(e||0)-v.x,w=q.y+(m||0)-v.y;!t||1!=d&&4!=d?t||2!=d&&3!=d||(p+=c.$.offsetWidth-1):p+=c.$.offsetWidth;if(3==d||4==d)w+=c.$.offsetHeight-1;this._.panel._.offsetParentId=c.getId();n.setStyles({top:w+\"px\",left:0,display:\"\"});n.setOpacity(0);n.getFirst().removeStyle(\"width\");this._.editor.focusManager.add(g);this._.blurSet||(CKEDITOR.event.useCapture=!0,g.on(\"blur\",function(a){function b(){delete this._.returnFocus;\nthis.hide()}this.allowBlur()&&a.data.getPhase()==CKEDITOR.EVENT_PHASE_AT_TARGET&&this.visible&&!this._.activeChild&&(CKEDITOR.env.iOS?this._.hideTimeout||(this._.hideTimeout=CKEDITOR.tools.setTimeout(b,0,this)):b.call(this))},this),g.on(\"focus\",function(){this._.focused=!0;this.hideChild();this.allowBlur(!0)},this),CKEDITOR.env.iOS&&(g.on(\"touchstart\",function(){clearTimeout(this._.hideTimeout)},this),g.on(\"touchend\",function(){this._.hideTimeout=0;this.focus()},this)),CKEDITOR.event.useCapture=!1,\nthis._.blurSet=1);h.onEscape=CKEDITOR.tools.bind(function(a){if(this.onEscape&&!1===this.onEscape(a))return!1},this);CKEDITOR.tools.setTimeout(function(){var a=CKEDITOR.tools.bind(function(){var a=n;a.removeStyle(\"width\");if(k.autoSize){var b=k.element.getDocument(),b=(CKEDITOR.env.webkit||CKEDITOR.env.edge?k.element:b.getBody()).$.scrollWidth;CKEDITOR.env.ie&&CKEDITOR.env.quirks&&0<b&&(b+=(a.$.offsetWidth||0)-(a.$.clientWidth||0)+3);a.setStyle(\"width\",b+10+\"px\");b=k.element.$.scrollHeight;CKEDITOR.env.ie&&\nCKEDITOR.env.quirks&&0<b&&(b+=(a.$.offsetHeight||0)-(a.$.clientHeight||0)+3);a.setStyle(\"height\",b+\"px\");h._.currentBlock.element.setStyle(\"display\",\"none\").removeStyle(\"display\")}else a.removeStyle(\"height\");t&&(p-=n.$.offsetWidth);n.setStyle(\"left\",p+\"px\");var b=h.element.getWindow(),a=n.$.getBoundingClientRect(),b=b.getViewPaneSize(),c=a.width||a.right-a.left,d=a.height||a.bottom-a.top,e=t?a.right:b.width-a.left,g=t?b.width-a.right:a.left;t?e<c&&(p=g>c?p+c:b.width>c?p-a.left:p-a.right+b.width):\ne<c&&(p=g>c?p-c:b.width>c?p-a.right+b.width:p-a.left);c=a.top;b.height-a.top<d&&(w=c>d?w-d:b.height>d?w-a.bottom+b.height:w-a.top);CKEDITOR.env.ie&&(b=a=new CKEDITOR.dom.element(n.$.offsetParent),\"html\"==b.getName()&&(b=b.getDocument().getBody()),\"rtl\"==b.getComputedStyle(\"direction\")&&(p=CKEDITOR.env.ie8Compat?p-2*n.getDocument().getDocumentElement().$.scrollLeft:p-(a.$.scrollWidth-a.$.clientWidth)));var a=n.getFirst(),l;(l=a.getCustomData(\"activePanel\"))&&l.onHide&&l.onHide.call(this,1);a.setCustomData(\"activePanel\",\nthis);n.setStyles({top:w+\"px\",left:p+\"px\"});n.setOpacity(1);f&&f()},this);h.isLoaded?a():h.onLoad=a;CKEDITOR.tools.setTimeout(function(){var a=CKEDITOR.env.webkit&&CKEDITOR.document.getWindow().getScrollPosition().y;this.focus();k.element.focus();CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=a);this.allowBlur(!0);this._.editor.fire(\"panelShow\",this)},0,this)},CKEDITOR.env.air?200:0,this);this.visible=1;this.onShow&&this.onShow.call(this)},reposition:function(){var a=this._.showBlockParams;\nthis.visible&&this._.showBlockParams&&(this.hide(),this.showBlock.apply(this,a))},focus:function(){if(CKEDITOR.env.webkit){var a=CKEDITOR.document.getActive();a&&!a.equals(this._.iframe)&&a.$.blur()}(this._.lastFocused||this._.iframe.getFrameDocument().getWindow()).focus()},blur:function(){var a=this._.iframe.getFrameDocument().getActive();a&&a.is(\"a\")&&(this._.lastFocused=a)},hide:function(a){if(this.visible&&(!this.onHide||!0!==this.onHide.call(this))){this.hideChild();CKEDITOR.env.gecko&&this._.iframe.getFrameDocument().$.activeElement.blur();\nthis.element.setStyle(\"display\",\"none\");this.visible=0;this.element.getFirst().removeCustomData(\"activePanel\");if(a=a&&this._.returnFocus)CKEDITOR.env.webkit&&a.type&&a.getWindow().$.focus(),a.focus();delete this._.lastFocused;this._.showBlockParams=null;this._.editor.fire(\"panelHide\",this)}},allowBlur:function(a){var c=this._.panel;void 0!==a&&(c.allowBlur=a);return c.allowBlur},showAsChild:function(a,c,d,e,m,f){if(this._.activeChild!=a||a._.panel._.offsetParentId!=d.getId())this.hideChild(),a.onHide=\nCKEDITOR.tools.bind(function(){CKEDITOR.tools.setTimeout(function(){this._.focused||this.hide()},0,this)},this),this._.activeChild=a,this._.focused=!1,a.showBlock(c,d,e,m,f),this.blur(),(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)&&setTimeout(function(){a.element.getChild(0).$.style.cssText+=\"\"},100)},hideChild:function(a){var c=this._.activeChild;c&&(delete c.onHide,delete this._.activeChild,c.hide(),a&&this.focus())}}});CKEDITOR.on(\"instanceDestroyed\",function(){var a=CKEDITOR.tools.isEmpty(CKEDITOR.instances),\nc;for(c in e){var d=e[c];a?d.destroy():d.element.hide()}a&&(e={})})}(),CKEDITOR.plugins.add(\"menu\",{requires:\"floatpanel\",beforeInit:function(a){for(var e=a.config.menu_groups.split(\",\"),b=a._.menuGroups={},c=a._.menuItems={},d=0;d<e.length;d++)b[e[d]]=d+1;a.addMenuGroup=function(a,c){b[a]=c||100};a.addMenuItem=function(a,d){b[d.group]&&(c[a]=new CKEDITOR.menuItem(this,a,d))};a.addMenuItems=function(a){\nvar this$1 = this;\nfor(var b in a)this$1.addMenuItem(b,a[b])};a.getMenuItem=function(a){return c[a]};a.removeMenuItem=\nfunction(a){delete c[a]}}}),function(){function a(a){a.sort(function(a,b){return a.group<b.group?-1:a.group>b.group?1:a.order<b.order?-1:a.order>b.order?1:0})}var e='\\x3cspan class\\x3d\"cke_menuitem\"\\x3e\\x3ca id\\x3d\"{id}\" class\\x3d\"cke_menubutton cke_menubutton__{name} cke_menubutton_{state} {cls}\" href\\x3d\"{href}\" title\\x3d\"{title}\" tabindex\\x3d\"-1\"_cke_focus\\x3d1 hidefocus\\x3d\"true\" role\\x3d\"{role}\" aria-haspopup\\x3d\"{hasPopup}\" aria-disabled\\x3d\"{disabled}\" {ariaChecked}';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&\n(e+=' onkeypress\\x3d\"return false;\"');CKEDITOR.env.gecko&&(e+=' onblur\\x3d\"this.style.cssText \\x3d this.style.cssText;\"');var e=e+(' onmouseover\\x3d\"CKEDITOR.tools.callFunction({hoverFn},{index});\" onmouseout\\x3d\"CKEDITOR.tools.callFunction({moveOutFn},{index});\" '+(CKEDITOR.env.ie?'onclick\\x3d\"return false;\" onmouseup':\"onclick\")+'\\x3d\"CKEDITOR.tools.callFunction({clickFn},{index}); return false;\"\\x3e'),b=CKEDITOR.addTemplate(\"menuItem\",e+'\\x3cspan class\\x3d\"cke_menubutton_inner\"\\x3e\\x3cspan class\\x3d\"cke_menubutton_icon\"\\x3e\\x3cspan class\\x3d\"cke_button_icon cke_button__{iconName}_icon\" style\\x3d\"{iconStyle}\"\\x3e\\x3c/span\\x3e\\x3c/span\\x3e\\x3cspan class\\x3d\"cke_menubutton_label\"\\x3e{label}\\x3c/span\\x3e{arrowHtml}\\x3c/span\\x3e\\x3c/a\\x3e\\x3c/span\\x3e'),\nc=CKEDITOR.addTemplate(\"menuArrow\",'\\x3cspan class\\x3d\"cke_menuarrow\"\\x3e\\x3cspan\\x3e{label}\\x3c/span\\x3e\\x3c/span\\x3e');CKEDITOR.menu=CKEDITOR.tools.createClass({$:function(a,b){b=this._.definition=b||{};this.id=CKEDITOR.tools.getNextId();this.editor=a;this.items=[];this._.listeners=[];this._.level=b.level||1;var c=CKEDITOR.tools.extend({},b.panel,{css:[CKEDITOR.skin.getPath(\"editor\")],level:this._.level-1,block:{}}),f=c.block.attributes=c.attributes||{};!f.role&&(f.role=\"menu\");this._.panelDefinition=\nc},_:{onShow:function(){\nvar this$1 = this;\nvar a=this.editor.getSelection(),b=a&&a.getStartElement(),c=this.editor.elementPath(),f=this._.listeners;this.removeAll();for(var e=0;e<f.length;e++){var k=f[e](b,a,c);if(k)for(var g in k){var n=this$1.editor.getMenuItem(g);!n||n.command&&!this$1.editor.getCommand(n.command).state||(n.state=k[g],this$1.add(n))}}},onClick:function(a){this.hide();if(a.onClick)a.onClick();else a.command&&this.editor.execCommand(a.command)},onEscape:function(a){var b=this.parent;b?b._.panel.hideChild(1):\n27==a&&this.hide(1);return!1},onHide:function(){this.onHide&&this.onHide()},showSubMenu:function(a){\nvar this$1 = this;\nvar b=this._.subMenu,c=this.items[a];if(c=c.getItems&&c.getItems()){b?b.removeAll():(b=this._.subMenu=new CKEDITOR.menu(this.editor,CKEDITOR.tools.extend({},this._.definition,{level:this._.level+1},!0)),b.parent=this,b._.onClick=CKEDITOR.tools.bind(this._.onClick,this));for(var f in c){var e=this$1.editor.getMenuItem(f);e&&(e.state=c[f],b.add(e))}var k=this._.panel.getBlock(this.id).element.getDocument().getById(this.id+\nString(a));setTimeout(function(){b.show(k,2)},0)}else this._.panel.hideChild(1)}},proto:{add:function(a){a.order||(a.order=this.items.length);this.items.push(a)},removeAll:function(){this.items=[]},show:function(b,c,e,f){\nvar this$1 = this;\nif(!this.parent&&(this._.onShow(),!this.items.length))return;c=c||(\"rtl\"==this.editor.lang.dir?2:1);var h=this.items,k=this.editor,g=this._.panel,n=this._.element;if(!g){g=this._.panel=new CKEDITOR.ui.floatPanel(this.editor,CKEDITOR.document.getBody(),this._.panelDefinition,this._.level);\ng.onEscape=CKEDITOR.tools.bind(function(a){if(!1===this._.onEscape(a))return!1},this);g.onShow=function(){g._.panel.getHolderElement().getParent().addClass(\"cke\").addClass(\"cke_reset_all\")};g.onHide=CKEDITOR.tools.bind(function(){this._.onHide&&this._.onHide()},this);n=g.addBlock(this.id,this._.panelDefinition.block);n.autoSize=!0;var v=n.keys;v[40]=\"next\";v[9]=\"next\";v[38]=\"prev\";v[CKEDITOR.SHIFT+9]=\"prev\";v[\"rtl\"==k.lang.dir?37:39]=CKEDITOR.env.ie?\"mouseup\":\"click\";v[32]=CKEDITOR.env.ie?\"mouseup\":\n\"click\";CKEDITOR.env.ie&&(v[13]=\"mouseup\");n=this._.element=n.element;v=n.getDocument();v.getBody().setStyle(\"overflow\",\"hidden\");v.getElementsByTag(\"html\").getItem(0).setStyle(\"overflow\",\"hidden\");this._.itemOverFn=CKEDITOR.tools.addFunction(function(a){clearTimeout(this._.showSubTimeout);this._.showSubTimeout=CKEDITOR.tools.setTimeout(this._.showSubMenu,k.config.menu_subMenuDelay||400,this,[a])},this);this._.itemOutFn=CKEDITOR.tools.addFunction(function(){clearTimeout(this._.showSubTimeout)},this);\nthis._.itemClickFn=CKEDITOR.tools.addFunction(function(a){var b=this.items[a];if(b.state==CKEDITOR.TRISTATE_DISABLED)this.hide(1);else if(b.getItems)this._.showSubMenu(a);else this._.onClick(b)},this)}a(h);for(var v=k.elementPath(),v=['\\x3cdiv class\\x3d\"cke_menu'+(v&&v.direction()!=k.lang.dir?\" cke_mixed_dir_content\":\"\")+'\" role\\x3d\"presentation\"\\x3e'],r=h.length,q=r&&h[0].group,t=0;t<r;t++){var p=h[t];q!=p.group&&(v.push('\\x3cdiv class\\x3d\"cke_menuseparator\" role\\x3d\"separator\"\\x3e\\x3c/div\\x3e'),\nq=p.group);p.render(this$1,t,v)}v.push(\"\\x3c/div\\x3e\");n.setHtml(v.join(\"\"));CKEDITOR.ui.fire(\"ready\",this);this.parent?this.parent._.panel.showAsChild(g,this.id,b,c,e,f):g.showBlock(this.id,b,c,e,f);k.fire(\"menuShow\",[g])},addListener:function(a){this._.listeners.push(a)},hide:function(a){this._.onHide&&this._.onHide();this._.panel&&this._.panel.hide(a)}}});CKEDITOR.menuItem=CKEDITOR.tools.createClass({$:function(a,b,c){CKEDITOR.tools.extend(this,c,{order:0,className:\"cke_menubutton__\"+b});this.group=\na._.menuGroups[this.group];this.editor=a;this.name=b},proto:{render:function(a,e,m){var f=a.id+String(e),h=\"undefined\"==typeof this.state?CKEDITOR.TRISTATE_OFF:this.state,k=\"\",g=h==CKEDITOR.TRISTATE_ON?\"on\":h==CKEDITOR.TRISTATE_DISABLED?\"disabled\":\"off\";this.role in{menuitemcheckbox:1,menuitemradio:1}&&(k=' aria-checked\\x3d\"'+(h==CKEDITOR.TRISTATE_ON?\"true\":\"false\")+'\"');var n=this.getItems,v=\"\\x26#\"+(\"rtl\"==this.editor.lang.dir?\"9668\":\"9658\")+\";\",r=this.name;this.icon&&!/\\./.test(this.icon)&&(r=\nthis.icon);a={id:f,name:this.name,iconName:r,label:this.label,cls:this.className||\"\",state:g,hasPopup:n?\"true\":\"false\",disabled:h==CKEDITOR.TRISTATE_DISABLED,title:this.label,href:\"javascript:void('\"+(this.label||\"\").replace(\"'\")+\"')\",hoverFn:a._.itemOverFn,moveOutFn:a._.itemOutFn,clickFn:a._.itemClickFn,index:e,iconStyle:CKEDITOR.skin.getIconStyle(r,\"rtl\"==this.editor.lang.dir,r==this.icon?null:this.icon,this.iconOffset),arrowHtml:n?c.output({label:v}):\"\",role:this.role?this.role:\"menuitem\",ariaChecked:k};\nb.output(a,m)}}})}(),CKEDITOR.config.menu_groups=\"clipboard,form,tablecell,tablecellproperties,tablerow,tablecolumn,table,anchor,link,image,flash,checkbox,radio,textfield,hiddenfield,imagebutton,button,select,textarea,div\",CKEDITOR.plugins.add(\"contextmenu\",{requires:\"menu\",onLoad:function(){CKEDITOR.plugins.contextMenu=CKEDITOR.tools.createClass({base:CKEDITOR.menu,$:function(a){this.base.call(this,a,{panel:{className:\"cke_menu_panel\",attributes:{\"aria-label\":a.lang.contextmenu.options}}})},proto:{addTarget:function(a,\ne){a.on(\"contextmenu\",function(a){a=a.data;var c=CKEDITOR.env.webkit?b:CKEDITOR.env.mac?a.$.metaKey:a.$.ctrlKey;if(!e||!c){a.preventDefault();if(CKEDITOR.env.mac&&CKEDITOR.env.webkit){var c=this.editor,m=(new CKEDITOR.dom.elementPath(a.getTarget(),c.editable())).contains(function(a){return a.hasAttribute(\"contenteditable\")},!0);m&&\"false\"==m.getAttribute(\"contenteditable\")&&c.getSelection().fake(m)}var m=a.getTarget().getDocument(),f=a.getTarget().getDocument().getDocumentElement(),c=!m.equals(CKEDITOR.document),\nm=m.getWindow().getScrollPosition(),h=c?a.$.clientX:a.$.pageX||m.x+a.$.clientX,k=c?a.$.clientY:a.$.pageY||m.y+a.$.clientY;CKEDITOR.tools.setTimeout(function(){this.open(f,null,h,k)},CKEDITOR.env.ie?200:0,this)}},this);if(CKEDITOR.env.webkit){var b,c=function(){b=0};a.on(\"keydown\",function(a){b=CKEDITOR.env.mac?a.data.$.metaKey:a.data.$.ctrlKey});a.on(\"keyup\",c);a.on(\"contextmenu\",c)}},open:function(a,e,b,c){this.editor.focus();a=a||CKEDITOR.document.getDocumentElement();this.editor.selectionChange(1);\nthis.show(a,e,b,c)}}})},beforeInit:function(a){var e=a.contextMenu=new CKEDITOR.plugins.contextMenu(a);a.on(\"contentDom\",function(){e.addTarget(a.editable(),!1!==a.config.browserContextMenuOnCtrl)});a.addCommand(\"contextMenu\",{exec:function(){a.contextMenu.open(a.document.getBody())}});a.setKeystroke(CKEDITOR.SHIFT+121,\"contextMenu\");a.setKeystroke(CKEDITOR.CTRL+CKEDITOR.SHIFT+121,\"contextMenu\")}}),function(){function a(a,b){function m(b){b=g.list[b];var c;b.equals(a.editable())||\"true\"==b.getAttribute(\"contenteditable\")?\n(c=a.createRange(),c.selectNodeContents(b),c=c.select()):(c=a.getSelection(),c.selectElement(b));CKEDITOR.env.ie&&a.fire(\"selectionChange\",{selection:c,path:new CKEDITOR.dom.elementPath(b)});a.focus()}function f(){k&&k.setHtml('\\x3cspan class\\x3d\"cke_path_empty\"\\x3e\\x26nbsp;\\x3c/span\\x3e');delete g.list}var h=a.ui.spaceId(\"path\"),k,g=a._.elementsPath,n=g.idBase;b.html+='\\x3cspan id\\x3d\"'+h+'_label\" class\\x3d\"cke_voice_label\"\\x3e'+a.lang.elementspath.eleLabel+'\\x3c/span\\x3e\\x3cspan id\\x3d\"'+h+'\" class\\x3d\"cke_path\" role\\x3d\"group\" aria-labelledby\\x3d\"'+\nh+'_label\"\\x3e\\x3cspan class\\x3d\"cke_path_empty\"\\x3e\\x26nbsp;\\x3c/span\\x3e\\x3c/span\\x3e';a.on(\"uiReady\",function(){var b=a.ui.space(\"path\");b&&a.focusManager.add(b,1)});g.onClick=m;var v=CKEDITOR.tools.addFunction(m),r=CKEDITOR.tools.addFunction(function(b,c){var f=g.idBase,e;c=new CKEDITOR.dom.event(c);e=\"rtl\"==a.lang.dir;switch(c.getKeystroke()){case e?39:37:case 9:return(e=CKEDITOR.document.getById(f+(b+1)))||(e=CKEDITOR.document.getById(f+\"0\")),e.focus(),!1;case e?37:39:case CKEDITOR.SHIFT+9:return(e=\nCKEDITOR.document.getById(f+(b-1)))||(e=CKEDITOR.document.getById(f+(g.list.length-1))),e.focus(),!1;case 27:return a.focus(),!1;case 13:case 32:return m(b),!1}return!0});a.on(\"selectionChange\",function(){for(var b=[],f=g.list=[],e=[],m=g.filters,l=!0,A=a.elementPath().elements,u,x=A.length;x--;){var D=A[x],y=0;u=D.data(\"cke-display-name\")?D.data(\"cke-display-name\"):D.data(\"cke-real-element-type\")?D.data(\"cke-real-element-type\"):D.getName();(l=D.hasAttribute(\"contenteditable\")?\"true\"==D.getAttribute(\"contenteditable\"):\nl)||D.hasAttribute(\"contenteditable\")||(y=1);for(var B=0;B<m.length;B++){var C=m[B](D,u);if(!1===C){y=1;break}u=C||u}y||(f.unshift(D),e.unshift(u))}f=f.length;for(m=0;m<f;m++)u=e[m],l=a.lang.elementspath.eleTitle.replace(/%1/,u),u=c.output({id:n+m,label:l,text:u,jsTitle:\"javascript:void('\"+u+\"')\",index:m,keyDownFn:r,clickFn:v}),b.unshift(u);k||(k=CKEDITOR.document.getById(h));e=k;e.setHtml(b.join(\"\")+'\\x3cspan class\\x3d\"cke_path_empty\"\\x3e\\x26nbsp;\\x3c/span\\x3e');a.fire(\"elementsPathUpdate\",{space:e})});\na.on(\"readOnly\",f);a.on(\"contentDomUnload\",f);a.addCommand(\"elementsPathFocus\",e.toolbarFocus);a.setKeystroke(CKEDITOR.ALT+122,\"elementsPathFocus\")}var e={toolbarFocus:{editorFocus:!1,readOnly:1,exec:function(a){(a=CKEDITOR.document.getById(a._.elementsPath.idBase+\"0\"))&&a.focus(CKEDITOR.env.ie||CKEDITOR.env.air)}}},b=\"\";CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(b+=' onkeypress\\x3d\"return false;\"');CKEDITOR.env.gecko&&(b+=' onblur\\x3d\"this.style.cssText \\x3d this.style.cssText;\"');var c=CKEDITOR.addTemplate(\"pathItem\",\n'\\x3ca id\\x3d\"{id}\" href\\x3d\"{jsTitle}\" tabindex\\x3d\"-1\" class\\x3d\"cke_path_item\" title\\x3d\"{label}\"'+b+' hidefocus\\x3d\"true\"  onkeydown\\x3d\"return CKEDITOR.tools.callFunction({keyDownFn},{index}, event );\" onclick\\x3d\"CKEDITOR.tools.callFunction({clickFn},{index}); return false;\" role\\x3d\"button\" aria-label\\x3d\"{label}\"\\x3e{text}\\x3c/a\\x3e');CKEDITOR.plugins.add(\"elementspath\",{init:function(b){b._.elementsPath={idBase:\"cke_elementspath_\"+CKEDITOR.tools.getNextNumber()+\"_\",filters:[]};b.on(\"uiSpace\",\nfunction(c){\"bottom\"==c.data.space&&a(b,c.data)})}})}(),function(){function a(a,d){var l,m;d.on(\"refresh\",function(a){var c=[e],d;for(d in a.data.states)c.push(a.data.states[d]);this.setState(CKEDITOR.tools.search(c,b)?b:e)},d,null,100);d.on(\"exec\",function(b){l=a.getSelection();m=l.createBookmarks(1);b.data||(b.data={});b.data.done=!1},d,null,0);d.on(\"exec\",function(){a.forceNextSelectionCheck();l.selectBookmarks(m)},d,null,100)}var e=CKEDITOR.TRISTATE_DISABLED,b=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add(\"indent\",\n{init:function(b){var d=CKEDITOR.plugins.indent.genericDefinition;a(b,b.addCommand(\"indent\",new d(!0)));a(b,b.addCommand(\"outdent\",new d));b.ui.addButton&&(b.ui.addButton(\"Indent\",{label:b.lang.indent.indent,command:\"indent\",directional:!0,toolbar:\"indent,20\"}),b.ui.addButton(\"Outdent\",{label:b.lang.indent.outdent,command:\"outdent\",directional:!0,toolbar:\"indent,10\"}));b.on(\"dirChanged\",function(a){var d=b.createRange(),f=a.data.node;d.setStartBefore(f);d.setEndAfter(f);for(var e=new CKEDITOR.dom.walker(d),\nk;k=e.next();)if(k.type==CKEDITOR.NODE_ELEMENT)if(!k.equals(f)&&k.getDirection())d.setStartAfter(k),e=new CKEDITOR.dom.walker(d);else{var g=b.config.indentClasses;if(g)for(var n=\"ltr\"==a.data.dir?[\"_rtl\",\"\"]:[\"\",\"_rtl\"],v=0;v<g.length;v++)k.hasClass(g[v]+n[0])&&(k.removeClass(g[v]+n[0]),k.addClass(g[v]+n[1]));g=k.getStyle(\"margin-right\");n=k.getStyle(\"margin-left\");g?k.setStyle(\"margin-left\",g):k.removeStyle(\"margin-left\");n?k.setStyle(\"margin-right\",n):k.removeStyle(\"margin-right\")}})}});CKEDITOR.plugins.indent=\n{genericDefinition:function(a){this.isIndent=!!a;this.startDisabled=!this.isIndent},specificDefinition:function(a,b,e){this.name=b;this.editor=a;this.jobs={};this.enterBr=a.config.enterMode==CKEDITOR.ENTER_BR;this.isIndent=!!e;this.relatedGlobal=e?\"indent\":\"outdent\";this.indentKey=e?9:CKEDITOR.SHIFT+9;this.database={}},registerCommands:function(a,b){a.on(\"pluginsLoaded\",function(){\nvar this$1 = this;\nfor(var a in b)(function(a,b){\nvar this$1 = this;\nvar c=a.getCommand(b.relatedGlobal),d;for(d in b.jobs)c.on(\"exec\",function(c){c.data.done||\n(a.fire(\"lockSnapshot\"),b.execJob(a,d)&&(c.data.done=!0),a.fire(\"unlockSnapshot\"),CKEDITOR.dom.element.clearAllMarkers(b.database))},this$1,null,d),c.on(\"refresh\",function(c){c.data.states||(c.data.states={});c.data.states[b.name+\"@\"+d]=b.refreshJob(a,d,c.data.path)},this$1,null,d);a.addFeature(b)})(this$1,b[a])})}};CKEDITOR.plugins.indent.genericDefinition.prototype={context:\"p\",exec:function(){}};CKEDITOR.plugins.indent.specificDefinition.prototype={execJob:function(a,b){var l=this.jobs[b];if(l.state!=\ne)return l.exec.call(this,a)},refreshJob:function(a,b,l){b=this.jobs[b];a.activeFilter.checkFeature(this)?b.state=b.refresh.call(this,a,l):b.state=e;return b.state},getContext:function(a){return a.contains(this.context)}}}(),function(){function a(a){function c(e){for(var h=r.startContainer,l=r.endContainer;h&&!h.getParent().equals(e);)h=h.getParent();for(;l&&!l.getParent().equals(e);)l=l.getParent();if(!h||!l)return!1;for(var q=h,h=[],t=!1;!t;)q.equals(l)&&(t=!0),h.push(q),q=q.getNext();if(1>h.length)return!1;\nq=e.getParents(!0);for(l=0;l<q.length;l++)if(q[l].getName&&m[q[l].getName()]){e=q[l];break}for(var q=d.isIndent?1:-1,l=h[0],h=h[h.length-1],t=CKEDITOR.plugins.list.listToArray(e,g),x=t[h.getCustomData(\"listarray_index\")].indent,l=l.getCustomData(\"listarray_index\");l<=h.getCustomData(\"listarray_index\");l++)if(t[l].indent+=q,0<q){var v=t[l].parent;t[l].parent=new CKEDITOR.dom.element(v.getName(),v.getDocument())}for(l=h.getCustomData(\"listarray_index\")+1;l<t.length&&t[l].indent>x;l++)t[l].indent+=q;\nh=CKEDITOR.plugins.list.arrayToList(t,g,null,a.config.enterMode,e.getDirection());if(!d.isIndent){var y;if((y=e.getParent())&&y.is(\"li\"))for(var q=h.listNode.getChildren(),B=[],C,l=q.count()-1;0<=l;l--)(C=q.getItem(l))&&C.is&&C.is(\"li\")&&B.push(C)}h&&h.listNode.replace(e);if(B&&B.length)for(l=0;l<B.length;l++){for(C=e=B[l];(C=C.getNext())&&C.is&&C.getName()in m;)CKEDITOR.env.needsNbspFiller&&!e.getFirst(b)&&e.append(r.document.createText(\" \")),e.append(C);e.insertAfter(y)}h&&a.fire(\"contentDomInvalidated\");\nreturn!0}for(var d=this,g=this.database,m=this.context,l=a.getSelection(),l=(l&&l.getRanges()).createIterator(),r;r=l.getNextRange();){for(var q=r.getCommonAncestor();q&&(q.type!=CKEDITOR.NODE_ELEMENT||!m[q.getName()]);){if(a.editable().equals(q)){q=!1;break}q=q.getParent()}q||(q=r.startPath().contains(m))&&r.setEndAt(q,CKEDITOR.POSITION_BEFORE_END);if(!q){var t=r.getEnclosedNode();t&&t.type==CKEDITOR.NODE_ELEMENT&&t.getName()in m&&(r.setStartAt(t,CKEDITOR.POSITION_AFTER_START),r.setEndAt(t,CKEDITOR.POSITION_BEFORE_END),\nq=t)}q&&r.startContainer.type==CKEDITOR.NODE_ELEMENT&&r.startContainer.getName()in m&&(t=new CKEDITOR.dom.walker(r),t.evaluator=e,r.startContainer=t.next());q&&r.endContainer.type==CKEDITOR.NODE_ELEMENT&&r.endContainer.getName()in m&&(t=new CKEDITOR.dom.walker(r),t.evaluator=e,r.endContainer=t.previous());if(q)return c(q)}return 0}function e(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.is(\"li\")}function b(a){return c(a)&&d(a)}var c=CKEDITOR.dom.walker.whitespaces(!0),d=CKEDITOR.dom.walker.bookmark(!1,\n!0),l=CKEDITOR.TRISTATE_DISABLED,m=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add(\"indentlist\",{requires:\"indent\",init:function(b){function c(b){d.specificDefinition.apply(this,arguments);this.requiredContent=[\"ul\",\"ol\"];b.on(\"key\",function(a){if(\"wysiwyg\"==b.mode&&a.data.keyCode==this.indentKey){var c=this.getContext(b.elementPath());!c||this.isIndent&&CKEDITOR.plugins.indentList.firstItemInPath(this.context,b.elementPath(),c)||(b.execCommand(this.relatedGlobal),a.cancel())}},this);this.jobs[this.isIndent?\n10:30]={refresh:this.isIndent?function(a,b){var c=this.getContext(b),d=CKEDITOR.plugins.indentList.firstItemInPath(this.context,b,c);return c&&this.isIndent&&!d?m:l}:function(a,b){return!this.getContext(b)||this.isIndent?l:m},exec:CKEDITOR.tools.bind(a,this)}}var d=CKEDITOR.plugins.indent;d.registerCommands(b,{indentlist:new c(b,\"indentlist\",!0),outdentlist:new c(b,\"outdentlist\")});CKEDITOR.tools.extend(c.prototype,d.specificDefinition.prototype,{context:{ol:1,ul:1}})}});CKEDITOR.plugins.indentList=\n{};CKEDITOR.plugins.indentList.firstItemInPath=function(a,b,c){var d=b.contains(e);c||(c=b.contains(a));return c&&d&&d.equals(c.getFirst(e))}}(),function(){function a(a,b,c){function d(c){if(!(!(l=k[c?\"getFirst\":\"getLast\"]())||l.is&&l.isBlockBoundary()||!(m=b.root[c?\"getPrevious\":\"getNext\"](CKEDITOR.dom.walker.invisible(!0)))||m.is&&m.isBlockBoundary({br:1})))a.document.createElement(\"br\")[c?\"insertBefore\":\"insertAfter\"](l)}for(var f=CKEDITOR.plugins.list.listToArray(b.root,c),e=[],g=0;g<b.contents.length;g++){var h=\nb.contents[g];(h=h.getAscendant(\"li\",!0))&&!h.getCustomData(\"list_item_processed\")&&(e.push(h),CKEDITOR.dom.element.setMarker(c,h,\"list_item_processed\",!0))}h=null;for(g=0;g<e.length;g++)h=e[g].getCustomData(\"listarray_index\"),f[h].indent=-1;for(g=h+1;g<f.length;g++)if(f[g].indent>f[g-1].indent+1){e=f[g-1].indent+1-f[g].indent;for(h=f[g].indent;f[g]&&f[g].indent>=h;)f[g].indent+=e,g++;g--}var k=CKEDITOR.plugins.list.arrayToList(f,c,null,a.config.enterMode,b.root.getAttribute(\"dir\")).listNode,l,m;\nd(!0);d();k.replace(b.root);a.fire(\"contentDomInvalidated\")}function e(a,b){this.name=a;this.context=this.type=b;this.allowedContent=b+\" li\";this.requiredContent=b}function b(a,b,c,d){for(var f,e;f=a[d?\"getLast\":\"getFirst\"](r);)(e=f.getDirection(1))!==b.getDirection(1)&&f.setAttribute(\"dir\",e),f.remove(),c?f[d?\"insertBefore\":\"insertAfter\"](c):b.append(f,d)}function c(a){function c(d){var f=a[d?\"getPrevious\":\"getNext\"](g);f&&f.type==CKEDITOR.NODE_ELEMENT&&f.is(a.getName())&&(b(a,f,null,!d),a.remove(),\na=f)}c();c(1)}function d(a){return a.type==CKEDITOR.NODE_ELEMENT&&(a.getName()in CKEDITOR.dtd.$block||a.getName()in CKEDITOR.dtd.$listItem)&&CKEDITOR.dtd[a.getName()][\"#\"]}function l(a,d,f){a.fire(\"saveSnapshot\");f.enlarge(CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS);var e=f.extractContents();d.trim(!1,!0);var h=d.createBookmark(),k=new CKEDITOR.dom.elementPath(d.startContainer),l=k.block,k=k.lastElement.getAscendant(\"li\",1)||l,r=new CKEDITOR.dom.elementPath(f.startContainer),v=r.contains(CKEDITOR.dtd.$listItem),\nr=r.contains(CKEDITOR.dtd.$list);l?(l=l.getBogus())&&l.remove():r&&(l=r.getPrevious(g))&&n(l)&&l.remove();(l=e.getLast())&&l.type==CKEDITOR.NODE_ELEMENT&&l.is(\"br\")&&l.remove();(l=d.startContainer.getChild(d.startOffset))?e.insertBefore(l):d.startContainer.append(e);v&&(e=m(v))&&(k.contains(v)?(b(e,v.getParent(),v),e.remove()):k.append(e));for(;f.checkStartOfBlock()&&f.checkEndOfBlock();){r=f.startPath();e=r.block;if(!e)break;e.is(\"li\")&&(k=e.getParent(),e.equals(k.getLast(g))&&e.equals(k.getFirst(g))&&\n(e=k));f.moveToPosition(e,CKEDITOR.POSITION_BEFORE_START);e.remove()}f=f.clone();e=a.editable();f.setEndAt(e,CKEDITOR.POSITION_BEFORE_END);f=new CKEDITOR.dom.walker(f);f.evaluator=function(a){return g(a)&&!n(a)};(f=f.next())&&f.type==CKEDITOR.NODE_ELEMENT&&f.getName()in CKEDITOR.dtd.$list&&c(f);d.moveToBookmark(h);d.select();a.fire(\"saveSnapshot\")}function m(a){return(a=a.getLast(g))&&a.type==CKEDITOR.NODE_ELEMENT&&a.getName()in f?a:null}var f={ol:1,ul:1},h=CKEDITOR.dom.walker.whitespaces(),k=CKEDITOR.dom.walker.bookmark(),\ng=function(a){return!(h(a)||k(a))},n=CKEDITOR.dom.walker.bogus();CKEDITOR.plugins.list={listToArray:function(a,b,c,d,e){if(!f[a.getName()])return[];d||(d=0);c||(c=[]);for(var g=0,h=a.getChildCount();g<h;g++){var k=a.getChild(g);k.type==CKEDITOR.NODE_ELEMENT&&k.getName()in CKEDITOR.dtd.$list&&CKEDITOR.plugins.list.listToArray(k,b,c,d+1);if(\"li\"==k.$.nodeName.toLowerCase()){var l={parent:a,indent:d,element:k,contents:[]};e?l.grandparent=e:(l.grandparent=a.getParent(),l.grandparent&&\"li\"==l.grandparent.$.nodeName.toLowerCase()&&\n(l.grandparent=l.grandparent.getParent()));b&&CKEDITOR.dom.element.setMarker(b,k,\"listarray_index\",c.length);c.push(l);for(var m=0,n=k.getChildCount(),r;m<n;m++)r=k.getChild(m),r.type==CKEDITOR.NODE_ELEMENT&&f[r.getName()]?CKEDITOR.plugins.list.listToArray(r,b,c,d+1,l.grandparent):l.contents.push(r)}}return c},arrayToList:function(a,b,c,d,e){c||(c=0);if(!a||a.length<c+1)return null;for(var h,l=a[c].parent.getDocument(),m=new CKEDITOR.dom.documentFragment(l),n=null,r=c,v=Math.max(a[c].indent,0),C=\nnull,F,E,J=d==CKEDITOR.ENTER_P?\"p\":\"div\";;){var G=a[r];h=G.grandparent;F=G.element.getDirection(1);if(G.indent==v){n&&a[r].parent.getName()==n.getName()||(n=a[r].parent.clone(!1,1),e&&n.setAttribute(\"dir\",e),m.append(n));C=n.append(G.element.clone(0,1));F!=n.getDirection(1)&&C.setAttribute(\"dir\",F);for(h=0;h<G.contents.length;h++)C.append(G.contents[h].clone(1,1));r++}else if(G.indent==Math.max(v,0)+1)G=a[r-1].element.getDirection(1),r=CKEDITOR.plugins.list.arrayToList(a,null,r,d,G!=F?F:null),!C.getChildCount()&&\nCKEDITOR.env.needsNbspFiller&&7>=l.$.documentMode&&C.append(l.createText(\" \")),C.append(r.listNode),r=r.nextIndex;else if(-1==G.indent&&!c&&h){f[h.getName()]?(C=G.element.clone(!1,!0),F!=h.getDirection(1)&&C.setAttribute(\"dir\",F)):C=new CKEDITOR.dom.documentFragment(l);var n=h.getDirection(1)!=F,M=G.element,I=M.getAttribute(\"class\"),H=M.getAttribute(\"style\"),R=C.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&(d!=CKEDITOR.ENTER_BR||n||H||I),P,T=G.contents.length,O;for(h=0;h<T;h++)if(P=G.contents[h],k(P)&&\n1<T)R?O=P.clone(1,1):C.append(P.clone(1,1));else if(P.type==CKEDITOR.NODE_ELEMENT&&P.isBlockBoundary()){n&&!P.getDirection()&&P.setAttribute(\"dir\",F);E=P;var K=M.getAttribute(\"style\");K&&E.setAttribute(\"style\",K.replace(/([^;])$/,\"$1;\")+(E.getAttribute(\"style\")||\"\"));I&&P.addClass(I);E=null;O&&(C.append(O),O=null);C.append(P.clone(1,1))}else R?(E||(E=l.createElement(J),C.append(E),n&&E.setAttribute(\"dir\",F)),H&&E.setAttribute(\"style\",H),I&&E.setAttribute(\"class\",I),O&&(E.append(O),O=null),E.append(P.clone(1,\n1))):C.append(P.clone(1,1));O&&((E||C).append(O),O=null);C.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&r!=a.length-1&&(CKEDITOR.env.needsBrFiller&&(F=C.getLast())&&F.type==CKEDITOR.NODE_ELEMENT&&F.is(\"br\")&&F.remove(),(F=C.getLast(g))&&F.type==CKEDITOR.NODE_ELEMENT&&F.is(CKEDITOR.dtd.$block)||C.append(l.createElement(\"br\")));F=C.$.nodeName.toLowerCase();\"div\"!=F&&\"p\"!=F||C.appendBogus();m.append(C);n=null;r++}else return null;E=null;if(a.length<=r||Math.max(a[r].indent,0)<v)break}if(b)for(a=m.getFirst();a;){if(a.type==\nCKEDITOR.NODE_ELEMENT&&(CKEDITOR.dom.element.clearMarkers(b,a),a.getName()in CKEDITOR.dtd.$listItem&&(c=a,l=e=d=void 0,d=c.getDirection()))){for(e=c.getParent();e&&!(l=e.getDirection());)e=e.getParent();d==l&&c.removeAttribute(\"dir\")}a=a.getNextSourceNode()}return{listNode:m,nextIndex:r}}};var v=/^h[1-6]$/,r=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT);e.prototype={exec:function(b){\nvar this$1 = this;\nthis.refresh(b,b.elementPath());var d=b.config,e=b.getSelection(),h=e&&e.getRanges();if(this.state==CKEDITOR.TRISTATE_OFF){var k=\nb.editable();if(k.getFirst(g)){var l=1==h.length&&h[0];(d=l&&l.getEnclosedNode())&&d.is&&this.type==d.getName()&&this.setState(CKEDITOR.TRISTATE_ON)}else d.enterMode==CKEDITOR.ENTER_BR?k.appendBogus():h[0].fixBlock(1,d.enterMode==CKEDITOR.ENTER_P?\"p\":\"div\"),e.selectRanges(h)}for(var d=e.createBookmarks(!0),k=[],m={},h=h.createIterator(),n=0;(l=h.getNextRange())&&++n;){var r=l.getBoundaryNodes(),y=r.startNode,B=r.endNode;y.type==CKEDITOR.NODE_ELEMENT&&\"td\"==y.getName()&&l.setStartAt(r.startNode,CKEDITOR.POSITION_AFTER_START);\nB.type==CKEDITOR.NODE_ELEMENT&&\"td\"==B.getName()&&l.setEndAt(r.endNode,CKEDITOR.POSITION_BEFORE_END);l=l.createIterator();for(l.forceBrBreak=this.state==CKEDITOR.TRISTATE_OFF;r=l.getNextParagraph();)if(!r.getCustomData(\"list_block\")){CKEDITOR.dom.element.setMarker(m,r,\"list_block\",1);for(var C=b.elementPath(r),y=C.elements,B=0,C=C.blockLimit,F,E=y.length-1;0<=E&&(F=y[E]);E--)if(f[F.getName()]&&C.contains(F)){C.removeCustomData(\"list_group_object_\"+n);(y=F.getCustomData(\"list_group_object\"))?y.contents.push(r):\n(y={root:F,contents:[r]},k.push(y),CKEDITOR.dom.element.setMarker(m,F,\"list_group_object\",y));B=1;break}B||(B=C,B.getCustomData(\"list_group_object_\"+n)?B.getCustomData(\"list_group_object_\"+n).contents.push(r):(y={root:B,contents:[r]},CKEDITOR.dom.element.setMarker(m,B,\"list_group_object_\"+n,y),k.push(y)))}}for(F=[];0<k.length;)if(y=k.shift(),this$1.state==CKEDITOR.TRISTATE_OFF)if(f[y.root.getName()]){h=b;n=y;y=m;l=F;B=CKEDITOR.plugins.list.listToArray(n.root,y);C=[];for(r=0;r<n.contents.length;r++)E=\nn.contents[r],(E=E.getAscendant(\"li\",!0))&&!E.getCustomData(\"list_item_processed\")&&(C.push(E),CKEDITOR.dom.element.setMarker(y,E,\"list_item_processed\",!0));for(var E=n.root.getDocument(),J=void 0,G=void 0,r=0;r<C.length;r++){var M=C[r].getCustomData(\"listarray_index\"),J=B[M].parent;J.is(this$1.type)||(G=E.createElement(this$1.type),J.copyAttributes(G,{start:1,type:1}),G.removeStyle(\"list-style-type\"),B[M].parent=G)}y=CKEDITOR.plugins.list.arrayToList(B,y,null,h.config.enterMode);B=void 0;C=y.listNode.getChildCount();\nfor(r=0;r<C&&(B=y.listNode.getChild(r));r++)B.getName()==this$1.type&&l.push(B);y.listNode.replace(n.root);h.fire(\"contentDomInvalidated\")}else{B=b;l=y;r=F;C=l.contents;h=l.root.getDocument();n=[];1==C.length&&C[0].equals(l.root)&&(y=h.createElement(\"div\"),C[0].moveChildren&&C[0].moveChildren(y),C[0].append(y),C[0]=y);l=l.contents[0].getParent();for(E=0;E<C.length;E++)l=l.getCommonAncestor(C[E].getParent());J=B.config.useComputedState;B=y=void 0;J=void 0===J||J;for(E=0;E<C.length;E++)for(G=C[E];M=G.getParent();){if(M.equals(l)){n.push(G);\n!B&&G.getDirection()&&(B=1);G=G.getDirection(J);null!==y&&(y=y&&y!=G?null:G);break}G=M}if(!(1>n.length)){C=n[n.length-1].getNext();E=h.createElement(this$1.type);r.push(E);for(J=r=void 0;n.length;)r=n.shift(),J=h.createElement(\"li\"),G=r,G.is(\"pre\")||v.test(G.getName())||\"false\"==G.getAttribute(\"contenteditable\")?r.appendTo(J):(r.copyAttributes(J),y&&r.getDirection()&&(J.removeStyle(\"direction\"),J.removeAttribute(\"dir\")),r.moveChildren(J),r.remove()),J.appendTo(E);y&&B&&E.setAttribute(\"dir\",y);C?E.insertBefore(C):\nE.appendTo(l)}}else this$1.state==CKEDITOR.TRISTATE_ON&&f[y.root.getName()]&&a.call(this$1,b,y,m);for(E=0;E<F.length;E++)c(F[E]);CKEDITOR.dom.element.clearAllMarkers(m);e.selectBookmarks(d);b.focus()},refresh:function(a,b){var c=b.contains(f,1),d=b.blockLimit||b.root;c&&d.contains(c)?this.setState(c.is(this.type)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_OFF)}};CKEDITOR.plugins.add(\"list\",{requires:\"indentlist\",init:function(a){a.blockless||(a.addCommand(\"numberedlist\",\nnew e(\"numberedlist\",\"ol\")),a.addCommand(\"bulletedlist\",new e(\"bulletedlist\",\"ul\")),a.ui.addButton&&(a.ui.addButton(\"NumberedList\",{label:a.lang.list.numberedlist,command:\"numberedlist\",directional:!0,toolbar:\"list,10\"}),a.ui.addButton(\"BulletedList\",{label:a.lang.list.bulletedlist,command:\"bulletedlist\",directional:!0,toolbar:\"list,20\"})),a.on(\"key\",function(b){var c=b.data.domEvent.getKey(),e;if(\"wysiwyg\"==a.mode&&c in{8:1,46:1}){var h=a.getSelection().getRanges()[0],k=h&&h.startPath();if(h&&h.collapsed){var r=\n8==c,v=a.editable(),D=new CKEDITOR.dom.walker(h.clone());D.evaluator=function(a){return g(a)&&!n(a)};D.guard=function(a,b){return!(b&&a.type==CKEDITOR.NODE_ELEMENT&&a.is(\"table\"))};c=h.clone();if(r){var y;(y=k.contains(f))&&h.checkBoundaryOfElement(y,CKEDITOR.START)&&(y=y.getParent())&&y.is(\"li\")&&(y=m(y))?(e=y,y=y.getPrevious(g),c.moveToPosition(y&&n(y)?y:e,CKEDITOR.POSITION_BEFORE_START)):(D.range.setStartAt(v,CKEDITOR.POSITION_AFTER_START),D.range.setEnd(h.startContainer,h.startOffset),(y=D.previous())&&\ny.type==CKEDITOR.NODE_ELEMENT&&(y.getName()in f||y.is(\"li\"))&&(y.is(\"li\")||(D.range.selectNodeContents(y),D.reset(),D.evaluator=d,y=D.previous()),e=y,c.moveToElementEditEnd(e),c.moveToPosition(c.endPath().block,CKEDITOR.POSITION_BEFORE_END)));if(e)l(a,c,h),b.cancel();else{var B=k.contains(f);B&&h.checkBoundaryOfElement(B,CKEDITOR.START)&&(e=B.getFirst(g),h.checkBoundaryOfElement(e,CKEDITOR.START)&&(y=B.getPrevious(g),m(e)?y&&(h.moveToElementEditEnd(y),h.select()):a.execCommand(\"outdent\"),b.cancel()))}}else if(e=\nk.contains(\"li\")){if(D.range.setEndAt(v,CKEDITOR.POSITION_BEFORE_END),r=(v=e.getLast(g))&&d(v)?v:e,k=0,(y=D.next())&&y.type==CKEDITOR.NODE_ELEMENT&&y.getName()in f&&y.equals(v)?(k=1,y=D.next()):h.checkBoundaryOfElement(r,CKEDITOR.END)&&(k=2),k&&y){h=h.clone();h.moveToElementEditStart(y);if(1==k&&(c.optimize(),!c.startContainer.equals(e))){for(e=c.startContainer;e.is(CKEDITOR.dtd.$inline);)B=e,e=e.getParent();B&&c.moveToPosition(B,CKEDITOR.POSITION_AFTER_END)}2==k&&(c.moveToPosition(c.endPath().block,\nCKEDITOR.POSITION_BEFORE_END),h.endPath().block&&h.moveToPosition(h.endPath().block,CKEDITOR.POSITION_AFTER_START));l(a,c,h);b.cancel()}}else D.range.setEndAt(v,CKEDITOR.POSITION_BEFORE_END),(y=D.next())&&y.type==CKEDITOR.NODE_ELEMENT&&y.is(f)&&(y=y.getFirst(g),k.block&&h.checkStartOfBlock()&&h.checkEndOfBlock()?(k.block.remove(),h.moveToElementEditStart(y),h.select()):m(y)?(h.moveToElementEditStart(y),h.select()):(h=h.clone(),h.moveToElementEditStart(y),l(a,c,h)),b.cancel());setTimeout(function(){a.selectionChange(1)})}}}))}})}(),\nfunction(){function a(a,b,c){c=a.config.forceEnterMode||c;\"wysiwyg\"==a.mode&&(b||(b=a.activeEnterMode),a.elementPath().isContextFor(\"p\")||(b=CKEDITOR.ENTER_BR,c=1),a.fire(\"saveSnapshot\"),b==CKEDITOR.ENTER_BR?m(a,b,null,c):f(a,b,null,c),a.fire(\"saveSnapshot\"))}function e(a){a=a.getSelection().getRanges(!0);for(var b=a.length-1;0<b;b--)a[b].deleteContents();return a[0]}function b(a){var b=a.startContainer.getAscendant(function(a){return a.type==CKEDITOR.NODE_ELEMENT&&\"true\"==a.getAttribute(\"contenteditable\")},\n!0);if(a.root.equals(b))return a;b=new CKEDITOR.dom.range(b);b.moveToRange(a);return b}CKEDITOR.plugins.add(\"enterkey\",{init:function(b){b.addCommand(\"enter\",{modes:{wysiwyg:1},editorFocus:!1,exec:function(b){a(b)}});b.addCommand(\"shiftEnter\",{modes:{wysiwyg:1},editorFocus:!1,exec:function(b){a(b,b.activeShiftEnterMode,1)}});b.setKeystroke([[13,\"enter\"],[CKEDITOR.SHIFT+13,\"shiftEnter\"]])}});var c=CKEDITOR.dom.walker.whitespaces(),d=CKEDITOR.dom.walker.bookmark();CKEDITOR.plugins.enterkey={enterBlock:function(a,\nf,l,v){if(l=l||e(a)){l=b(l);var r=l.document,q=l.checkStartOfBlock(),t=l.checkEndOfBlock(),p=a.elementPath(l.startContainer),w=p.block,z=f==CKEDITOR.ENTER_DIV?\"div\":\"p\",A;if(q&&t){if(w&&(w.is(\"li\")||w.getParent().is(\"li\"))){w.is(\"li\")||(w=w.getParent());l=w.getParent();A=l.getParent();v=!w.hasPrevious();var u=!w.hasNext(),z=a.getSelection(),x=z.createBookmarks(),q=w.getDirection(1),t=w.getAttribute(\"class\"),D=w.getAttribute(\"style\"),y=A.getDirection(1)!=q;a=a.enterMode!=CKEDITOR.ENTER_BR||y||D||t;\nif(A.is(\"li\"))v||u?(v&&u&&l.remove(),w[u?\"insertAfter\":\"insertBefore\"](A)):w.breakParent(A);else{if(a)if(p.block.is(\"li\")?(A=r.createElement(f==CKEDITOR.ENTER_P?\"p\":\"div\"),y&&A.setAttribute(\"dir\",q),D&&A.setAttribute(\"style\",D),t&&A.setAttribute(\"class\",t),w.moveChildren(A)):A=p.block,v||u)A[v?\"insertBefore\":\"insertAfter\"](l);else w.breakParent(l),A.insertAfter(l);else if(w.appendBogus(!0),v||u)for(;r=w[v?\"getFirst\":\"getLast\"]();)r[v?\"insertBefore\":\"insertAfter\"](l);else for(w.breakParent(l);r=w.getLast();)r.insertAfter(l);\nw.remove()}z.selectBookmarks(x);return}if(w&&w.getParent().is(\"blockquote\")){w.breakParent(w.getParent());w.getPrevious().getFirst(CKEDITOR.dom.walker.invisible(1))||w.getPrevious().remove();w.getNext().getFirst(CKEDITOR.dom.walker.invisible(1))||w.getNext().remove();l.moveToElementEditStart(w);l.select();return}}else if(w&&w.is(\"pre\")&&!t){m(a,f,l,v);return}if(q=l.splitBlock(z)){f=q.previousBlock;w=q.nextBlock;p=q.wasStartOfBlock;a=q.wasEndOfBlock;w?(x=w.getParent(),x.is(\"li\")&&(w.breakParent(x),\nw.move(w.getNext(),1))):f&&(x=f.getParent())&&x.is(\"li\")&&(f.breakParent(x),x=f.getNext(),l.moveToElementEditStart(x),f.move(f.getPrevious()));if(p||a){if(f){if(f.is(\"li\")||!h.test(f.getName())&&!f.is(\"pre\"))A=f.clone()}else w&&(A=w.clone());A?v&&!A.is(\"li\")&&A.renameNode(z):x&&x.is(\"li\")?A=x:(A=r.createElement(z),f&&(u=f.getDirection())&&A.setAttribute(\"dir\",u));if(r=q.elementPath)for(v=0,z=r.elements.length;v<z;v++){x=r.elements[v];if(x.equals(r.block)||x.equals(r.blockLimit))break;CKEDITOR.dtd.$removeEmpty[x.getName()]&&\n(x=x.clone(),A.moveChildren(x),A.append(x))}A.appendBogus();A.getParent()||l.insertNode(A);A.is(\"li\")&&A.removeAttribute(\"value\");!CKEDITOR.env.ie||!p||a&&f.getChildCount()||(l.moveToElementEditStart(a?f:A),l.select());l.moveToElementEditStart(p&&!a?w:A)}else w.is(\"li\")&&(A=l.clone(),A.selectNodeContents(w),A=new CKEDITOR.dom.walker(A),A.evaluator=function(a){return!(d(a)||c(a)||a.type==CKEDITOR.NODE_ELEMENT&&a.getName()in CKEDITOR.dtd.$inline&&!(a.getName()in CKEDITOR.dtd.$empty))},(x=A.next())&&\nx.type==CKEDITOR.NODE_ELEMENT&&x.is(\"ul\",\"ol\")&&(CKEDITOR.env.needsBrFiller?r.createElement(\"br\"):r.createText(\" \")).insertBefore(x)),w&&l.moveToElementEditStart(w);l.select();l.scrollIntoView()}}},enterBr:function(a,b,c,d){if(c=c||e(a)){var l=c.document,m=c.checkEndOfBlock(),t=new CKEDITOR.dom.elementPath(a.getSelection().getStartElement()),p=t.block,w=p&&t.block.getName();d||\"li\"!=w?(!d&&m&&h.test(w)?(m=p.getDirection())?(l=l.createElement(\"div\"),l.setAttribute(\"dir\",m),l.insertAfter(p),c.setStart(l,\n0)):(l.createElement(\"br\").insertAfter(p),CKEDITOR.env.gecko&&l.createText(\"\").insertAfter(p),c.setStartAt(p.getNext(),CKEDITOR.env.ie?CKEDITOR.POSITION_BEFORE_START:CKEDITOR.POSITION_AFTER_START)):(a=\"pre\"==w&&CKEDITOR.env.ie&&8>CKEDITOR.env.version?l.createText(\"\\r\"):l.createElement(\"br\"),c.deleteContents(),c.insertNode(a),CKEDITOR.env.needsBrFiller?(l.createText(\"﻿\").insertAfter(a),m&&(p||t.blockLimit).appendBogus(),a.getNext().$.nodeValue=\"\",c.setStartAt(a.getNext(),CKEDITOR.POSITION_AFTER_START)):\nc.setStartAt(a,CKEDITOR.POSITION_AFTER_END)),c.collapse(!0),c.select(),c.scrollIntoView()):f(a,b,c,d)}}};var l=CKEDITOR.plugins.enterkey,m=l.enterBr,f=l.enterBlock,h=/^h[1-6]$/}(),function(){function a(a,b){var c={},d=[],l={nbsp:\" \",shy:\"­\",gt:\"\\x3e\",lt:\"\\x3c\",amp:\"\\x26\",apos:\"'\",quot:'\"'};a=a.replace(/\\b(nbsp|shy|gt|lt|amp|apos|quot)(?:,|$)/g,function(a,f){var e=b?\"\\x26\"+f+\";\":l[f];c[e]=b?l[f]:\"\\x26\"+f+\";\";d.push(e);return\"\"});if(!b&&a){a=a.split(\",\");var m=document.createElement(\"div\"),f;m.innerHTML=\n\"\\x26\"+a.join(\";\\x26\")+\";\";f=m.innerHTML;m=null;for(m=0;m<f.length;m++){var h=f.charAt(m);c[h]=\"\\x26\"+a[m]+\";\";d.push(h)}}c.regex=d.join(b?\"|\":\"\");return c}CKEDITOR.plugins.add(\"entities\",{afterInit:function(e){function b(a){return h[a]}function c(a){return\"force\"!=d.entities_processNumerical&&m[a]?m[a]:\"\\x26#\"+a.charCodeAt(0)+\";\"}var d=e.config;if(e=(e=e.dataProcessor)&&e.htmlFilter){var l=[];!1!==d.basicEntities&&l.push(\"nbsp,gt,lt,amp\");d.entities&&(l.length&&l.push(\"quot,iexcl,cent,pound,curren,yen,brvbar,sect,uml,copy,ordf,laquo,not,shy,reg,macr,deg,plusmn,sup2,sup3,acute,micro,para,middot,cedil,sup1,ordm,raquo,frac14,frac12,frac34,iquest,times,divide,fnof,bull,hellip,prime,Prime,oline,frasl,weierp,image,real,trade,alefsym,larr,uarr,rarr,darr,harr,crarr,lArr,uArr,rArr,dArr,hArr,forall,part,exist,empty,nabla,isin,notin,ni,prod,sum,minus,lowast,radic,prop,infin,ang,and,or,cap,cup,int,there4,sim,cong,asymp,ne,equiv,le,ge,sub,sup,nsub,sube,supe,oplus,otimes,perp,sdot,lceil,rceil,lfloor,rfloor,lang,rang,loz,spades,clubs,hearts,diams,circ,tilde,ensp,emsp,thinsp,zwnj,zwj,lrm,rlm,ndash,mdash,lsquo,rsquo,sbquo,ldquo,rdquo,bdquo,dagger,Dagger,permil,lsaquo,rsaquo,euro\"),\nd.entities_latin&&l.push(\"Agrave,Aacute,Acirc,Atilde,Auml,Aring,AElig,Ccedil,Egrave,Eacute,Ecirc,Euml,Igrave,Iacute,Icirc,Iuml,ETH,Ntilde,Ograve,Oacute,Ocirc,Otilde,Ouml,Oslash,Ugrave,Uacute,Ucirc,Uuml,Yacute,THORN,szlig,agrave,aacute,acirc,atilde,auml,aring,aelig,ccedil,egrave,eacute,ecirc,euml,igrave,iacute,icirc,iuml,eth,ntilde,ograve,oacute,ocirc,otilde,ouml,oslash,ugrave,uacute,ucirc,uuml,yacute,thorn,yuml,OElig,oelig,Scaron,scaron,Yuml\"),d.entities_greek&&l.push(\"Alpha,Beta,Gamma,Delta,Epsilon,Zeta,Eta,Theta,Iota,Kappa,Lambda,Mu,Nu,Xi,Omicron,Pi,Rho,Sigma,Tau,Upsilon,Phi,Chi,Psi,Omega,alpha,beta,gamma,delta,epsilon,zeta,eta,theta,iota,kappa,lambda,mu,nu,xi,omicron,pi,rho,sigmaf,sigma,tau,upsilon,phi,chi,psi,omega,thetasym,upsih,piv\"),\nd.entities_additional&&l.push(d.entities_additional));var m=a(l.join(\",\")),f=m.regex?\"[\"+m.regex+\"]\":\"a^\";delete m.regex;d.entities&&d.entities_processNumerical&&(f=\"[^ -~]|\"+f);var f=new RegExp(f,\"g\"),h=a(\"nbsp,gt,lt,amp,shy\",!0),k=new RegExp(h.regex,\"g\");e.addRules({text:function(a){return a.replace(k,b).replace(f,c)}},{applyToAll:!0,excludeNestedEditable:!0})}}})}(),CKEDITOR.config.basicEntities=!0,CKEDITOR.config.entities=!0,CKEDITOR.config.entities_latin=!0,CKEDITOR.config.entities_greek=!0,\nCKEDITOR.config.entities_additional=\"#39\",CKEDITOR.plugins.add(\"popup\"),CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{popup:function(a,e,b,c){e=e||\"80%\";b=b||\"70%\";\"string\"==typeof e&&1<e.length&&\"%\"==e.substr(e.length-1,1)&&(e=parseInt(window.screen.width*parseInt(e,10)/100,10));\"string\"==typeof b&&1<b.length&&\"%\"==b.substr(b.length-1,1)&&(b=parseInt(window.screen.height*parseInt(b,10)/100,10));640>e&&(e=640);420>b&&(b=420);var d=parseInt((window.screen.height-b)/2,10),l=parseInt((window.screen.width-\ne)/2,10);c=(c||\"location\\x3dno,menubar\\x3dno,toolbar\\x3dno,dependent\\x3dyes,minimizable\\x3dno,modal\\x3dyes,alwaysRaised\\x3dyes,resizable\\x3dyes,scrollbars\\x3dyes\")+\",width\\x3d\"+e+\",height\\x3d\"+b+\",top\\x3d\"+d+\",left\\x3d\"+l;var m=window.open(\"\",null,c,!0);if(!m)return!1;try{-1==navigator.userAgent.toLowerCase().indexOf(\" chrome/\")&&(m.moveTo(l,d),m.resizeTo(e,b)),m.focus(),m.location.href=a}catch(f){window.open(a,null,c,!0)}return!0}}),function(){function a(a,b){var c=[];if(b)for(var d in b)c.push(d+\n\"\\x3d\"+encodeURIComponent(b[d]));else return a;return a+(-1!=a.indexOf(\"?\")?\"\\x26\":\"?\")+c.join(\"\\x26\")}function e(a){a+=\"\";return a.charAt(0).toUpperCase()+a.substr(1)}function b(){var b=this.getDialog(),c=b.getParentEditor();c._.filebrowserSe=this;var d=c.config[\"filebrowser\"+e(b.getName())+\"WindowWidth\"]||c.config.filebrowserWindowWidth||\"80%\",b=c.config[\"filebrowser\"+e(b.getName())+\"WindowHeight\"]||c.config.filebrowserWindowHeight||\"70%\",f=this.filebrowser.params||{};f.CKEditor=c.name;f.CKEditorFuncNum=\nc._.filebrowserFn;f.langCode||(f.langCode=c.langCode);f=a(this.filebrowser.url,f);c.popup(f,d,b,c.config.filebrowserWindowFeatures||c.config.fileBrowserWindowFeatures)}function c(){var a=this.getDialog();a.getParentEditor()._.filebrowserSe=this;return a.getContentElement(this[\"for\"][0],this[\"for\"][1]).getInputElement().$.value&&a.getContentElement(this[\"for\"][0],this[\"for\"][1]).getAction()?!0:!1}function d(b,c,d){var f=d.params||{};f.CKEditor=b.name;f.CKEditorFuncNum=b._.filebrowserFn;f.langCode||\n(f.langCode=b.langCode);c.action=a(d.url,f);c.filebrowser=d}function l(a,f,g,m){if(m&&m.length)for(var v,r=m.length;r--;)if(v=m[r],\"hbox\"!=v.type&&\"vbox\"!=v.type&&\"fieldset\"!=v.type||l(a,f,g,v.children),v.filebrowser)if(\"string\"==typeof v.filebrowser&&(v.filebrowser={action:\"fileButton\"==v.type?\"QuickUpload\":\"Browse\",target:v.filebrowser}),\"Browse\"==v.filebrowser.action){var q=v.filebrowser.url;void 0===q&&(q=a.config[\"filebrowser\"+e(f)+\"BrowseUrl\"],void 0===q&&(q=a.config.filebrowserBrowseUrl));\nq&&(v.onClick=b,v.filebrowser.url=q,v.hidden=!1)}else if(\"QuickUpload\"==v.filebrowser.action&&v[\"for\"]&&(q=v.filebrowser.url,void 0===q&&(q=a.config[\"filebrowser\"+e(f)+\"UploadUrl\"],void 0===q&&(q=a.config.filebrowserUploadUrl)),q)){var t=v.onClick;v.onClick=function(a){var b=a.sender;if(t&&!1===t.call(b,a))return!1;if(c.call(b,a)){a=b.getDialog().getContentElement(this[\"for\"][0],this[\"for\"][1]).getInputElement();if(b=new CKEDITOR.dom.element(a.$.form))(a=b.$.elements.ckCsrfToken)?a=new CKEDITOR.dom.element(a):\n(a=new CKEDITOR.dom.element(\"input\"),a.setAttributes({name:\"ckCsrfToken\",type:\"hidden\"}),b.append(a)),a.setAttribute(\"value\",CKEDITOR.tools.getCsrfToken());return!0}return!1};v.filebrowser.url=q;v.hidden=!1;d(a,g.getContents(v[\"for\"][0]).get(v[\"for\"][1]),v.filebrowser)}}function m(a,b,c){if(-1!==c.indexOf(\";\")){c=c.split(\";\");for(var d=0;d<c.length;d++)if(m(a,b,c[d]))return!0;return!1}return(a=a.getContents(b).get(c).filebrowser)&&a.url}function f(a,b){var c=this._.filebrowserSe.getDialog(),d=this._.filebrowserSe[\"for\"],\nf=this._.filebrowserSe.filebrowser.onSelect;d&&c.getContentElement(d[0],d[1]).reset();if(\"function\"!=typeof b||!1!==b.call(this._.filebrowserSe))if(!f||!1!==f.call(this._.filebrowserSe,a,b))if(\"string\"==typeof b&&b&&alert(b),a&&(d=this._.filebrowserSe,c=d.getDialog(),d=d.filebrowser.target||null))if(d=d.split(\":\"),f=c.getContentElement(d[0],d[1]))f.setValue(a),c.selectPage(d[0])}CKEDITOR.plugins.add(\"filebrowser\",{requires:\"popup\",init:function(a){a._.filebrowserFn=CKEDITOR.tools.addFunction(f,a);\na.on(\"destroy\",function(){CKEDITOR.tools.removeFunction(this._.filebrowserFn)})}});CKEDITOR.on(\"dialogDefinition\",function(a){if(a.editor.plugins.filebrowser)for(var b=a.data.definition,c,d=0;d<b.contents.length;++d)if(c=b.contents[d])l(a.editor,a.data.name,b,c.elements),c.hidden&&c.filebrowser&&(c.hidden=!m(b,c.id,c.filebrowser))})}(),function(){function a(a){var d=a.config,l=a.fire(\"uiSpace\",{space:\"top\",html:\"\"}).html,m=function(){function f(a,c,d){h.setStyle(c,b(d));h.setStyle(\"position\",a)}function g(a){var b=\nk.getDocumentPosition();switch(a){case \"top\":f(\"absolute\",\"top\",b.y-z-x);break;case \"pin\":f(\"fixed\",\"top\",y);break;case \"bottom\":f(\"absolute\",\"top\",b.y+(p.height||p.bottom-p.top)+x)}l=a}var l,k,t,p,w,z,A,u=d.floatSpaceDockedOffsetX||0,x=d.floatSpaceDockedOffsetY||0,D=d.floatSpacePinnedOffsetX||0,y=d.floatSpacePinnedOffsetY||0;return function(f){if(k=a.editable()){var n=f&&\"focus\"==f.name;n&&h.show();a.fire(\"floatingSpaceLayout\",{show:n});h.removeStyle(\"left\");h.removeStyle(\"right\");t=h.getClientRect();\np=k.getClientRect();w=e.getViewPaneSize();z=t.height;A=\"pageXOffset\"in e.$?e.$.pageXOffset:CKEDITOR.document.$.documentElement.scrollLeft;l?(z+x<=p.top?g(\"top\"):z+x>w.height-p.bottom?g(\"pin\"):g(\"bottom\"),f=w.width/2,f=d.floatSpacePreferRight?\"right\":0<p.left&&p.right<w.width&&p.width>t.width?\"rtl\"==d.contentsLangDirection?\"right\":\"left\":f-p.left>p.right-f?\"left\":\"right\",t.width>w.width?(f=\"left\",n=0):(n=\"left\"==f?0<p.left?p.left:0:p.right<w.width?w.width-p.right:0,n+t.width>w.width&&(f=\"left\"==f?\n\"right\":\"left\",n=0)),h.setStyle(f,b((\"pin\"==l?D:u)+n+(\"pin\"==l?0:\"left\"==f?A:-A)))):(l=\"pin\",g(\"pin\"),m(f))}}}();if(l){var f=new CKEDITOR.template('\\x3cdiv id\\x3d\"cke_{name}\" class\\x3d\"cke {id} cke_reset_all cke_chrome cke_editor_{name} cke_float cke_{langDir} '+CKEDITOR.env.cssClass+'\" dir\\x3d\"{langDir}\" title\\x3d\"'+(CKEDITOR.env.gecko?\" \":\"\")+'\" lang\\x3d\"{langCode}\" role\\x3d\"application\" style\\x3d\"{style}\"'+(a.title?' aria-labelledby\\x3d\"cke_{name}_arialbl\"':\" \")+\"\\x3e\"+(a.title?'\\x3cspan id\\x3d\"cke_{name}_arialbl\" class\\x3d\"cke_voice_label\"\\x3e{voiceLabel}\\x3c/span\\x3e':\n\" \")+'\\x3cdiv class\\x3d\"cke_inner\"\\x3e\\x3cdiv id\\x3d\"{topId}\" class\\x3d\"cke_top\" role\\x3d\"presentation\"\\x3e{content}\\x3c/div\\x3e\\x3c/div\\x3e\\x3c/div\\x3e'),h=CKEDITOR.document.getBody().append(CKEDITOR.dom.element.createFromHtml(f.output({content:l,id:a.id,langDir:a.lang.dir,langCode:a.langCode,name:a.name,style:\"display:none;z-index:\"+(d.baseFloatZIndex-1),topId:a.ui.spaceId(\"top\"),voiceLabel:a.title}))),k=CKEDITOR.tools.eventsBuffer(500,m),g=CKEDITOR.tools.eventsBuffer(100,m);h.unselectable();h.on(\"mousedown\",\nfunction(a){a=a.data;a.getTarget().hasAscendant(\"a\",1)||a.preventDefault()});a.on(\"focus\",function(b){m(b);a.on(\"change\",k.input);e.on(\"scroll\",g.input);e.on(\"resize\",g.input)});a.on(\"blur\",function(){h.hide();a.removeListener(\"change\",k.input);e.removeListener(\"scroll\",g.input);e.removeListener(\"resize\",g.input)});a.on(\"destroy\",function(){e.removeListener(\"scroll\",g.input);e.removeListener(\"resize\",g.input);h.clearCustomData();h.remove()});a.focusManager.hasFocus&&h.show();a.focusManager.add(h,\n1)}}var e=CKEDITOR.document.getWindow(),b=CKEDITOR.tools.cssLength;CKEDITOR.plugins.add(\"floatingspace\",{init:function(b){b.on(\"loaded\",function(){a(this)},null,null,20)}})}(),CKEDITOR.plugins.add(\"listblock\",{requires:\"panel\",onLoad:function(){var a=CKEDITOR.addTemplate(\"panel-list\",'\\x3cul role\\x3d\"presentation\" class\\x3d\"cke_panel_list\"\\x3e{items}\\x3c/ul\\x3e'),e=CKEDITOR.addTemplate(\"panel-list-item\",'\\x3cli id\\x3d\"{id}\" class\\x3d\"cke_panel_listItem\" role\\x3dpresentation\\x3e\\x3ca id\\x3d\"{id}_option\" _cke_focus\\x3d1 hidefocus\\x3dtrue title\\x3d\"{title}\" href\\x3d\"javascript:void(\\'{val}\\')\"  {onclick}\\x3d\"CKEDITOR.tools.callFunction({clickFn},\\'{val}\\'); return false;\" role\\x3d\"option\"\\x3e{text}\\x3c/a\\x3e\\x3c/li\\x3e'),\nb=CKEDITOR.addTemplate(\"panel-list-group\",'\\x3ch1 id\\x3d\"{id}\" class\\x3d\"cke_panel_grouptitle\" role\\x3d\"presentation\" \\x3e{label}\\x3c/h1\\x3e'),c=/\\'/g;CKEDITOR.ui.panel.prototype.addListBlock=function(a,b){return this.addBlock(a,new CKEDITOR.ui.listBlock(this.getHolderElement(),b))};CKEDITOR.ui.listBlock=CKEDITOR.tools.createClass({base:CKEDITOR.ui.panel.block,$:function(a,b){b=b||{};var c=b.attributes||(b.attributes={});(this.multiSelect=!!b.multiSelect)&&(c[\"aria-multiselectable\"]=!0);!c.role&&\n(c.role=\"listbox\");this.base.apply(this,arguments);this.element.setAttribute(\"role\",c.role);c=this.keys;c[40]=\"next\";c[9]=\"next\";c[38]=\"prev\";c[CKEDITOR.SHIFT+9]=\"prev\";c[32]=CKEDITOR.env.ie?\"mouseup\":\"click\";CKEDITOR.env.ie&&(c[13]=\"mouseup\");this._.pendingHtml=[];this._.pendingList=[];this._.items={};this._.groups={}},_:{close:function(){if(this._.started){var b=a.output({items:this._.pendingList.join(\"\")});this._.pendingList=[];this._.pendingHtml.push(b);delete this._.started}},getClick:function(){this._.click||\n(this._.click=CKEDITOR.tools.addFunction(function(a){var b=this.toggle(a);if(this.onClick)this.onClick(a,b)},this));return this._.click}},proto:{add:function(a,b,m){var f=CKEDITOR.tools.getNextId();this._.started||(this._.started=1,this._.size=this._.size||0);this._.items[a]=f;var h;h=CKEDITOR.tools.htmlEncodeAttr(a).replace(c,\"\\\\'\");a={id:f,val:h,onclick:CKEDITOR.env.ie?'onclick\\x3d\"return false;\" onmouseup':\"onclick\",clickFn:this._.getClick(),title:CKEDITOR.tools.htmlEncodeAttr(m||a),text:b||a};\nthis._.pendingList.push(e.output(a))},startGroup:function(a){this._.close();var c=CKEDITOR.tools.getNextId();this._.groups[a]=c;this._.pendingHtml.push(b.output({id:c,label:a}))},commit:function(){this._.close();this.element.appendHtml(this._.pendingHtml.join(\"\"));delete this._.size;this._.pendingHtml=[]},toggle:function(a){var b=this.isMarked(a);b?this.unmark(a):this.mark(a);return!b},hideGroup:function(a){var b=(a=this.element.getDocument().getById(this._.groups[a]))&&a.getNext();a&&(a.setStyle(\"display\",\n\"none\"),b&&\"ul\"==b.getName()&&b.setStyle(\"display\",\"none\"))},hideItem:function(a){this.element.getDocument().getById(this._.items[a]).setStyle(\"display\",\"none\")},showAll:function(){var a=this._.items,b=this._.groups,c=this.element.getDocument(),f;for(f in a)c.getById(a[f]).setStyle(\"display\",\"\");for(var e in b)a=c.getById(b[e]),f=a.getNext(),a.setStyle(\"display\",\"\"),f&&\"ul\"==f.getName()&&f.setStyle(\"display\",\"\")},mark:function(a){this.multiSelect||this.unmarkAll();a=this._.items[a];var b=this.element.getDocument().getById(a);\nb.addClass(\"cke_selected\");this.element.getDocument().getById(a+\"_option\").setAttribute(\"aria-selected\",!0);this.onMark&&this.onMark(b)},unmark:function(a){var b=this.element.getDocument();a=this._.items[a];var c=b.getById(a);c.removeClass(\"cke_selected\");b.getById(a+\"_option\").removeAttribute(\"aria-selected\");this.onUnmark&&this.onUnmark(c)},unmarkAll:function(){var a=this._.items,b=this.element.getDocument(),c;for(c in a){var f=a[c];b.getById(f).removeClass(\"cke_selected\");b.getById(f+\"_option\").removeAttribute(\"aria-selected\")}this.onUnmark&&\nthis.onUnmark()},isMarked:function(a){return this.element.getDocument().getById(this._.items[a]).hasClass(\"cke_selected\")},focus:function(a){\nvar this$1 = this;\nthis._.focusIndex=-1;var b=this.element.getElementsByTag(\"a\"),c,f=-1;if(a)for(c=this.element.getDocument().getById(this._.items[a]).getFirst();a=b.getItem(++f);){if(a.equals(c)){this$1._.focusIndex=f;break}}else this.element.focus();c&&setTimeout(function(){c.focus()},0)}}})}}),function(){var a='\\x3ca id\\x3d\"{id}\" class\\x3d\"cke_button cke_button__{name} cke_button_{state} {cls}\"'+\n(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?\"\":\" href\\x3d\\\"javascript:void('{titleJs}')\\\"\")+' title\\x3d\"{title}\" tabindex\\x3d\"-1\" hidefocus\\x3d\"true\" role\\x3d\"button\" aria-labelledby\\x3d\"{id}_label\" aria-haspopup\\x3d\"{hasArrow}\" aria-disabled\\x3d\"{ariaDisabled}\"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(a+=' onkeypress\\x3d\"return false;\"');CKEDITOR.env.gecko&&(a+=' onblur\\x3d\"this.style.cssText \\x3d this.style.cssText;\"');var a=a+(' onkeydown\\x3d\"return CKEDITOR.tools.callFunction({keydownFn},event);\" onfocus\\x3d\"return CKEDITOR.tools.callFunction({focusFn},event);\" '+\n(CKEDITOR.env.ie?'onclick\\x3d\"return false;\" onmouseup':\"onclick\")+'\\x3d\"CKEDITOR.tools.callFunction({clickFn},this);return false;\"\\x3e\\x3cspan class\\x3d\"cke_button_icon cke_button__{iconName}_icon\" style\\x3d\"{style}\"'),a=a+'\\x3e\\x26nbsp;\\x3c/span\\x3e\\x3cspan id\\x3d\"{id}_label\" class\\x3d\"cke_button_label cke_button__{name}_label\" aria-hidden\\x3d\"false\"\\x3e{label}\\x3c/span\\x3e{arrowHtml}\\x3c/a\\x3e',e=CKEDITOR.addTemplate(\"buttonArrow\",'\\x3cspan class\\x3d\"cke_button_arrow\"\\x3e'+(CKEDITOR.env.hc?\"\\x26#9660;\":\n\"\")+\"\\x3c/span\\x3e\"),b=CKEDITOR.addTemplate(\"button\",a);CKEDITOR.plugins.add(\"button\",{beforeInit:function(a){a.ui.addHandler(CKEDITOR.UI_BUTTON,CKEDITOR.ui.button.handler)}});CKEDITOR.UI_BUTTON=\"button\";CKEDITOR.ui.button=function(a){CKEDITOR.tools.extend(this,a,{title:a.label,click:a.click||function(b){b.execCommand(a.command)}});this._={}};CKEDITOR.ui.button.handler={create:function(a){return new CKEDITOR.ui.button(a)}};CKEDITOR.ui.button.prototype={render:function(a,d){function l(){var b=a.mode;\nb&&(b=this.modes[b]?void 0!==t[b]?t[b]:CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,b=a.readOnly&&!this.readOnly?CKEDITOR.TRISTATE_DISABLED:b,this.setState(b),this.refresh&&this.refresh())}var m=CKEDITOR.env,f=this._.id=CKEDITOR.tools.getNextId(),h=\"\",k=this.command,g;this._.editor=a;var n={id:f,button:this,editor:a,focus:function(){CKEDITOR.document.getById(f).focus()},execute:function(){this.button.click(a)},attach:function(a){this.button.attach(a)}},v=CKEDITOR.tools.addFunction(function(a){if(n.onkey)return a=\nnew CKEDITOR.dom.event(a),!1!==n.onkey(n,a.getKeystroke())}),r=CKEDITOR.tools.addFunction(function(a){var b;n.onfocus&&(b=!1!==n.onfocus(n,new CKEDITOR.dom.event(a)));return b}),q=0;n.clickFn=g=CKEDITOR.tools.addFunction(function(){q&&(a.unlockSelection(1),q=0);n.execute();m.iOS&&a.focus()});if(this.modes){var t={};a.on(\"beforeModeUnload\",function(){a.mode&&this._.state!=CKEDITOR.TRISTATE_DISABLED&&(t[a.mode]=this._.state)},this);a.on(\"activeFilterChange\",l,this);a.on(\"mode\",l,this);!this.readOnly&&\na.on(\"readOnly\",l,this)}else k&&(k=a.getCommand(k))&&(k.on(\"state\",function(){this.setState(k.state)},this),h+=k.state==CKEDITOR.TRISTATE_ON?\"on\":k.state==CKEDITOR.TRISTATE_DISABLED?\"disabled\":\"off\");if(this.directional)a.on(\"contentDirChanged\",function(b){var d=CKEDITOR.document.getById(this._.id),f=d.getFirst();b=b.data;b!=a.lang.dir?d.addClass(\"cke_\"+b):d.removeClass(\"cke_ltr\").removeClass(\"cke_rtl\");f.setAttribute(\"style\",CKEDITOR.skin.getIconStyle(w,\"rtl\"==b,this.icon,this.iconOffset))},this);\nk||(h+=\"off\");var p=this.name||this.command,w=p;this.icon&&!/\\./.test(this.icon)&&(w=this.icon,this.icon=null);h={id:f,name:p,iconName:w,label:this.label,cls:this.className||\"\",state:h,ariaDisabled:\"disabled\"==h?\"true\":\"false\",title:this.title,titleJs:m.gecko&&!m.hc?\"\":(this.title||\"\").replace(\"'\",\"\"),hasArrow:this.hasArrow?\"true\":\"false\",keydownFn:v,focusFn:r,clickFn:g,style:CKEDITOR.skin.getIconStyle(w,\"rtl\"==a.lang.dir,this.icon,this.iconOffset),arrowHtml:this.hasArrow?e.output():\"\"};b.output(h,\nd);if(this.onRender)this.onRender();return n},setState:function(a){if(this._.state==a)return!1;this._.state=a;var b=CKEDITOR.document.getById(this._.id);return b?(b.setState(a,\"cke_button\"),a==CKEDITOR.TRISTATE_DISABLED?b.setAttribute(\"aria-disabled\",!0):b.removeAttribute(\"aria-disabled\"),this.hasArrow?(a=a==CKEDITOR.TRISTATE_ON?this._.editor.lang.button.selectedLabel.replace(/%1/g,this.label):this.label,CKEDITOR.document.getById(this._.id+\"_label\").setText(a)):a==CKEDITOR.TRISTATE_ON?b.setAttribute(\"aria-pressed\",\n!0):b.removeAttribute(\"aria-pressed\"),!0):!1},getState:function(){return this._.state},toFeature:function(a){if(this._.feature)return this._.feature;var b=this;this.allowedContent||this.requiredContent||!this.command||(b=a.getCommand(this.command)||b);return this._.feature=b}};CKEDITOR.ui.prototype.addButton=function(a,b){this.add(a,CKEDITOR.UI_BUTTON,b)}}(),CKEDITOR.plugins.add(\"richcombo\",{requires:\"floatpanel,listblock,button\",beforeInit:function(a){a.ui.addHandler(CKEDITOR.UI_RICHCOMBO,CKEDITOR.ui.richCombo.handler)}}),\nfunction(){var a='\\x3cspan id\\x3d\"{id}\" class\\x3d\"cke_combo cke_combo__{name} {cls}\" role\\x3d\"presentation\"\\x3e\\x3cspan id\\x3d\"{id}_label\" class\\x3d\"cke_combo_label\"\\x3e{label}\\x3c/span\\x3e\\x3ca class\\x3d\"cke_combo_button\" title\\x3d\"{title}\" tabindex\\x3d\"-1\"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?\"\":\" href\\x3d\\\"javascript:void('{titleJs}')\\\"\")+' hidefocus\\x3d\"true\" role\\x3d\"button\" aria-labelledby\\x3d\"{id}_label\" aria-haspopup\\x3d\"true\"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(a+=' onkeypress\\x3d\"return false;\"');\nCKEDITOR.env.gecko&&(a+=' onblur\\x3d\"this.style.cssText \\x3d this.style.cssText;\"');var a=a+(' onkeydown\\x3d\"return CKEDITOR.tools.callFunction({keydownFn},event,this);\" onfocus\\x3d\"return CKEDITOR.tools.callFunction({focusFn},event);\" '+(CKEDITOR.env.ie?'onclick\\x3d\"return false;\" onmouseup':\"onclick\")+'\\x3d\"CKEDITOR.tools.callFunction({clickFn},this);return false;\"\\x3e\\x3cspan id\\x3d\"{id}_text\" class\\x3d\"cke_combo_text cke_combo_inlinelabel\"\\x3e{label}\\x3c/span\\x3e\\x3cspan class\\x3d\"cke_combo_open\"\\x3e\\x3cspan class\\x3d\"cke_combo_arrow\"\\x3e'+\n(CKEDITOR.env.hc?\"\\x26#9660;\":CKEDITOR.env.air?\"\\x26nbsp;\":\"\")+\"\\x3c/span\\x3e\\x3c/span\\x3e\\x3c/a\\x3e\\x3c/span\\x3e\"),e=CKEDITOR.addTemplate(\"combo\",a);CKEDITOR.UI_RICHCOMBO=\"richcombo\";CKEDITOR.ui.richCombo=CKEDITOR.tools.createClass({$:function(a){CKEDITOR.tools.extend(this,a,{canGroup:!1,title:a.label,modes:{wysiwyg:1},editorFocus:1});a=this.panel||{};delete this.panel;this.id=CKEDITOR.tools.getNextNumber();this.document=a.parent&&a.parent.getDocument()||CKEDITOR.document;a.className=\"cke_combopanel\";\na.block={multiSelect:a.multiSelect,attributes:a.attributes};a.toolbarRelated=!0;this._={panelDefinition:a,items:{}}},proto:{renderHtml:function(a){var c=[];this.render(a,c);return c.join(\"\")},render:function(a,c){function d(){if(this.getState()!=CKEDITOR.TRISTATE_ON){var c=this.modes[a.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED;a.readOnly&&!this.readOnly&&(c=CKEDITOR.TRISTATE_DISABLED);this.setState(c);this.setValue(\"\");c!=CKEDITOR.TRISTATE_DISABLED&&this.refresh&&this.refresh()}}var l=\nCKEDITOR.env,m=\"cke_\"+this.id,f=CKEDITOR.tools.addFunction(function(c){v&&(a.unlockSelection(1),v=0);k.execute(c)},this),h=this,k={id:m,combo:this,focus:function(){CKEDITOR.document.getById(m).getChild(1).focus()},execute:function(c){var d=h._;if(d.state!=CKEDITOR.TRISTATE_DISABLED)if(h.createPanel(a),d.on)d.panel.hide();else{h.commit();var f=h.getValue();f?d.list.mark(f):d.list.unmarkAll();d.panel.showBlock(h.id,new CKEDITOR.dom.element(c),4)}},clickFn:f};a.on(\"activeFilterChange\",d,this);a.on(\"mode\",\nd,this);a.on(\"selectionChange\",d,this);!this.readOnly&&a.on(\"readOnly\",d,this);var g=CKEDITOR.tools.addFunction(function(c,d){c=new CKEDITOR.dom.event(c);var e=c.getKeystroke();if(40==e)a.once(\"panelShow\",function(a){a.data._.panel._.currentBlock.onKeyDown(40)});switch(e){case 13:case 32:case 40:CKEDITOR.tools.callFunction(f,d);break;default:k.onkey(k,e)}c.preventDefault()}),n=CKEDITOR.tools.addFunction(function(){k.onfocus&&k.onfocus()}),v=0;k.keyDownFn=g;l={id:m,name:this.name||this.command,label:this.label,\ntitle:this.title,cls:this.className||\"\",titleJs:l.gecko&&!l.hc?\"\":(this.title||\"\").replace(\"'\",\"\"),keydownFn:g,focusFn:n,clickFn:f};e.output(l,c);if(this.onRender)this.onRender();return k},createPanel:function(a){if(!this._.panel){var c=this._.panelDefinition,d=this._.panelDefinition.block,e=c.parent||CKEDITOR.document.getBody(),m=\"cke_combopanel__\"+this.name,f=new CKEDITOR.ui.floatPanel(a,e,c),h=f.addListBlock(this.id,d),k=this;f.onShow=function(){this.element.addClass(m);k.setState(CKEDITOR.TRISTATE_ON);\nk._.on=1;k.editorFocus&&!a.focusManager.hasFocus&&a.focus();if(k.onOpen)k.onOpen();a.once(\"panelShow\",function(){h.focus(!h.multiSelect&&k.getValue())})};f.onHide=function(c){this.element.removeClass(m);k.setState(k.modes&&k.modes[a.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED);k._.on=0;if(!c&&k.onClose)k.onClose()};f.onEscape=function(){f.hide(1)};h.onClick=function(a,b){k.onClick&&k.onClick.call(k,a,b);f.hide()};this._.panel=f;this._.list=h;f.getBlock(this.id).onHide=function(){k._.on=\n0;k.setState(CKEDITOR.TRISTATE_OFF)};this.init&&this.init()}},setValue:function(a,c){this._.value=a;var d=this.document.getById(\"cke_\"+this.id+\"_text\");d&&(a||c?d.removeClass(\"cke_combo_inlinelabel\"):(c=this.label,d.addClass(\"cke_combo_inlinelabel\")),d.setText(\"undefined\"!=typeof c?c:a))},getValue:function(){return this._.value||\"\"},unmarkAll:function(){this._.list.unmarkAll()},mark:function(a){this._.list.mark(a)},hideItem:function(a){this._.list.hideItem(a)},hideGroup:function(a){this._.list.hideGroup(a)},\nshowAll:function(){this._.list.showAll()},add:function(a,c,d){this._.items[a]=d||a;this._.list.add(a,c,d)},startGroup:function(a){this._.list.startGroup(a)},commit:function(){this._.committed||(this._.list.commit(),this._.committed=1,CKEDITOR.ui.fire(\"ready\",this));this._.committed=1},setState:function(a){if(this._.state!=a){var c=this.document.getById(\"cke_\"+this.id);c.setState(a,\"cke_combo\");a==CKEDITOR.TRISTATE_DISABLED?c.setAttribute(\"aria-disabled\",!0):c.removeAttribute(\"aria-disabled\");this._.state=\na}},getState:function(){return this._.state},enable:function(){this._.state==CKEDITOR.TRISTATE_DISABLED&&this.setState(this._.lastState)},disable:function(){this._.state!=CKEDITOR.TRISTATE_DISABLED&&(this._.lastState=this._.state,this.setState(CKEDITOR.TRISTATE_DISABLED))}},statics:{handler:{create:function(a){return new CKEDITOR.ui.richCombo(a)}}}});CKEDITOR.ui.prototype.addRichCombo=function(a,c){this.add(a,CKEDITOR.UI_RICHCOMBO,c)}}(),CKEDITOR.plugins.add(\"format\",{requires:\"richcombo\",init:function(a){if(!a.blockless){for(var e=\na.config,b=a.lang.format,c=e.format_tags.split(\";\"),d={},l=0,m=[],f=0;f<c.length;f++){var h=c[f],k=new CKEDITOR.style(e[\"format_\"+h]);if(!a.filter.customConfig||a.filter.check(k))l++,d[h]=k,d[h]._.enterMode=a.config.enterMode,m.push(k)}0!==l&&a.ui.addRichCombo(\"Format\",{label:b.label,title:b.panelTitle,toolbar:\"styles,20\",allowedContent:m,panel:{css:[CKEDITOR.skin.getPath(\"editor\")].concat(e.contentsCss),multiSelect:!1,attributes:{\"aria-label\":b.panelTitle}},init:function(){\nvar this$1 = this;\nthis.startGroup(b.panelTitle);\nfor(var a in d){var c=b[\"tag_\"+a];this$1.add(a,d[a].buildPreview(c),c)}},onClick:function(b){a.focus();a.fire(\"saveSnapshot\");b=d[b];var c=a.elementPath();a[b.checkActive(c,a)?\"removeStyle\":\"applyStyle\"](b);setTimeout(function(){a.fire(\"saveSnapshot\")},0)},onRender:function(){a.on(\"selectionChange\",function(b){\nvar this$1 = this;\nvar c=this.getValue();b=b.data.path;this.refresh();for(var f in d)if(d[f].checkActive(b,a)){f!=c&&this$1.setValue(f,a.lang.format[\"tag_\"+f]);return}this.setValue(\"\")},this)},onOpen:function(){\nvar this$1 = this;\nthis.showAll();\nfor(var b in d)a.activeFilter.check(d[b])||this$1.hideItem(b)},refresh:function(){var b=a.elementPath();if(b){if(b.isContextFor(\"p\"))for(var c in d)if(a.activeFilter.check(d[c]))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}}})}}}),CKEDITOR.config.format_tags=\"p;h1;h2;h3;h4;h5;h6;pre;address;div\",CKEDITOR.config.format_p={element:\"p\"},CKEDITOR.config.format_div={element:\"div\"},CKEDITOR.config.format_pre={element:\"pre\"},CKEDITOR.config.format_address={element:\"address\"},CKEDITOR.config.format_h1=\n{element:\"h1\"},CKEDITOR.config.format_h2={element:\"h2\"},CKEDITOR.config.format_h3={element:\"h3\"},CKEDITOR.config.format_h4={element:\"h4\"},CKEDITOR.config.format_h5={element:\"h5\"},CKEDITOR.config.format_h6={element:\"h6\"},function(){var a={canUndo:!1,exec:function(a){var b=a.document.createElement(\"hr\");a.insertElement(b)},allowedContent:\"hr\",requiredContent:\"hr\"};CKEDITOR.plugins.add(\"horizontalrule\",{init:function(e){e.blockless||(e.addCommand(\"horizontalrule\",a),e.ui.addButton&&e.ui.addButton(\"HorizontalRule\",\n{label:e.lang.horizontalrule.toolbar,command:\"horizontalrule\",toolbar:\"insert,40\"}))}})}(),CKEDITOR.plugins.add(\"htmlwriter\",{init:function(a){var e=new CKEDITOR.htmlWriter;e.forceSimpleAmpersand=a.config.forceSimpleAmpersand;e.indentationChars=a.config.dataIndentationChars||\"\\t\";a.dataProcessor.writer=e}}),CKEDITOR.htmlWriter=CKEDITOR.tools.createClass({base:CKEDITOR.htmlParser.basicWriter,$:function(){\nvar this$1 = this;\nthis.base();this.indentationChars=\"\\t\";this.selfClosingEnd=\" /\\x3e\";this.lineBreakChars=\"\\n\";this.sortAttributes=\n1;this._.indent=0;this._.indentation=\"\";this._.inPre=0;this._.rules={};var a=CKEDITOR.dtd,e;for(e in CKEDITOR.tools.extend({},a.$nonBodyContent,a.$block,a.$listItem,a.$tableContent))this$1.setRules(e,{indent:!a[e][\"#\"],breakBeforeOpen:1,breakBeforeClose:!a[e][\"#\"],breakAfterClose:1,needsSpace:e in a.$block&&!(e in{li:1,dt:1,dd:1})});this.setRules(\"br\",{breakAfterOpen:1});this.setRules(\"title\",{indent:0,breakAfterOpen:0});this.setRules(\"style\",{indent:0,breakBeforeClose:1});this.setRules(\"pre\",{breakAfterOpen:1,\nindent:0})},proto:{openTag:function(a){var e=this._.rules[a];this._.afterCloser&&e&&e.needsSpace&&this._.needsSpace&&this._.output.push(\"\\n\");this._.indent?this.indentation():e&&e.breakBeforeOpen&&(this.lineBreak(),this.indentation());this._.output.push(\"\\x3c\",a);this._.afterCloser=0},openTagClose:function(a,e){var b=this._.rules[a];e?(this._.output.push(this.selfClosingEnd),b&&b.breakAfterClose&&(this._.needsSpace=b.needsSpace)):(this._.output.push(\"\\x3e\"),b&&b.indent&&(this._.indentation+=this.indentationChars));\nb&&b.breakAfterOpen&&this.lineBreak();\"pre\"==a&&(this._.inPre=1)},attribute:function(a,e){\"string\"==typeof e&&(this.forceSimpleAmpersand&&(e=e.replace(/&amp;/g,\"\\x26\")),e=CKEDITOR.tools.htmlEncodeAttr(e));this._.output.push(\" \",a,'\\x3d\"',e,'\"')},closeTag:function(a){var e=this._.rules[a];e&&e.indent&&(this._.indentation=this._.indentation.substr(this.indentationChars.length));this._.indent?this.indentation():e&&e.breakBeforeClose&&(this.lineBreak(),this.indentation());this._.output.push(\"\\x3c/\",a,\n\"\\x3e\");\"pre\"==a&&(this._.inPre=0);e&&e.breakAfterClose&&(this.lineBreak(),this._.needsSpace=e.needsSpace);this._.afterCloser=1},text:function(a){this._.indent&&(this.indentation(),!this._.inPre&&(a=CKEDITOR.tools.ltrim(a)));this._.output.push(a)},comment:function(a){this._.indent&&this.indentation();this._.output.push(\"\\x3c!--\",a,\"--\\x3e\")},lineBreak:function(){!this._.inPre&&0<this._.output.length&&this._.output.push(this.lineBreakChars);this._.indent=1},indentation:function(){!this._.inPre&&this._.indentation&&\nthis._.output.push(this._.indentation);this._.indent=0},reset:function(){this._.output=[];this._.indent=0;this._.indentation=\"\";this._.afterCloser=0;this._.inPre=0;this._.needsSpace=0},setRules:function(a,e){var b=this._.rules[a];b?CKEDITOR.tools.extend(b,e,!0):this._.rules[a]=e}}}),function(){function a(a,c){c||(c=a.getSelection().getSelectedElement());if(c&&c.is(\"img\")&&!c.data(\"cke-realelement\")&&!c.isReadOnly())return c}function e(a){var c=a.getStyle(\"float\");if(\"inherit\"==c||\"none\"==c)c=0;c||\n(c=a.getAttribute(\"align\"));return c}CKEDITOR.plugins.add(\"image\",{requires:\"dialog\",init:function(b){if(!b.plugins.image2){CKEDITOR.dialog.add(\"image\",this.path+\"dialogs/image.js\");var c=\"img[alt,!src]{border-style,border-width,float,height,margin,margin-bottom,margin-left,margin-right,margin-top,width}\";CKEDITOR.dialog.isTabEnabled(b,\"image\",\"advanced\")&&(c=\"img[alt,dir,id,lang,longdesc,!src,title]{*}(*)\");b.addCommand(\"image\",new CKEDITOR.dialogCommand(\"image\",{allowedContent:c,requiredContent:\"img[alt,src]\",\ncontentTransformations:[[\"img{width}: sizeToStyle\",\"img[width]: sizeToAttribute\"],[\"img{float}: alignmentToStyle\",\"img[align]: alignmentToAttribute\"]]}));b.ui.addButton&&b.ui.addButton(\"Image\",{label:b.lang.common.image,command:\"image\",toolbar:\"insert,10\"});b.on(\"doubleclick\",function(a){var b=a.data.element;!b.is(\"img\")||b.data(\"cke-realelement\")||b.isReadOnly()||(a.data.dialog=\"image\")});b.addMenuItems&&b.addMenuItems({image:{label:b.lang.image.menu,command:\"image\",group:\"image\"}});b.contextMenu&&\nb.contextMenu.addListener(function(c){if(a(b,c))return{image:CKEDITOR.TRISTATE_OFF}})}},afterInit:function(b){function c(c){var l=b.getCommand(\"justify\"+c);if(l){if(\"left\"==c||\"right\"==c)l.on(\"exec\",function(l){var f=a(b),h;f&&(h=e(f),h==c?(f.removeStyle(\"float\"),c==e(f)&&f.removeAttribute(\"align\")):f.setStyle(\"float\",c),l.cancel())});l.on(\"refresh\",function(l){var f=a(b);f&&(f=e(f),this.setState(f==c?CKEDITOR.TRISTATE_ON:\"right\"==c||\"left\"==c?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),l.cancel())})}}\nb.plugins.image2||(c(\"left\"),c(\"right\"),c(\"center\"),c(\"block\"))}})}(),CKEDITOR.config.image_removeLinkByEmptyURL=!0,function(){function a(a,b){var d=c.exec(a),e=c.exec(b);if(d){if(!d[2]&&\"px\"==e[2])return e[1];if(\"px\"==d[2]&&!e[2])return e[1]+\"px\"}return b}var e=CKEDITOR.htmlParser.cssStyle,b=CKEDITOR.tools.cssLength,c=/^((?:\\d*(?:\\.\\d+))|(?:\\d+))(.*)?$/i,d={elements:{$:function(b){var c=b.attributes;if((c=(c=(c=c&&c[\"data-cke-realelement\"])&&new CKEDITOR.htmlParser.fragment.fromHtml(decodeURIComponent(c)))&&\nc.children[0])&&b.attributes[\"data-cke-resizable\"]){var d=(new e(b)).rules;b=c.attributes;var h=d.width,d=d.height;h&&(b.width=a(b.width,h));d&&(b.height=a(b.height,d))}return c}}};CKEDITOR.plugins.add(\"fakeobjects\",{init:function(a){a.filter.allow(\"img[!data-cke-realelement,src,alt,title](*){*}\",\"fakeobjects\")},afterInit:function(a){(a=(a=a.dataProcessor)&&a.htmlFilter)&&a.addRules(d,{applyToAll:!0})}});CKEDITOR.editor.prototype.createFakeElement=function(a,c,d,h){var k=this.lang.fakeobjects,k=k[d]||\nk.unknown;c={\"class\":c,\"data-cke-realelement\":encodeURIComponent(a.getOuterHtml()),\"data-cke-real-node-type\":a.type,alt:k,title:k,align:a.getAttribute(\"align\")||\"\"};CKEDITOR.env.hc||(c.src=CKEDITOR.tools.transparentImageData);d&&(c[\"data-cke-real-element-type\"]=d);h&&(c[\"data-cke-resizable\"]=h,d=new e,h=a.getAttribute(\"width\"),a=a.getAttribute(\"height\"),h&&(d.rules.width=b(h)),a&&(d.rules.height=b(a)),d.populate(c));return this.document.createElement(\"img\",{attributes:c})};CKEDITOR.editor.prototype.createFakeParserElement=\nfunction(a,c,d,h){var k=this.lang.fakeobjects,k=k[d]||k.unknown,g;g=new CKEDITOR.htmlParser.basicWriter;a.writeHtml(g);g=g.getHtml();c={\"class\":c,\"data-cke-realelement\":encodeURIComponent(g),\"data-cke-real-node-type\":a.type,alt:k,title:k,align:a.attributes.align||\"\"};CKEDITOR.env.hc||(c.src=CKEDITOR.tools.transparentImageData);d&&(c[\"data-cke-real-element-type\"]=d);h&&(c[\"data-cke-resizable\"]=h,h=a.attributes,a=new e,d=h.width,h=h.height,void 0!==d&&(a.rules.width=b(d)),void 0!==h&&(a.rules.height=\nb(h)),a.populate(c));return new CKEDITOR.htmlParser.element(\"img\",c)};CKEDITOR.editor.prototype.restoreRealElement=function(b){if(b.data(\"cke-real-node-type\")!=CKEDITOR.NODE_ELEMENT)return null;var c=CKEDITOR.dom.element.createFromHtml(decodeURIComponent(b.data(\"cke-realelement\")),this.document);if(b.data(\"cke-resizable\")){var d=b.getStyle(\"width\");b=b.getStyle(\"height\");d&&c.setAttribute(\"width\",a(c.getAttribute(\"width\"),d));b&&c.setAttribute(\"height\",a(c.getAttribute(\"height\"),b))}return c}}(),\n\"use strict\",function(){function a(a){return a.replace(/'/g,\"\\\\$\\x26\")}function e(a){for(var b,c=a.length,d=[],f=0;f<c;f++)b=a.charCodeAt(f),d.push(b);return\"String.fromCharCode(\"+d.join(\",\")+\")\"}function b(b,c){var d=b.plugins.link,f=d.compiledProtectionFunction.params,e,h;h=[d.compiledProtectionFunction.name,\"(\"];for(var g=0;g<f.length;g++)d=f[g].toLowerCase(),e=c[d],0<g&&h.push(\",\"),h.push(\"'\",e?a(encodeURIComponent(c[d])):\"\",\"'\");h.push(\")\");return h.join(\"\")}function c(a){a=a.config.emailProtection||\n\"\";var b;a&&\"encode\"!=a&&(b={},a.replace(/^([^(]+)\\(([^)]+)\\)$/,function(a,c,d){b.name=c;b.params=[];d.replace(/[^,\\s]+/g,function(a){b.params.push(a)})}));return b}CKEDITOR.plugins.add(\"link\",{requires:\"dialog,fakeobjects\",onLoad:function(){function a(b){return c.replace(/%1/g,\"rtl\"==b?\"right\":\"left\").replace(/%2/g,\"cke_contents_\"+b)}var b=\"background:url(\"+CKEDITOR.getUrl(this.path+\"images\"+(CKEDITOR.env.hidpi?\"/hidpi\":\"\")+\"/anchor.png\")+\") no-repeat %1 center;border:1px dotted #00f;background-size:16px;\",\nc=\".%2 a.cke_anchor,.%2 a.cke_anchor_empty,.cke_editable.%2 a[name],.cke_editable.%2 a[data-cke-saved-name]{\"+b+\"padding-%1:18px;cursor:auto;}.%2 img.cke_anchor{\"+b+\"width:16px;min-height:15px;height:1.15em;vertical-align:text-bottom;}\";CKEDITOR.addCss(a(\"ltr\")+a(\"rtl\"))},init:function(a){var b=\"a[!href]\";CKEDITOR.dialog.isTabEnabled(a,\"link\",\"advanced\")&&(b=b.replace(\"]\",\",accesskey,charset,dir,id,lang,name,rel,tabindex,title,type]{*}(*)\"));CKEDITOR.dialog.isTabEnabled(a,\"link\",\"target\")&&(b=b.replace(\"]\",\n\",target,onclick]\"));a.addCommand(\"link\",new CKEDITOR.dialogCommand(\"link\",{allowedContent:b,requiredContent:\"a[href]\"}));a.addCommand(\"anchor\",new CKEDITOR.dialogCommand(\"anchor\",{allowedContent:\"a[!name,id]\",requiredContent:\"a[name]\"}));a.addCommand(\"unlink\",new CKEDITOR.unlinkCommand);a.addCommand(\"removeAnchor\",new CKEDITOR.removeAnchorCommand);a.setKeystroke(CKEDITOR.CTRL+76,\"link\");a.ui.addButton&&(a.ui.addButton(\"Link\",{label:a.lang.link.toolbar,command:\"link\",toolbar:\"links,10\"}),a.ui.addButton(\"Unlink\",\n{label:a.lang.link.unlink,command:\"unlink\",toolbar:\"links,20\"}),a.ui.addButton(\"Anchor\",{label:a.lang.link.anchor.toolbar,command:\"anchor\",toolbar:\"links,30\"}));CKEDITOR.dialog.add(\"link\",this.path+\"dialogs/link.js\");CKEDITOR.dialog.add(\"anchor\",this.path+\"dialogs/anchor.js\");a.on(\"doubleclick\",function(b){var c=CKEDITOR.plugins.link.getSelectedLink(a)||b.data.element;c.isReadOnly()||(c.is(\"a\")?(b.data.dialog=!c.getAttribute(\"name\")||c.getAttribute(\"href\")&&c.getChildCount()?\"link\":\"anchor\",b.data.link=\nc):CKEDITOR.plugins.link.tryRestoreFakeAnchor(a,c)&&(b.data.dialog=\"anchor\"))},null,null,0);a.on(\"doubleclick\",function(b){b.data.dialog in{link:1,anchor:1}&&b.data.link&&a.getSelection().selectElement(b.data.link)},null,null,20);a.addMenuItems&&a.addMenuItems({anchor:{label:a.lang.link.anchor.menu,command:\"anchor\",group:\"anchor\",order:1},removeAnchor:{label:a.lang.link.anchor.remove,command:\"removeAnchor\",group:\"anchor\",order:5},link:{label:a.lang.link.menu,command:\"link\",group:\"link\",order:1},unlink:{label:a.lang.link.unlink,\ncommand:\"unlink\",group:\"link\",order:5}});a.contextMenu&&a.contextMenu.addListener(function(b){if(!b||b.isReadOnly())return null;b=CKEDITOR.plugins.link.tryRestoreFakeAnchor(a,b);if(!b&&!(b=CKEDITOR.plugins.link.getSelectedLink(a)))return null;var c={};b.getAttribute(\"href\")&&b.getChildCount()&&(c={link:CKEDITOR.TRISTATE_OFF,unlink:CKEDITOR.TRISTATE_OFF});b&&b.hasAttribute(\"name\")&&(c.anchor=c.removeAnchor=CKEDITOR.TRISTATE_OFF);return c});this.compiledProtectionFunction=c(a)},afterInit:function(a){a.dataProcessor.dataFilter.addRules({elements:{a:function(b){return b.attributes.name?\nb.children.length?null:a.createFakeParserElement(b,\"cke_anchor\",\"anchor\"):null}}});var b=a._.elementsPath&&a._.elementsPath.filters;b&&b.push(function(b,c){if(\"a\"==c&&(CKEDITOR.plugins.link.tryRestoreFakeAnchor(a,b)||b.getAttribute(\"name\")&&(!b.getAttribute(\"href\")||!b.getChildCount())))return\"anchor\"})}});var d=/^javascript:/,l=/^mailto:([^?]+)(?:\\?(.+))?$/,m=/subject=([^;?:@&=$,\\/]*)/i,f=/body=([^;?:@&=$,\\/]*)/i,h=/^#(.*)$/,k=/^((?:http|https|ftp|news):\\/\\/)?(.*)$/,g=/^(_(?:self|top|parent|blank))$/,\nn=/^javascript:void\\(location\\.href='mailto:'\\+String\\.fromCharCode\\(([^)]+)\\)(?:\\+'(.*)')?\\)$/,v=/^javascript:([^(]+)\\(([^)]+)\\)$/,r=/\\s*window.open\\(\\s*this\\.href\\s*,\\s*(?:'([^']*)'|null)\\s*,\\s*'([^']*)'\\s*\\)\\s*;\\s*return\\s*false;*\\s*/,q=/(?:^|,)([^=]+)=(\\d+|yes|no)/gi,t={id:\"advId\",dir:\"advLangDir\",accessKey:\"advAccessKey\",name:\"advName\",lang:\"advLangCode\",tabindex:\"advTabIndex\",title:\"advTitle\",type:\"advContentType\",\"class\":\"advCSSClasses\",charset:\"advCharset\",style:\"advStyles\",rel:\"advRel\"};\nCKEDITOR.plugins.link={getSelectedLink:function(a){var b=a.getSelection(),c=b.getSelectedElement();return c&&c.is(\"a\")?c:(b=b.getRanges()[0])?(b.shrink(CKEDITOR.SHRINK_TEXT),a.elementPath(b.getCommonAncestor()).contains(\"a\",1)):null},getEditorAnchors:function(a){\nvar this$1 = this;\nfor(var b=a.editable(),c=b.isInline()&&!a.plugins.divarea?a.document:b,b=c.getElementsByTag(\"a\"),c=c.getElementsByTag(\"img\"),d=[],f=0,e;e=b.getItem(f++);)(e.data(\"cke-saved-name\")||e.hasAttribute(\"name\"))&&d.push({name:e.data(\"cke-saved-name\")||\ne.getAttribute(\"name\"),id:e.getAttribute(\"id\")});for(f=0;e=c.getItem(f++);)(e=this$1.tryRestoreFakeAnchor(a,e))&&d.push({name:e.getAttribute(\"name\"),id:e.getAttribute(\"id\")});return d},fakeAnchor:!0,tryRestoreFakeAnchor:function(a,b){if(b&&b.data(\"cke-real-element-type\")&&\"anchor\"==b.data(\"cke-real-element-type\")){var c=a.restoreRealElement(b);if(c.data(\"cke-saved-name\"))return c}},parseLinkAttributes:function(a,b){var c=b&&(b.data(\"cke-saved-href\")||b.getAttribute(\"href\"))||\"\",e=a.plugins.link.compiledProtectionFunction,\nu=a.config.emailProtection,x,D={};c.match(d)&&(\"encode\"==u?c=c.replace(n,function(a,b,c){c=c||\"\";return\"mailto:\"+String.fromCharCode.apply(String,b.split(\",\"))+c.replace(/\\\\'/g,\"'\")}):u&&c.replace(v,function(a,b,c){if(b==e.name){D.type=\"email\";a=D.email={};b=/(^')|('$)/g;c=c.match(/[^,\\s]+/g);for(var d=c.length,f,h,g=0;g<d;g++)f=decodeURIComponent,h=c[g].replace(b,\"\").replace(/\\\\'/g,\"'\"),h=f(h),f=e.params[g].toLowerCase(),a[f]=h;a.address=[a.name,a.domain].join(\"@\")}}));if(!D.type)if(u=c.match(h))D.type=\n\"anchor\",D.anchor={},D.anchor.name=D.anchor.id=u[1];else if(u=c.match(l)){x=c.match(m);c=c.match(f);D.type=\"email\";var y=D.email={};y.address=u[1];x&&(y.subject=decodeURIComponent(x[1]));c&&(y.body=decodeURIComponent(c[1]))}else c&&(x=c.match(k))&&(D.type=\"url\",D.url={},D.url.protocol=x[1],D.url.url=x[2]);if(b){if(c=b.getAttribute(\"target\"))D.target={type:c.match(g)?c:\"frame\",name:c};else if(c=(c=b.data(\"cke-pa-onclick\")||b.getAttribute(\"onclick\"))&&c.match(r))for(D.target={type:\"popup\",name:c[1]};u=\nq.exec(c[2]);)\"yes\"!=u[2]&&\"1\"!=u[2]||u[1]in{height:1,width:1,top:1,left:1}?isFinite(u[2])&&(D.target[u[1]]=u[2]):D.target[u[1]]=!0;var c={},B;for(B in t)(u=b.getAttribute(B))&&(c[t[B]]=u);if(B=b.data(\"cke-saved-name\")||c.advName)c.advName=B;CKEDITOR.tools.isEmpty(c)||(D.advanced=c)}return D},getLinkAttributes:function(c,d){var f=c.config.emailProtection||\"\",h={};switch(d.type){case \"url\":var f=d.url&&void 0!==d.url.protocol?d.url.protocol:\"http://\",g=d.url&&CKEDITOR.tools.trim(d.url.url)||\"\";h[\"data-cke-saved-href\"]=\n0===g.indexOf(\"/\")?g:f+g;break;case \"anchor\":f=d.anchor&&d.anchor.id;h[\"data-cke-saved-href\"]=\"#\"+(d.anchor&&d.anchor.name||f||\"\");break;case \"email\":var k=d.email,g=k.address;switch(f){case \"\":case \"encode\":var l=encodeURIComponent(k.subject||\"\"),m=encodeURIComponent(k.body||\"\"),k=[];l&&k.push(\"subject\\x3d\"+l);m&&k.push(\"body\\x3d\"+m);k=k.length?\"?\"+k.join(\"\\x26\"):\"\";\"encode\"==f?(f=[\"javascript:void(location.href\\x3d'mailto:'+\",e(g)],k&&f.push(\"+'\",a(k),\"'\"),f.push(\")\")):f=[\"mailto:\",g,k];break;default:f=\ng.split(\"@\",2),k.name=f[0],k.domain=f[1],f=[\"javascript:\",b(c,k)]}h[\"data-cke-saved-href\"]=f.join(\"\")}if(d.target)if(\"popup\"==d.target.type){for(var f=[\"window.open(this.href, '\",d.target.name||\"\",\"', '\"],n=\"resizable status location toolbar menubar fullscreen scrollbars dependent\".split(\" \"),g=n.length,l=function(a){d.target[a]&&n.push(a+\"\\x3d\"+d.target[a])},k=0;k<g;k++)n[k]+=d.target[n[k]]?\"\\x3dyes\":\"\\x3dno\";l(\"width\");l(\"left\");l(\"height\");l(\"top\");f.push(n.join(\",\"),\"'); return false;\");h[\"data-cke-pa-onclick\"]=\nf.join(\"\")}else\"notSet\"!=d.target.type&&d.target.name&&(h.target=d.target.name);if(d.advanced){for(var q in t)(f=d.advanced[t[q]])&&(h[q]=f);h.name&&(h[\"data-cke-saved-name\"]=h.name)}h[\"data-cke-saved-href\"]&&(h.href=h[\"data-cke-saved-href\"]);q={target:1,onclick:1,\"data-cke-pa-onclick\":1,\"data-cke-saved-name\":1};d.advanced&&CKEDITOR.tools.extend(q,t);for(var r in h)delete q[r];return{set:h,removed:CKEDITOR.tools.objectKeys(q)}},showDisplayTextForElement:function(a,b){var c={img:1,table:1,tbody:1,\nthead:1,tfoot:1,input:1,select:1,textarea:1};return b.widgets&&b.widgets.focused?!1:!a||!a.getName||!a.is(c)}};CKEDITOR.unlinkCommand=function(){};CKEDITOR.unlinkCommand.prototype={exec:function(a){var b=new CKEDITOR.style({element:\"a\",type:CKEDITOR.STYLE_INLINE,alwaysRemoveElement:1});a.removeStyle(b)},refresh:function(a,b){var c=b.lastElement&&b.lastElement.getAscendant(\"a\",!0);c&&\"a\"==c.getName()&&c.getAttribute(\"href\")&&c.getChildCount()?this.setState(CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_DISABLED)},\ncontextSensitive:1,startDisabled:1,requiredContent:\"a[href]\"};CKEDITOR.removeAnchorCommand=function(){};CKEDITOR.removeAnchorCommand.prototype={exec:function(a){var b=a.getSelection(),c=b.createBookmarks(),d;if(b&&(d=b.getSelectedElement())&&(d.getChildCount()?d.is(\"a\"):CKEDITOR.plugins.link.tryRestoreFakeAnchor(a,d)))d.remove(1);else if(d=CKEDITOR.plugins.link.getSelectedLink(a))d.hasAttribute(\"href\")?(d.removeAttributes({name:1,\"data-cke-saved-name\":1}),d.removeClass(\"cke_anchor\")):d.remove(1);\nb.selectBookmarks(c)},requiredContent:\"a[name]\"};CKEDITOR.tools.extend(CKEDITOR.config,{linkShowAdvancedTab:!0,linkShowTargetTab:!0})}(),\"use strict\",function(){function a(a,b,c){return n(b)&&n(c)&&c.equals(b.getNext(function(a){return!(Z(a)||X(a)||v(a))}))}function e(a){this.upper=a[0];this.lower=a[1];this.set.apply(this,a.slice(2))}function b(a){var b=a.element;if(b&&n(b)&&(b=b.getAscendant(a.triggers,!0))&&a.editable.contains(b)){var c=m(b);if(\"true\"==c.getAttribute(\"contenteditable\"))return b;\nif(c.is(a.triggers))return c}return null}function c(a,b,c){u(a,b);u(a,c);a=b.size.bottom;c=c.size.top;return a&&c?0|(a+c)/2:a||c}function d(a,b,c){return b=b[c?\"getPrevious\":\"getNext\"](function(b){return b&&b.type==CKEDITOR.NODE_TEXT&&!Z(b)||n(b)&&!v(b)&&!g(a,b)})}function l(a,b,c){return a>b&&a<c}function m(a,b){if(a.data(\"cke-editable\"))return null;for(b||(a=a.getParent());a&&!a.data(\"cke-editable\");){if(a.hasAttribute(\"contenteditable\"))return a;a=a.getParent()}return null}function f(a){var b=\na.doc,c=F('\\x3cspan contenteditable\\x3d\"false\" style\\x3d\"'+Q+\"position:absolute;border-top:1px dashed \"+a.boxColor+'\"\\x3e\\x3c/span\\x3e',b),d=CKEDITOR.getUrl(this.path+\"images/\"+(E.hidpi?\"hidpi/\":\"\")+\"icon\"+(a.rtl?\"-rtl\":\"\")+\".png\");B(c,{attach:function(){this.wrap.getParent()||this.wrap.appendTo(a.editable,!0);return this},lineChildren:[B(F('\\x3cspan title\\x3d\"'+a.editor.lang.magicline.title+'\" contenteditable\\x3d\"false\"\\x3e\\x26#8629;\\x3c/span\\x3e',b),{base:Q+\"height:17px;width:17px;\"+(a.rtl?\"left\":\n\"right\")+\":17px;background:url(\"+d+\") center no-repeat \"+a.boxColor+\";cursor:pointer;\"+(E.hc?\"font-size: 15px;line-height:14px;border:1px solid #fff;text-align:center;\":\"\")+(E.hidpi?\"background-size: 9px 10px;\":\"\"),looks:[\"top:-8px; border-radius: 2px;\",\"top:-17px; border-radius: 2px 2px 0px 0px;\",\"top:-1px; border-radius: 0px 0px 2px 2px;\"]}),B(F(V,b),{base:Y+\"left:0px;border-left-color:\"+a.boxColor+\";\",looks:[\"border-width:8px 0 8px 8px;top:-8px\",\"border-width:8px 0 0 8px;top:-8px\",\"border-width:0 0 8px 8px;top:0px\"]}),\nB(F(V,b),{base:Y+\"right:0px;border-right-color:\"+a.boxColor+\";\",looks:[\"border-width:8px 8px 8px 0;top:-8px\",\"border-width:8px 8px 0 0;top:-8px\",\"border-width:0 8px 8px 0;top:0px\"]})],detach:function(){this.wrap.getParent()&&this.wrap.remove();return this},mouseNear:function(){u(a,this);var b=a.holdDistance,c=this.size;return c&&l(a.mouse.y,c.top-b,c.bottom+b)&&l(a.mouse.x,c.left-b,c.right+b)?!0:!1},place:function(){var b=a.view,c=a.editable,d=a.trigger,f=d.upper,e=d.lower,h=f||e,g=h.getParent(),\nk={};this.trigger=d;f&&u(a,f,!0);e&&u(a,e,!0);u(a,g,!0);a.inInlineMode&&x(a,!0);g.equals(c)?(k.left=b.scroll.x,k.right=-b.scroll.x,k.width=\"\"):(k.left=h.size.left-h.size.margin.left+b.scroll.x-(a.inInlineMode?b.editable.left+b.editable.border.left:0),k.width=h.size.outerWidth+h.size.margin.left+h.size.margin.right+b.scroll.x,k.right=\"\");f&&e?k.top=f.size.margin.bottom===e.size.margin.top?0|f.size.bottom+f.size.margin.bottom/2:f.size.margin.bottom<e.size.margin.top?f.size.bottom+f.size.margin.bottom:\nf.size.bottom+f.size.margin.bottom-e.size.margin.top:f?e||(k.top=f.size.bottom+f.size.margin.bottom):k.top=e.size.top-e.size.margin.top;d.is(T)||l(k.top,b.scroll.y-15,b.scroll.y+5)?(k.top=a.inInlineMode?0:b.scroll.y,this.look(T)):d.is(O)||l(k.top,b.pane.bottom-5,b.pane.bottom+15)?(k.top=a.inInlineMode?b.editable.height+b.editable.padding.top+b.editable.padding.bottom:b.pane.bottom-1,this.look(O)):(a.inInlineMode&&(k.top-=b.editable.top+b.editable.border.top),this.look(K));a.inInlineMode&&(k.top--,\nk.top+=b.editable.scroll.top,k.left+=b.editable.scroll.left);for(var m in k)k[m]=CKEDITOR.tools.cssLength(k[m]);this.setStyles(k)},look:function(a){\nvar this$1 = this;\nif(this.oldLook!=a){for(var b=this.lineChildren.length,c;b--;)(c=this$1.lineChildren[b]).setAttribute(\"style\",c.base+c.looks[0|a/2]);this.oldLook=a}},wrap:new C(\"span\",a.doc)});for(b=c.lineChildren.length;b--;)c.lineChildren[b].appendTo(c);c.look(K);c.appendTo(c.wrap);c.unselectable();c.lineChildren[0].on(\"mouseup\",function(b){c.detach();h(a,function(b){var c=\na.line.trigger;b[c.is(I)?\"insertBefore\":\"insertAfter\"](c.is(I)?c.lower:c.upper)},!0);a.editor.focus();E.ie||a.enterMode==CKEDITOR.ENTER_BR||a.hotNode.scrollIntoView();b.data.preventDefault(!0)});c.on(\"mousedown\",function(a){a.data.preventDefault(!0)});a.line=c}function h(a,b,c){var d=new CKEDITOR.dom.range(a.doc),f=a.editor,e;E.ie&&a.enterMode==CKEDITOR.ENTER_BR?e=a.doc.createText(ca):(e=(e=m(a.element,!0))&&e.data(\"cke-enter-mode\")||a.enterMode,e=new C(M[e],a.doc),e.is(\"br\")||a.doc.createText(ca).appendTo(e));\nc&&f.fire(\"saveSnapshot\");b(e);d.moveToPosition(e,CKEDITOR.POSITION_AFTER_START);f.getSelection().selectRanges([d]);a.hotNode=e;c&&f.fire(\"saveSnapshot\")}function k(a,c){return{canUndo:!0,modes:{wysiwyg:1},exec:function(){function f(b){var d=E.ie&&9>E.version?\" \":ca,e=a.hotNode&&a.hotNode.getText()==d&&a.element.equals(a.hotNode)&&a.lastCmdDirection===!!c;h(a,function(d){e&&a.hotNode&&a.hotNode.remove();d[c?\"insertAfter\":\"insertBefore\"](b);d.setAttributes({\"data-cke-magicline-hot\":1,\"data-cke-magicline-dir\":!!c});\na.lastCmdDirection=!!c});E.ie||a.enterMode==CKEDITOR.ENTER_BR||a.hotNode.scrollIntoView();a.line.detach()}return function(e){e=e.getSelection().getStartElement();var h;e=e.getAscendant(N,1);if(!t(a,e)&&e&&!e.equals(a.editable)&&!e.contains(a.editable)){(h=m(e))&&\"false\"==h.getAttribute(\"contenteditable\")&&(e=h);a.element=e;h=d(a,e,!c);var g;n(h)&&h.is(a.triggers)&&h.is(L)&&(!d(a,h,!c)||(g=d(a,h,!c))&&n(g)&&g.is(a.triggers))?f(h):(g=b(a,e),n(g)&&(d(a,g,!c)?(e=d(a,g,!c))&&n(e)&&e.is(a.triggers)&&f(g):\nf(g)))}}}()}}function g(a,b){if(!b||b.type!=CKEDITOR.NODE_ELEMENT||!b.$)return!1;var c=a.line;return c.wrap.equals(b)||c.wrap.contains(b)}function n(a){return a&&a.type==CKEDITOR.NODE_ELEMENT&&a.$}function v(a){if(!n(a))return!1;var b;(b=r(a))||(n(a)?(b={left:1,right:1,center:1},b=!(!b[a.getComputedStyle(\"float\")]&&!b[a.getAttribute(\"align\")])):b=!1);return b}function r(a){return!!{absolute:1,fixed:1}[a.getComputedStyle(\"position\")]}function q(a,b){return n(b)?b.is(a.triggers):null}function t(a,b){if(!b)return!1;\nfor(var c=b.getParents(1),d=c.length;d--;)for(var f=a.tabuList.length;f--;)if(c[d].hasAttribute(a.tabuList[f]))return!0;return!1}function p(a,b,c){b=b[c?\"getLast\":\"getFirst\"](function(b){return a.isRelevant(b)&&!b.is(U)});if(!b)return!1;u(a,b);return c?b.size.top>a.mouse.y:b.size.bottom<a.mouse.y}function w(a){var b=a.editable,c=a.mouse,d=a.view,f=a.triggerOffset;x(a);var h=c.y>(a.inInlineMode?d.editable.top+d.editable.height/2:Math.min(d.editable.height,d.pane.height)/2),b=b[h?\"getLast\":\"getFirst\"](function(a){return!(Z(a)||\nX(a))});if(!b)return null;g(a,b)&&(b=a.line.wrap[h?\"getPrevious\":\"getNext\"](function(a){return!(Z(a)||X(a))}));if(!n(b)||v(b)||!q(a,b))return null;u(a,b);return!h&&0<=b.size.top&&l(c.y,0,b.size.top+f)?(a=a.inInlineMode||0===d.scroll.y?T:K,new e([null,b,I,P,a])):h&&b.size.bottom<=d.pane.height&&l(c.y,b.size.bottom-f,d.pane.height)?(a=a.inInlineMode||l(b.size.bottom,d.pane.height-f,d.pane.height)?O:K,new e([b,null,H,P,a])):null}function z(a){var c=a.mouse,f=a.view,h=a.triggerOffset,g=b(a);if(!g)return null;\nu(a,g);var h=Math.min(h,0|g.size.outerHeight/2),k=[],m,r;if(l(c.y,g.size.top-1,g.size.top+h))r=!1;else if(l(c.y,g.size.bottom-h,g.size.bottom+1))r=!0;else return null;if(v(g)||p(a,g,r)||g.getParent().is(W))return null;var t=d(a,g,!r);if(t){if(t&&t.type==CKEDITOR.NODE_TEXT)return null;if(n(t)){if(v(t)||!q(a,t)||t.getParent().is(W))return null;k=[t,g][r?\"reverse\":\"concat\"]().concat([R,P])}}else g.equals(a.editable[r?\"getLast\":\"getFirst\"](a.isRelevant))?(x(a),r&&l(c.y,g.size.bottom-h,f.pane.height)&&\nl(g.size.bottom,f.pane.height-h,f.pane.height)?m=O:l(c.y,0,g.size.top+h)&&(m=T)):m=K,k=[null,g][r?\"reverse\":\"concat\"]().concat([r?H:I,P,m,g.equals(a.editable[r?\"getLast\":\"getFirst\"](a.isRelevant))?r?O:T:K]);return 0 in k?new e(k):null}function A(a,b,c,d){for(var f=b.getDocumentPosition(),e={},h={},g={},k={},l=ba.length;l--;)e[ba[l]]=parseInt(b.getComputedStyle.call(b,\"border-\"+ba[l]+\"-width\"),10)||0,g[ba[l]]=parseInt(b.getComputedStyle.call(b,\"padding-\"+ba[l]),10)||0,h[ba[l]]=parseInt(b.getComputedStyle.call(b,\n\"margin-\"+ba[l]),10)||0;c&&!d||D(a,d);k.top=f.y-(c?0:a.view.scroll.y);k.left=f.x-(c?0:a.view.scroll.x);k.outerWidth=b.$.offsetWidth;k.outerHeight=b.$.offsetHeight;k.height=k.outerHeight-(g.top+g.bottom+e.top+e.bottom);k.width=k.outerWidth-(g.left+g.right+e.left+e.right);k.bottom=k.top+k.outerHeight;k.right=k.left+k.outerWidth;a.inInlineMode&&(k.scroll={top:b.$.scrollTop,left:b.$.scrollLeft});return B({border:e,padding:g,margin:h,ignoreScroll:c},k,!0)}function u(a,b,c){if(!n(b))return b.size=null;\nif(!b.size)b.size={};else if(b.size.ignoreScroll==c&&b.size.date>new Date-S)return null;return B(b.size,A(a,b,c),{date:+new Date},!0)}function x(a,b){a.view.editable=A(a,a.editable,b,!0)}function D(a,b){a.view||(a.view={});var c=a.view;if(!(!b&&c&&c.date>new Date-S)){var d=a.win,c=d.getScrollPosition(),d=d.getViewPaneSize();B(a.view,{scroll:{x:c.x,y:c.y,width:a.doc.$.documentElement.scrollWidth-d.width,height:a.doc.$.documentElement.scrollHeight-d.height},pane:{width:d.width,height:d.height,bottom:d.height+\nc.y},date:+new Date},!0)}}function y(a,b,c,d){for(var f=d,h=d,g=0,k=!1,l=!1,m=a.view.pane.height,n=a.mouse;n.y+g<m&&0<n.y-g;){k||(k=b(f,d));l||(l=b(h,d));!k&&0<n.y-g&&(f=c(a,{x:n.x,y:n.y-g}));!l&&n.y+g<m&&(h=c(a,{x:n.x,y:n.y+g}));if(k&&l)break;g+=2}return new e([f,h,null,null])}CKEDITOR.plugins.add(\"magicline\",{init:function(a){var c=a.config,l=c.magicline_triggerOffset||30,m={editor:a,enterMode:c.enterMode,triggerOffset:l,holdDistance:0|l*(c.magicline_holdDistance||.5),boxColor:c.magicline_color||\n\"#ff0000\",rtl:\"rtl\"==c.contentsLangDirection,tabuList:[\"data-cke-hidden-sel\"].concat(c.magicline_tabuList||[]),triggers:c.magicline_everywhere?N:{table:1,hr:1,div:1,ul:1,ol:1,dl:1,form:1,blockquote:1}},q,p,u;m.isRelevant=function(a){return n(a)&&!g(m,a)&&!v(a)};a.on(\"contentDom\",function(){var l=a.editable(),n=a.document,v=a.window;B(m,{editable:l,inInlineMode:l.isInline(),doc:n,win:v,hotNode:null},!0);m.boundary=m.inInlineMode?m.editable:m.doc.getDocumentElement();l.is(G.$inline)||(m.inInlineMode&&\n!r(l)&&l.setStyles({position:\"relative\",top:null,left:null}),f.call(this,m),D(m),l.attachListener(a,\"beforeUndoImage\",function(){m.line.detach()}),l.attachListener(a,\"beforeGetData\",function(){m.line.wrap.getParent()&&(m.line.detach(),a.once(\"getData\",function(){m.line.attach()},null,null,1E3))},null,null,0),l.attachListener(m.inInlineMode?n:n.getWindow().getFrame(),\"mouseout\",function(b){if(\"wysiwyg\"==a.mode)if(m.inInlineMode){var c=b.data.$.clientX;b=b.data.$.clientY;D(m);x(m,!0);var d=m.view.editable,\nf=m.view.scroll;c>d.left-f.x&&c<d.right-f.x&&b>d.top-f.y&&b<d.bottom-f.y||(clearTimeout(u),u=null,m.line.detach())}else clearTimeout(u),u=null,m.line.detach()}),l.attachListener(l,\"keyup\",function(){m.hiddenMode=0}),l.attachListener(l,\"keydown\",function(b){if(\"wysiwyg\"==a.mode)switch(b.data.getKeystroke()){case 2228240:case 16:m.hiddenMode=1,m.line.detach()}}),l.attachListener(m.inInlineMode?l:n,\"mousemove\",function(b){p=!0;if(\"wysiwyg\"==a.mode&&!a.readOnly&&!u){var c={x:b.data.$.clientX,y:b.data.$.clientY};\nu=setTimeout(function(){m.mouse=c;u=m.trigger=null;D(m);p&&!m.hiddenMode&&a.focusManager.hasFocus&&!m.line.mouseNear()&&(m.element=da(m,!0))&&((m.trigger=w(m)||z(m)||ga(m))&&!t(m,m.trigger.upper||m.trigger.lower)?m.line.attach().place():(m.trigger=null,m.line.detach()),p=!1)},30)}}),l.attachListener(v,\"scroll\",function(){\"wysiwyg\"==a.mode&&(m.line.detach(),E.webkit&&(m.hiddenMode=1,clearTimeout(q),q=setTimeout(function(){m.mouseDown||(m.hiddenMode=0)},50)))}),l.attachListener(J?n:v,\"mousedown\",function(){\"wysiwyg\"==\na.mode&&(m.line.detach(),m.hiddenMode=1,m.mouseDown=1)}),l.attachListener(J?n:v,\"mouseup\",function(){m.hiddenMode=0;m.mouseDown=0}),a.addCommand(\"accessPreviousSpace\",k(m)),a.addCommand(\"accessNextSpace\",k(m,!0)),a.setKeystroke([[c.magicline_keystrokePrevious,\"accessPreviousSpace\"],[c.magicline_keystrokeNext,\"accessNextSpace\"]]),a.on(\"loadSnapshot\",function(){var b,c,d,f;for(f in{p:1,br:1,div:1})for(b=a.document.getElementsByTag(f),d=b.count();d--;)if((c=b.getItem(d)).data(\"cke-magicline-hot\")){m.hotNode=\nc;m.lastCmdDirection=\"true\"===c.data(\"cke-magicline-dir\")?!0:!1;return}}),this.backdoor={accessFocusSpace:h,boxTrigger:e,isLine:g,getAscendantTrigger:b,getNonEmptyNeighbour:d,getSize:A,that:m,triggerEdge:z,triggerEditable:w,triggerExpand:ga})},this)}});var B=CKEDITOR.tools.extend,C=CKEDITOR.dom.element,F=C.createFromHtml,E=CKEDITOR.env,J=CKEDITOR.env.ie&&9>CKEDITOR.env.version,G=CKEDITOR.dtd,M={},I=128,H=64,R=32,P=16,T=4,O=2,K=1,ca=\" \",W=G.$listItem,U=G.$tableContent,L=B({},G.$nonEditable,G.$empty),\nN=G.$block,S=100,Q=\"width:0px;height:0px;padding:0px;margin:0px;display:block;z-index:9999;color:#fff;position:absolute;font-size: 0px;line-height:0px;\",Y=Q+\"border-color:transparent;display:block;border-style:solid;\",V=\"\\x3cspan\\x3e\"+ca+\"\\x3c/span\\x3e\";M[CKEDITOR.ENTER_BR]=\"br\";M[CKEDITOR.ENTER_P]=\"p\";M[CKEDITOR.ENTER_DIV]=\"div\";e.prototype={set:function(a,b,c){this.properties=a+b+(c||K);return this},is:function(a){return(this.properties&a)==a}};var da=function(){function a(b,c){var d=b.$.elementFromPoint(c.x,\nc.y);return d&&d.nodeType?new CKEDITOR.dom.element(d):null}return function(b,c,d){if(!b.mouse)return null;var f=b.doc,e=b.line.wrap;d=d||b.mouse;var h=a(f,d);c&&g(b,h)&&(e.hide(),h=a(f,d),e.show());return!h||h.type!=CKEDITOR.NODE_ELEMENT||!h.$||E.ie&&9>E.version&&!b.boundary.equals(h)&&!b.boundary.contains(h)?null:h}}(),Z=CKEDITOR.dom.walker.whitespaces(),X=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_COMMENT),ga=function(){function b(f){var e=f.element,h,g,k;if(!n(e)||e.contains(f.editable)||e.isReadOnly())return null;\nk=y(f,function(a,b){return!b.equals(a)},function(a,b){return da(a,!0,b)},e);h=k.upper;g=k.lower;if(a(f,h,g))return k.set(R,8);if(h&&e.contains(h))for(;!h.getParent().equals(e);)h=h.getParent();else h=e.getFirst(function(a){return d(f,a)});if(g&&e.contains(g))for(;!g.getParent().equals(e);)g=g.getParent();else g=e.getLast(function(a){return d(f,a)});if(!h||!g)return null;u(f,h);u(f,g);if(!l(f.mouse.y,h.size.top,g.size.bottom))return null;for(var e=Number.MAX_VALUE,m,q,r,t;g&&!g.equals(h)&&(q=h.getNext(f.isRelevant));)m=\nMath.abs(c(f,h,q)-f.mouse.y),m<e&&(e=m,r=h,t=q),h=q,u(f,h);if(!r||!t||!l(f.mouse.y,r.size.top,t.size.bottom))return null;k.upper=r;k.lower=t;return k.set(R,8)}function d(a,b){return!(b&&b.type==CKEDITOR.NODE_TEXT||X(b)||v(b)||g(a,b)||b.type==CKEDITOR.NODE_ELEMENT&&b.$&&b.is(\"br\"))}return function(c){var d=b(c),f;if(f=d){f=d.upper;var e=d.lower;f=!f||!e||v(e)||v(f)||e.equals(f)||f.equals(e)||e.contains(f)||f.contains(e)?!1:q(c,f)&&q(c,e)&&a(c,f,e)?!0:!1}return f?d:null}}(),ba=[\"top\",\"left\",\"right\",\n\"bottom\"]}(),CKEDITOR.config.magicline_keystrokePrevious=CKEDITOR.CTRL+CKEDITOR.SHIFT+51,CKEDITOR.config.magicline_keystrokeNext=CKEDITOR.CTRL+CKEDITOR.SHIFT+52,function(){function a(a){if(!a||a.type!=CKEDITOR.NODE_ELEMENT||\"form\"!=a.getName())return[];for(var b=[],c=[\"style\",\"className\"],d=0;d<c.length;d++){var e=a.$.elements.namedItem(c[d]);e&&(e=new CKEDITOR.dom.element(e),b.push([e,e.nextSibling]),e.remove())}return b}function e(a,b){if(a&&a.type==CKEDITOR.NODE_ELEMENT&&\"form\"==a.getName()&&0<\nb.length)for(var c=b.length-1;0<=c;c--){var d=b[c][0],e=b[c][1];e?d.insertBefore(e):d.appendTo(a)}}function b(b,c){var d=a(b),h={},k=b.$;c||(h[\"class\"]=k.className||\"\",k.className=\"\");h.inline=k.style.cssText||\"\";c||(k.style.cssText=\"position: static; overflow: visible\");e(d);return h}function c(b,c){var d=a(b),h=b.$;\"class\"in c&&(h.className=c[\"class\"]);\"inline\"in c&&(h.style.cssText=c.inline);e(d)}function d(a){if(!a.editable().isInline()){var b=CKEDITOR.instances,c;for(c in b){var d=b[c];\"wysiwyg\"!=\nd.mode||d.readOnly||(d=d.document.getBody(),d.setAttribute(\"contentEditable\",!1),d.setAttribute(\"contentEditable\",!0))}a.editable().hasFocus&&(a.toolbox.focus(),a.focus())}}CKEDITOR.plugins.add(\"maximize\",{init:function(a){function e(){var b=k.getViewPaneSize();a.resize(b.width,b.height,null,!0)}if(a.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var f=a.lang,h=CKEDITOR.document,k=h.getWindow(),g,n,v,r=CKEDITOR.TRISTATE_OFF;a.addCommand(\"maximize\",{modes:{wysiwyg:!CKEDITOR.env.iOS,source:!CKEDITOR.env.iOS},\nreadOnly:1,editorFocus:!1,exec:function(){var q=a.container.getFirst(function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasClass(\"cke_inner\")}),t=a.ui.space(\"contents\");if(\"wysiwyg\"==a.mode){var p=a.getSelection();g=p&&p.getRanges();n=k.getScrollPosition()}else{var w=a.editable().$;g=!CKEDITOR.env.ie&&[w.selectionStart,w.selectionEnd];n=[w.scrollLeft,w.scrollTop]}if(this.state==CKEDITOR.TRISTATE_OFF){k.on(\"resize\",e);v=k.getScrollPosition();for(p=a.container;p=p.getParent();)p.setCustomData(\"maximize_saved_styles\",\nb(p)),p.setStyle(\"z-index\",a.config.baseFloatZIndex-5);t.setCustomData(\"maximize_saved_styles\",b(t,!0));q.setCustomData(\"maximize_saved_styles\",b(q,!0));t={overflow:CKEDITOR.env.webkit?\"\":\"hidden\",width:0,height:0};h.getDocumentElement().setStyles(t);!CKEDITOR.env.gecko&&h.getDocumentElement().setStyle(\"position\",\"fixed\");CKEDITOR.env.gecko&&CKEDITOR.env.quirks||h.getBody().setStyles(t);CKEDITOR.env.ie?setTimeout(function(){k.$.scrollTo(0,0)},0):k.$.scrollTo(0,0);q.setStyle(\"position\",CKEDITOR.env.gecko&&\nCKEDITOR.env.quirks?\"fixed\":\"absolute\");q.$.offsetLeft;q.setStyles({\"z-index\":a.config.baseFloatZIndex-5,left:\"0px\",top:\"0px\"});q.addClass(\"cke_maximized\");e();t=q.getDocumentPosition();q.setStyles({left:-1*t.x+\"px\",top:-1*t.y+\"px\"});CKEDITOR.env.gecko&&d(a)}else if(this.state==CKEDITOR.TRISTATE_ON){k.removeListener(\"resize\",e);for(var p=[t,q],z=0;z<p.length;z++)c(p[z],p[z].getCustomData(\"maximize_saved_styles\")),p[z].removeCustomData(\"maximize_saved_styles\");for(p=a.container;p=p.getParent();)c(p,\np.getCustomData(\"maximize_saved_styles\")),p.removeCustomData(\"maximize_saved_styles\");CKEDITOR.env.ie?setTimeout(function(){k.$.scrollTo(v.x,v.y)},0):k.$.scrollTo(v.x,v.y);q.removeClass(\"cke_maximized\");CKEDITOR.env.webkit&&(q.setStyle(\"display\",\"inline\"),setTimeout(function(){q.setStyle(\"display\",\"block\")},0));a.fire(\"resize\",{outerHeight:a.container.$.offsetHeight,contentsHeight:t.$.offsetHeight,outerWidth:a.container.$.offsetWidth})}this.toggleState();if(p=this.uiItems[0])t=this.state==CKEDITOR.TRISTATE_OFF?\nf.maximize.maximize:f.maximize.minimize,p=CKEDITOR.document.getById(p._.id),p.getChild(1).setHtml(t),p.setAttribute(\"title\",t),p.setAttribute(\"href\",'javascript:void(\"'+t+'\");');\"wysiwyg\"==a.mode?g?(CKEDITOR.env.gecko&&d(a),a.getSelection().selectRanges(g),(w=a.getSelection().getStartElement())&&w.scrollIntoView(!0)):k.$.scrollTo(n.x,n.y):(g&&(w.selectionStart=g[0],w.selectionEnd=g[1]),w.scrollLeft=n[0],w.scrollTop=n[1]);g=n=null;r=this.state;a.fire(\"maximize\",this.state)},canUndo:!1});a.ui.addButton&&\na.ui.addButton(\"Maximize\",{label:f.maximize.maximize,command:\"maximize\",toolbar:\"tools,10\"});a.on(\"mode\",function(){var b=a.getCommand(\"maximize\");b.setState(b.state==CKEDITOR.TRISTATE_DISABLED?CKEDITOR.TRISTATE_DISABLED:r)},null,null,100)}}})}(),function(){function a(a,c,d){var e=CKEDITOR.cleanWord;e?d():(a=CKEDITOR.getUrl(a.config.pasteFromWordCleanupFile||c+\"filter/default.js\"),CKEDITOR.scriptLoader.load(a,d,null,!0));return!e}function e(a){a.data.type=\"html\"}CKEDITOR.plugins.add(\"pastefromword\",\n{requires:\"clipboard\",init:function(b){var c=0,d=this.path;b.addCommand(\"pastefromword\",{canUndo:!1,async:!0,exec:function(a){var b=this;c=1;a.once(\"beforePaste\",e);a.getClipboardData({title:a.lang.pastefromword.title},function(c){c&&a.fire(\"paste\",{type:\"html\",dataValue:c.dataValue,method:\"paste\",dataTransfer:CKEDITOR.plugins.clipboard.initPasteDataTransfer()});a.fire(\"afterCommandExec\",{name:\"pastefromword\",command:b,returnValue:!!c})})}});b.ui.addButton&&b.ui.addButton(\"PasteFromWord\",{label:b.lang.pastefromword.toolbar,\ncommand:\"pastefromword\",toolbar:\"clipboard,50\"});b.on(\"pasteState\",function(a){b.getCommand(\"pastefromword\").setState(a.data)});b.on(\"paste\",function(e){var m=e.data,f=m.dataValue;if(f&&(c||/(class=\\\"?Mso|style=\\\"[^\\\"]*\\bmso\\-|w:WordDocument)/.test(f))){m.dontFilter=!0;var h=a(b,d,function(){if(h)b.fire(\"paste\",m);else if(!b.config.pasteFromWordPromptCleanup||c||confirm(b.lang.pastefromword.confirmCleanup))m.dataValue=CKEDITOR.cleanWord(f,b);c=0});h&&e.cancel()}},null,null,3)}})}(),function(){var a=\n{canUndo:!1,async:!0,exec:function(e){e.getClipboardData({title:e.lang.pastetext.title},function(b){b&&e.fire(\"paste\",{type:\"text\",dataValue:b.dataValue,method:\"paste\",dataTransfer:CKEDITOR.plugins.clipboard.initPasteDataTransfer()});e.fire(\"afterCommandExec\",{name:\"pastetext\",command:a,returnValue:!!b})})}};CKEDITOR.plugins.add(\"pastetext\",{requires:\"clipboard\",init:function(e){e.addCommand(\"pastetext\",a);e.ui.addButton&&e.ui.addButton(\"PasteText\",{label:e.lang.pastetext.button,command:\"pastetext\",\ntoolbar:\"clipboard,40\"});if(e.config.forcePasteAsPlainText)e.on(\"beforePaste\",function(a){\"html\"!=a.data.type&&(a.data.type=\"text\")});e.on(\"pasteState\",function(a){e.getCommand(\"pastetext\").setState(a.data)})}})}(),CKEDITOR.plugins.add(\"removeformat\",{init:function(a){a.addCommand(\"removeFormat\",CKEDITOR.plugins.removeformat.commands.removeformat);a.ui.addButton&&a.ui.addButton(\"RemoveFormat\",{label:a.lang.removeformat.toolbar,command:\"removeFormat\",toolbar:\"cleanup,10\"})}}),CKEDITOR.plugins.removeformat=\n{commands:{removeformat:{exec:function(a){for(var e=a._.removeFormatRegex||(a._.removeFormatRegex=new RegExp(\"^(?:\"+a.config.removeFormatTags.replace(/,/g,\"|\")+\")$\",\"i\")),b=a._.removeAttributes||(a._.removeAttributes=a.config.removeFormatAttributes.split(\",\")),c=CKEDITOR.plugins.removeformat.filter,d=a.getSelection().getRanges(),l=d.createIterator(),m=function(a){return a.type==CKEDITOR.NODE_ELEMENT},f;f=l.getNextRange();){f.collapsed||f.enlarge(CKEDITOR.ENLARGE_ELEMENT);var h=f.createBookmark(),\nk=h.startNode,g=h.endNode,n=function(b){for(var d=a.elementPath(b),f=d.elements,h=1,g;(g=f[h])&&!g.equals(d.block)&&!g.equals(d.blockLimit);h++)e.test(g.getName())&&c(a,g)&&b.breakParent(g)};n(k);if(g)for(n(g),k=k.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT);k&&!k.equals(g);)if(k.isReadOnly()){if(k.getPosition(g)&CKEDITOR.POSITION_CONTAINS)break;k=k.getNext(m)}else n=k.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT),\"img\"==k.getName()&&k.data(\"cke-realelement\")||!c(a,k)||(e.test(k.getName())?k.remove(1):\n(k.removeAttributes(b),a.fire(\"removeFormatCleanup\",k))),k=n;f.moveToBookmark(h)}a.forceNextSelectionCheck();a.getSelection().selectRanges(d)}}},filter:function(a,e){for(var b=a._.removeFormatFilters||[],c=0;c<b.length;c++)if(!1===b[c](e))return!1;return!0}},CKEDITOR.editor.prototype.addRemoveFormatFilter=function(a){this._.removeFormatFilters||(this._.removeFormatFilters=[]);this._.removeFormatFilters.push(a)},CKEDITOR.config.removeFormatTags=\"b,big,cite,code,del,dfn,em,font,i,ins,kbd,q,s,samp,small,span,strike,strong,sub,sup,tt,u,var\",\nCKEDITOR.config.removeFormatAttributes=\"class,style,lang,width,height,align,hspace,valign\",CKEDITOR.plugins.add(\"resize\",{init:function(a){function e(b){var d=h.width,e=h.height,m=d+(b.data.$.screenX-f.x)*(\"rtl\"==l?-1:1);b=e+(b.data.$.screenY-f.y);k&&(d=Math.max(c.resize_minWidth,Math.min(m,c.resize_maxWidth)));g&&(e=Math.max(c.resize_minHeight,Math.min(b,c.resize_maxHeight)));a.resize(k?d:null,e)}function b(){CKEDITOR.document.removeListener(\"mousemove\",e);CKEDITOR.document.removeListener(\"mouseup\",\nb);a.document&&(a.document.removeListener(\"mousemove\",e),a.document.removeListener(\"mouseup\",b))}var c=a.config,d=a.ui.spaceId(\"resizer\"),l=a.element?a.element.getDirection(1):\"ltr\";!c.resize_dir&&(c.resize_dir=\"vertical\");void 0===c.resize_maxWidth&&(c.resize_maxWidth=3E3);void 0===c.resize_maxHeight&&(c.resize_maxHeight=3E3);void 0===c.resize_minWidth&&(c.resize_minWidth=750);void 0===c.resize_minHeight&&(c.resize_minHeight=250);if(!1!==c.resize_enabled){var m=null,f,h,k=(\"both\"==c.resize_dir||\n\"horizontal\"==c.resize_dir)&&c.resize_minWidth!=c.resize_maxWidth,g=(\"both\"==c.resize_dir||\"vertical\"==c.resize_dir)&&c.resize_minHeight!=c.resize_maxHeight,n=CKEDITOR.tools.addFunction(function(d){m||(m=a.getResizable());h={width:m.$.offsetWidth||0,height:m.$.offsetHeight||0};f={x:d.screenX,y:d.screenY};c.resize_minWidth>h.width&&(c.resize_minWidth=h.width);c.resize_minHeight>h.height&&(c.resize_minHeight=h.height);CKEDITOR.document.on(\"mousemove\",e);CKEDITOR.document.on(\"mouseup\",b);a.document&&\n(a.document.on(\"mousemove\",e),a.document.on(\"mouseup\",b));d.preventDefault&&d.preventDefault()});a.on(\"destroy\",function(){CKEDITOR.tools.removeFunction(n)});a.on(\"uiSpace\",function(b){if(\"bottom\"==b.data.space){var c=\"\";k&&!g&&(c=\" cke_resizer_horizontal\");!k&&g&&(c=\" cke_resizer_vertical\");var f='\\x3cspan id\\x3d\"'+d+'\" class\\x3d\"cke_resizer'+c+\" cke_resizer_\"+l+'\" title\\x3d\"'+CKEDITOR.tools.htmlEncode(a.lang.common.resize)+'\" onmousedown\\x3d\"CKEDITOR.tools.callFunction('+n+', event)\"\\x3e'+(\"ltr\"==\nl?\"◢\":\"◣\")+\"\\x3c/span\\x3e\";\"ltr\"==l&&\"ltr\"==c?b.data.html+=f:b.data.html=f+b.data.html}},a,null,100);a.on(\"maximize\",function(b){a.ui.space(\"resizer\")[b.data==CKEDITOR.TRISTATE_ON?\"hide\":\"show\"]()})}}}),CKEDITOR.plugins.add(\"menubutton\",{requires:\"button,menu\",onLoad:function(){var a=function(a){var b=this._,c=b.menu;b.state!==CKEDITOR.TRISTATE_DISABLED&&(b.on&&c?c.hide():(b.previousState=b.state,c||(c=b.menu=new CKEDITOR.menu(a,{panel:{className:\"cke_menu_panel\",attributes:{\"aria-label\":a.lang.common.options}}}),\nc.onHide=CKEDITOR.tools.bind(function(){var c=this.command?a.getCommand(this.command).modes:this.modes;this.setState(!c||c[a.mode]?b.previousState:CKEDITOR.TRISTATE_DISABLED);b.on=0},this),this.onMenu&&c.addListener(this.onMenu)),this.setState(CKEDITOR.TRISTATE_ON),b.on=1,setTimeout(function(){c.show(CKEDITOR.document.getById(b.id),4)},0)))};CKEDITOR.ui.menuButton=CKEDITOR.tools.createClass({base:CKEDITOR.ui.button,$:function(e){delete e.panel;this.base(e);this.hasArrow=!0;this.click=a},statics:{handler:{create:function(a){return new CKEDITOR.ui.menuButton(a)}}}})},\nbeforeInit:function(a){a.ui.addHandler(CKEDITOR.UI_MENUBUTTON,CKEDITOR.ui.menuButton.handler)}}),CKEDITOR.UI_MENUBUTTON=\"menubutton\",\"use strict\",CKEDITOR.plugins.add(\"scayt\",{requires:\"menubutton,dialog\",tabToOpen:null,dialogName:\"scaytDialog\",init:function(a){var e=this,b=CKEDITOR.plugins.scayt;this.bindEvents(a);this.parseConfig(a);this.addRule(a);CKEDITOR.dialog.add(this.dialogName,CKEDITOR.getUrl(this.path+\"dialogs/options.js\"));this.addMenuItems(a);var c=a.lang.scayt,d=CKEDITOR.env;a.ui.add(\"Scayt\",\nCKEDITOR.UI_MENUBUTTON,{label:c.text_title,title:a.plugins.wsc?a.lang.wsc.title:c.text_title,modes:{wysiwyg:!(d.ie&&(8>d.version||d.quirks))},toolbar:\"spellchecker,20\",refresh:function(){var c=a.ui.instances.Scayt.getState();a.scayt&&(c=b.state.scayt[a.name]?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF);a.fire(\"scaytButtonState\",c)},onRender:function(){var b=this;a.on(\"scaytButtonState\",function(a){void 0!==typeof a.data&&b.setState(a.data)})},onMenu:function(){var c=a.scayt;a.getMenuItem(\"scaytToggle\").label=\na.lang.scayt[c&&b.state.scayt[a.name]?\"btn_disable\":\"btn_enable\"];c={scaytToggle:CKEDITOR.TRISTATE_OFF,scaytOptions:c?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytLangs:c?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytDict:c?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytAbout:c?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,WSC:a.plugins.wsc?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED};a.config.scayt_uiTabs[0]||delete c.scaytOptions;a.config.scayt_uiTabs[1]||delete c.scaytLangs;\na.config.scayt_uiTabs[2]||delete c.scaytDict;return c}});a.contextMenu&&a.addMenuItems&&(a.contextMenu.addListener(function(b,c){var d=a.scayt,h,k;d&&(k=d.getSelectionNode())&&(h=e.menuGenerator(a,k),d.showBanner(\".\"+a.contextMenu._.definition.panel.className.split(\" \").join(\" .\")));return h}),a.contextMenu._.onHide=CKEDITOR.tools.override(a.contextMenu._.onHide,function(b){return function(){var c=a.scayt;c&&c.hideBanner();return b.apply(this)}}))},addMenuItems:function(a){var e=this,b=CKEDITOR.plugins.scayt;\na.addMenuGroup(\"scaytButton\");for(var c=a.config.scayt_contextMenuItemsOrder.split(\"|\"),d=0;d<c.length;d++)c[d]=\"scayt_\"+c[d];if((c=[\"grayt_description\",\"grayt_suggest\",\"grayt_control\"].concat(c))&&c.length)for(d=0;d<c.length;d++)a.addMenuGroup(c[d],d-10);a.addCommand(\"scaytToggle\",{exec:function(a){var c=a.scayt;b.state.scayt[a.name]=!b.state.scayt[a.name];!0===b.state.scayt[a.name]?c||b.createScayt(a):c&&b.destroy(a)}});a.addCommand(\"scaytAbout\",{exec:function(a){a.scayt.tabToOpen=\"about\";a.lockSelection();\na.openDialog(e.dialogName)}});a.addCommand(\"scaytOptions\",{exec:function(a){a.scayt.tabToOpen=\"options\";a.lockSelection();a.openDialog(e.dialogName)}});a.addCommand(\"scaytLangs\",{exec:function(a){a.scayt.tabToOpen=\"langs\";a.lockSelection();a.openDialog(e.dialogName)}});a.addCommand(\"scaytDict\",{exec:function(a){a.scayt.tabToOpen=\"dictionaries\";a.lockSelection();a.openDialog(e.dialogName)}});c={scaytToggle:{label:a.lang.scayt.btn_enable,group:\"scaytButton\",command:\"scaytToggle\"},scaytAbout:{label:a.lang.scayt.btn_about,\ngroup:\"scaytButton\",command:\"scaytAbout\"},scaytOptions:{label:a.lang.scayt.btn_options,group:\"scaytButton\",command:\"scaytOptions\"},scaytLangs:{label:a.lang.scayt.btn_langs,group:\"scaytButton\",command:\"scaytLangs\"},scaytDict:{label:a.lang.scayt.btn_dictionaries,group:\"scaytButton\",command:\"scaytDict\"}};a.plugins.wsc&&(c.WSC={label:a.lang.wsc.toolbar,group:\"scaytButton\",onClick:function(){var b=CKEDITOR.plugins.scayt,c=a.scayt,d=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?a.container.getText():a.document.getBody().getText();\n(d=d.replace(/\\s/g,\"\"))?(c&&b.state.scayt[a.name]&&c.setMarkupPaused&&c.setMarkupPaused(!0),a.lockSelection(),a.execCommand(\"checkspell\")):alert(\"Nothing to check!\")}});a.addMenuItems(c)},bindEvents:function(a){var e=CKEDITOR.plugins.scayt,b=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE,c=function(){e.destroy(a)},d=function(){!e.state.scayt[a.name]||a.readOnly||a.scayt||e.createScayt(a)},l=function(){var c=a.editable();c.attachListener(c,\"focus\",function(c){CKEDITOR.plugins.scayt&&!a.scayt&&setTimeout(d,\n0);c=CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[a.name]&&a.scayt;var f,e;if((b||c)&&a._.savedSelection){c=a._.savedSelection.getSelectedElement();c=!c&&a._.savedSelection.getRanges();for(var m=0;m<c.length;m++)e=c[m],\"string\"===typeof e.startContainer.$.nodeValue&&(f=e.startContainer.getText().length,(f<e.startOffset||f<e.endOffset)&&a.unlockSelection(!1))}},this,null,-10)},m=function(){b?a.config.scayt_inlineModeImmediateMarkup?d():(a.on(\"blur\",function(){setTimeout(c,0)}),a.on(\"focus\",\nd),a.focusManager.hasFocus&&d()):d();l();var f=a.editable();f.attachListener(f,\"mousedown\",function(b){b=b.data.getTarget();var c=a.widgets&&a.widgets.getByElement(b);c&&(c.wrapper=b.getAscendant(function(a){return a.hasAttribute(\"data-cke-widget-wrapper\")},!0))},this,null,-10)};a.on(\"contentDom\",m);a.on(\"beforeCommandExec\",function(b){var c=a.scayt,d=null,g=!1,m=!0;b.data.name in e.options.disablingCommandExec&&\"wysiwyg\"==a.mode?c&&(e.destroy(a),a.fire(\"scaytButtonState\",CKEDITOR.TRISTATE_DISABLED)):\n\"bold\"!==b.data.name&&\"italic\"!==b.data.name&&\"underline\"!==b.data.name&&\"strike\"!==b.data.name&&\"subscript\"!==b.data.name&&\"superscript\"!==b.data.name&&\"enter\"!==b.data.name&&\"cut\"!==b.data.name&&\"language\"!==b.data.name||!c||(\"cut\"===b.data.name&&(m=!1,g=!0),\"language\"===b.data.name&&(d=(d=a.plugins.language.getCurrentLangElement(a))&&d.$,g=!0),a.fire(\"reloadMarkupScayt\",{removeOptions:{removeInside:m,forceBookmark:g,selectionNode:d},timeout:0}))});a.on(\"beforeSetMode\",function(b){if(\"source\"==\nb.data){if(b=a.scayt)e.destroy(a),a.fire(\"scaytButtonState\",CKEDITOR.TRISTATE_DISABLED);a.document&&a.document.getBody().removeAttribute(\"_jquid\")}});a.on(\"afterCommandExec\",function(b){\"wysiwyg\"!=a.mode||\"undo\"!=b.data.name&&\"redo\"!=b.data.name||setTimeout(function(){var b=a.scayt,c=b&&b.getScaytLangList();c&&c.ltr&&c.rtl&&b.fire(\"startSpellCheck, startGrammarCheck\")},250)});a.on(\"readOnly\",function(b){var c;b&&(c=a.scayt,!0===b.editor.readOnly?c&&c.fire(\"removeMarkupInDocument\",{}):c?c.fire(\"startSpellCheck, startGrammarCheck\"):\n\"wysiwyg\"==b.editor.mode&&!0===e.state.scayt[b.editor.name]&&(e.createScayt(a),b.editor.fire(\"scaytButtonState\",CKEDITOR.TRISTATE_ON)))});a.on(\"beforeDestroy\",c);a.on(\"setData\",function(){c();(a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE||a.plugins.divarea)&&m()},this,null,50);a.on(\"reloadMarkupScayt\",function(b){var c=b.data&&b.data.removeOptions;setTimeout(function(){var b=a.scayt,d=b&&b.getScaytLangList();d&&d.ltr&&d.rtl&&(a.document.fire(\"keydown\",new CKEDITOR.dom.event({keyCode:37})),b.removeMarkupInSelectionNode(c),\nb.fire(\"startSpellCheck, startGrammarCheck\"))},b.data&&b.data.timeout||0)});a.on(\"insertElement\",function(){a.fire(\"reloadMarkupScayt\",{removeOptions:{forceBookmark:!0}})},this,null,50);a.on(\"insertHtml\",function(){a.fire(\"reloadMarkupScayt\")},this,null,50);a.on(\"insertText\",function(){a.fire(\"reloadMarkupScayt\")},this,null,50);a.on(\"scaytDialogShown\",function(b){b.data.selectPage(a.scayt.tabToOpen)})},parseConfig:function(a){var e=CKEDITOR.plugins.scayt;e.replaceOldOptionsNames(a.config);\"boolean\"!==\ntypeof a.config.scayt_autoStartup&&(a.config.scayt_autoStartup=!1);e.state.scayt[a.name]=a.config.scayt_autoStartup;\"boolean\"!==typeof a.config.grayt_autoStartup&&(a.config.grayt_autoStartup=!1);\"boolean\"!==typeof a.config.scayt_inlineModeImmediateMarkup&&(a.config.scayt_inlineModeImmediateMarkup=!1);e.state.grayt[a.name]=a.config.grayt_autoStartup;a.config.scayt_contextCommands||(a.config.scayt_contextCommands=\"ignore|ignoreall|add\");a.config.scayt_contextMenuItemsOrder||(a.config.scayt_contextMenuItemsOrder=\n\"suggest|moresuggest|control\");a.config.scayt_sLang||(a.config.scayt_sLang=\"en_US\");if(void 0===a.config.scayt_maxSuggestions||\"number\"!=typeof a.config.scayt_maxSuggestions||0>a.config.scayt_maxSuggestions)a.config.scayt_maxSuggestions=5;if(void 0===a.config.scayt_minWordLength||\"number\"!=typeof a.config.scayt_minWordLength||1>a.config.scayt_minWordLength)a.config.scayt_minWordLength=4;if(void 0===a.config.scayt_customDictionaryIds||\"string\"!==typeof a.config.scayt_customDictionaryIds)a.config.scayt_customDictionaryIds=\n\"\";if(void 0===a.config.scayt_userDictionaryName||\"string\"!==typeof a.config.scayt_userDictionaryName)a.config.scayt_userDictionaryName=null;if(\"string\"===typeof a.config.scayt_uiTabs&&3===a.config.scayt_uiTabs.split(\",\").length){var b=[],c=[];a.config.scayt_uiTabs=a.config.scayt_uiTabs.split(\",\");CKEDITOR.tools.search(a.config.scayt_uiTabs,function(a){1===Number(a)||0===Number(a)?(c.push(!0),b.push(Number(a))):c.push(!1)});null===CKEDITOR.tools.search(c,!1)?a.config.scayt_uiTabs=b:a.config.scayt_uiTabs=\n[1,1,1]}else a.config.scayt_uiTabs=[1,1,1];\"string\"!=typeof a.config.scayt_serviceProtocol&&(a.config.scayt_serviceProtocol=null);\"string\"!=typeof a.config.scayt_serviceHost&&(a.config.scayt_serviceHost=null);\"string\"!=typeof a.config.scayt_servicePort&&(a.config.scayt_servicePort=null);\"string\"!=typeof a.config.scayt_servicePath&&(a.config.scayt_servicePath=null);a.config.scayt_moreSuggestions||(a.config.scayt_moreSuggestions=\"on\");\"string\"!==typeof a.config.scayt_customerId&&(a.config.scayt_customerId=\n\"1:WvF0D4-UtPqN1-43nkD4-NKvUm2-daQqk3-LmNiI-z7Ysb4-mwry24-T8YrS3-Q2tpq2\");\"string\"!==typeof a.config.scayt_srcUrl&&(e=document.location.protocol,e=-1!=e.search(/https?:/)?e:\"http:\",a.config.scayt_srcUrl=e+\"//svc.webspellchecker.net/spellcheck31/lf/scayt3/ckscayt/ckscayt.js\");\"boolean\"!==typeof CKEDITOR.config.scayt_handleCheckDirty&&(CKEDITOR.config.scayt_handleCheckDirty=!0);\"boolean\"!==typeof CKEDITOR.config.scayt_handleUndoRedo&&(CKEDITOR.config.scayt_handleUndoRedo=!0);CKEDITOR.config.scayt_handleUndoRedo=\nCKEDITOR.plugins.undo?CKEDITOR.config.scayt_handleUndoRedo:!1;\"boolean\"!==typeof a.config.scayt_multiLanguageMode&&(a.config.scayt_multiLanguageMode=!1);\"object\"!==typeof a.config.scayt_multiLanguageStyles&&(a.config.scayt_multiLanguageStyles={});a.config.scayt_ignoreAllCapsWords&&\"boolean\"!==typeof a.config.scayt_ignoreAllCapsWords&&(a.config.scayt_ignoreAllCapsWords=!1);a.config.scayt_ignoreDomainNames&&\"boolean\"!==typeof a.config.scayt_ignoreDomainNames&&(a.config.scayt_ignoreDomainNames=!1);a.config.scayt_ignoreWordsWithMixedCases&&\n\"boolean\"!==typeof a.config.scayt_ignoreWordsWithMixedCases&&(a.config.scayt_ignoreWordsWithMixedCases=!1);a.config.scayt_ignoreWordsWithNumbers&&\"boolean\"!==typeof a.config.scayt_ignoreWordsWithNumbers&&(a.config.scayt_ignoreWordsWithNumbers=!1);if(a.config.scayt_disableOptionsStorage){var e=CKEDITOR.tools.isArray(a.config.scayt_disableOptionsStorage)?a.config.scayt_disableOptionsStorage:\"string\"===typeof a.config.scayt_disableOptionsStorage?[a.config.scayt_disableOptionsStorage]:void 0,d=\"all options lang ignore-all-caps-words ignore-domain-names ignore-words-with-mixed-cases ignore-words-with-numbers\".split(\" \"),\nl=[\"lang\",\"ignore-all-caps-words\",\"ignore-domain-names\",\"ignore-words-with-mixed-cases\",\"ignore-words-with-numbers\"],m=CKEDITOR.tools.search,f=CKEDITOR.tools.indexOf;a.config.scayt_disableOptionsStorage=function(a){for(var b=[],c=0;c<a.length;c++){var e=a[c],v=!!m(a,\"options\");if(!m(d,e)||v&&m(l,function(a){if(\"lang\"===a)return!1}))return;m(l,e)&&l.splice(f(l,e),1);if(\"all\"===e||v&&m(a,\"lang\"))return[];\"options\"===e&&(l=[\"lang\"])}return b=b.concat(l)}(e)}},addRule:function(a){var e=CKEDITOR.plugins.scayt,\nb=a.dataProcessor,c=b&&b.htmlFilter,d=a._.elementsPath&&a._.elementsPath.filters,b=b&&b.dataFilter,l=a.addRemoveFormatFilter,m=function(b){if(a.scayt&&(b.hasAttribute(e.options.data_attribute_name)||b.hasAttribute(e.options.problem_grammar_data_attribute)))return!1},f=function(b){var c=!0;a.scayt&&(b.hasAttribute(e.options.data_attribute_name)||b.hasAttribute(e.options.problem_grammar_data_attribute))&&(c=!1);return c};d&&d.push(m);b&&b.addRules({elements:{span:function(a){var b=a.hasClass(e.options.misspelled_word_class)&&\na.attributes[e.options.data_attribute_name],c=a.hasClass(e.options.problem_grammar_class)&&a.attributes[e.options.problem_grammar_data_attribute];e&&(b||c)&&delete a.name;return a}}});c&&c.addRules({elements:{span:function(a){var b=a.hasClass(e.options.misspelled_word_class)&&a.attributes[e.options.data_attribute_name],c=a.hasClass(e.options.problem_grammar_class)&&a.attributes[e.options.problem_grammar_data_attribute];e&&(b||c)&&delete a.name;return a}}});l&&l.call(a,f)},scaytMenuDefinition:function(a){var e=\nthis;a=a.scayt;return{scayt:{scayt_ignore:{label:a.getLocal(\"btn_ignore\"),group:\"scayt_control\",order:1,exec:function(a){a.scayt.ignoreWord()}},scayt_ignoreall:{label:a.getLocal(\"btn_ignoreAll\"),group:\"scayt_control\",order:2,exec:function(a){a.scayt.ignoreAllWords()}},scayt_add:{label:a.getLocal(\"btn_addWord\"),group:\"scayt_control\",order:3,exec:function(a){var c=a.scayt;setTimeout(function(){c.addWordToUserDictionary()},10)}},scayt_option:{label:a.getLocal(\"btn_options\"),group:\"scayt_control\",order:4,\nexec:function(a){a.scayt.tabToOpen=\"options\";a.lockSelection();a.openDialog(e.dialogName)},verification:function(a){return 1==a.config.scayt_uiTabs[0]?!0:!1}},scayt_language:{label:a.getLocal(\"btn_langs\"),group:\"scayt_control\",order:5,exec:function(a){a.scayt.tabToOpen=\"langs\";a.lockSelection();a.openDialog(e.dialogName)},verification:function(a){return 1==a.config.scayt_uiTabs[1]?!0:!1}},scayt_dictionary:{label:a.getLocal(\"btn_dictionaries\"),group:\"scayt_control\",order:6,exec:function(a){a.scayt.tabToOpen=\n\"dictionaries\";a.lockSelection();a.openDialog(e.dialogName)},verification:function(a){return 1==a.config.scayt_uiTabs[2]?!0:!1}},scayt_about:{label:a.getLocal(\"btn_about\"),group:\"scayt_control\",order:7,exec:function(a){a.scayt.tabToOpen=\"about\";a.lockSelection();a.openDialog(e.dialogName)}}},grayt:{grayt_problemdescription:{label:\"Grammar problem description\",group:\"grayt_description\",order:1,state:CKEDITOR.TRISTATE_DISABLED,exec:function(a){}},grayt_ignore:{label:a.getLocal(\"btn_ignore\"),group:\"grayt_control\",\norder:2,exec:function(a){a.scayt.ignorePhrase()}}}}},buildSuggestionMenuItems:function(a,e,b){\nvar this$1 = this;\nvar c={},d={},l=b?\"word\":\"phrase\",m=b?\"startGrammarCheck\":\"startSpellCheck\",f=a.scayt;if(0<e.length&&\"no_any_suggestions\"!==e[0])if(b)for(b=0;b<e.length;b++){var h=\"scayt_suggest_\"+CKEDITOR.plugins.scayt.suggestions[b].replace(\" \",\"_\");a.addCommand(h,this$1.createCommand(CKEDITOR.plugins.scayt.suggestions[b],l,m));b<a.config.scayt_maxSuggestions?(a.addMenuItem(h,{label:e[b],command:h,group:\"scayt_suggest\",\norder:b+1}),c[h]=CKEDITOR.TRISTATE_OFF):(a.addMenuItem(h,{label:e[b],command:h,group:\"scayt_moresuggest\",order:b+1}),d[h]=CKEDITOR.TRISTATE_OFF,\"on\"===a.config.scayt_moreSuggestions&&(a.addMenuItem(\"scayt_moresuggest\",{label:f.getLocal(\"btn_moreSuggestions\"),group:\"scayt_moresuggest\",order:10,getItems:function(){return d}}),c.scayt_moresuggest=CKEDITOR.TRISTATE_OFF))}else for(b=0;b<e.length;b++)h=\"grayt_suggest_\"+CKEDITOR.plugins.scayt.suggestions[b].replace(\" \",\"_\"),a.addCommand(h,this$1.createCommand(CKEDITOR.plugins.scayt.suggestions[b],\nl,m)),a.addMenuItem(h,{label:e[b],command:h,group:\"grayt_suggest\",order:b+1}),c[h]=CKEDITOR.TRISTATE_OFF;else c.no_scayt_suggest=CKEDITOR.TRISTATE_DISABLED,a.addCommand(\"no_scayt_suggest\",{exec:function(){}}),a.addMenuItem(\"no_scayt_suggest\",{label:f.getLocal(\"btn_noSuggestions\")||\"no_scayt_suggest\",command:\"no_scayt_suggest\",group:\"scayt_suggest\",order:0});return c},menuGenerator:function(a,e){var b=a.scayt,c=this.scaytMenuDefinition(a),d={},l=a.config.scayt_contextCommands.split(\"|\"),m=e.getAttribute(b.getLangAttribute())||\nb.getLang(),f,h;f=b.isScaytNode(e);h=b.isGraytNode(e);f?(c=c.scayt,d=e.getAttribute(b.getScaytNodeAttributeName()),b.fire(\"getSuggestionsList\",{lang:m,word:d}),d=this.buildSuggestionMenuItems(a,CKEDITOR.plugins.scayt.suggestions,f)):h&&(c=c.grayt,d=e.getAttribute(b.getGraytNodeAttributeName()),h=b.getProblemDescriptionText(d,m),c.grayt_problemdescription&&h&&(c.grayt_problemdescription.label=h),b.fire(\"getGrammarSuggestionsList\",{lang:m,phrase:d}),d=this.buildSuggestionMenuItems(a,CKEDITOR.plugins.scayt.suggestions,\nf));if(f&&\"off\"==a.config.scayt_contextCommands)return d;for(var k in c)f&&-1==CKEDITOR.tools.indexOf(l,k.replace(\"scayt_\",\"\"))&&\"all\"!=a.config.scayt_contextCommands||(d[k]=\"undefined\"!=typeof c[k].state?c[k].state:CKEDITOR.TRISTATE_OFF,\"function\"!==typeof c[k].verification||c[k].verification(a)||delete d[k],a.addCommand(k,{exec:c[k].exec}),a.addMenuItem(k,{label:a.lang.scayt[c[k].label]||c[k].label,command:k,group:c[k].group,order:c[k].order}));return d},createCommand:function(a,e,b){return{exec:function(c){c=\nc.scayt;var d={};d[e]=a;c.replaceSelectionNode(d);\"startGrammarCheck\"===b&&c.removeMarkupInSelectionNode({grammarOnly:!0});c.fire(b)}}}}),CKEDITOR.plugins.scayt={state:{scayt:{},grayt:{}},suggestions:[],loadingHelper:{loadOrder:[]},isLoading:!1,options:{disablingCommandExec:{source:!0,newpage:!0,templates:!0},data_attribute_name:\"data-scayt-word\",misspelled_word_class:\"scayt-misspell-word\",problem_grammar_data_attribute:\"data-grayt-phrase\",problem_grammar_class:\"gramm-problem\"},backCompatibilityMap:{scayt_service_protocol:\"scayt_serviceProtocol\",\nscayt_service_host:\"scayt_serviceHost\",scayt_service_port:\"scayt_servicePort\",scayt_service_path:\"scayt_servicePath\",scayt_customerid:\"scayt_customerId\"},replaceOldOptionsNames:function(a){\nvar this$1 = this;\nfor(var e in a)e in this$1.backCompatibilityMap&&(a[this$1.backCompatibilityMap[e]]=a[e],delete a[e])},createScayt:function(a){var e=this,b=CKEDITOR.plugins.scayt;this.loadScaytLibrary(a,function(a){var d=a.window&&a.window.getFrame()||a.editable();d?(d={lang:a.config.scayt_sLang,container:d.$,customDictionary:a.config.scayt_customDictionaryIds,\nuserDictionaryName:a.config.scayt_userDictionaryName,localization:a.langCode,customer_id:a.config.scayt_customerId,debug:a.config.scayt_debug,data_attribute_name:e.options.data_attribute_name,misspelled_word_class:e.options.misspelled_word_class,problem_grammar_data_attribute:e.options.problem_grammar_data_attribute,problem_grammar_class:e.options.problem_grammar_class,\"options-to-restore\":a.config.scayt_disableOptionsStorage,focused:a.editable().hasFocus,ignoreElementsRegex:a.config.scayt_elementsToIgnore,\nminWordLength:a.config.scayt_minWordLength,multiLanguageMode:a.config.scayt_multiLanguageMode,multiLanguageStyles:a.config.scayt_multiLanguageStyles,graytAutoStartup:b.state.grayt[a.name]},a.config.scayt_serviceProtocol&&(d.service_protocol=a.config.scayt_serviceProtocol),a.config.scayt_serviceHost&&(d.service_host=a.config.scayt_serviceHost),a.config.scayt_servicePort&&(d.service_port=a.config.scayt_servicePort),a.config.scayt_servicePath&&(d.service_path=a.config.scayt_servicePath),\"boolean\"===\ntypeof a.config.scayt_ignoreAllCapsWords&&(d[\"ignore-all-caps-words\"]=a.config.scayt_ignoreAllCapsWords),\"boolean\"===typeof a.config.scayt_ignoreDomainNames&&(d[\"ignore-domain-names\"]=a.config.scayt_ignoreDomainNames),\"boolean\"===typeof a.config.scayt_ignoreWordsWithMixedCases&&(d[\"ignore-words-with-mixed-cases\"]=a.config.scayt_ignoreWordsWithMixedCases),\"boolean\"===typeof a.config.scayt_ignoreWordsWithNumbers&&(d[\"ignore-words-with-numbers\"]=a.config.scayt_ignoreWordsWithNumbers),d=new SCAYT.CKSCAYT(d,\nfunction(){},function(){}),d.subscribe(\"suggestionListSend\",function(a){for(var b={},c=[],d=0;d<a.suggestionList.length;d++)b[\"word_\"+a.suggestionList[d]]||(b[\"word_\"+a.suggestionList[d]]=a.suggestionList[d],c.push(a.suggestionList[d]));CKEDITOR.plugins.scayt.suggestions=c}),d.subscribe(\"selectionIsChanged\",function(b){a.getSelection().isLocked&&a.lockSelection()}),d.subscribe(\"graytStateChanged\",function(d){b.state.grayt[a.name]=d.state}),a.scayt=d,a.fire(\"scaytButtonState\",a.readOnly?CKEDITOR.TRISTATE_DISABLED:\nCKEDITOR.TRISTATE_ON)):b.state.scayt[a.name]=!1})},destroy:function(a){a.scayt&&a.scayt.destroy();delete a.scayt;a.fire(\"scaytButtonState\",CKEDITOR.TRISTATE_OFF)},loadScaytLibrary:function(a,e){var b=this,c,d;this.loadingHelper[a.name]||(\"undefined\"===typeof window.SCAYT||\"function\"!==typeof window.SCAYT.CKSCAYT?(this.loadingHelper[a.name]=e,this.loadingHelper.loadOrder.push(a.name),c=new Date,c=c.getTime(),d=a.config.scayt_srcUrl,d+=0<=d.indexOf(\"?\")?\"\":\"?\"+c,this.loadingHelper.ckscaytLoading||(CKEDITOR.scriptLoader.load(d,\nfunction(a){if(a){CKEDITOR.fireOnce(\"scaytReady\");for(var c=0;c<b.loadingHelper.loadOrder.length;c++){a=b.loadingHelper.loadOrder[c];if(\"function\"===typeof b.loadingHelper[a])b.loadingHelper[a](CKEDITOR.instances[a]);delete b.loadingHelper[a]}b.loadingHelper.loadOrder=[]}}),this.loadingHelper.ckscaytLoading=!0)):window.SCAYT&&\"function\"===typeof window.SCAYT.CKSCAYT&&(CKEDITOR.fireOnce(\"scaytReady\"),a.scayt||\"function\"===typeof e&&e(a)))}},CKEDITOR.on(\"dialogDefinition\",function(a){var e=a.data.name;\na=a.data.definition.dialog;if(\"scaytDialog\"===e)a.on(\"cancel\",function(a){return!1},this,null,-1);if(\"checkspell\"===e)a.on(\"cancel\",function(a){a=a.sender&&a.sender.getParentEditor();var c=CKEDITOR.plugins.scayt,d=a.scayt;d&&c.state.scayt[a.name]&&d.setMarkupPaused&&d.setMarkupPaused(!1);a.unlockSelection()},this,null,-2);if(\"link\"===e)a.on(\"ok\",function(a){var c=a.sender&&a.sender.getParentEditor();c&&setTimeout(function(){c.fire(\"reloadMarkupScayt\",{removeOptions:{removeInside:!0,forceBookmark:!0},\ntimeout:0})},0)})}),CKEDITOR.on(\"scaytReady\",function(){if(!0===CKEDITOR.config.scayt_handleCheckDirty){var a=CKEDITOR.editor.prototype;a.checkDirty=CKEDITOR.tools.override(a.checkDirty,function(a){return function(){var c=null,d=this.scayt;if(CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[this.name]&&this.scayt){if(c=\"ready\"==this.status)var e=d.removeMarkupFromString(this.getSnapshot()),d=d.removeMarkupFromString(this._.previousValue),c=c&&d!==e}else c=a.call(this);return c}});a.resetDirty=\nCKEDITOR.tools.override(a.resetDirty,function(a){return function(){var c=this.scayt;CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[this.name]&&this.scayt?this._.previousValue=c.removeMarkupFromString(this.getSnapshot()):a.call(this)}})}if(!0===CKEDITOR.config.scayt_handleUndoRedo){var a=CKEDITOR.plugins.undo.Image.prototype,e=\"function\"==typeof a.equalsContent?\"equalsContent\":\"equals\";a[e]=CKEDITOR.tools.override(a[e],function(a){return function(c){var d=c.editor.scayt,e=this.contents,\nm=c.contents,f=null;CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[c.editor.name]&&c.editor.scayt&&(this.contents=d.removeMarkupFromString(e)||\"\",c.contents=d.removeMarkupFromString(m)||\"\");f=a.apply(this,arguments);this.contents=e;c.contents=m;return f}})}}),function(){var a={preserveState:!0,editorFocus:!1,readOnly:1,exec:function(a){this.toggleState();this.refresh(a)},refresh:function(a){if(a.document){var b=this.state==CKEDITOR.TRISTATE_ON?\"attachClass\":\"removeClass\";a.editable()[b](\"cke_show_borders\")}}};\nCKEDITOR.plugins.add(\"showborders\",{modes:{wysiwyg:1},onLoad:function(){var a;a=(CKEDITOR.env.ie6Compat?[\".%1 table.%2,\",\".%1 table.%2 td, .%1 table.%2 th\",\"{\",\"border : #d3d3d3 1px dotted\",\"}\"]:\".%1 table.%2,;.%1 table.%2 \\x3e tr \\x3e td, .%1 table.%2 \\x3e tr \\x3e th,;.%1 table.%2 \\x3e tbody \\x3e tr \\x3e td, .%1 table.%2 \\x3e tbody \\x3e tr \\x3e th,;.%1 table.%2 \\x3e thead \\x3e tr \\x3e td, .%1 table.%2 \\x3e thead \\x3e tr \\x3e th,;.%1 table.%2 \\x3e tfoot \\x3e tr \\x3e td, .%1 table.%2 \\x3e tfoot \\x3e tr \\x3e th;{;border : #d3d3d3 1px dotted;}\".split(\";\")).join(\"\").replace(/%2/g,\n\"cke_show_border\").replace(/%1/g,\"cke_show_borders \");CKEDITOR.addCss(a)},init:function(e){var b=e.addCommand(\"showborders\",a);b.canUndo=!1;!1!==e.config.startupShowBorders&&b.setState(CKEDITOR.TRISTATE_ON);e.on(\"mode\",function(){b.state!=CKEDITOR.TRISTATE_DISABLED&&b.refresh(e)},null,null,100);e.on(\"contentDom\",function(){b.state!=CKEDITOR.TRISTATE_DISABLED&&b.refresh(e)});e.on(\"removeFormatCleanup\",function(a){a=a.data;e.getCommand(\"showborders\").state==CKEDITOR.TRISTATE_ON&&a.is(\"table\")&&(!a.hasAttribute(\"border\")||\n0>=parseInt(a.getAttribute(\"border\"),10))&&a.addClass(\"cke_show_border\")})},afterInit:function(a){var b=a.dataProcessor;a=b&&b.dataFilter;b=b&&b.htmlFilter;a&&a.addRules({elements:{table:function(a){a=a.attributes;var b=a[\"class\"],e=parseInt(a.border,10);e&&!(0>=e)||b&&-1!=b.indexOf(\"cke_show_border\")||(a[\"class\"]=(b||\"\")+\" cke_show_border\")}}});b&&b.addRules({elements:{table:function(a){a=a.attributes;var b=a[\"class\"];b&&(a[\"class\"]=b.replace(\"cke_show_border\",\"\").replace(/\\s{2}/,\" \").replace(/^\\s+|\\s+$/,\n\"\"))}}})}});CKEDITOR.on(\"dialogDefinition\",function(a){var b=a.data.name;if(\"table\"==b||\"tableProperties\"==b)if(a=a.data.definition,b=a.getContents(\"info\").get(\"txtBorder\"),b.commit=CKEDITOR.tools.override(b.commit,function(a){return function(b,e){a.apply(this,arguments);var m=parseInt(this.getValue(),10);e[!m||0>=m?\"addClass\":\"removeClass\"](\"cke_show_border\")}}),a=(a=a.getContents(\"advanced\"))&&a.get(\"advCSSClasses\"))a.setup=CKEDITOR.tools.override(a.setup,function(a){return function(){a.apply(this,\narguments);this.setValue(this.getValue().replace(/cke_show_border/,\"\"))}}),a.commit=CKEDITOR.tools.override(a.commit,function(a){return function(b,e){a.apply(this,arguments);parseInt(e.getAttribute(\"border\"),10)||e.addClass(\"cke_show_border\")}})})}(),function(){CKEDITOR.plugins.add(\"sourcearea\",{init:function(e){function b(){var a=d&&this.equals(CKEDITOR.document.getActive());this.hide();this.setStyle(\"height\",this.getParent().$.clientHeight+\"px\");this.setStyle(\"width\",this.getParent().$.clientWidth+\n\"px\");this.show();a&&this.focus()}if(e.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var c=CKEDITOR.plugins.sourcearea;e.addMode(\"source\",function(c){var d=e.ui.space(\"contents\").getDocument().createElement(\"textarea\");d.setStyles(CKEDITOR.tools.extend({width:CKEDITOR.env.ie7Compat?\"99%\":\"100%\",height:\"100%\",resize:\"none\",outline:\"none\",\"text-align\":\"left\"},CKEDITOR.tools.cssVendorPrefix(\"tab-size\",e.config.sourceAreaTabSize||4)));d.setAttribute(\"dir\",\"ltr\");d.addClass(\"cke_source\").addClass(\"cke_reset\").addClass(\"cke_enable_context_menu\");\ne.ui.space(\"contents\").append(d);d=e.editable(new a(e,d));d.setData(e.getData(1));CKEDITOR.env.ie&&(d.attachListener(e,\"resize\",b,d),d.attachListener(CKEDITOR.document.getWindow(),\"resize\",b,d),CKEDITOR.tools.setTimeout(b,0,d));e.fire(\"ariaWidget\",this);c()});e.addCommand(\"source\",c.commands.source);e.ui.addButton&&e.ui.addButton(\"Source\",{label:e.lang.sourcearea.toolbar,command:\"source\",toolbar:\"mode,10\"});e.on(\"mode\",function(){e.getCommand(\"source\").setState(\"source\"==e.mode?CKEDITOR.TRISTATE_ON:\nCKEDITOR.TRISTATE_OFF)});var d=CKEDITOR.env.ie&&9==CKEDITOR.env.version}}});var a=CKEDITOR.tools.createClass({base:CKEDITOR.editable,proto:{setData:function(a){this.setValue(a);this.status=\"ready\";this.editor.fire(\"dataReady\")},getData:function(){return this.getValue()},insertHtml:function(){},insertElement:function(){},insertText:function(){},setReadOnly:function(a){this[(a?\"set\":\"remove\")+\"Attribute\"](\"readOnly\",\"readonly\")},detach:function(){a.baseProto.detach.call(this);this.clearCustomData();\nthis.remove()}}})}(),CKEDITOR.plugins.sourcearea={commands:{source:{modes:{wysiwyg:1,source:1},editorFocus:!1,readOnly:1,exec:function(a){\"wysiwyg\"==a.mode&&a.fire(\"saveSnapshot\");a.getCommand(\"source\").setState(CKEDITOR.TRISTATE_DISABLED);a.setMode(\"source\"==a.mode?\"wysiwyg\":\"source\")},canUndo:!1}}},CKEDITOR.plugins.add(\"specialchar\",{availableLangs:{af:1,ar:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,\"de-ch\":1,el:1,en:1,\"en-gb\":1,eo:1,es:1,et:1,eu:1,fa:1,fi:1,fr:1,\"fr-ca\":1,gl:1,he:1,hr:1,hu:1,id:1,it:1,ja:1,\nkm:1,ko:1,ku:1,lt:1,lv:1,nb:1,nl:1,no:1,pl:1,pt:1,\"pt-br\":1,ru:1,si:1,sk:1,sl:1,sq:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,\"zh-cn\":1},requires:\"dialog\",init:function(a){var e=this;CKEDITOR.dialog.add(\"specialchar\",this.path+\"dialogs/specialchar.js\");a.addCommand(\"specialchar\",{exec:function(){var b=a.langCode,b=e.availableLangs[b]?b:e.availableLangs[b.replace(/-.*/,\"\")]?b.replace(/-.*/,\"\"):\"en\";CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(e.path+\"dialogs/lang/\"+b+\".js\"),function(){CKEDITOR.tools.extend(a.lang.specialchar,\ne.langEntries[b]);a.openDialog(\"specialchar\")})},modes:{wysiwyg:1},canUndo:!1});a.ui.addButton&&a.ui.addButton(\"SpecialChar\",{label:a.lang.specialchar.toolbar,command:\"specialchar\",toolbar:\"insert,50\"})}}),CKEDITOR.config.specialChars=\"! \\x26quot; # $ % \\x26amp; ' ( ) * + - . / 0 1 2 3 4 5 6 7 8 9 : ; \\x26lt; \\x3d \\x26gt; ? @ A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [ ] ^ _ ` a b c d e f g h i j k l m n o p q r s t u v w x y z { | } ~ \\x26euro; \\x26lsquo; \\x26rsquo; \\x26ldquo; \\x26rdquo; \\x26ndash; \\x26mdash; \\x26iexcl; \\x26cent; \\x26pound; \\x26curren; \\x26yen; \\x26brvbar; \\x26sect; \\x26uml; \\x26copy; \\x26ordf; \\x26laquo; \\x26not; \\x26reg; \\x26macr; \\x26deg; \\x26sup2; \\x26sup3; \\x26acute; \\x26micro; \\x26para; \\x26middot; \\x26cedil; \\x26sup1; \\x26ordm; \\x26raquo; \\x26frac14; \\x26frac12; \\x26frac34; \\x26iquest; \\x26Agrave; \\x26Aacute; \\x26Acirc; \\x26Atilde; \\x26Auml; \\x26Aring; \\x26AElig; \\x26Ccedil; \\x26Egrave; \\x26Eacute; \\x26Ecirc; \\x26Euml; \\x26Igrave; \\x26Iacute; \\x26Icirc; \\x26Iuml; \\x26ETH; \\x26Ntilde; \\x26Ograve; \\x26Oacute; \\x26Ocirc; \\x26Otilde; \\x26Ouml; \\x26times; \\x26Oslash; \\x26Ugrave; \\x26Uacute; \\x26Ucirc; \\x26Uuml; \\x26Yacute; \\x26THORN; \\x26szlig; \\x26agrave; \\x26aacute; \\x26acirc; \\x26atilde; \\x26auml; \\x26aring; \\x26aelig; \\x26ccedil; \\x26egrave; \\x26eacute; \\x26ecirc; \\x26euml; \\x26igrave; \\x26iacute; \\x26icirc; \\x26iuml; \\x26eth; \\x26ntilde; \\x26ograve; \\x26oacute; \\x26ocirc; \\x26otilde; \\x26ouml; \\x26divide; \\x26oslash; \\x26ugrave; \\x26uacute; \\x26ucirc; \\x26uuml; \\x26yacute; \\x26thorn; \\x26yuml; \\x26OElig; \\x26oelig; \\x26#372; \\x26#374 \\x26#373 \\x26#375; \\x26sbquo; \\x26#8219; \\x26bdquo; \\x26hellip; \\x26trade; \\x26#9658; \\x26bull; \\x26rarr; \\x26rArr; \\x26hArr; \\x26diams; \\x26asymp;\".split(\" \"),\nfunction(){CKEDITOR.plugins.add(\"stylescombo\",{requires:\"richcombo\",init:function(a){var e=a.config,b=a.lang.stylescombo,c={},d=[],l=[];a.on(\"stylesSet\",function(b){if(b=b.data.styles){for(var f,h,k,g=0,n=b.length;g<n;g++)(f=b[g],a.blockless&&f.element in CKEDITOR.dtd.$block||(h=f.name,f=new CKEDITOR.style(f),a.filter.customConfig&&!a.filter.check(f)))||(f._name=h,f._.enterMode=e.enterMode,f._.type=k=f.assignedTo||f.type,f._.weight=g+1E3*(k==CKEDITOR.STYLE_OBJECT?1:k==CKEDITOR.STYLE_BLOCK?2:3),c[h]=\nf,d.push(f),l.push(f));d.sort(function(a,b){return a._.weight-b._.weight})}});a.ui.addRichCombo(\"Styles\",{label:b.label,title:b.panelTitle,toolbar:\"styles,10\",allowedContent:l,panel:{css:[CKEDITOR.skin.getPath(\"editor\")].concat(e.contentsCss),multiSelect:!0,attributes:{\"aria-label\":b.panelTitle}},init:function(){\nvar this$1 = this;\nvar a,c,e,k,g,l;g=0;for(l=d.length;g<l;g++)a=d[g],c=a._name,k=a._.type,k!=e&&(this$1.startGroup(b[\"panelTitle\"+String(k)]),e=k),this$1.add(c,a.type==CKEDITOR.STYLE_OBJECT?c:a.buildPreview(),c);\nthis.commit()},onClick:function(b){a.focus();a.fire(\"saveSnapshot\");b=c[b];var d=a.elementPath();a[b.checkActive(d,a)?\"removeStyle\":\"applyStyle\"](b);a.fire(\"saveSnapshot\")},onRender:function(){a.on(\"selectionChange\",function(b){\nvar this$1 = this;\nvar d=this.getValue();b=b.data.path.elements;for(var e=0,k=b.length,g;e<k;e++){g=b[e];for(var l in c)if(c[l].checkElementRemovable(g,!0,a)){l!=d&&this$1.setValue(l);return}}this.setValue(\"\")},this)},onOpen:function(){\nvar this$1 = this;\nvar d=a.getSelection().getSelectedElement(),d=a.elementPath(d),\nf=[0,0,0,0];this.showAll();this.unmarkAll();for(var e in c){var k=c[e],g=k._.type;k.checkApplicable(d,a,a.activeFilter)?f[g]++:this$1.hideItem(e);k.checkActive(d,a)&&this$1.mark(e)}f[CKEDITOR.STYLE_BLOCK]||this.hideGroup(b[\"panelTitle\"+String(CKEDITOR.STYLE_BLOCK)]);f[CKEDITOR.STYLE_INLINE]||this.hideGroup(b[\"panelTitle\"+String(CKEDITOR.STYLE_INLINE)]);f[CKEDITOR.STYLE_OBJECT]||this.hideGroup(b[\"panelTitle\"+String(CKEDITOR.STYLE_OBJECT)])},refresh:function(){var b=a.elementPath();if(b){for(var d in c)if(c[d].checkApplicable(b,\na,a.activeFilter))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}},reset:function(){c={};d=[]}})}})}(),function(){function a(a){return{editorFocus:!1,canUndo:!1,modes:{wysiwyg:1},exec:function(b){if(b.editable().hasFocus){var c=b.getSelection(),f;if(f=(new CKEDITOR.dom.elementPath(c.getCommonAncestor(),c.root)).contains({td:1,th:1},1)){var c=b.createRange(),e=CKEDITOR.tools.tryThese(function(){var b=f.getParent().$.cells[f.$.cellIndex+(a?-1:1)];b.parentNode.parentNode;return b},function(){var b=\nf.getParent(),b=b.getAscendant(\"table\").$.rows[b.$.rowIndex+(a?-1:1)];return b.cells[a?b.cells.length-1:0]});if(e||a)if(e)e=new CKEDITOR.dom.element(e),c.moveToElementEditStart(e),c.checkStartOfBlock()&&c.checkEndOfBlock()||c.selectNodeContents(e);else return!0;else{for(var k=f.getAscendant(\"table\").$,e=f.getParent().$.cells,k=new CKEDITOR.dom.element(k.insertRow(-1),b.document),g=0,n=e.length;g<n;g++)k.append((new CKEDITOR.dom.element(e[g],b.document)).clone(!1,!1)).appendBogus();c.moveToElementEditStart(k)}c.select(!0);\nreturn!0}}return!1}}}var e={editorFocus:!1,modes:{wysiwyg:1,source:1}},b={exec:function(a){a.container.focusNext(!0,a.tabIndex)}},c={exec:function(a){a.container.focusPrevious(!0,a.tabIndex)}};CKEDITOR.plugins.add(\"tab\",{init:function(d){for(var l=!1!==d.config.enableTabKeyTools,m=d.config.tabSpaces||0,f=\"\";m--;)f+=\" \";if(f)d.on(\"key\",function(a){9==a.data.keyCode&&(d.insertText(f),a.cancel())});if(l)d.on(\"key\",function(a){(9==a.data.keyCode&&d.execCommand(\"selectNextCell\")||a.data.keyCode==CKEDITOR.SHIFT+\n9&&d.execCommand(\"selectPreviousCell\"))&&a.cancel()});d.addCommand(\"blur\",CKEDITOR.tools.extend(b,e));d.addCommand(\"blurBack\",CKEDITOR.tools.extend(c,e));d.addCommand(\"selectNextCell\",a());d.addCommand(\"selectPreviousCell\",a(!0))}})}(),CKEDITOR.dom.element.prototype.focusNext=function(a,e){\nvar this$1 = this;\nvar b=void 0===e?this.getTabIndex():e,c,d,l,m,f,h;if(0>=b)for(f=this.getNextSourceNode(a,CKEDITOR.NODE_ELEMENT);f;){if(f.isVisible()&&0===f.getTabIndex()){l=f;break}f=f.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT)}else for(f=\nthis.getDocument().getBody().getFirst();f=f.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!c)if(!d&&f.equals(this$1)){if(d=!0,a){if(!(f=f.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;c=1}}else d&&!this$1.contains(f)&&(c=1);if(f.isVisible()&&!(0>(h=f.getTabIndex()))){if(c&&h==b){l=f;break}h>b&&(!l||!m||h<m)?(l=f,m=h):l||0!==h||(l=f,m=h)}}l&&l.focus()},CKEDITOR.dom.element.prototype.focusPrevious=function(a,e){\nvar this$1 = this;\nfor(var b=void 0===e?this.getTabIndex():e,c,d,l,m=0,f,h=this.getDocument().getBody().getLast();h=\nh.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!c)if(!d&&h.equals(this$1)){if(d=!0,a){if(!(h=h.getPreviousSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;c=1}}else d&&!this$1.contains(h)&&(c=1);if(h.isVisible()&&!(0>(f=h.getTabIndex())))if(0>=b){if(c&&0===f){l=h;break}f>m&&(l=h,m=f)}else{if(c&&f==b){l=h;break}f<b&&(!l||f>m)&&(l=h,m=f)}}l&&l.focus()},CKEDITOR.plugins.add(\"table\",{requires:\"dialog\",init:function(a){function e(a){return CKEDITOR.tools.extend(a||{},{contextSensitive:1,refresh:function(a,\nb){this.setState(b.contains(\"table\",1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}if(!a.blockless){var b=a.lang.table;a.addCommand(\"table\",new CKEDITOR.dialogCommand(\"table\",{context:\"table\",allowedContent:\"table{width,height}[align,border,cellpadding,cellspacing,summary];caption tbody thead tfoot;th td tr[scope];\"+(a.plugins.dialogadvtab?\"table\"+a.plugins.dialogadvtab.allowedContent():\"\"),requiredContent:\"table\",contentTransformations:[[\"table{width}: sizeToStyle\",\"table[width]: sizeToAttribute\"]]}));\na.addCommand(\"tableProperties\",new CKEDITOR.dialogCommand(\"tableProperties\",e()));a.addCommand(\"tableDelete\",e({exec:function(a){var b=a.elementPath().contains(\"table\",1);if(b){var e=b.getParent(),m=a.editable();1!=e.getChildCount()||e.is(\"td\",\"th\")||e.equals(m)||(b=e);a=a.createRange();a.moveToPosition(b,CKEDITOR.POSITION_BEFORE_START);b.remove();a.select()}}}));a.ui.addButton&&a.ui.addButton(\"Table\",{label:b.toolbar,command:\"table\",toolbar:\"insert,30\"});CKEDITOR.dialog.add(\"table\",this.path+\"dialogs/table.js\");\nCKEDITOR.dialog.add(\"tableProperties\",this.path+\"dialogs/table.js\");a.addMenuItems&&a.addMenuItems({table:{label:b.menu,command:\"tableProperties\",group:\"table\",order:5},tabledelete:{label:b.deleteTable,command:\"tableDelete\",group:\"table\",order:1}});a.on(\"doubleclick\",function(a){a.data.element.is(\"table\")&&(a.data.dialog=\"tableProperties\")});a.contextMenu&&a.contextMenu.addListener(function(){return{tabledelete:CKEDITOR.TRISTATE_OFF,table:CKEDITOR.TRISTATE_OFF}})}}}),function(){function a(a){function b(a){0<\nc.length||a.type!=CKEDITOR.NODE_ELEMENT||!v.test(a.getName())||a.getCustomData(\"selected_cell\")||(CKEDITOR.dom.element.setMarker(d,a,\"selected_cell\",!0),c.push(a))}a=a.getRanges();for(var c=[],d={},f=0;f<a.length;f++){var e=a[f];if(e.collapsed)e=e.getCommonAncestor(),(e=e.getAscendant(\"td\",!0)||e.getAscendant(\"th\",!0))&&c.push(e);else{var e=new CKEDITOR.dom.walker(e),g;for(e.guard=b;g=e.next();)g.type==CKEDITOR.NODE_ELEMENT&&g.is(CKEDITOR.dtd.table)||(g=g.getAscendant(\"td\",!0)||g.getAscendant(\"th\",\n!0))&&!g.getCustomData(\"selected_cell\")&&(CKEDITOR.dom.element.setMarker(d,g,\"selected_cell\",!0),c.push(g))}}CKEDITOR.dom.element.clearAllMarkers(d);return c}function e(b,c){for(var d=a(b),f=d[0],e=f.getAscendant(\"table\"),f=f.getDocument(),g=d[0].getParent(),h=g.$.rowIndex,d=d[d.length-1],k=d.getParent().$.rowIndex+d.$.rowSpan-1,d=new CKEDITOR.dom.element(e.$.rows[k]),h=c?h:k,g=c?g:d,d=CKEDITOR.tools.buildTableMap(e),e=d[h],h=c?d[h-1]:d[h+1],d=d[0].length,f=f.createElement(\"tr\"),k=0;e[k]&&k<d;k++){var m;\n1<e[k].rowSpan&&h&&e[k]==h[k]?(m=e[k],m.rowSpan+=1):(m=(new CKEDITOR.dom.element(e[k])).clone(),m.removeAttribute(\"rowSpan\"),m.appendBogus(),f.append(m),m=m.$);k+=m.colSpan-1}c?f.insertBefore(g):f.insertAfter(g)}function b(c){if(c instanceof CKEDITOR.dom.selection){var d=a(c),f=d[0].getAscendant(\"table\"),e=CKEDITOR.tools.buildTableMap(f);c=d[0].getParent().$.rowIndex;for(var d=d[d.length-1],g=d.getParent().$.rowIndex+d.$.rowSpan-1,d=[],h=c;h<=g;h++){for(var k=e[h],m=new CKEDITOR.dom.element(f.$.rows[h]),\nl=0;l<k.length;l++){var n=new CKEDITOR.dom.element(k[l]),v=n.getParent().$.rowIndex;1==n.$.rowSpan?n.remove():(--n.$.rowSpan,v==h&&(v=e[h+1],v[l-1]?n.insertAfter(new CKEDITOR.dom.element(v[l-1])):(new CKEDITOR.dom.element(f.$.rows[h+1])).append(n,1)));l+=n.$.colSpan-1}d.push(m)}e=f.$.rows;f=new CKEDITOR.dom.element(e[g+1]||(0<c?e[c-1]:null)||f.$.parentNode);for(h=d.length;0<=h;h--)b(d[h]);return f}c instanceof CKEDITOR.dom.element&&(f=c.getAscendant(\"table\"),1==f.$.rows.length?f.remove():c.remove());\nreturn null}function c(a,b){for(var c=b?Infinity:0,d=0;d<a.length;d++){var f;f=a[d];for(var e=b,g=f.getParent().$.cells,h=0,k=0;k<g.length;k++){var m=g[k],h=h+(e?1:m.colSpan);if(m==f.$)break}f=h-1;if(b?f<c:f>c)c=f}return c}function d(b,d){for(var f=a(b),e=f[0].getAscendant(\"table\"),g=c(f,1),f=c(f),g=d?g:f,h=CKEDITOR.tools.buildTableMap(e),e=[],f=[],k=h.length,m=0;m<k;m++)e.push(h[m][g]),f.push(d?h[m][g-1]:h[m][g+1]);for(m=0;m<k;m++)e[m]&&(1<e[m].colSpan&&f[m]==e[m]?(g=e[m],g.colSpan+=1):(g=(new CKEDITOR.dom.element(e[m])).clone(),\ng.removeAttribute(\"colSpan\"),g.appendBogus(),g[d?\"insertBefore\":\"insertAfter\"].call(g,new CKEDITOR.dom.element(e[m])),g=g.$),m+=g.rowSpan-1)}function l(a,b){var c=a.getStartElement();if(c=c.getAscendant(\"td\",1)||c.getAscendant(\"th\",1)){var d=c.clone();d.appendBogus();b?d.insertBefore(c):d.insertAfter(c)}}function m(b){if(b instanceof CKEDITOR.dom.selection){b=a(b);var c=b[0]&&b[0].getAscendant(\"table\"),d;a:{var e=0;d=b.length-1;for(var g={},h,k;h=b[e++];)CKEDITOR.dom.element.setMarker(g,h,\"delete_cell\",\n!0);for(e=0;h=b[e++];)if((k=h.getPrevious())&&!k.getCustomData(\"delete_cell\")||(k=h.getNext())&&!k.getCustomData(\"delete_cell\")){CKEDITOR.dom.element.clearAllMarkers(g);d=k;break a}CKEDITOR.dom.element.clearAllMarkers(g);k=b[0].getParent();(k=k.getPrevious())?d=k.getLast():(k=b[d].getParent(),d=(k=k.getNext())?k.getChild(0):null)}for(k=b.length-1;0<=k;k--)m(b[k]);d?f(d,!0):c&&c.remove()}else b instanceof CKEDITOR.dom.element&&(c=b.getParent(),1==c.getChildCount()?c.remove():b.remove())}function f(a,\nb){var c=a.getDocument(),d=CKEDITOR.document;CKEDITOR.env.ie&&10==CKEDITOR.env.version&&(d.focus(),c.focus());c=new CKEDITOR.dom.range(c);c[\"moveToElementEdit\"+(b?\"End\":\"Start\")](a)||(c.selectNodeContents(a),c.collapse(b?!1:!0));c.select(!0)}function h(a,b,c){a=a[b];if(\"undefined\"==typeof c)return a;for(b=0;a&&b<a.length;b++){if(c.is&&a[b]==c.$)return b;if(b==c)return new CKEDITOR.dom.element(a[b])}return c.is?-1:null}function k(b,c,d){var f=a(b),e;if((c?1!=f.length:2>f.length)||(e=b.getCommonAncestor())&&\ne.type==CKEDITOR.NODE_ELEMENT&&e.is(\"table\"))return!1;var g;b=f[0];e=b.getAscendant(\"table\");var k=CKEDITOR.tools.buildTableMap(e),m=k.length,l=k[0].length,n=b.getParent().$.rowIndex,v=h(k,n,b);if(c){var B;try{var C=parseInt(b.getAttribute(\"rowspan\"),10)||1;g=parseInt(b.getAttribute(\"colspan\"),10)||1;B=k[\"up\"==c?n-C:\"down\"==c?n+C:n][\"left\"==c?v-g:\"right\"==c?v+g:v]}catch(F){return!1}if(!B||b.$==B)return!1;f[\"up\"==c||\"left\"==c?\"unshift\":\"push\"](new CKEDITOR.dom.element(B))}c=b.getDocument();var E=n,\nC=B=0,J=!d&&new CKEDITOR.dom.documentFragment(c),G=0;for(c=0;c<f.length;c++){g=f[c];var M=g.getParent(),I=g.getFirst(),H=g.$.colSpan,R=g.$.rowSpan,M=M.$.rowIndex,P=h(k,M,g),G=G+H*R,C=Math.max(C,P-v+H);B=Math.max(B,M-n+R);d||(H=g,(R=H.getBogus())&&R.remove(),H.trim(),g.getChildren().count()&&(M==E||!I||I.isBlockBoundary&&I.isBlockBoundary({br:1})||(E=J.getLast(CKEDITOR.dom.walker.whitespaces(!0)),!E||E.is&&E.is(\"br\")||J.append(\"br\")),g.moveChildren(J)),c?g.remove():g.setHtml(\"\"));E=M}if(d)return B*\nC==G;J.moveChildren(b);b.appendBogus();C>=l?b.removeAttribute(\"rowSpan\"):b.$.rowSpan=B;B>=m?b.removeAttribute(\"colSpan\"):b.$.colSpan=C;d=new CKEDITOR.dom.nodeList(e.$.rows);f=d.count();for(c=f-1;0<=c;c--)e=d.getItem(c),e.$.cells.length||(e.remove(),f++);return b}function g(b,c){var d=a(b);if(1<d.length)return!1;if(c)return!0;var d=d[0],f=d.getParent(),e=f.getAscendant(\"table\"),g=CKEDITOR.tools.buildTableMap(e),k=f.$.rowIndex,m=h(g,k,d),l=d.$.rowSpan,n;if(1<l){n=Math.ceil(l/2);for(var l=Math.floor(l/\n2),f=k+n,e=new CKEDITOR.dom.element(e.$.rows[f]),g=h(g,f),v,f=d.clone(),k=0;k<g.length;k++)if(v=g[k],v.parentNode==e.$&&k>m){f.insertBefore(new CKEDITOR.dom.element(v));break}else v=null;v||e.append(f)}else for(l=n=1,e=f.clone(),e.insertAfter(f),e.append(f=d.clone()),v=h(g,k),m=0;m<v.length;m++)v[m].rowSpan++;f.appendBogus();d.$.rowSpan=n;f.$.rowSpan=l;1==n&&d.removeAttribute(\"rowSpan\");1==l&&f.removeAttribute(\"rowSpan\");return f}function n(b,c){var d=a(b);if(1<d.length)return!1;if(c)return!0;var d=\nd[0],f=d.getParent(),e=f.getAscendant(\"table\"),e=CKEDITOR.tools.buildTableMap(e),g=h(e,f.$.rowIndex,d),k=d.$.colSpan;if(1<k)f=Math.ceil(k/2),k=Math.floor(k/2);else{for(var k=f=1,m=[],l=0;l<e.length;l++){var n=e[l];m.push(n[g]);1<n[g].rowSpan&&(l+=n[g].rowSpan-1)}for(e=0;e<m.length;e++)m[e].colSpan++}e=d.clone();e.insertAfter(d);e.appendBogus();d.$.colSpan=f;e.$.colSpan=k;1==f&&d.removeAttribute(\"colSpan\");1==k&&e.removeAttribute(\"colSpan\");return e}var v=/^(?:td|th)$/;CKEDITOR.plugins.tabletools=\n{requires:\"table,dialog,contextmenu\",init:function(c){function h(a){return CKEDITOR.tools.extend(a||{},{contextSensitive:1,refresh:function(a,b){this.setState(b.contains({td:1,th:1},1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}function t(a,b){var d=c.addCommand(a,b);c.addFeature(d)}var p=c.lang.table;t(\"cellProperties\",new CKEDITOR.dialogCommand(\"cellProperties\",h({allowedContent:\"td th{width,height,border-color,background-color,white-space,vertical-align,text-align}[colspan,rowspan]\",\nrequiredContent:\"table\"})));CKEDITOR.dialog.add(\"cellProperties\",this.path+\"dialogs/tableCell.js\");t(\"rowDelete\",h({requiredContent:\"table\",exec:function(a){a=a.getSelection();f(b(a))}}));t(\"rowInsertBefore\",h({requiredContent:\"table\",exec:function(a){a=a.getSelection();e(a,!0)}}));t(\"rowInsertAfter\",h({requiredContent:\"table\",exec:function(a){a=a.getSelection();e(a)}}));t(\"columnDelete\",h({requiredContent:\"table\",exec:function(b){b=b.getSelection();b=a(b);var c=b[0],d=b[b.length-1];b=c.getAscendant(\"table\");\nfor(var e=CKEDITOR.tools.buildTableMap(b),g,h,k=[],m=0,l=e.length;m<l;m++)for(var n=0,q=e[m].length;n<q;n++)e[m][n]==c.$&&(g=n),e[m][n]==d.$&&(h=n);for(m=g;m<=h;m++)for(n=0;n<e.length;n++)d=e[n],c=new CKEDITOR.dom.element(b.$.rows[n]),d=new CKEDITOR.dom.element(d[m]),d.$&&(1==d.$.colSpan?d.remove():--d.$.colSpan,n+=d.$.rowSpan-1,c.$.cells.length||k.push(c));h=b.$.rows[0]&&b.$.rows[0].cells;g=new CKEDITOR.dom.element(h[g]||(g?h[g-1]:b.$.parentNode));k.length==l&&b.remove();g&&f(g,!0)}}));t(\"columnInsertBefore\",\nh({requiredContent:\"table\",exec:function(a){a=a.getSelection();d(a,!0)}}));t(\"columnInsertAfter\",h({requiredContent:\"table\",exec:function(a){a=a.getSelection();d(a)}}));t(\"cellDelete\",h({requiredContent:\"table\",exec:function(a){a=a.getSelection();m(a)}}));t(\"cellMerge\",h({allowedContent:\"td[colspan,rowspan]\",requiredContent:\"td[colspan,rowspan]\",exec:function(a){f(k(a.getSelection()),!0)}}));t(\"cellMergeRight\",h({allowedContent:\"td[colspan]\",requiredContent:\"td[colspan]\",exec:function(a){f(k(a.getSelection(),\n\"right\"),!0)}}));t(\"cellMergeDown\",h({allowedContent:\"td[rowspan]\",requiredContent:\"td[rowspan]\",exec:function(a){f(k(a.getSelection(),\"down\"),!0)}}));t(\"cellVerticalSplit\",h({allowedContent:\"td[rowspan]\",requiredContent:\"td[rowspan]\",exec:function(a){f(n(a.getSelection()))}}));t(\"cellHorizontalSplit\",h({allowedContent:\"td[colspan]\",requiredContent:\"td[colspan]\",exec:function(a){f(g(a.getSelection()))}}));t(\"cellInsertBefore\",h({requiredContent:\"table\",exec:function(a){a=a.getSelection();l(a,!0)}}));\nt(\"cellInsertAfter\",h({requiredContent:\"table\",exec:function(a){a=a.getSelection();l(a)}}));c.addMenuItems&&c.addMenuItems({tablecell:{label:p.cell.menu,group:\"tablecell\",order:1,getItems:function(){var b=c.getSelection(),d=a(b);return{tablecell_insertBefore:CKEDITOR.TRISTATE_OFF,tablecell_insertAfter:CKEDITOR.TRISTATE_OFF,tablecell_delete:CKEDITOR.TRISTATE_OFF,tablecell_merge:k(b,null,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_right:k(b,\"right\",!0)?CKEDITOR.TRISTATE_OFF:\nCKEDITOR.TRISTATE_DISABLED,tablecell_merge_down:k(b,\"down\",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_vertical:n(b,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_horizontal:g(b,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_properties:0<d.length?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED}}},tablecell_insertBefore:{label:p.cell.insertBefore,group:\"tablecell\",command:\"cellInsertBefore\",order:5},tablecell_insertAfter:{label:p.cell.insertAfter,\ngroup:\"tablecell\",command:\"cellInsertAfter\",order:10},tablecell_delete:{label:p.cell.deleteCell,group:\"tablecell\",command:\"cellDelete\",order:15},tablecell_merge:{label:p.cell.merge,group:\"tablecell\",command:\"cellMerge\",order:16},tablecell_merge_right:{label:p.cell.mergeRight,group:\"tablecell\",command:\"cellMergeRight\",order:17},tablecell_merge_down:{label:p.cell.mergeDown,group:\"tablecell\",command:\"cellMergeDown\",order:18},tablecell_split_horizontal:{label:p.cell.splitHorizontal,group:\"tablecell\",\ncommand:\"cellHorizontalSplit\",order:19},tablecell_split_vertical:{label:p.cell.splitVertical,group:\"tablecell\",command:\"cellVerticalSplit\",order:20},tablecell_properties:{label:p.cell.title,group:\"tablecellproperties\",command:\"cellProperties\",order:21},tablerow:{label:p.row.menu,group:\"tablerow\",order:1,getItems:function(){return{tablerow_insertBefore:CKEDITOR.TRISTATE_OFF,tablerow_insertAfter:CKEDITOR.TRISTATE_OFF,tablerow_delete:CKEDITOR.TRISTATE_OFF}}},tablerow_insertBefore:{label:p.row.insertBefore,\ngroup:\"tablerow\",command:\"rowInsertBefore\",order:5},tablerow_insertAfter:{label:p.row.insertAfter,group:\"tablerow\",command:\"rowInsertAfter\",order:10},tablerow_delete:{label:p.row.deleteRow,group:\"tablerow\",command:\"rowDelete\",order:15},tablecolumn:{label:p.column.menu,group:\"tablecolumn\",order:1,getItems:function(){return{tablecolumn_insertBefore:CKEDITOR.TRISTATE_OFF,tablecolumn_insertAfter:CKEDITOR.TRISTATE_OFF,tablecolumn_delete:CKEDITOR.TRISTATE_OFF}}},tablecolumn_insertBefore:{label:p.column.insertBefore,\ngroup:\"tablecolumn\",command:\"columnInsertBefore\",order:5},tablecolumn_insertAfter:{label:p.column.insertAfter,group:\"tablecolumn\",command:\"columnInsertAfter\",order:10},tablecolumn_delete:{label:p.column.deleteColumn,group:\"tablecolumn\",command:\"columnDelete\",order:15}});c.contextMenu&&c.contextMenu.addListener(function(a,b,c){return(a=c.contains({td:1,th:1},1))&&!a.isReadOnly()?{tablecell:CKEDITOR.TRISTATE_OFF,tablerow:CKEDITOR.TRISTATE_OFF,tablecolumn:CKEDITOR.TRISTATE_OFF}:null})},getSelectedCells:a};\nCKEDITOR.plugins.add(\"tabletools\",CKEDITOR.plugins.tabletools)}(),CKEDITOR.tools.buildTableMap=function(a){a=a.$.rows;for(var e=-1,b=[],c=0;c<a.length;c++){e++;!b[e]&&(b[e]=[]);for(var d=-1,l=0;l<a[c].cells.length;l++){var m=a[c].cells[l];for(d++;b[e][d];)d++;for(var f=isNaN(m.colSpan)?1:m.colSpan,m=isNaN(m.rowSpan)?1:m.rowSpan,h=0;h<m;h++){b[e+h]||(b[e+h]=[]);for(var k=0;k<f;k++)b[e+h][d+k]=a[c].cells[l]}d+=f-1}}return b},function(){function a(a){function b(){for(var g=c(),h=CKEDITOR.tools.clone(a.config.toolbarGroups)||\ne(a),k=0;k<h.length;k++){var l=h[k];if(\"/\"!=l){\"string\"==typeof l&&(l=h[k]={name:l});var t,p=l.groups;if(p)for(var w=0;w<p.length;w++)t=p[w],(t=g[t])&&f(l,t);(t=g[l.name])&&f(l,t)}}return h}function c(){var b={},f,e,g;for(f in a.ui.items)e=a.ui.items[f],g=e.toolbar||\"others\",g=g.split(\",\"),e=g[0],g=parseInt(g[1]||-1,10),b[e]||(b[e]=[]),b[e].push({name:f,order:g});for(e in b)b[e]=b[e].sort(function(a,b){return a.order==b.order?0:0>b.order?-1:0>a.order?1:a.order<b.order?-1:1});return b}function f(b,\nc){if(c.length){b.items?b.items.push(a.ui.create(\"-\")):b.items=[];for(var f;f=c.shift();)f=\"string\"==typeof f?f:f.name,k&&-1!=CKEDITOR.tools.indexOf(k,f)||(f=a.ui.create(f))&&a.addFeature(f)&&b.items.push(f)}}function h(a){var b=[],c,d,e;for(c=0;c<a.length;++c)d=a[c],e={},\"/\"==d?b.push(d):CKEDITOR.tools.isArray(d)?(f(e,CKEDITOR.tools.clone(d)),b.push(e)):d.items&&(f(e,CKEDITOR.tools.clone(d.items)),e.name=d.name,b.push(e));return b}var k=a.config.removeButtons,k=k&&k.split(\",\"),g=a.config.toolbar;\n\"string\"==typeof g&&(g=a.config[\"toolbar_\"+g]);return a.toolbar=g?h(g):b()}function e(a){return a._.toolbarGroups||(a._.toolbarGroups=[{name:\"document\",groups:[\"mode\",\"document\",\"doctools\"]},{name:\"clipboard\",groups:[\"clipboard\",\"undo\"]},{name:\"editing\",groups:[\"find\",\"selection\",\"spellchecker\"]},{name:\"forms\"},\"/\",{name:\"basicstyles\",groups:[\"basicstyles\",\"cleanup\"]},{name:\"paragraph\",groups:[\"list\",\"indent\",\"blocks\",\"align\",\"bidi\"]},{name:\"links\"},{name:\"insert\"},\"/\",{name:\"styles\"},{name:\"colors\"},\n{name:\"tools\"},{name:\"others\"},{name:\"about\"}])}var b=function(){this.toolbars=[];this.focusCommandExecuted=!1};b.prototype.focus=function(){for(var a=0,b;b=this.toolbars[a++];)for(var c=0,f;f=b.items[c++];)if(f.focus){f.focus();return}};var c={modes:{wysiwyg:1,source:1},readOnly:1,exec:function(a){a.toolbox&&(a.toolbox.focusCommandExecuted=!0,CKEDITOR.env.ie||CKEDITOR.env.air?setTimeout(function(){a.toolbox.focus()},100):a.toolbox.focus())}};CKEDITOR.plugins.add(\"toolbar\",{requires:\"button\",init:function(d){var e,\nm=function(a,b){var c,g=\"rtl\"==d.lang.dir,n=d.config.toolbarGroupCycling,v=g?37:39,g=g?39:37,n=void 0===n||n;switch(b){case 9:case CKEDITOR.SHIFT+9:for(;!c||!c.items.length;)if(c=9==b?(c?c.next:a.toolbar.next)||d.toolbox.toolbars[0]:(c?c.previous:a.toolbar.previous)||d.toolbox.toolbars[d.toolbox.toolbars.length-1],c.items.length)for(a=c.items[e?c.items.length-1:0];a&&!a.focus;)(a=e?a.previous:a.next)||(c=0);a&&a.focus();return!1;case v:c=a;do c=c.next,!c&&n&&(c=a.toolbar.items[0]);while(c&&!c.focus);\nc?c.focus():m(a,9);return!1;case 40:return a.button&&a.button.hasArrow?(d.once(\"panelShow\",function(a){a.data._.panel._.currentBlock.onKeyDown(40)}),a.execute()):m(a,40==b?v:g),!1;case g:case 38:c=a;do c=c.previous,!c&&n&&(c=a.toolbar.items[a.toolbar.items.length-1]);while(c&&!c.focus);c?c.focus():(e=1,m(a,CKEDITOR.SHIFT+9),e=0);return!1;case 27:return d.focus(),!1;case 13:case 32:return a.execute(),!1}return!0};d.on(\"uiSpace\",function(c){if(c.data.space==d.config.toolbarLocation){c.removeListener();\nd.toolbox=new b;var e=CKEDITOR.tools.getNextId(),k=['\\x3cspan id\\x3d\"',e,'\" class\\x3d\"cke_voice_label\"\\x3e',d.lang.toolbar.toolbars,\"\\x3c/span\\x3e\",'\\x3cspan id\\x3d\"'+d.ui.spaceId(\"toolbox\")+'\" class\\x3d\"cke_toolbox\" role\\x3d\"group\" aria-labelledby\\x3d\"',e,'\" onmousedown\\x3d\"return false;\"\\x3e'],e=!1!==d.config.toolbarStartupExpanded,g,l;d.config.toolbarCanCollapse&&d.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&k.push('\\x3cspan class\\x3d\"cke_toolbox_main\"'+(e?\"\\x3e\":' style\\x3d\"display:none\"\\x3e'));\nfor(var v=d.toolbox.toolbars,r=a(d),q=0;q<r.length;q++){var t,p=0,w,z=r[q],A;if(z)if(g&&(k.push(\"\\x3c/span\\x3e\"),l=g=0),\"/\"===z)k.push('\\x3cspan class\\x3d\"cke_toolbar_break\"\\x3e\\x3c/span\\x3e');else{A=z.items||z;for(var u=0;u<A.length;u++){var x=A[u],D;if(x){var y=function(a){a=a.render(d,k);B=p.items.push(a)-1;0<B&&(a.previous=p.items[B-1],a.previous.next=a);a.toolbar=p;a.onkey=m;a.onfocus=function(){d.toolbox.focusCommandExecuted||d.focus()}};if(x.type==CKEDITOR.UI_SEPARATOR)l=g&&x;else{D=!1!==x.canGroup;\nif(!p){t=CKEDITOR.tools.getNextId();p={id:t,items:[]};w=z.name&&(d.lang.toolbar.toolbarGroups[z.name]||z.name);k.push('\\x3cspan id\\x3d\"',t,'\" class\\x3d\"cke_toolbar\"',w?' aria-labelledby\\x3d\"'+t+'_label\"':\"\",' role\\x3d\"toolbar\"\\x3e');w&&k.push('\\x3cspan id\\x3d\"',t,'_label\" class\\x3d\"cke_voice_label\"\\x3e',w,\"\\x3c/span\\x3e\");k.push('\\x3cspan class\\x3d\"cke_toolbar_start\"\\x3e\\x3c/span\\x3e');var B=v.push(p)-1;0<B&&(p.previous=v[B-1],p.previous.next=p)}D?g||(k.push('\\x3cspan class\\x3d\"cke_toolgroup\" role\\x3d\"presentation\"\\x3e'),\ng=1):g&&(k.push(\"\\x3c/span\\x3e\"),g=0);l&&(y(l),l=0);y(x)}}}g&&(k.push(\"\\x3c/span\\x3e\"),l=g=0);p&&k.push('\\x3cspan class\\x3d\"cke_toolbar_end\"\\x3e\\x3c/span\\x3e\\x3c/span\\x3e')}}d.config.toolbarCanCollapse&&k.push(\"\\x3c/span\\x3e\");if(d.config.toolbarCanCollapse&&d.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var C=CKEDITOR.tools.addFunction(function(){d.execCommand(\"toolbarCollapse\")});d.on(\"destroy\",function(){CKEDITOR.tools.removeFunction(C)});d.addCommand(\"toolbarCollapse\",{readOnly:1,exec:function(a){var b=\na.ui.space(\"toolbar_collapser\"),c=b.getPrevious(),d=a.ui.space(\"contents\"),f=c.getParent(),e=parseInt(d.$.style.height,10),g=f.$.offsetHeight,h=b.hasClass(\"cke_toolbox_collapser_min\");h?(c.show(),b.removeClass(\"cke_toolbox_collapser_min\"),b.setAttribute(\"title\",a.lang.toolbar.toolbarCollapse)):(c.hide(),b.addClass(\"cke_toolbox_collapser_min\"),b.setAttribute(\"title\",a.lang.toolbar.toolbarExpand));b.getFirst().setText(h?\"▲\":\"◀\");d.setStyle(\"height\",e-(f.$.offsetHeight-g)+\"px\");a.fire(\"resize\",{outerHeight:a.container.$.offsetHeight,\ncontentsHeight:d.$.offsetHeight,outerWidth:a.container.$.offsetWidth})},modes:{wysiwyg:1,source:1}});d.setKeystroke(CKEDITOR.ALT+(CKEDITOR.env.ie||CKEDITOR.env.webkit?189:109),\"toolbarCollapse\");k.push('\\x3ca title\\x3d\"'+(e?d.lang.toolbar.toolbarCollapse:d.lang.toolbar.toolbarExpand)+'\" id\\x3d\"'+d.ui.spaceId(\"toolbar_collapser\")+'\" tabIndex\\x3d\"-1\" class\\x3d\"cke_toolbox_collapser');e||k.push(\" cke_toolbox_collapser_min\");k.push('\" onclick\\x3d\"CKEDITOR.tools.callFunction('+C+')\"\\x3e','\\x3cspan class\\x3d\"cke_arrow\"\\x3e\\x26#9650;\\x3c/span\\x3e',\n\"\\x3c/a\\x3e\")}k.push(\"\\x3c/span\\x3e\");c.data.html+=k.join(\"\")}});d.on(\"destroy\",function(){if(this.toolbox){var a,b=0,c,d,e;for(a=this.toolbox.toolbars;b<a.length;b++)for(d=a[b].items,c=0;c<d.length;c++)e=d[c],e.clickFn&&CKEDITOR.tools.removeFunction(e.clickFn),e.keyDownFn&&CKEDITOR.tools.removeFunction(e.keyDownFn)}});d.on(\"uiReady\",function(){var a=d.ui.space(\"toolbox\");a&&d.focusManager.add(a,1)});d.addCommand(\"toolbarFocus\",c);d.setKeystroke(CKEDITOR.ALT+121,\"toolbarFocus\");d.ui.add(\"-\",CKEDITOR.UI_SEPARATOR,\n{});d.ui.addHandler(CKEDITOR.UI_SEPARATOR,{create:function(){return{render:function(a,b){b.push('\\x3cspan class\\x3d\"cke_toolbar_separator\" role\\x3d\"separator\"\\x3e\\x3c/span\\x3e');return{}}}}})}});CKEDITOR.ui.prototype.addToolbarGroup=function(a,b,c){var f=e(this.editor),h=0===b,k={name:a};if(c){if(c=CKEDITOR.tools.search(f,function(a){return a.name==c})){!c.groups&&(c.groups=[]);if(b&&(b=CKEDITOR.tools.indexOf(c.groups,b),0<=b)){c.groups.splice(b+1,0,a);return}h?c.groups.splice(0,0,a):c.groups.push(a);\nreturn}b=null}b&&(b=CKEDITOR.tools.indexOf(f,function(a){return a.name==b}));h?f.splice(0,0,a):\"number\"==typeof b?f.splice(b+1,0,k):f.push(a)}}(),CKEDITOR.UI_SEPARATOR=\"separator\",CKEDITOR.config.toolbarLocation=\"top\",\"use strict\",function(){var a=[CKEDITOR.CTRL+90,CKEDITOR.CTRL+89,CKEDITOR.CTRL+CKEDITOR.SHIFT+90],e={8:1,46:1};CKEDITOR.plugins.add(\"undo\",{init:function(c){function d(a){g.enabled&&!1!==a.data.command.canUndo&&g.save()}function e(){g.enabled=c.readOnly?!1:\"wysiwyg\"==c.mode;g.onChange()}\nvar g=c.undoManager=new b(c),m=g.editingHandler=new l(g),v=c.addCommand(\"undo\",{exec:function(){g.undo()&&(c.selectionChange(),this.fire(\"afterUndo\"))},startDisabled:!0,canUndo:!1}),r=c.addCommand(\"redo\",{exec:function(){g.redo()&&(c.selectionChange(),this.fire(\"afterRedo\"))},startDisabled:!0,canUndo:!1});c.setKeystroke([[a[0],\"undo\"],[a[1],\"redo\"],[a[2],\"redo\"]]);g.onChange=function(){v.setState(g.undoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED);r.setState(g.redoable()?CKEDITOR.TRISTATE_OFF:\nCKEDITOR.TRISTATE_DISABLED)};c.on(\"beforeCommandExec\",d);c.on(\"afterCommandExec\",d);c.on(\"saveSnapshot\",function(a){g.save(a.data&&a.data.contentOnly)});c.on(\"contentDom\",m.attachListeners,m);c.on(\"instanceReady\",function(){c.fire(\"saveSnapshot\")});c.on(\"beforeModeUnload\",function(){\"wysiwyg\"==c.mode&&g.save(!0)});c.on(\"mode\",e);c.on(\"readOnly\",e);c.ui.addButton&&(c.ui.addButton(\"Undo\",{label:c.lang.undo.undo,command:\"undo\",toolbar:\"undo,10\"}),c.ui.addButton(\"Redo\",{label:c.lang.undo.redo,command:\"redo\",\ntoolbar:\"undo,20\"}));c.resetUndo=function(){g.reset();c.fire(\"saveSnapshot\")};c.on(\"updateSnapshot\",function(){g.currentImage&&g.update()});c.on(\"lockSnapshot\",function(a){a=a.data;g.lock(a&&a.dontUpdate,a&&a.forceUpdate)});c.on(\"unlockSnapshot\",g.unlock,g)}});CKEDITOR.plugins.undo={};var b=CKEDITOR.plugins.undo.UndoManager=function(a){this.strokesRecorded=[0,0];this.locked=null;this.previousKeyGroup=-1;this.limit=a.config.undoStackSize||20;this.strokesLimit=25;this.editor=a;this.reset()};b.prototype=\n{type:function(a,c){var d=b.getKeyGroup(a),e=this.strokesRecorded[d]+1;c=c||e>=this.strokesLimit;this.typing||(this.hasUndo=this.typing=!0,this.hasRedo=!1,this.onChange());c?(e=0,this.editor.fire(\"saveSnapshot\")):this.editor.fire(\"change\");this.strokesRecorded[d]=e;this.previousKeyGroup=d},keyGroupChanged:function(a){return b.getKeyGroup(a)!=this.previousKeyGroup},reset:function(){this.snapshots=[];this.index=-1;this.currentImage=null;this.hasRedo=this.hasUndo=!1;this.locked=null;this.resetType()},\nresetType:function(){this.strokesRecorded=[0,0];this.typing=!1;this.previousKeyGroup=-1},refreshState:function(){this.hasUndo=!!this.getNextImage(!0);this.hasRedo=!!this.getNextImage(!1);this.resetType();this.onChange()},save:function(a,b,d){var e=this.editor;if(this.locked||\"ready\"!=e.status||\"wysiwyg\"!=e.mode)return!1;var m=e.editable();if(!m||\"ready\"!=m.status)return!1;m=this.snapshots;b||(b=new c(e));if(!1===b.contents)return!1;if(this.currentImage)if(b.equalsContent(this.currentImage)){if(a||\nb.equalsSelection(this.currentImage))return!1}else!1!==d&&e.fire(\"change\");m.splice(this.index+1,m.length-this.index-1);m.length==this.limit&&m.shift();this.index=m.push(b)-1;this.currentImage=b;!1!==d&&this.refreshState();return!0},restoreImage:function(a){var b=this.editor,c;a.bookmarks&&(b.focus(),c=b.getSelection());this.locked={level:999};this.editor.loadSnapshot(a.contents);a.bookmarks?c.selectBookmarks(a.bookmarks):CKEDITOR.env.ie&&(c=this.editor.document.getBody().$.createTextRange(),c.collapse(!0),\nc.select());this.locked=null;this.index=a.index;this.currentImage=this.snapshots[this.index];this.update();this.refreshState();b.fire(\"change\")},getNextImage:function(a){var b=this.snapshots,c=this.currentImage,d;if(c)if(a)for(d=this.index-1;0<=d;d--){if(a=b[d],!c.equalsContent(a))return a.index=d,a}else for(d=this.index+1;d<b.length;d++)if(a=b[d],!c.equalsContent(a))return a.index=d,a;return null},redoable:function(){return this.enabled&&this.hasRedo},undoable:function(){return this.enabled&&this.hasUndo},\nundo:function(){if(this.undoable()){this.save(!0);var a=this.getNextImage(!0);if(a)return this.restoreImage(a),!0}return!1},redo:function(){if(this.redoable()&&(this.save(!0),this.redoable())){var a=this.getNextImage(!1);if(a)return this.restoreImage(a),!0}return!1},update:function(a){if(!this.locked){a||(a=new c(this.editor));for(var b=this.index,d=this.snapshots;0<b&&this.currentImage.equalsContent(d[b-1]);)--b;d.splice(b,this.index-b+1,a);this.index=b;this.currentImage=a}},updateSelection:function(a){if(!this.snapshots.length)return!1;\nvar b=this.snapshots,c=b[b.length-1];return c.equalsContent(a)&&!c.equalsSelection(a)?(this.currentImage=b[b.length-1]=a,!0):!1},lock:function(a,b){if(this.locked)this.locked.level++;else if(a)this.locked={level:1};else{var d=null;if(b)d=!0;else{var e=new c(this.editor,!0);this.currentImage&&this.currentImage.equalsContent(e)&&(d=e)}this.locked={update:d,level:1}}},unlock:function(){if(this.locked&&!--this.locked.level){var a=this.locked.update;this.locked=null;if(!0===a)this.update();else if(a){var b=\nnew c(this.editor,!0);a.equalsContent(b)||this.update()}}}};b.navigationKeyCodes={37:1,38:1,39:1,40:1,36:1,35:1,33:1,34:1};b.keyGroups={PRINTABLE:0,FUNCTIONAL:1};b.isNavigationKey=function(a){return!!b.navigationKeyCodes[a]};b.getKeyGroup=function(a){var c=b.keyGroups;return e[a]?c.FUNCTIONAL:c.PRINTABLE};b.getOppositeKeyGroup=function(a){var c=b.keyGroups;return a==c.FUNCTIONAL?c.PRINTABLE:c.FUNCTIONAL};b.ieFunctionalKeysBug=function(a){return CKEDITOR.env.ie&&b.getKeyGroup(a)==b.keyGroups.FUNCTIONAL};\nvar c=CKEDITOR.plugins.undo.Image=function(a,b){this.editor=a;a.fire(\"beforeUndoImage\");var c=a.getSnapshot();CKEDITOR.env.ie&&c&&(c=c.replace(/\\s+data-cke-expando=\".*?\"/g,\"\"));this.contents=c;b||(this.bookmarks=(c=c&&a.getSelection())&&c.createBookmarks2(!0));a.fire(\"afterUndoImage\")},d=/\\b(?:href|src|name)=\"[^\"]*?\"/gi;c.prototype={equalsContent:function(a){var b=this.contents;a=a.contents;CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)&&(b=b.replace(d,\"\"),a=a.replace(d,\"\"));return b!=\na?!1:!0},equalsSelection:function(a){var b=this.bookmarks;a=a.bookmarks;if(b||a){if(!b||!a||b.length!=a.length)return!1;for(var c=0;c<b.length;c++){var d=b[c],e=a[c];if(d.startOffset!=e.startOffset||d.endOffset!=e.endOffset||!CKEDITOR.tools.arrayCompare(d.start,e.start)||!CKEDITOR.tools.arrayCompare(d.end,e.end))return!1}}return!0}};var l=CKEDITOR.plugins.undo.NativeEditingHandler=function(a){this.undoManager=a;this.ignoreInputEvent=!1;this.keyEventsStack=new m;this.lastKeydownImage=null};l.prototype=\n{onKeydown:function(d){var e=d.data.getKey();if(229!==e)if(-1<CKEDITOR.tools.indexOf(a,d.data.getKeystroke()))d.data.preventDefault();else if(this.keyEventsStack.cleanUp(d),d=this.undoManager,this.keyEventsStack.getLast(e)||this.keyEventsStack.push(e),this.lastKeydownImage=new c(d.editor),b.isNavigationKey(e)||this.undoManager.keyGroupChanged(e))if(d.strokesRecorded[0]||d.strokesRecorded[1])d.save(!1,this.lastKeydownImage,!1),d.resetType()},onInput:function(){if(this.ignoreInputEvent)this.ignoreInputEvent=\n!1;else{var a=this.keyEventsStack.getLast();a||(a=this.keyEventsStack.push(0));this.keyEventsStack.increment(a.keyCode);this.keyEventsStack.getTotalInputs()>=this.undoManager.strokesLimit&&(this.undoManager.type(a.keyCode,!0),this.keyEventsStack.resetInputs())}},onKeyup:function(a){var d=this.undoManager;a=a.data.getKey();var e=this.keyEventsStack.getTotalInputs();this.keyEventsStack.remove(a);if(!(b.ieFunctionalKeysBug(a)&&this.lastKeydownImage&&this.lastKeydownImage.equalsContent(new c(d.editor,\n!0))))if(0<e)d.type(a);else if(b.isNavigationKey(a))this.onNavigationKey(!0)},onNavigationKey:function(a){var b=this.undoManager;!a&&b.save(!0,null,!1)||b.updateSelection(new c(b.editor));b.resetType()},ignoreInputEventListener:function(){this.ignoreInputEvent=!0},attachListeners:function(){var a=this.undoManager.editor,c=a.editable(),d=this;c.attachListener(c,\"keydown\",function(a){d.onKeydown(a);if(b.ieFunctionalKeysBug(a.data.getKey()))d.onInput()},null,null,999);c.attachListener(c,CKEDITOR.env.ie?\n\"keypress\":\"input\",d.onInput,d,null,999);c.attachListener(c,\"keyup\",d.onKeyup,d,null,999);c.attachListener(c,\"paste\",d.ignoreInputEventListener,d,null,999);c.attachListener(c,\"drop\",d.ignoreInputEventListener,d,null,999);c.attachListener(c.isInline()?c:a.document.getDocumentElement(),\"click\",function(){d.onNavigationKey()},null,null,999);c.attachListener(this.undoManager.editor,\"blur\",function(){d.keyEventsStack.remove(9)},null,null,999)}};var m=CKEDITOR.plugins.undo.KeyEventsStack=function(){this.stack=\n[]};m.prototype={push:function(a){a=this.stack.push({keyCode:a,inputs:0});return this.stack[a-1]},getLastIndex:function(a){\nvar this$1 = this;\nif(\"number\"!=typeof a)return this.stack.length-1;for(var b=this.stack.length;b--;)if(this$1.stack[b].keyCode==a)return b;return-1},getLast:function(a){a=this.getLastIndex(a);return-1!=a?this.stack[a]:null},increment:function(a){this.getLast(a).inputs++},remove:function(a){a=this.getLastIndex(a);-1!=a&&this.stack.splice(a,1)},resetInputs:function(a){\nvar this$1 = this;\nif(\"number\"==typeof a)this.getLast(a).inputs=\n0;else for(a=this.stack.length;a--;)this$1.stack[a].inputs=0},getTotalInputs:function(){\nvar this$1 = this;\nfor(var a=this.stack.length,b=0;a--;)b+=this$1.stack[a].inputs;return b},cleanUp:function(a){a=a.data.$;a.ctrlKey||a.metaKey||this.remove(17);a.shiftKey||this.remove(16);a.altKey||this.remove(18)}}}(),CKEDITOR.plugins.add(\"wsc\",{requires:\"dialog\",parseApi:function(a){a.config.wsc_onFinish=\"function\"===typeof a.config.wsc_onFinish?a.config.wsc_onFinish:function(){};a.config.wsc_onClose=\"function\"===typeof a.config.wsc_onClose?\na.config.wsc_onClose:function(){}},parseConfig:function(a){a.config.wsc_customerId=a.config.wsc_customerId||CKEDITOR.config.wsc_customerId||\"1:ua3xw1-2XyGJ3-GWruD3-6OFNT1-oXcuB1-nR6Bp4-hgQHc-EcYng3-sdRXG3-NOfFk\";a.config.wsc_customDictionaryIds=a.config.wsc_customDictionaryIds||CKEDITOR.config.wsc_customDictionaryIds||\"\";a.config.wsc_userDictionaryName=a.config.wsc_userDictionaryName||CKEDITOR.config.wsc_userDictionaryName||\"\";a.config.wsc_customLoaderScript=a.config.wsc_customLoaderScript||CKEDITOR.config.wsc_customLoaderScript;\nCKEDITOR.config.wsc_cmd=a.config.wsc_cmd||CKEDITOR.config.wsc_cmd||\"spell\";CKEDITOR.config.wsc_version=\"v4.3.0-master-d769233\";CKEDITOR.config.wsc_removeGlobalVariable=!0},init:function(a){var e=CKEDITOR.env;this.parseConfig(a);this.parseApi(a);a.addCommand(\"checkspell\",new CKEDITOR.dialogCommand(\"checkspell\")).modes={wysiwyg:!CKEDITOR.env.opera&&!CKEDITOR.env.air&&document.domain==window.location.hostname&&!(e.ie&&(8>e.version||e.quirks))};\"undefined\"==typeof a.plugins.scayt&&a.ui.addButton&&a.ui.addButton(\"SpellChecker\",\n{label:a.lang.wsc.toolbar,click:function(a){var c=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?a.container.getText():a.document.getBody().getText();(c=c.replace(/\\s/g,\"\"))?a.execCommand(\"checkspell\"):alert(\"Nothing to check!\")},toolbar:\"spellchecker,10\"});CKEDITOR.dialog.add(\"checkspell\",this.path+(CKEDITOR.env.ie&&7>=CKEDITOR.env.version?\"dialogs/wsc_ie.js\":window.postMessage?\"dialogs/wsc.js\":\"dialogs/wsc_ie.js\"))}}),function(){function a(a){function b(a){var c=!1;g.attachListener(g,\"keydown\",function(){var b=\nf.getBody().getElementsByTag(a);if(!c){for(var d=0;d<b.count();d++)b.getItem(d).setCustomData(\"retain\",!0);c=!0}},null,null,1);g.attachListener(g,\"keyup\",function(){var b=f.getElementsByTag(a);c&&(1!=b.count()||b.getItem(0).getCustomData(\"retain\")||b.getItem(0).hasAttribute(\"data-cke-temp\")||b.getItem(0).remove(1),c=!1)})}var c=this.editor,f=a.document,h=f.body,k=f.getElementById(\"cke_actscrpt\");k&&k.parentNode.removeChild(k);(k=f.getElementById(\"cke_shimscrpt\"))&&k.parentNode.removeChild(k);(k=f.getElementById(\"cke_basetagscrpt\"))&&\nk.parentNode.removeChild(k);h.contentEditable=!0;CKEDITOR.env.ie&&(h.hideFocus=!0,h.disabled=!0,h.removeAttribute(\"disabled\"));delete this._.isLoadingData;this.$=h;f=new CKEDITOR.dom.document(f);this.setup();this.fixInitialSelection();var g=this;CKEDITOR.env.ie&&!CKEDITOR.env.edge&&f.getDocumentElement().addClass(f.$.compatMode);CKEDITOR.env.ie&&!CKEDITOR.env.edge&&c.enterMode!=CKEDITOR.ENTER_P?b(\"p\"):CKEDITOR.env.edge&&c.enterMode!=CKEDITOR.ENTER_DIV&&b(\"div\");if(CKEDITOR.env.webkit||CKEDITOR.env.ie&&\n10<CKEDITOR.env.version)f.getDocumentElement().on(\"mousedown\",function(a){a.data.getTarget().is(\"html\")&&setTimeout(function(){c.editable().focus()})});e(c);try{c.document.$.execCommand(\"2D-position\",!1,!0)}catch(n){}(CKEDITOR.env.gecko||CKEDITOR.env.ie&&\"CSS1Compat\"==c.document.$.compatMode)&&this.attachListener(this,\"keydown\",function(a){var b=a.data.getKeystroke();if(33==b||34==b)if(CKEDITOR.env.ie)setTimeout(function(){c.getSelection().scrollIntoView()},0);else if(c.window.$.innerHeight>this.$.offsetHeight){var d=\nc.createRange();d[33==b?\"moveToElementEditStart\":\"moveToElementEditEnd\"](this);d.select();a.data.preventDefault()}});CKEDITOR.env.ie&&this.attachListener(f,\"blur\",function(){try{f.$.selection.empty()}catch(a){}});CKEDITOR.env.iOS&&this.attachListener(f,\"touchend\",function(){a.focus()});h=c.document.getElementsByTag(\"title\").getItem(0);h.data(\"cke-title\",h.getText());CKEDITOR.env.ie&&(c.document.$.title=this._.docTitle);CKEDITOR.tools.setTimeout(function(){\"unloaded\"==this.status&&(this.status=\"ready\");\nc.fire(\"contentDom\");this._.isPendingFocus&&(c.focus(),this._.isPendingFocus=!1);setTimeout(function(){c.fire(\"dataReady\")},0)},0,this)}function e(a){function b(){var e;a.editable().attachListener(a,\"selectionChange\",function(){var b=a.getSelection().getSelectedElement();b&&(e&&(e.detachEvent(\"onresizestart\",c),e=null),b.$.attachEvent(\"onresizestart\",c),e=b.$)})}function c(a){a.returnValue=!1}if(CKEDITOR.env.gecko)try{var e=a.document.$;e.execCommand(\"enableObjectResizing\",!1,!a.config.disableObjectResizing);\ne.execCommand(\"enableInlineTableEditing\",!1,!a.config.disableNativeTableHandles)}catch(h){}else CKEDITOR.env.ie&&11>CKEDITOR.env.version&&a.config.disableObjectResizing&&b(a)}function b(){var a=[];if(8<=CKEDITOR.document.$.documentMode){a.push(\"html.CSS1Compat [contenteditable\\x3dfalse]{min-height:0 !important}\");var b=[],c;for(c in CKEDITOR.dtd.$removeEmpty)b.push(\"html.CSS1Compat \"+c+\"[contenteditable\\x3dfalse]\");a.push(b.join(\",\")+\"{display:inline-block}\")}else CKEDITOR.env.gecko&&(a.push(\"html{height:100% !important}\"),\na.push(\"img:-moz-broken{-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}\"));a.push(\"html{cursor:text;*cursor:auto}\");a.push(\"img,input,textarea{cursor:default}\");return a.join(\"\\n\")}var c;CKEDITOR.plugins.add(\"wysiwygarea\",{init:function(a){a.config.fullPage&&a.addFeature({allowedContent:\"html head title; style [media,type]; body (*)[id]; meta link [*]\",requiredContent:\"body\"});a.addMode(\"wysiwyg\",function(b){function e(f){f&&f.removeListener();a.editable(new c(a,h.$.contentWindow.document.body));\na.setData(a.getData(1),b)}var f=\"document.open();\"+(CKEDITOR.env.ie?\"(\"+CKEDITOR.tools.fixDomain+\")();\":\"\")+\"document.close();\",f=CKEDITOR.env.air?\"javascript:void(0)\":CKEDITOR.env.ie&&!CKEDITOR.env.edge?\"javascript:void(function(){\"+encodeURIComponent(f)+\"}())\":\"\",h=CKEDITOR.dom.element.createFromHtml('\\x3ciframe src\\x3d\"'+f+'\" frameBorder\\x3d\"0\"\\x3e\\x3c/iframe\\x3e');h.setStyles({width:\"100%\",height:\"100%\"});h.addClass(\"cke_wysiwyg_frame\").addClass(\"cke_reset\");f=a.ui.space(\"contents\");f.append(h);\nvar k=CKEDITOR.env.ie&&!CKEDITOR.env.edge||CKEDITOR.env.gecko;if(k)h.on(\"load\",e);var g=a.title,n=a.fire(\"ariaEditorHelpLabel\",{}).label;g&&(CKEDITOR.env.ie&&n&&(g+=\", \"+n),h.setAttribute(\"title\",g));if(n){var g=CKEDITOR.tools.getNextId(),v=CKEDITOR.dom.element.createFromHtml('\\x3cspan id\\x3d\"'+g+'\" class\\x3d\"cke_voice_label\"\\x3e'+n+\"\\x3c/span\\x3e\");f.append(v,1);h.setAttribute(\"aria-describedby\",g)}a.on(\"beforeModeUnload\",function(a){a.removeListener();v&&v.remove()});h.setAttributes({tabIndex:a.tabIndex,\nallowTransparency:\"true\"});!k&&e();a.fire(\"ariaWidget\",h)})}});CKEDITOR.editor.prototype.addContentsCss=function(a){var b=this.config,c=b.contentsCss;CKEDITOR.tools.isArray(c)||(b.contentsCss=c?[c]:[]);b.contentsCss.push(a)};c=CKEDITOR.tools.createClass({$:function(){this.base.apply(this,arguments);this._.frameLoadedHandler=CKEDITOR.tools.addFunction(function(b){CKEDITOR.tools.setTimeout(a,0,this,b)},this);this._.docTitle=this.getWindow().getFrame().getAttribute(\"title\")},base:CKEDITOR.editable,proto:{setData:function(a,\nc){var e=this.editor;if(c)this.setHtml(a),this.fixInitialSelection(),e.fire(\"dataReady\");else{this._.isLoadingData=!0;e._.dataStore={id:1};var f=e.config,h=f.fullPage,k=f.docType,g=CKEDITOR.tools.buildStyleHtml(b()).replace(/<style>/,'\\x3cstyle data-cke-temp\\x3d\"1\"\\x3e');h||(g+=CKEDITOR.tools.buildStyleHtml(e.config.contentsCss));var n=f.baseHref?'\\x3cbase href\\x3d\"'+f.baseHref+'\" data-cke-temp\\x3d\"1\" /\\x3e':\"\";h&&(a=a.replace(/<!DOCTYPE[^>]*>/i,function(a){e.docType=k=a;return\"\"}).replace(/<\\?xml\\s[^\\?]*\\?>/i,\nfunction(a){e.xmlDeclaration=a;return\"\"}));a=e.dataProcessor.toHtml(a);h?(/<body[\\s|>]/.test(a)||(a=\"\\x3cbody\\x3e\"+a),/<html[\\s|>]/.test(a)||(a=\"\\x3chtml\\x3e\"+a+\"\\x3c/html\\x3e\"),/<head[\\s|>]/.test(a)?/<title[\\s|>]/.test(a)||(a=a.replace(/<head[^>]*>/,\"$\\x26\\x3ctitle\\x3e\\x3c/title\\x3e\")):a=a.replace(/<html[^>]*>/,\"$\\x26\\x3chead\\x3e\\x3ctitle\\x3e\\x3c/title\\x3e\\x3c/head\\x3e\"),n&&(a=a.replace(/<head[^>]*?>/,\"$\\x26\"+n)),a=a.replace(/<\\/head\\s*>/,g+\"$\\x26\"),a=k+a):a=f.docType+'\\x3chtml dir\\x3d\"'+f.contentsLangDirection+\n'\" lang\\x3d\"'+(f.contentsLanguage||e.langCode)+'\"\\x3e\\x3chead\\x3e\\x3ctitle\\x3e'+this._.docTitle+\"\\x3c/title\\x3e\"+n+g+\"\\x3c/head\\x3e\\x3cbody\"+(f.bodyId?' id\\x3d\"'+f.bodyId+'\"':\"\")+(f.bodyClass?' class\\x3d\"'+f.bodyClass+'\"':\"\")+\"\\x3e\"+a+\"\\x3c/body\\x3e\\x3c/html\\x3e\";CKEDITOR.env.gecko&&(a=a.replace(/<body/,'\\x3cbody contenteditable\\x3d\"true\" '),2E4>CKEDITOR.env.version&&(a=a.replace(/<body[^>]*>/,\"$\\x26\\x3c!-- cke-content-start --\\x3e\")));f='\\x3cscript id\\x3d\"cke_actscrpt\" type\\x3d\"text/javascript\"'+\n(CKEDITOR.env.ie?' defer\\x3d\"defer\" ':\"\")+\"\\x3evar wasLoaded\\x3d0;function onload(){if(!wasLoaded)window.parent.CKEDITOR.tools.callFunction(\"+this._.frameLoadedHandler+\",window);wasLoaded\\x3d1;}\"+(CKEDITOR.env.ie?\"onload();\":'document.addEventListener(\"DOMContentLoaded\", onload, false );')+\"\\x3c/script\\x3e\";CKEDITOR.env.ie&&9>CKEDITOR.env.version&&(f+='\\x3cscript id\\x3d\"cke_shimscrpt\"\\x3ewindow.parent.CKEDITOR.tools.enableHtml5Elements(document)\\x3c/script\\x3e');n&&CKEDITOR.env.ie&&10>CKEDITOR.env.version&&\n(f+='\\x3cscript id\\x3d\"cke_basetagscrpt\"\\x3evar baseTag \\x3d document.querySelector( \"base\" );baseTag.href \\x3d baseTag.href;\\x3c/script\\x3e');a=a.replace(/(?=\\s*<\\/(:?head)>)/,f);this.clearCustomData();this.clearListeners();e.fire(\"contentDomUnload\");var v=this.getDocument();try{v.write(a)}catch(r){setTimeout(function(){v.write(a)},0)}}},getData:function(a){if(a)return this.getHtml();a=this.editor;var b=a.config,c=b.fullPage,e=c&&a.docType,h=c&&a.xmlDeclaration,k=this.getDocument(),c=c?k.getDocumentElement().getOuterHtml():\nk.getBody().getHtml();CKEDITOR.env.gecko&&b.enterMode!=CKEDITOR.ENTER_BR&&(c=c.replace(/<br>(?=\\s*(:?$|<\\/body>))/,\"\"));c=a.dataProcessor.toDataFormat(c);h&&(c=h+\"\\n\"+c);e&&(c=e+\"\\n\"+c);return c},focus:function(){this._.isLoadingData?this._.isPendingFocus=!0:c.baseProto.focus.call(this)},detach:function(){var a=this.editor,b=a.document,e;try{e=a.window.getFrame()}catch(f){}c.baseProto.detach.call(this);this.clearCustomData();b.getDocumentElement().clearCustomData();CKEDITOR.tools.removeFunction(this._.frameLoadedHandler);\ne&&e.getParent()?(e.clearCustomData(),(a=e.removeCustomData(\"onResize\"))&&a.removeListener(),e.remove()):CKEDITOR.warn(\"editor-destroy-iframe\")}}})}(),CKEDITOR.config.disableObjectResizing=!1,CKEDITOR.config.disableNativeTableHandles=!0,CKEDITOR.config.disableNativeSpellChecker=!0,CKEDITOR.config.plugins=\"dialogui,dialog,a11yhelp,about,basicstyles,blockquote,clipboard,panel,floatpanel,menu,contextmenu,elementspath,indent,indentlist,list,enterkey,entities,popup,filebrowser,floatingspace,listblock,button,richcombo,format,horizontalrule,htmlwriter,image,fakeobjects,link,magicline,maximize,pastefromword,pastetext,removeformat,resize,menubutton,scayt,showborders,sourcearea,specialchar,stylescombo,tab,table,tabletools,toolbar,undo,wsc,wysiwygarea\",\nCKEDITOR.config.skin=\"moono\",function(){var a=function(a,b){var c=CKEDITOR.getUrl(\"plugins/\"+b);a=a.split(\",\");for(var d=0;d<a.length;d++)CKEDITOR.skin.icons[a[d]]={path:c,offset:-a[++d],bgsize:a[++d]}};CKEDITOR.env.hidpi?a(\"about,0,,bold,24,,italic,48,,strike,72,,subscript,96,,superscript,120,,underline,144,,bidiltr,168,,bidirtl,192,,blockquote,216,,copy-rtl,240,,copy,264,,cut-rtl,288,,cut,312,,paste-rtl,336,,paste,360,,codesnippet,384,,bgcolor,408,,textcolor,432,,creatediv,456,,docprops-rtl,480,,docprops,504,,embed,528,,embedsemantic,552,,find-rtl,576,,find,600,,replace,624,,flash,648,,button,672,,checkbox,696,,form,720,,hiddenfield,744,,imagebutton,768,,radio,792,,select-rtl,816,,select,840,,textarea-rtl,864,,textarea,888,,textfield-rtl,912,,textfield,936,,horizontalrule,960,,iframe,984,,image,1008,,indent-rtl,1032,,indent,1056,,outdent-rtl,1080,,outdent,1104,,justifyblock,1128,,justifycenter,1152,,justifyleft,1176,,justifyright,1200,,language,1224,,anchor-rtl,1248,,anchor,1272,,link,1296,,unlink,1320,,bulletedlist-rtl,1344,,bulletedlist,1368,,numberedlist-rtl,1392,,numberedlist,1416,,mathjax,1440,,maximize,1464,,newpage-rtl,1488,,newpage,1512,,pagebreak-rtl,1536,,pagebreak,1560,,pastefromword-rtl,1584,,pastefromword,1608,,pastetext-rtl,1632,,pastetext,1656,,placeholder,1680,,preview-rtl,1704,,preview,1728,,print,1752,,removeformat,1776,,save,1800,,scayt,1824,,selectall,1848,,showblocks-rtl,1872,,showblocks,1896,,smiley,1920,,source-rtl,1944,,source,1968,,sourcedialog-rtl,1992,,sourcedialog,2016,,specialchar,2040,,table,2064,,templates-rtl,2088,,templates,2112,,uicolor,2136,,redo-rtl,2160,,redo,2184,,undo-rtl,2208,,undo,2232,,simplebox,4512,auto,spellchecker,2280,\",\n\"icons_hidpi.png\"):a(\"about,0,auto,bold,24,auto,italic,48,auto,strike,72,auto,subscript,96,auto,superscript,120,auto,underline,144,auto,bidiltr,168,auto,bidirtl,192,auto,blockquote,216,auto,copy-rtl,240,auto,copy,264,auto,cut-rtl,288,auto,cut,312,auto,paste-rtl,336,auto,paste,360,auto,codesnippet,384,auto,bgcolor,408,auto,textcolor,432,auto,creatediv,456,auto,docprops-rtl,480,auto,docprops,504,auto,embed,528,auto,embedsemantic,552,auto,find-rtl,576,auto,find,600,auto,replace,624,auto,flash,648,auto,button,672,auto,checkbox,696,auto,form,720,auto,hiddenfield,744,auto,imagebutton,768,auto,radio,792,auto,select-rtl,816,auto,select,840,auto,textarea-rtl,864,auto,textarea,888,auto,textfield-rtl,912,auto,textfield,936,auto,horizontalrule,960,auto,iframe,984,auto,image,1008,auto,indent-rtl,1032,auto,indent,1056,auto,outdent-rtl,1080,auto,outdent,1104,auto,justifyblock,1128,auto,justifycenter,1152,auto,justifyleft,1176,auto,justifyright,1200,auto,language,1224,auto,anchor-rtl,1248,auto,anchor,1272,auto,link,1296,auto,unlink,1320,auto,bulletedlist-rtl,1344,auto,bulletedlist,1368,auto,numberedlist-rtl,1392,auto,numberedlist,1416,auto,mathjax,1440,auto,maximize,1464,auto,newpage-rtl,1488,auto,newpage,1512,auto,pagebreak-rtl,1536,auto,pagebreak,1560,auto,pastefromword-rtl,1584,auto,pastefromword,1608,auto,pastetext-rtl,1632,auto,pastetext,1656,auto,placeholder,1680,auto,preview-rtl,1704,auto,preview,1728,auto,print,1752,auto,removeformat,1776,auto,save,1800,auto,scayt,1824,auto,selectall,1848,auto,showblocks-rtl,1872,auto,showblocks,1896,auto,smiley,1920,auto,source-rtl,1944,auto,source,1968,auto,sourcedialog-rtl,1992,auto,sourcedialog,2016,auto,specialchar,2040,auto,table,2064,auto,templates-rtl,2088,auto,templates,2112,auto,uicolor,2136,auto,redo-rtl,2160,auto,redo,2184,auto,undo-rtl,2208,auto,undo,2232,auto,simplebox,2256,auto,spellchecker,2280,auto\",\n\"icons.png\")}())})();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy92ZW5kb3IvY2tlZGl0b3IvY2tlZGl0b3IvY2tlZGl0b3IuanM/MDNkNCIsIndlYnBhY2s6Ly8vP2Q0MWQiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbkNvcHlyaWdodCAoYykgMjAwMy0yMDE2LCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuRm9yIGxpY2Vuc2luZywgc2VlIExJQ0VOU0UubWQgb3IgaHR0cDovL2NrZWRpdG9yLmNvbS9saWNlbnNlXG4qL1xuKGZ1bmN0aW9uKCl7d2luZG93LkNLRURJVE9SJiZ3aW5kb3cuQ0tFRElUT1IuZG9tfHwod2luZG93LkNLRURJVE9SfHwod2luZG93LkNLRURJVE9SPWZ1bmN0aW9uKCl7dmFyIGE9LyhefC4qW1xcXFxcXC9dKWNrZWRpdG9yXFwuanMoPzpcXD8uKnw7LiopPyQvaSxlPXt0aW1lc3RhbXA6XCJHODdEXCIsdmVyc2lvbjpcIjQuNS4xMSAoU3RhbmRhcmQpXCIscmV2aXNpb246XCIzODc2ZTczXCIscm5kOk1hdGguZmxvb3IoOTAwKk1hdGgucmFuZG9tKCkpKzEwMCxfOntwZW5kaW5nOltdLGJhc2VQYXRoU3JjUGF0dGVybjphfSxzdGF0dXM6XCJ1bmxvYWRlZFwiLGJhc2VQYXRoOmZ1bmN0aW9uKCl7dmFyIGI9d2luZG93LkNLRURJVE9SX0JBU0VQQVRIfHxcIlwiO2lmKCFiKWZvcih2YXIgYz1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKSxlPTA7ZTxjLmxlbmd0aDtlKyspe3ZhciBmPWNbZV0uc3JjLm1hdGNoKGEpO2lmKGYpe2I9ZlsxXTticmVha319LTE9PWIuaW5kZXhPZihcIjovXCIpJiZcIi8vXCIhPVxuYi5zbGljZSgwLDIpJiYoYj0wPT09Yi5pbmRleE9mKFwiL1wiKT9sb2NhdGlvbi5ocmVmLm1hdGNoKC9eLio/OlxcL1xcL1teXFwvXSovKVswXStiOmxvY2F0aW9uLmhyZWYubWF0Y2goL15bXlxcP10qXFwvKD86KS8pWzBdK2IpO2lmKCFiKXRocm93J1RoZSBDS0VkaXRvciBpbnN0YWxsYXRpb24gcGF0aCBjb3VsZCBub3QgYmUgYXV0b21hdGljYWxseSBkZXRlY3RlZC4gUGxlYXNlIHNldCB0aGUgZ2xvYmFsIHZhcmlhYmxlIFwiQ0tFRElUT1JfQkFTRVBBVEhcIiBiZWZvcmUgY3JlYXRpbmcgZWRpdG9yIGluc3RhbmNlcy4nO3JldHVybiBifSgpLGdldFVybDpmdW5jdGlvbihhKXstMT09YS5pbmRleE9mKFwiOi9cIikmJjAhPT1hLmluZGV4T2YoXCIvXCIpJiYoYT10aGlzLmJhc2VQYXRoK2EpO3RoaXMudGltZXN0YW1wJiZcIi9cIiE9YS5jaGFyQXQoYS5sZW5ndGgtMSkmJiEvWyY/XXQ9Ly50ZXN0KGEpJiYoYSs9KDA8PWEuaW5kZXhPZihcIj9cIik/XCJcXHgyNlwiOlwiP1wiKStcInRcXHgzZFwiK3RoaXMudGltZXN0YW1wKTtcbnJldHVybiBhfSxkb21SZWFkeTpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXt0cnl7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcj8oZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixhLCExKSxiKCkpOmRvY3VtZW50LmF0dGFjaEV2ZW50JiZcImNvbXBsZXRlXCI9PT1kb2N1bWVudC5yZWFkeVN0YXRlJiYoZG9jdW1lbnQuZGV0YWNoRXZlbnQoXCJvbnJlYWR5c3RhdGVjaGFuZ2VcIixhKSxiKCkpfWNhdGNoKGYpe319ZnVuY3Rpb24gYigpe2Zvcih2YXIgYTthPWMuc2hpZnQoKTspYSgpfXZhciBjPVtdO3JldHVybiBmdW5jdGlvbihmKXtmdW5jdGlvbiBiKCl7dHJ5e2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbChcImxlZnRcIil9Y2F0Y2goZyl7c2V0VGltZW91dChiLDEpO3JldHVybn1hKCl9Yy5wdXNoKGYpO1wiY29tcGxldGVcIj09PWRvY3VtZW50LnJlYWR5U3RhdGUmJnNldFRpbWVvdXQoYSwxKTtpZigxPT1jLmxlbmd0aClpZihkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKWRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsXG5hLCExKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixhLCExKTtlbHNlIGlmKGRvY3VtZW50LmF0dGFjaEV2ZW50KXtkb2N1bWVudC5hdHRhY2hFdmVudChcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiLGEpO3dpbmRvdy5hdHRhY2hFdmVudChcIm9ubG9hZFwiLGEpO2Y9ITE7dHJ5e2Y9IXdpbmRvdy5mcmFtZUVsZW1lbnR9Y2F0Y2goayl7fWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbCYmZiYmYigpfX19KCl9LGI9d2luZG93LkNLRURJVE9SX0dFVFVSTDtpZihiKXt2YXIgYz1lLmdldFVybDtlLmdldFVybD1mdW5jdGlvbihhKXtyZXR1cm4gYi5jYWxsKGUsYSl8fGMuY2FsbChlLGEpfX1yZXR1cm4gZX0oKSksQ0tFRElUT1IuZXZlbnR8fChDS0VESVRPUi5ldmVudD1mdW5jdGlvbigpe30sQ0tFRElUT1IuZXZlbnQuaW1wbGVtZW50T249ZnVuY3Rpb24oYSl7dmFyIGU9Q0tFRElUT1IuZXZlbnQucHJvdG90eXBlLGI7Zm9yKGIgaW4gZSludWxsPT1hW2JdJiYoYVtiXT1lW2JdKX0sXG5DS0VESVRPUi5ldmVudC5wcm90b3R5cGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3ZhciBkPWUodGhpcyk7cmV0dXJuIGRbYV18fChkW2FdPW5ldyBiKGEpKX12YXIgZT1mdW5jdGlvbihhKXthPWEuZ2V0UHJpdmF0ZSYmYS5nZXRQcml2YXRlKCl8fGEuX3x8KGEuXz17fSk7cmV0dXJuIGEuZXZlbnRzfHwoYS5ldmVudHM9e30pfSxiPWZ1bmN0aW9uKGEpe3RoaXMubmFtZT1hO3RoaXMubGlzdGVuZXJzPVtdfTtiLnByb3RvdHlwZT17Z2V0TGlzdGVuZXJJbmRleDpmdW5jdGlvbihhKXtmb3IodmFyIGI9MCxlPXRoaXMubGlzdGVuZXJzO2I8ZS5sZW5ndGg7YisrKWlmKGVbYl0uZm49PWEpcmV0dXJuIGI7cmV0dXJuLTF9fTtyZXR1cm57ZGVmaW5lOmZ1bmN0aW9uKGIsZCl7dmFyIGU9YS5jYWxsKHRoaXMsYik7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKGUsZCwhMCl9LG9uOmZ1bmN0aW9uKGIsZCxlLG0sZil7ZnVuY3Rpb24gaChhLGcsZixoKXthPXtuYW1lOmIsc2VuZGVyOnRoaXMsZWRpdG9yOmEsXG5kYXRhOmcsbGlzdGVuZXJEYXRhOm0sc3RvcDpmLGNhbmNlbDpoLHJlbW92ZUxpc3RlbmVyOmt9O3JldHVybiExPT09ZC5jYWxsKGUsYSk/ITE6YS5kYXRhfWZ1bmN0aW9uIGsoKXtuLnJlbW92ZUxpc3RlbmVyKGIsZCl9dmFyIGc9YS5jYWxsKHRoaXMsYik7aWYoMD5nLmdldExpc3RlbmVySW5kZXgoZCkpe2c9Zy5saXN0ZW5lcnM7ZXx8KGU9dGhpcyk7aXNOYU4oZikmJihmPTEwKTt2YXIgbj10aGlzO2guZm49ZDtoLnByaW9yaXR5PWY7Zm9yKHZhciB2PWcubGVuZ3RoLTE7MDw9djt2LS0paWYoZ1t2XS5wcmlvcml0eTw9ZilyZXR1cm4gZy5zcGxpY2UodisxLDAsaCkse3JlbW92ZUxpc3RlbmVyOmt9O2cudW5zaGlmdChoKX1yZXR1cm57cmVtb3ZlTGlzdGVuZXI6a319LG9uY2U6ZnVuY3Rpb24oKXt2YXIgYT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLGI9YVsxXTthWzFdPWZ1bmN0aW9uKGEpe2EucmVtb3ZlTGlzdGVuZXIoKTtyZXR1cm4gYi5hcHBseSh0aGlzLFxuYXJndW1lbnRzKX07cmV0dXJuIHRoaXMub24uYXBwbHkodGhpcyxhKX0sY2FwdHVyZTpmdW5jdGlvbigpe0NLRURJVE9SLmV2ZW50LnVzZUNhcHR1cmU9MTt2YXIgYT10aGlzLm9uLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtDS0VESVRPUi5ldmVudC51c2VDYXB0dXJlPTA7cmV0dXJuIGF9LGZpcmU6ZnVuY3Rpb24oKXt2YXIgYT0wLGI9ZnVuY3Rpb24oKXthPTF9LGw9MCxtPWZ1bmN0aW9uKCl7bD0xfTtyZXR1cm4gZnVuY3Rpb24oZixoLGspe3ZhciBnPWUodGhpcylbZl07Zj1hO3ZhciBuPWw7YT1sPTA7aWYoZyl7dmFyIHY9Zy5saXN0ZW5lcnM7aWYodi5sZW5ndGgpZm9yKHZhciB2PXYuc2xpY2UoMCkscixxPTA7cTx2Lmxlbmd0aDtxKyspe2lmKGcuZXJyb3JQcm9vZil0cnl7cj12W3FdLmNhbGwodGhpcyxrLGgsYixtKX1jYXRjaCh0KXt9ZWxzZSByPXZbcV0uY2FsbCh0aGlzLGssaCxiLG0pOyExPT09cj9sPTE6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHImJihoPXIpO2lmKGF8fGwpYnJlYWt9fWg9XG5sPyExOlwidW5kZWZpbmVkXCI9PXR5cGVvZiBoPyEwOmg7YT1mO2w9bjtyZXR1cm4gaH19KCksZmlyZU9uY2U6ZnVuY3Rpb24oYSxiLGwpe2I9dGhpcy5maXJlKGEsYixsKTtkZWxldGUgZSh0aGlzKVthXTtyZXR1cm4gYn0scmVtb3ZlTGlzdGVuZXI6ZnVuY3Rpb24oYSxiKXt2YXIgbD1lKHRoaXMpW2FdO2lmKGwpe3ZhciBtPWwuZ2V0TGlzdGVuZXJJbmRleChiKTswPD1tJiZsLmxpc3RlbmVycy5zcGxpY2UobSwxKX19LHJlbW92ZUFsbExpc3RlbmVyczpmdW5jdGlvbigpe3ZhciBhPWUodGhpcyksYjtmb3IoYiBpbiBhKWRlbGV0ZSBhW2JdfSxoYXNMaXN0ZW5lcnM6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9ZSh0aGlzKVthXSkmJjA8YS5saXN0ZW5lcnMubGVuZ3RofX19KCkpLENLRURJVE9SLmVkaXRvcnx8KENLRURJVE9SLmVkaXRvcj1mdW5jdGlvbigpe0NLRURJVE9SLl8ucGVuZGluZy5wdXNoKFt0aGlzLGFyZ3VtZW50c10pO0NLRURJVE9SLmV2ZW50LmNhbGwodGhpcyl9LENLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuZmlyZT1cbmZ1bmN0aW9uKGEsZSl7YSBpbntpbnN0YW5jZVJlYWR5OjEsbG9hZGVkOjF9JiYodGhpc1thXT0hMCk7cmV0dXJuIENLRURJVE9SLmV2ZW50LnByb3RvdHlwZS5maXJlLmNhbGwodGhpcyxhLGUsdGhpcyl9LENLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuZmlyZU9uY2U9ZnVuY3Rpb24oYSxlKXthIGlue2luc3RhbmNlUmVhZHk6MSxsb2FkZWQ6MX0mJih0aGlzW2FdPSEwKTtyZXR1cm4gQ0tFRElUT1IuZXZlbnQucHJvdG90eXBlLmZpcmVPbmNlLmNhbGwodGhpcyxhLGUsdGhpcyl9LENLRURJVE9SLmV2ZW50LmltcGxlbWVudE9uKENLRURJVE9SLmVkaXRvci5wcm90b3R5cGUpKSxDS0VESVRPUi5lbnZ8fChDS0VESVRPUi5lbnY9ZnVuY3Rpb24oKXt2YXIgYT1uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCksZT1hLm1hdGNoKC9lZGdlWyBcXC9dKFxcZCsuP1xcZCopLyksYj0tMTxhLmluZGV4T2YoXCJ0cmlkZW50L1wiKSxiPSEoIWUmJiFiKSxiPXtpZTpiLGVkZ2U6ISFlLHdlYmtpdDohYiYmXG4tMTxhLmluZGV4T2YoXCIgYXBwbGV3ZWJraXQvXCIpLGFpcjotMTxhLmluZGV4T2YoXCIgYWRvYmVhaXIvXCIpLG1hYzotMTxhLmluZGV4T2YoXCJtYWNpbnRvc2hcIikscXVpcmtzOlwiQmFja0NvbXBhdFwiPT1kb2N1bWVudC5jb21wYXRNb2RlJiYoIWRvY3VtZW50LmRvY3VtZW50TW9kZXx8MTA+ZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSxtb2JpbGU6LTE8YS5pbmRleE9mKFwibW9iaWxlXCIpLGlPUzovKGlwYWR8aXBob25lfGlwb2QpLy50ZXN0KGEpLGlzQ3VzdG9tRG9tYWluOmZ1bmN0aW9uKCl7aWYoIXRoaXMuaWUpcmV0dXJuITE7dmFyIGE9ZG9jdW1lbnQuZG9tYWluLGI9d2luZG93LmxvY2F0aW9uLmhvc3RuYW1lO3JldHVybiBhIT1iJiZhIT1cIltcIitiK1wiXVwifSxzZWN1cmU6XCJodHRwczpcIj09bG9jYXRpb24ucHJvdG9jb2x9O2IuZ2Vja289XCJHZWNrb1wiPT1uYXZpZ2F0b3IucHJvZHVjdCYmIWIud2Via2l0JiYhYi5pZTtiLndlYmtpdCYmKC0xPGEuaW5kZXhPZihcImNocm9tZVwiKT9iLmNocm9tZT1cbiEwOmIuc2FmYXJpPSEwKTt2YXIgYz0wO2IuaWUmJihjPWU/cGFyc2VGbG9hdChlWzFdKTpiLnF1aXJrc3x8IWRvY3VtZW50LmRvY3VtZW50TW9kZT9wYXJzZUZsb2F0KGEubWF0Y2goL21zaWUgKFxcZCspLylbMV0pOmRvY3VtZW50LmRvY3VtZW50TW9kZSxiLmllOUNvbXBhdD05PT1jLGIuaWU4Q29tcGF0PTg9PWMsYi5pZTdDb21wYXQ9Nz09YyxiLmllNkNvbXBhdD03PmN8fGIucXVpcmtzKTtiLmdlY2tvJiYoZT1hLm1hdGNoKC9ydjooW1xcZFxcLl0rKS8pKSYmKGU9ZVsxXS5zcGxpdChcIi5cIiksYz0xRTQqZVswXSsxMDAqKGVbMV18fDApKzEqKGVbMl18fDApKTtiLmFpciYmKGM9cGFyc2VGbG9hdChhLm1hdGNoKC8gYWRvYmVhaXJcXC8oXFxkKykvKVsxXSkpO2Iud2Via2l0JiYoYz1wYXJzZUZsb2F0KGEubWF0Y2goLyBhcHBsZXdlYmtpdFxcLyhcXGQrKS8pWzFdKSk7Yi52ZXJzaW9uPWM7Yi5pc0NvbXBhdGlibGU9IShiLmllJiY3PmMpJiYhKGIuZ2Vja28mJjRFND5jKSYmIShiLndlYmtpdCYmXG41MzQ+Yyk7Yi5oaWRwaT0yPD13aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztiLm5lZWRzQnJGaWxsZXI9Yi5nZWNrb3x8Yi53ZWJraXR8fGIuaWUmJjEwPGM7Yi5uZWVkc05ic3BGaWxsZXI9Yi5pZSYmMTE+YztiLmNzc0NsYXNzPVwiY2tlX2Jyb3dzZXJfXCIrKGIuaWU/XCJpZVwiOmIuZ2Vja28/XCJnZWNrb1wiOmIud2Via2l0P1wid2Via2l0XCI6XCJ1bmtub3duXCIpO2IucXVpcmtzJiYoYi5jc3NDbGFzcys9XCIgY2tlX2Jyb3dzZXJfcXVpcmtzXCIpO2IuaWUmJihiLmNzc0NsYXNzKz1cIiBja2VfYnJvd3Nlcl9pZVwiKyhiLnF1aXJrcz9cIjYgY2tlX2Jyb3dzZXJfaWVxdWlya3NcIjpiLnZlcnNpb24pKTtiLmFpciYmKGIuY3NzQ2xhc3MrPVwiIGNrZV9icm93c2VyX2FpclwiKTtiLmlPUyYmKGIuY3NzQ2xhc3MrPVwiIGNrZV9icm93c2VyX2lvc1wiKTtiLmhpZHBpJiYoYi5jc3NDbGFzcys9XCIgY2tlX2hpZHBpXCIpO3JldHVybiBifSgpKSxcInVubG9hZGVkXCI9PUNLRURJVE9SLnN0YXR1cyYmZnVuY3Rpb24oKXtDS0VESVRPUi5ldmVudC5pbXBsZW1lbnRPbihDS0VESVRPUik7XG5DS0VESVRPUi5sb2FkRnVsbENvcmU9ZnVuY3Rpb24oKXtpZihcImJhc2ljX3JlYWR5XCIhPUNLRURJVE9SLnN0YXR1cylDS0VESVRPUi5sb2FkRnVsbENvcmUuX2xvYWQ9MTtlbHNle2RlbGV0ZSBDS0VESVRPUi5sb2FkRnVsbENvcmU7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTthLnR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIjthLnNyYz1DS0VESVRPUi5iYXNlUGF0aCtcImNrZWRpdG9yLmpzXCI7ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdLmFwcGVuZENoaWxkKGEpfX07Q0tFRElUT1IubG9hZEZ1bGxDb3JlVGltZW91dD0wO0NLRURJVE9SLmFkZD1mdW5jdGlvbihhKXsodGhpcy5fLnBlbmRpbmd8fCh0aGlzLl8ucGVuZGluZz1bXSkpLnB1c2goYSl9OyhmdW5jdGlvbigpe0NLRURJVE9SLmRvbVJlYWR5KGZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IubG9hZEZ1bGxDb3JlLGU9Q0tFRElUT1IubG9hZEZ1bGxDb3JlVGltZW91dDthJiYoQ0tFRElUT1Iuc3RhdHVzPVxuXCJiYXNpY19yZWFkeVwiLGEmJmEuX2xvYWQ/YSgpOmUmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtDS0VESVRPUi5sb2FkRnVsbENvcmUmJkNLRURJVE9SLmxvYWRGdWxsQ29yZSgpfSwxRTMqZSkpfSl9KSgpO0NLRURJVE9SLnN0YXR1cz1cImJhc2ljX2xvYWRlZFwifSgpLFwidXNlIHN0cmljdFwiLENLRURJVE9SLlZFUkJPU0lUWV9XQVJOPTEsQ0tFRElUT1IuVkVSQk9TSVRZX0VSUk9SPTIsQ0tFRElUT1IudmVyYm9zaXR5PUNLRURJVE9SLlZFUkJPU0lUWV9XQVJOfENLRURJVE9SLlZFUkJPU0lUWV9FUlJPUixDS0VESVRPUi53YXJuPWZ1bmN0aW9uKGEsZSl7Q0tFRElUT1IudmVyYm9zaXR5JkNLRURJVE9SLlZFUkJPU0lUWV9XQVJOJiZDS0VESVRPUi5maXJlKFwibG9nXCIse3R5cGU6XCJ3YXJuXCIsZXJyb3JDb2RlOmEsYWRkaXRpb25hbERhdGE6ZX0pfSxDS0VESVRPUi5lcnJvcj1mdW5jdGlvbihhLGUpe0NLRURJVE9SLnZlcmJvc2l0eSZDS0VESVRPUi5WRVJCT1NJVFlfRVJST1ImJkNLRURJVE9SLmZpcmUoXCJsb2dcIixcbnt0eXBlOlwiZXJyb3JcIixlcnJvckNvZGU6YSxhZGRpdGlvbmFsRGF0YTplfSl9LENLRURJVE9SLm9uKFwibG9nXCIsZnVuY3Rpb24oYSl7aWYod2luZG93LmNvbnNvbGUmJndpbmRvdy5jb25zb2xlLmxvZyl7dmFyIGU9Y29uc29sZVthLmRhdGEudHlwZV0/YS5kYXRhLnR5cGU6XCJsb2dcIixiPWEuZGF0YS5lcnJvckNvZGU7aWYoYT1hLmRhdGEuYWRkaXRpb25hbERhdGEpY29uc29sZVtlXShcIltDS0VESVRPUl0gRXJyb3IgY29kZTogXCIrYitcIi5cIixhKTtlbHNlIGNvbnNvbGVbZV0oXCJbQ0tFRElUT1JdIEVycm9yIGNvZGU6IFwiK2IrXCIuXCIpO2NvbnNvbGVbZV0oXCJbQ0tFRElUT1JdIEZvciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IHRoaXMgZXJyb3IgZ28gdG8gaHR0cDovL2RvY3MuY2tlZGl0b3IuY29tLyMhL2d1aWRlL2Rldl9lcnJvcnMtc2VjdGlvbi1cIitiKX19LG51bGwsbnVsbCw5OTkpLENLRURJVE9SLmRvbT17fSxmdW5jdGlvbigpe3ZhciBhPVtdLGU9Q0tFRElUT1IuZW52LmdlY2tvP1wiLW1vei1cIjpcbkNLRURJVE9SLmVudi53ZWJraXQ/XCItd2Via2l0LVwiOkNLRURJVE9SLmVudi5pZT9cIi1tcy1cIjpcIlwiLGI9LyYvZyxjPS8+L2csZD0vPC9nLGw9L1wiL2csbT0vJihsdHxndHxhbXB8cXVvdHxuYnNwfHNoeXwjXFxkezEsNX0pOy9nLGY9e2x0OlwiXFx4M2NcIixndDpcIlxceDNlXCIsYW1wOlwiXFx4MjZcIixxdW90OidcIicsbmJzcDpcIsKgXCIsc2h5Olwiwq1cIn0saD1mdW5jdGlvbihhLGcpe3JldHVyblwiI1wiPT1nWzBdP1N0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoZy5zbGljZSgxKSwxMCkpOmZbZ119O0NLRURJVE9SLm9uKFwicmVzZXRcIixmdW5jdGlvbigpe2E9W119KTtDS0VESVRPUi50b29scz17YXJyYXlDb21wYXJlOmZ1bmN0aW9uKGEsZyl7aWYoIWEmJiFnKXJldHVybiEwO2lmKCFhfHwhZ3x8YS5sZW5ndGghPWcubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgZj0wO2Y8YS5sZW5ndGg7ZisrKWlmKGFbZl0hPWdbZl0pcmV0dXJuITE7cmV0dXJuITB9LGdldEluZGV4OmZ1bmN0aW9uKGEsZyl7Zm9yKHZhciBmPVxuMDtmPGEubGVuZ3RoOysrZilpZihnKGFbZl0pKXJldHVybiBmO3JldHVybi0xfSxjbG9uZTpmdW5jdGlvbihhKXt2YXIgZztpZihhJiZhIGluc3RhbmNlb2YgQXJyYXkpe2c9W107Zm9yKHZhciBmPTA7ZjxhLmxlbmd0aDtmKyspZ1tmXT1DS0VESVRPUi50b29scy5jbG9uZShhW2ZdKTtyZXR1cm4gZ31pZihudWxsPT09YXx8XCJvYmplY3RcIiE9dHlwZW9mIGF8fGEgaW5zdGFuY2VvZiBTdHJpbmd8fGEgaW5zdGFuY2VvZiBOdW1iZXJ8fGEgaW5zdGFuY2VvZiBCb29sZWFufHxhIGluc3RhbmNlb2YgRGF0ZXx8YSBpbnN0YW5jZW9mIFJlZ0V4cHx8YS5ub2RlVHlwZXx8YS53aW5kb3c9PT1hKXJldHVybiBhO2c9bmV3IGEuY29uc3RydWN0b3I7Zm9yKGYgaW4gYSlnW2ZdPUNLRURJVE9SLnRvb2xzLmNsb25lKGFbZl0pO3JldHVybiBnfSxjYXBpdGFsaXplOmZ1bmN0aW9uKGEsZyl7cmV0dXJuIGEuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrKGc/YS5zbGljZSgxKTphLnNsaWNlKDEpLnRvTG93ZXJDYXNlKCkpfSxcbmV4dGVuZDpmdW5jdGlvbihhKXt2YXIgZz1hcmd1bWVudHMubGVuZ3RoLGYsYjtcImJvb2xlYW5cIj09dHlwZW9mKGY9YXJndW1lbnRzW2ctMV0pP2ctLTpcImJvb2xlYW5cIj09dHlwZW9mKGY9YXJndW1lbnRzW2ctMl0pJiYoYj1hcmd1bWVudHNbZy0xXSxnLT0yKTtmb3IodmFyIGg9MTtoPGc7aCsrKXt2YXIgYz1hcmd1bWVudHNbaF0sZDtmb3IoZCBpbiBjKWlmKCEwPT09Znx8bnVsbD09YVtkXSlpZighYnx8ZCBpbiBiKWFbZF09Y1tkXX1yZXR1cm4gYX0scHJvdG90eXBlZENvcHk6ZnVuY3Rpb24oYSl7dmFyIGc9ZnVuY3Rpb24oKXt9O2cucHJvdG90eXBlPWE7cmV0dXJuIG5ldyBnfSxjb3B5OmZ1bmN0aW9uKGEpe3ZhciBnPXt9LGY7Zm9yKGYgaW4gYSlnW2ZdPWFbZl07cmV0dXJuIGd9LGlzQXJyYXk6ZnVuY3Rpb24oYSl7cmV0dXJuXCJbb2JqZWN0IEFycmF5XVwiPT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSl9LGlzRW1wdHk6ZnVuY3Rpb24oYSl7Zm9yKHZhciBnIGluIGEpaWYoYS5oYXNPd25Qcm9wZXJ0eShnKSlyZXR1cm4hMTtcbnJldHVybiEwfSxjc3NWZW5kb3JQcmVmaXg6ZnVuY3Rpb24oYSxnLGYpe2lmKGYpcmV0dXJuIGUrYStcIjpcIitnK1wiO1wiK2ErXCI6XCIrZztmPXt9O2ZbYV09ZztmW2UrYV09ZztyZXR1cm4gZn0sY3NzU3R5bGVUb0RvbVN0eWxlOmZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKS5zdHlsZSxnPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLmNzc0Zsb2F0P1wiY3NzRmxvYXRcIjpcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5zdHlsZUZsb2F0P1wic3R5bGVGbG9hdFwiOlwiZmxvYXRcIjtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuXCJmbG9hdFwiPT1hP2c6YS5yZXBsYWNlKC8tLi9nLGZ1bmN0aW9uKGEpe3JldHVybiBhLnN1YnN0cigxKS50b1VwcGVyQ2FzZSgpfSl9fSgpLGJ1aWxkU3R5bGVIdG1sOmZ1bmN0aW9uKGEpe2E9W10uY29uY2F0KGEpO2Zvcih2YXIgZyxmPVtdLGI9MDtiPGEubGVuZ3RoO2IrKylpZihnPWFbYl0pL0BpbXBvcnR8W3t9XS8udGVzdChnKT9mLnB1c2goXCJcXHgzY3N0eWxlXFx4M2VcIitcbmcrXCJcXHgzYy9zdHlsZVxceDNlXCIpOmYucHVzaCgnXFx4M2NsaW5rIHR5cGVcXHgzZFwidGV4dC9jc3NcIiByZWxcXHgzZHN0eWxlc2hlZXQgaHJlZlxceDNkXCInK2crJ1wiXFx4M2UnKTtyZXR1cm4gZi5qb2luKFwiXCIpfSxodG1sRW5jb2RlOmZ1bmN0aW9uKGEpe3JldHVybiB2b2lkIDA9PT1hfHxudWxsPT09YT9cIlwiOlN0cmluZyhhKS5yZXBsYWNlKGIsXCJcXHgyNmFtcDtcIikucmVwbGFjZShjLFwiXFx4MjZndDtcIikucmVwbGFjZShkLFwiXFx4MjZsdDtcIil9LGh0bWxEZWNvZGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShtLGgpfSxodG1sRW5jb2RlQXR0cjpmdW5jdGlvbihhKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShhKS5yZXBsYWNlKGwsXCJcXHgyNnF1b3Q7XCIpfSxodG1sRGVjb2RlQXR0cjpmdW5jdGlvbihhKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMuaHRtbERlY29kZShhKX0sdHJhbnNmb3JtUGxhaW5UZXh0VG9IdG1sOmZ1bmN0aW9uKGEsZyl7dmFyIGY9Zz09Q0tFRElUT1IuRU5URVJfQlIsXG5iPXRoaXMuaHRtbEVuY29kZShhLnJlcGxhY2UoL1xcclxcbi9nLFwiXFxuXCIpKSxiPWIucmVwbGFjZSgvXFx0L2csXCJcXHgyNm5ic3A7XFx4MjZuYnNwOyBcXHgyNm5ic3A7XCIpLGg9Zz09Q0tFRElUT1IuRU5URVJfUD9cInBcIjpcImRpdlwiO2lmKCFmKXt2YXIgYz0vXFxuezJ9L2c7aWYoYy50ZXN0KGIpKXZhciBkPVwiXFx4M2NcIitoK1wiXFx4M2VcIixlPVwiXFx4M2MvXCIraCtcIlxceDNlXCIsYj1kK2IucmVwbGFjZShjLGZ1bmN0aW9uKCl7cmV0dXJuIGUrZH0pK2V9Yj1iLnJlcGxhY2UoL1xcbi9nLFwiXFx4M2NiclxceDNlXCIpO2Z8fChiPWIucmVwbGFjZShuZXcgUmVnRXhwKFwiXFx4M2NiclxceDNlKD9cXHgzZFxceDNjL1wiK2grXCJcXHgzZSlcIiksZnVuY3Rpb24oYSl7cmV0dXJuIENLRURJVE9SLnRvb2xzLnJlcGVhdChhLDIpfSkpO2I9Yi5yZXBsYWNlKC9eIHwgJC9nLFwiXFx4MjZuYnNwO1wiKTtyZXR1cm4gYj1iLnJlcGxhY2UoLyg+fFxccykgL2csZnVuY3Rpb24oYSxnKXtyZXR1cm4gZytcIlxceDI2bmJzcDtcIn0pLnJlcGxhY2UoLyAoPz08KS9nLFxuXCJcXHgyNm5ic3A7XCIpfSxnZXROZXh0TnVtYmVyOmZ1bmN0aW9uKCl7dmFyIGE9MDtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4rK2F9fSgpLGdldE5leHRJZDpmdW5jdGlvbigpe3JldHVyblwiY2tlX1wiK3RoaXMuZ2V0TmV4dE51bWJlcigpfSxnZXRVbmlxdWVJZDpmdW5jdGlvbigpe2Zvcih2YXIgYT1cImVcIixnPTA7OD5nO2crKylhKz1NYXRoLmZsb29yKDY1NTM2KigxK01hdGgucmFuZG9tKCkpKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDEpO3JldHVybiBhfSxvdmVycmlkZTpmdW5jdGlvbihhLGcpe3ZhciBmPWcoYSk7Zi5wcm90b3R5cGU9YS5wcm90b3R5cGU7cmV0dXJuIGZ9LHNldFRpbWVvdXQ6ZnVuY3Rpb24oYSxnLGYsYixoKXtofHwoaD13aW5kb3cpO2Z8fChmPWgpO3JldHVybiBoLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtiP2EuYXBwbHkoZixbXS5jb25jYXQoYikpOmEuYXBwbHkoZil9LGd8fDApfSx0cmltOmZ1bmN0aW9uKCl7dmFyIGE9Lyg/Ol5bIFxcdFxcblxccl0rKXwoPzpbIFxcdFxcblxccl0rJCkvZztcbnJldHVybiBmdW5jdGlvbihnKXtyZXR1cm4gZy5yZXBsYWNlKGEsXCJcIil9fSgpLGx0cmltOmZ1bmN0aW9uKCl7dmFyIGE9L15bIFxcdFxcblxccl0rL2c7cmV0dXJuIGZ1bmN0aW9uKGcpe3JldHVybiBnLnJlcGxhY2UoYSxcIlwiKX19KCkscnRyaW06ZnVuY3Rpb24oKXt2YXIgYT0vWyBcXHRcXG5cXHJdKyQvZztyZXR1cm4gZnVuY3Rpb24oZyl7cmV0dXJuIGcucmVwbGFjZShhLFwiXCIpfX0oKSxpbmRleE9mOmZ1bmN0aW9uKGEsZyl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZylmb3IodmFyIGY9MCxiPWEubGVuZ3RoO2Y8YjtmKyspe2lmKGcoYVtmXSkpcmV0dXJuIGZ9ZWxzZXtpZihhLmluZGV4T2YpcmV0dXJuIGEuaW5kZXhPZihnKTtmPTA7Zm9yKGI9YS5sZW5ndGg7ZjxiO2YrKylpZihhW2ZdPT09ZylyZXR1cm4gZn1yZXR1cm4tMX0sc2VhcmNoOmZ1bmN0aW9uKGEsZyl7dmFyIGY9Q0tFRElUT1IudG9vbHMuaW5kZXhPZihhLGcpO3JldHVybiAwPD1mP2FbZl06bnVsbH0sYmluZDpmdW5jdGlvbihhLFxuZyl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkoZyxhcmd1bWVudHMpfX0sY3JlYXRlQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGc9YS4kLGY9YS5iYXNlLGI9YS5wcml2YXRlc3x8YS5fLGg9YS5wcm90bzthPWEuc3RhdGljczshZyYmKGc9ZnVuY3Rpb24oKXtmJiZ0aGlzLmJhc2UuYXBwbHkodGhpcyxhcmd1bWVudHMpfSk7aWYoYil2YXIgYz1nLGc9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl98fCh0aGlzLl89e30pLGc7Zm9yKGcgaW4gYil7dmFyIGY9YltnXTthW2ddPVwiZnVuY3Rpb25cIj09dHlwZW9mIGY/Q0tFRElUT1IudG9vbHMuYmluZChmLHRoaXMpOmZ9Yy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2YmJihnLnByb3RvdHlwZT10aGlzLnByb3RvdHlwZWRDb3B5KGYucHJvdG90eXBlKSxnLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1nLGcuYmFzZT1mLGcuYmFzZVByb3RvPWYucHJvdG90eXBlLGcucHJvdG90eXBlLmJhc2U9ZnVuY3Rpb24oKXt0aGlzLmJhc2U9Zi5wcm90b3R5cGUuYmFzZTtcbmYuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuYmFzZT1hcmd1bWVudHMuY2FsbGVlfSk7aCYmdGhpcy5leHRlbmQoZy5wcm90b3R5cGUsaCwhMCk7YSYmdGhpcy5leHRlbmQoZyxhLCEwKTtyZXR1cm4gZ30sYWRkRnVuY3Rpb246ZnVuY3Rpb24oZixnKXtyZXR1cm4gYS5wdXNoKGZ1bmN0aW9uKCl7cmV0dXJuIGYuYXBwbHkoZ3x8dGhpcyxhcmd1bWVudHMpfSktMX0scmVtb3ZlRnVuY3Rpb246ZnVuY3Rpb24oZil7YVtmXT1udWxsfSxjYWxsRnVuY3Rpb246ZnVuY3Rpb24oZil7dmFyIGc9YVtmXTtyZXR1cm4gZyYmZy5hcHBseSh3aW5kb3csQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKX0sY3NzTGVuZ3RoOmZ1bmN0aW9uKCl7dmFyIGE9L14tP1xcZCtcXC4/XFxkKnB4JC8sZztyZXR1cm4gZnVuY3Rpb24oZil7Zz1DS0VESVRPUi50b29scy50cmltKGYrXCJcIikrXCJweFwiO3JldHVybiBhLnRlc3QoZyk/ZzpmfHxcIlwifX0oKSxjb252ZXJ0VG9QeDpmdW5jdGlvbigpe3ZhciBhO1xucmV0dXJuIGZ1bmN0aW9uKGcpe2F8fChhPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKCdcXHgzY2RpdiBzdHlsZVxceDNkXCJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi05OTk5cHg7dG9wOi05OTk5cHg7bWFyZ2luOjBweDtwYWRkaW5nOjBweDtib3JkZXI6MHB4O1wiXFx4M2VcXHgzYy9kaXZcXHgzZScsQ0tFRElUT1IuZG9jdW1lbnQpLENLRURJVE9SLmRvY3VtZW50LmdldEJvZHkoKS5hcHBlbmQoYSkpO3JldHVybi8lJC8udGVzdChnKT9nOihhLnNldFN0eWxlKFwid2lkdGhcIixnKSxhLiQuY2xpZW50V2lkdGgpfX0oKSxyZXBlYXQ6ZnVuY3Rpb24oYSxnKXtyZXR1cm4gQXJyYXkoZysxKS5qb2luKGEpfSx0cnlUaGVzZTpmdW5jdGlvbigpe2Zvcih2YXIgYSxnPTAsZj1hcmd1bWVudHMubGVuZ3RoO2c8ZjtnKyspe3ZhciBiPWFyZ3VtZW50c1tnXTt0cnl7YT1iKCk7YnJlYWt9Y2F0Y2goaCl7fX1yZXR1cm4gYX0sZ2VuS2V5OmZ1bmN0aW9uKCl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykuam9pbihcIi1cIil9LFxuZGVmZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGc9YXJndW1lbnRzLGY9dGhpczt3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2EuYXBwbHkoZixnKX0sMCl9fSxub3JtYWxpemVDc3NUZXh0OmZ1bmN0aW9uKGEsZyl7dmFyIGY9W10sYixoPUNLRURJVE9SLnRvb2xzLnBhcnNlQ3NzVGV4dChhLCEwLGcpO2ZvcihiIGluIGgpZi5wdXNoKGIrXCI6XCIraFtiXSk7Zi5zb3J0KCk7cmV0dXJuIGYubGVuZ3RoP2Yuam9pbihcIjtcIikrXCI7XCI6XCJcIn0sY29udmVydFJnYlRvSGV4OmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoLyg/OnJnYlxcKFxccyooXFxkKylcXHMqLFxccyooXFxkKylcXHMqLFxccyooXFxkKylcXHMqXFwpKS9naSxmdW5jdGlvbihhLGYsYixoKXthPVtmLGIsaF07Zm9yKGY9MDszPmY7ZisrKWFbZl09KFwiMFwiK3BhcnNlSW50KGFbZl0sMTApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpO3JldHVyblwiI1wiK2Euam9pbihcIlwiKX0pfSxub3JtYWxpemVIZXg6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvIygoWzAtOWEtZl17M30pezEsMn0pKCR8O3xcXHMrKS9naSxcbmZ1bmN0aW9uKGEsZixiLGgpe2E9Zi50b0xvd2VyQ2FzZSgpOzM9PWEubGVuZ3RoJiYoYT1hLnNwbGl0KFwiXCIpLGE9W2FbMF0sYVswXSxhWzFdLGFbMV0sYVsyXSxhWzJdXS5qb2luKFwiXCIpKTtyZXR1cm5cIiNcIithK2h9KX0scGFyc2VDc3NUZXh0OmZ1bmN0aW9uKGEsZyxmKXt2YXIgYj17fTtmJiYoYT0obmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwic3BhblwiKSkuc2V0QXR0cmlidXRlKFwic3R5bGVcIixhKS5nZXRBdHRyaWJ1dGUoXCJzdHlsZVwiKXx8XCJcIik7YSYmKGE9Q0tFRElUT1IudG9vbHMubm9ybWFsaXplSGV4KENLRURJVE9SLnRvb2xzLmNvbnZlcnRSZ2JUb0hleChhKSkpO2lmKCFhfHxcIjtcIj09YSlyZXR1cm4gYjthLnJlcGxhY2UoLyZxdW90Oy9nLCdcIicpLnJlcGxhY2UoL1xccyooW146O1xcc10rKVxccyo6XFxzKihbXjtdKylcXHMqKD89O3wkKS9nLGZ1bmN0aW9uKGEsZixoKXtnJiYoZj1mLnRvTG93ZXJDYXNlKCksXCJmb250LWZhbWlseVwiPT1mJiYoaD1oLnJlcGxhY2UoL1xccyosXFxzKi9nLFxuXCIsXCIpKSxoPUNLRURJVE9SLnRvb2xzLnRyaW0oaCkpO2JbZl09aH0pO3JldHVybiBifSx3cml0ZUNzc1RleHQ6ZnVuY3Rpb24oYSxnKXt2YXIgZixiPVtdO2ZvcihmIGluIGEpYi5wdXNoKGYrXCI6XCIrYVtmXSk7ZyYmYi5zb3J0KCk7cmV0dXJuIGIuam9pbihcIjsgXCIpfSxvYmplY3RDb21wYXJlOmZ1bmN0aW9uKGEsZyxmKXt2YXIgYjtpZighYSYmIWcpcmV0dXJuITA7aWYoIWF8fCFnKXJldHVybiExO2ZvcihiIGluIGEpaWYoYVtiXSE9Z1tiXSlyZXR1cm4hMTtpZighZilmb3IoYiBpbiBnKWlmKGFbYl0hPWdbYl0pcmV0dXJuITE7cmV0dXJuITB9LG9iamVjdEtleXM6ZnVuY3Rpb24oYSl7dmFyIGc9W10sZjtmb3IoZiBpbiBhKWcucHVzaChmKTtyZXR1cm4gZ30sY29udmVydEFycmF5VG9PYmplY3Q6ZnVuY3Rpb24oYSxnKXt2YXIgZj17fTsxPT1hcmd1bWVudHMubGVuZ3RoJiYoZz0hMCk7Zm9yKHZhciBiPTAsaD1hLmxlbmd0aDtiPGg7KytiKWZbYVtiXV09ZztyZXR1cm4gZn0sZml4RG9tYWluOmZ1bmN0aW9uKCl7Zm9yKHZhciBhOzspdHJ5e2E9XG53aW5kb3cucGFyZW50LmRvY3VtZW50LmRvbWFpbjticmVha31jYXRjaChnKXthPWE/YS5yZXBsYWNlKC8uKz8oPzpcXC58JCkvLFwiXCIpOmRvY3VtZW50LmRvbWFpbjtpZighYSlicmVhaztkb2N1bWVudC5kb21haW49YX1yZXR1cm4hIWF9LGV2ZW50c0J1ZmZlcjpmdW5jdGlvbihhLGcsZil7ZnVuY3Rpb24gYigpe2M9KG5ldyBEYXRlKS5nZXRUaW1lKCk7aD0hMTtmP2cuY2FsbChmKTpnKCl9dmFyIGgsYz0wO3JldHVybntpbnB1dDpmdW5jdGlvbigpe2lmKCFoKXt2YXIgZz0obmV3IERhdGUpLmdldFRpbWUoKS1jO2c8YT9oPXNldFRpbWVvdXQoYixhLWcpOmIoKX19LHJlc2V0OmZ1bmN0aW9uKCl7aCYmY2xlYXJUaW1lb3V0KGgpO2g9Yz0wfX19LGVuYWJsZUh0bWw1RWxlbWVudHM6ZnVuY3Rpb24oYSxnKXtmb3IodmFyIGY9XCJhYmJyIGFydGljbGUgYXNpZGUgYXVkaW8gYmRpIGNhbnZhcyBkYXRhIGRhdGFsaXN0IGRldGFpbHMgZmlnY2FwdGlvbiBmaWd1cmUgZm9vdGVyIGhlYWRlciBoZ3JvdXAgbWFpbiBtYXJrIG1ldGVyIG5hdiBvdXRwdXQgcHJvZ3Jlc3Mgc2VjdGlvbiBzdW1tYXJ5IHRpbWUgdmlkZW9cIi5zcGxpdChcIiBcIiksXG5iPWYubGVuZ3RoLGg7Yi0tOyloPWEuY3JlYXRlRWxlbWVudChmW2JdKSxnJiZhLmFwcGVuZENoaWxkKGgpfSxjaGVja0lmQW55QXJyYXlJdGVtTWF0Y2hlczpmdW5jdGlvbihhLGcpe2Zvcih2YXIgZj0wLGI9YS5sZW5ndGg7ZjxiOysrZilpZihhW2ZdLm1hdGNoKGcpKXJldHVybiEwO3JldHVybiExfSxjaGVja0lmQW55T2JqZWN0UHJvcGVydHlNYXRjaGVzOmZ1bmN0aW9uKGEsZyl7Zm9yKHZhciBmIGluIGEpaWYoZi5tYXRjaChnKSlyZXR1cm4hMDtyZXR1cm4hMX0sdHJhbnNwYXJlbnRJbWFnZURhdGE6XCJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQVBBQkFQLy8vd0FBQUNINUJBRUtBQUFBTEFBQUFBQUJBQUVBQUFJQ1JBRUFPd1xceDNkXFx4M2RcIixnZXRDb29raWU6ZnVuY3Rpb24oYSl7YT1hLnRvTG93ZXJDYXNlKCk7Zm9yKHZhciBnPWRvY3VtZW50LmNvb2tpZS5zcGxpdChcIjtcIiksZixiLGg9MDtoPGcubGVuZ3RoO2grKylpZihmPWdbaF0uc3BsaXQoXCJcXHgzZFwiKSxcbmI9ZGVjb2RlVVJJQ29tcG9uZW50KENLRURJVE9SLnRvb2xzLnRyaW0oZlswXSkudG9Mb3dlckNhc2UoKSksYj09PWEpcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudCgxPGYubGVuZ3RoP2ZbMV06XCJcIik7cmV0dXJuIG51bGx9LHNldENvb2tpZTpmdW5jdGlvbihhLGcpe2RvY3VtZW50LmNvb2tpZT1lbmNvZGVVUklDb21wb25lbnQoYSkrXCJcXHgzZFwiK2VuY29kZVVSSUNvbXBvbmVudChnKStcIjtwYXRoXFx4M2QvXCJ9LGdldENzcmZUb2tlbjpmdW5jdGlvbigpe3ZhciBhPUNLRURJVE9SLnRvb2xzLmdldENvb2tpZShcImNrQ3NyZlRva2VuXCIpO2lmKCFhfHw0MCE9YS5sZW5ndGgpe3ZhciBhPVtdLGc9XCJcIjtpZih3aW5kb3cuY3J5cHRvJiZ3aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcylhPW5ldyBVaW50OEFycmF5KDQwKSx3aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhhKTtlbHNlIGZvcih2YXIgZj0wOzQwPmY7ZisrKWEucHVzaChNYXRoLmZsb29yKDI1NipNYXRoLnJhbmRvbSgpKSk7XG5mb3IoZj0wO2Y8YS5sZW5ndGg7ZisrKXZhciBiPVwiYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5XCIuY2hhckF0KGFbZl0lMzYpLGc9ZysoLjU8TWF0aC5yYW5kb20oKT9iLnRvVXBwZXJDYXNlKCk6Yik7YT1nO0NLRURJVE9SLnRvb2xzLnNldENvb2tpZShcImNrQ3NyZlRva2VuXCIsYSl9cmV0dXJuIGF9LGVzY2FwZUNzczpmdW5jdGlvbihhKXtyZXR1cm4gYT93aW5kb3cuQ1NTJiZDU1MuZXNjYXBlP0NTUy5lc2NhcGUoYSk6aXNOYU4ocGFyc2VJbnQoYS5jaGFyQXQoMCksMTApKT9hOlwiXFxcXDNcIithLmNoYXJBdCgwKStcIiBcIithLnN1YnN0cmluZygxLGEubGVuZ3RoKTpcIlwifX19KCksQ0tFRElUT1IuZHRkPWZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IudG9vbHMuZXh0ZW5kLGU9ZnVuY3Rpb24oYSxnKXtmb3IodmFyIGY9Q0tFRElUT1IudG9vbHMuY2xvbmUoYSksYj0xO2I8YXJndW1lbnRzLmxlbmd0aDtiKyspe2c9YXJndW1lbnRzW2JdO2Zvcih2YXIgaCBpbiBnKWRlbGV0ZSBmW2hdfXJldHVybiBmfSxcbmI9e30sYz17fSxkPXthZGRyZXNzOjEsYXJ0aWNsZToxLGFzaWRlOjEsYmxvY2txdW90ZToxLGRldGFpbHM6MSxkaXY6MSxkbDoxLGZpZWxkc2V0OjEsZmlndXJlOjEsZm9vdGVyOjEsZm9ybToxLGgxOjEsaDI6MSxoMzoxLGg0OjEsaDU6MSxoNjoxLGhlYWRlcjoxLGhncm91cDoxLGhyOjEsbWFpbjoxLG1lbnU6MSxuYXY6MSxvbDoxLHA6MSxwcmU6MSxzZWN0aW9uOjEsdGFibGU6MSx1bDoxfSxsPXtjb21tYW5kOjEsbGluazoxLG1ldGE6MSxub3NjcmlwdDoxLHNjcmlwdDoxLHN0eWxlOjF9LG09e30sZj17XCIjXCI6MX0saD17Y2VudGVyOjEsZGlyOjEsbm9mcmFtZXM6MX07YShiLHthOjEsYWJicjoxLGFyZWE6MSxhdWRpbzoxLGI6MSxiZGk6MSxiZG86MSxicjoxLGJ1dHRvbjoxLGNhbnZhczoxLGNpdGU6MSxjb2RlOjEsY29tbWFuZDoxLGRhdGFsaXN0OjEsZGVsOjEsZGZuOjEsZW06MSxlbWJlZDoxLGk6MSxpZnJhbWU6MSxpbWc6MSxpbnB1dDoxLGluczoxLGtiZDoxLGtleWdlbjoxLFxubGFiZWw6MSxtYXA6MSxtYXJrOjEsbWV0ZXI6MSxub3NjcmlwdDoxLG9iamVjdDoxLG91dHB1dDoxLHByb2dyZXNzOjEscToxLHJ1Ynk6MSxzOjEsc2FtcDoxLHNjcmlwdDoxLHNlbGVjdDoxLHNtYWxsOjEsc3BhbjoxLHN0cm9uZzoxLHN1YjoxLHN1cDoxLHRleHRhcmVhOjEsdGltZToxLHU6MSxcInZhclwiOjEsdmlkZW86MSx3YnI6MX0sZix7YWNyb255bToxLGFwcGxldDoxLGJhc2Vmb250OjEsYmlnOjEsZm9udDoxLGlzaW5kZXg6MSxzdHJpa2U6MSxzdHlsZToxLHR0OjF9KTthKGMsZCxiLGgpO2U9e2E6ZShiLHthOjEsYnV0dG9uOjF9KSxhYmJyOmIsYWRkcmVzczpjLGFyZWE6bSxhcnRpY2xlOmMsYXNpZGU6YyxhdWRpbzphKHtzb3VyY2U6MSx0cmFjazoxfSxjKSxiOmIsYmFzZTptLGJkaTpiLGJkbzpiLGJsb2NrcXVvdGU6Yyxib2R5OmMsYnI6bSxidXR0b246ZShiLHthOjEsYnV0dG9uOjF9KSxjYW52YXM6YixjYXB0aW9uOmMsY2l0ZTpiLGNvZGU6Yixjb2w6bSxjb2xncm91cDp7Y29sOjF9LFxuY29tbWFuZDptLGRhdGFsaXN0OmEoe29wdGlvbjoxfSxiKSxkZDpjLGRlbDpiLGRldGFpbHM6YSh7c3VtbWFyeToxfSxjKSxkZm46YixkaXY6YyxkbDp7ZHQ6MSxkZDoxfSxkdDpjLGVtOmIsZW1iZWQ6bSxmaWVsZHNldDphKHtsZWdlbmQ6MX0sYyksZmlnY2FwdGlvbjpjLGZpZ3VyZTphKHtmaWdjYXB0aW9uOjF9LGMpLGZvb3RlcjpjLGZvcm06YyxoMTpiLGgyOmIsaDM6YixoNDpiLGg1OmIsaDY6YixoZWFkOmEoe3RpdGxlOjEsYmFzZToxfSxsKSxoZWFkZXI6YyxoZ3JvdXA6e2gxOjEsaDI6MSxoMzoxLGg0OjEsaDU6MSxoNjoxfSxocjptLGh0bWw6YSh7aGVhZDoxLGJvZHk6MX0sYyxsKSxpOmIsaWZyYW1lOmYsaW1nOm0saW5wdXQ6bSxpbnM6YixrYmQ6YixrZXlnZW46bSxsYWJlbDpiLGxlZ2VuZDpiLGxpOmMsbGluazptLG1haW46YyxtYXA6YyxtYXJrOmIsbWVudTphKHtsaToxfSxjKSxtZXRhOm0sbWV0ZXI6ZShiLHttZXRlcjoxfSksbmF2OmMsbm9zY3JpcHQ6YSh7bGluazoxLFxubWV0YToxLHN0eWxlOjF9LGIpLG9iamVjdDphKHtwYXJhbToxfSxiKSxvbDp7bGk6MX0sb3B0Z3JvdXA6e29wdGlvbjoxfSxvcHRpb246ZixvdXRwdXQ6YixwOmIscGFyYW06bSxwcmU6Yixwcm9ncmVzczplKGIse3Byb2dyZXNzOjF9KSxxOmIscnA6YixydDpiLHJ1Ynk6YSh7cnA6MSxydDoxfSxiKSxzOmIsc2FtcDpiLHNjcmlwdDpmLHNlY3Rpb246YyxzZWxlY3Q6e29wdGdyb3VwOjEsb3B0aW9uOjF9LHNtYWxsOmIsc291cmNlOm0sc3BhbjpiLHN0cm9uZzpiLHN0eWxlOmYsc3ViOmIsc3VtbWFyeTphKHtoMToxLGgyOjEsaDM6MSxoNDoxLGg1OjEsaDY6MX0sYiksc3VwOmIsdGFibGU6e2NhcHRpb246MSxjb2xncm91cDoxLHRoZWFkOjEsdGZvb3Q6MSx0Ym9keToxLHRyOjF9LHRib2R5Ont0cjoxfSx0ZDpjLHRleHRhcmVhOmYsdGZvb3Q6e3RyOjF9LHRoOmMsdGhlYWQ6e3RyOjF9LHRpbWU6ZShiLHt0aW1lOjF9KSx0aXRsZTpmLHRyOnt0aDoxLHRkOjF9LHRyYWNrOm0sdTpiLHVsOntsaToxfSxcblwidmFyXCI6Yix2aWRlbzphKHtzb3VyY2U6MSx0cmFjazoxfSxjKSx3YnI6bSxhY3JvbnltOmIsYXBwbGV0OmEoe3BhcmFtOjF9LGMpLGJhc2Vmb250Om0sYmlnOmIsY2VudGVyOmMsZGlhbG9nOm0sZGlyOntsaToxfSxmb250OmIsaXNpbmRleDptLG5vZnJhbWVzOmMsc3RyaWtlOmIsdHQ6Yn07YShlLHskYmxvY2s6YSh7YXVkaW86MSxkZDoxLGR0OjEsZmlnY2FwdGlvbjoxLGxpOjEsdmlkZW86MX0sZCxoKSwkYmxvY2tMaW1pdDp7YXJ0aWNsZToxLGFzaWRlOjEsYXVkaW86MSxib2R5OjEsY2FwdGlvbjoxLGRldGFpbHM6MSxkaXI6MSxkaXY6MSxkbDoxLGZpZWxkc2V0OjEsZmlnY2FwdGlvbjoxLGZpZ3VyZToxLGZvb3RlcjoxLGZvcm06MSxoZWFkZXI6MSxoZ3JvdXA6MSxtYWluOjEsbWVudToxLG5hdjoxLG9sOjEsc2VjdGlvbjoxLHRhYmxlOjEsdGQ6MSx0aDoxLHRyOjEsdWw6MSx2aWRlbzoxfSwkY2RhdGE6e3NjcmlwdDoxLHN0eWxlOjF9LCRlZGl0YWJsZTp7YWRkcmVzczoxLGFydGljbGU6MSxcbmFzaWRlOjEsYmxvY2txdW90ZToxLGJvZHk6MSxkZXRhaWxzOjEsZGl2OjEsZmllbGRzZXQ6MSxmaWdjYXB0aW9uOjEsZm9vdGVyOjEsZm9ybToxLGgxOjEsaDI6MSxoMzoxLGg0OjEsaDU6MSxoNjoxLGhlYWRlcjoxLGhncm91cDoxLG1haW46MSxuYXY6MSxwOjEscHJlOjEsc2VjdGlvbjoxfSwkZW1wdHk6e2FyZWE6MSxiYXNlOjEsYmFzZWZvbnQ6MSxicjoxLGNvbDoxLGNvbW1hbmQ6MSxkaWFsb2c6MSxlbWJlZDoxLGhyOjEsaW1nOjEsaW5wdXQ6MSxpc2luZGV4OjEsa2V5Z2VuOjEsbGluazoxLG1ldGE6MSxwYXJhbToxLHNvdXJjZToxLHRyYWNrOjEsd2JyOjF9LCRpbmxpbmU6YiwkbGlzdDp7ZGw6MSxvbDoxLHVsOjF9LCRsaXN0SXRlbTp7ZGQ6MSxkdDoxLGxpOjF9LCRub25Cb2R5Q29udGVudDphKHtib2R5OjEsaGVhZDoxLGh0bWw6MX0sZS5oZWFkKSwkbm9uRWRpdGFibGU6e2FwcGxldDoxLGF1ZGlvOjEsYnV0dG9uOjEsZW1iZWQ6MSxpZnJhbWU6MSxtYXA6MSxvYmplY3Q6MSxcbm9wdGlvbjoxLHBhcmFtOjEsc2NyaXB0OjEsdGV4dGFyZWE6MSx2aWRlbzoxfSwkb2JqZWN0OnthcHBsZXQ6MSxhdWRpbzoxLGJ1dHRvbjoxLGhyOjEsaWZyYW1lOjEsaW1nOjEsaW5wdXQ6MSxvYmplY3Q6MSxzZWxlY3Q6MSx0YWJsZToxLHRleHRhcmVhOjEsdmlkZW86MX0sJHJlbW92ZUVtcHR5OnthYmJyOjEsYWNyb255bToxLGI6MSxiZGk6MSxiZG86MSxiaWc6MSxjaXRlOjEsY29kZToxLGRlbDoxLGRmbjoxLGVtOjEsZm9udDoxLGk6MSxpbnM6MSxsYWJlbDoxLGtiZDoxLG1hcms6MSxtZXRlcjoxLG91dHB1dDoxLHE6MSxydWJ5OjEsczoxLHNhbXA6MSxzbWFsbDoxLHNwYW46MSxzdHJpa2U6MSxzdHJvbmc6MSxzdWI6MSxzdXA6MSx0aW1lOjEsdHQ6MSx1OjEsXCJ2YXJcIjoxfSwkdGFiSW5kZXg6e2E6MSxhcmVhOjEsYnV0dG9uOjEsaW5wdXQ6MSxvYmplY3Q6MSxzZWxlY3Q6MSx0ZXh0YXJlYToxfSwkdGFibGVDb250ZW50OntjYXB0aW9uOjEsY29sOjEsY29sZ3JvdXA6MSx0Ym9keToxLFxudGQ6MSx0Zm9vdDoxLHRoOjEsdGhlYWQ6MSx0cjoxfSwkdHJhbnNwYXJlbnQ6e2E6MSxhdWRpbzoxLGNhbnZhczoxLGRlbDoxLGluczoxLG1hcDoxLG5vc2NyaXB0OjEsb2JqZWN0OjEsdmlkZW86MX0sJGludGVybWVkaWF0ZTp7Y2FwdGlvbjoxLGNvbGdyb3VwOjEsZGQ6MSxkdDoxLGZpZ2NhcHRpb246MSxsZWdlbmQ6MSxsaToxLG9wdGdyb3VwOjEsb3B0aW9uOjEscnA6MSxydDoxLHN1bW1hcnk6MSx0Ym9keToxLHRkOjEsdGZvb3Q6MSx0aDoxLHRoZWFkOjEsdHI6MX19KTtyZXR1cm4gZX0oKSxDS0VESVRPUi5kb20uZXZlbnQ9ZnVuY3Rpb24oYSl7dGhpcy4kPWF9LENLRURJVE9SLmRvbS5ldmVudC5wcm90b3R5cGU9e2dldEtleTpmdW5jdGlvbigpe3JldHVybiB0aGlzLiQua2V5Q29kZXx8dGhpcy4kLndoaWNofSxnZXRLZXlzdHJva2U6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEtleSgpO2lmKHRoaXMuJC5jdHJsS2V5fHx0aGlzLiQubWV0YUtleSlhKz1DS0VESVRPUi5DVFJMO1xudGhpcy4kLnNoaWZ0S2V5JiYoYSs9Q0tFRElUT1IuU0hJRlQpO3RoaXMuJC5hbHRLZXkmJihhKz1DS0VESVRPUi5BTFQpO3JldHVybiBhfSxwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbihhKXt2YXIgZT10aGlzLiQ7ZS5wcmV2ZW50RGVmYXVsdD9lLnByZXZlbnREZWZhdWx0KCk6ZS5yZXR1cm5WYWx1ZT0hMTthJiZ0aGlzLnN0b3BQcm9wYWdhdGlvbigpfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiQ7YS5zdG9wUHJvcGFnYXRpb24/YS5zdG9wUHJvcGFnYXRpb24oKTphLmNhbmNlbEJ1YmJsZT0hMH0sZ2V0VGFyZ2V0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kLnRhcmdldHx8dGhpcy4kLnNyY0VsZW1lbnQ7cmV0dXJuIGE/bmV3IENLRURJVE9SLmRvbS5ub2RlKGEpOm51bGx9LGdldFBoYXNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC5ldmVudFBoYXNlfHwyfSxnZXRQYWdlT2Zmc2V0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRUYXJnZXQoKS5nZXREb2N1bWVudCgpLiQ7XG5yZXR1cm57eDp0aGlzLiQucGFnZVh8fHRoaXMuJC5jbGllbnRYKyhhLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0fHxhLmJvZHkuc2Nyb2xsTGVmdCkseTp0aGlzLiQucGFnZVl8fHRoaXMuJC5jbGllbnRZKyhhLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3B8fGEuYm9keS5zY3JvbGxUb3ApfX19LENLRURJVE9SLkNUUkw9MTExNDExMixDS0VESVRPUi5TSElGVD0yMjI4MjI0LENLRURJVE9SLkFMVD00NDU2NDQ4LENLRURJVE9SLkVWRU5UX1BIQVNFX0NBUFRVUklORz0xLENLRURJVE9SLkVWRU5UX1BIQVNFX0FUX1RBUkdFVD0yLENLRURJVE9SLkVWRU5UX1BIQVNFX0JVQkJMSU5HPTMsQ0tFRElUT1IuZG9tLmRvbU9iamVjdD1mdW5jdGlvbihhKXthJiYodGhpcy4kPWEpfSxDS0VESVRPUi5kb20uZG9tT2JqZWN0LnByb3RvdHlwZT1mdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGMpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBDS0VESVRPUiYmYS5maXJlKGIsXG5uZXcgQ0tFRElUT1IuZG9tLmV2ZW50KGMpKX19O3JldHVybntnZXRQcml2YXRlOmZ1bmN0aW9uKCl7dmFyIGE7KGE9dGhpcy5nZXRDdXN0b21EYXRhKFwiX1wiKSl8fHRoaXMuc2V0Q3VzdG9tRGF0YShcIl9cIixhPXt9KTtyZXR1cm4gYX0sb246ZnVuY3Rpb24oZSl7dmFyIGI9dGhpcy5nZXRDdXN0b21EYXRhKFwiX2NrZV9uYXRpdmVMaXN0ZW5lcnNcIik7Ynx8KGI9e30sdGhpcy5zZXRDdXN0b21EYXRhKFwiX2NrZV9uYXRpdmVMaXN0ZW5lcnNcIixiKSk7YltlXXx8KGI9YltlXT1hKHRoaXMsZSksdGhpcy4kLmFkZEV2ZW50TGlzdGVuZXI/dGhpcy4kLmFkZEV2ZW50TGlzdGVuZXIoZSxiLCEhQ0tFRElUT1IuZXZlbnQudXNlQ2FwdHVyZSk6dGhpcy4kLmF0dGFjaEV2ZW50JiZ0aGlzLiQuYXR0YWNoRXZlbnQoXCJvblwiK2UsYikpO3JldHVybiBDS0VESVRPUi5ldmVudC5wcm90b3R5cGUub24uYXBwbHkodGhpcyxhcmd1bWVudHMpfSxyZW1vdmVMaXN0ZW5lcjpmdW5jdGlvbihhKXtDS0VESVRPUi5ldmVudC5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIuYXBwbHkodGhpcyxcbmFyZ3VtZW50cyk7aWYoIXRoaXMuaGFzTGlzdGVuZXJzKGEpKXt2YXIgYj10aGlzLmdldEN1c3RvbURhdGEoXCJfY2tlX25hdGl2ZUxpc3RlbmVyc1wiKSxjPWImJmJbYV07YyYmKHRoaXMuJC5yZW1vdmVFdmVudExpc3RlbmVyP3RoaXMuJC5yZW1vdmVFdmVudExpc3RlbmVyKGEsYywhMSk6dGhpcy4kLmRldGFjaEV2ZW50JiZ0aGlzLiQuZGV0YWNoRXZlbnQoXCJvblwiK2EsYyksZGVsZXRlIGJbYV0pfX0scmVtb3ZlQWxsTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRDdXN0b21EYXRhKFwiX2NrZV9uYXRpdmVMaXN0ZW5lcnNcIiksYjtmb3IoYiBpbiBhKXt2YXIgYz1hW2JdO3RoaXMuJC5kZXRhY2hFdmVudD90aGlzLiQuZGV0YWNoRXZlbnQoXCJvblwiK2IsYyk6dGhpcy4kLnJlbW92ZUV2ZW50TGlzdGVuZXImJnRoaXMuJC5yZW1vdmVFdmVudExpc3RlbmVyKGIsYywhMSk7ZGVsZXRlIGFbYl19Q0tFRElUT1IuZXZlbnQucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycy5jYWxsKHRoaXMpfX19KCksXG5mdW5jdGlvbihhKXt2YXIgZT17fTtDS0VESVRPUi5vbihcInJlc2V0XCIsZnVuY3Rpb24oKXtlPXt9fSk7YS5lcXVhbHM9ZnVuY3Rpb24oYSl7dHJ5e3JldHVybiBhJiZhLiQ9PT10aGlzLiR9Y2F0Y2goYyl7cmV0dXJuITF9fTthLnNldEN1c3RvbURhdGE9ZnVuY3Rpb24oYSxjKXt2YXIgZD10aGlzLmdldFVuaXF1ZUlkKCk7KGVbZF18fChlW2RdPXt9KSlbYV09YztyZXR1cm4gdGhpc307YS5nZXRDdXN0b21EYXRhPWZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMuJFtcImRhdGEtY2tlLWV4cGFuZG9cIl07cmV0dXJuKGM9YyYmZVtjXSkmJmEgaW4gYz9jW2FdOm51bGx9O2EucmVtb3ZlQ3VzdG9tRGF0YT1mdW5jdGlvbihhKXt2YXIgYz10aGlzLiRbXCJkYXRhLWNrZS1leHBhbmRvXCJdLGM9YyYmZVtjXSxkLGw7YyYmKGQ9Y1thXSxsPWEgaW4gYyxkZWxldGUgY1thXSk7cmV0dXJuIGw/ZDpudWxsfTthLmNsZWFyQ3VzdG9tRGF0YT1mdW5jdGlvbigpe3RoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7dmFyIGE9XG50aGlzLiRbXCJkYXRhLWNrZS1leHBhbmRvXCJdO2EmJmRlbGV0ZSBlW2FdfTthLmdldFVuaXF1ZUlkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJFtcImRhdGEtY2tlLWV4cGFuZG9cIl18fCh0aGlzLiRbXCJkYXRhLWNrZS1leHBhbmRvXCJdPUNLRURJVE9SLnRvb2xzLmdldE5leHROdW1iZXIoKSl9O0NLRURJVE9SLmV2ZW50LmltcGxlbWVudE9uKGEpfShDS0VESVRPUi5kb20uZG9tT2JqZWN0LnByb3RvdHlwZSksQ0tFRElUT1IuZG9tLm5vZGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGE/bmV3IENLRURJVE9SLmRvbVthLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UP1wiZG9jdW1lbnRcIjphLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ/XCJlbGVtZW50XCI6YS5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9URVhUP1widGV4dFwiOmEubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfQ09NTUVOVD9cImNvbW1lbnRcIjphLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UP1xuXCJkb2N1bWVudEZyYWdtZW50XCI6XCJkb21PYmplY3RcIl0oYSk6dGhpc30sQ0tFRElUT1IuZG9tLm5vZGUucHJvdG90eXBlPW5ldyBDS0VESVRPUi5kb20uZG9tT2JqZWN0LENLRURJVE9SLk5PREVfRUxFTUVOVD0xLENLRURJVE9SLk5PREVfRE9DVU1FTlQ9OSxDS0VESVRPUi5OT0RFX1RFWFQ9MyxDS0VESVRPUi5OT0RFX0NPTU1FTlQ9OCxDS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UPTExLENLRURJVE9SLlBPU0lUSU9OX0lERU5USUNBTD0wLENLRURJVE9SLlBPU0lUSU9OX0RJU0NPTk5FQ1RFRD0xLENLRURJVE9SLlBPU0lUSU9OX0ZPTExPV0lORz0yLENLRURJVE9SLlBPU0lUSU9OX1BSRUNFRElORz00LENLRURJVE9SLlBPU0lUSU9OX0lTX0NPTlRBSU5FRD04LENLRURJVE9SLlBPU0lUSU9OX0NPTlRBSU5TPTE2LENLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5kb20ubm9kZS5wcm90b3R5cGUse2FwcGVuZFRvOmZ1bmN0aW9uKGEsZSl7YS5hcHBlbmQodGhpcyxlKTtcbnJldHVybiBhfSxjbG9uZTpmdW5jdGlvbihhLGUpe2Z1bmN0aW9uIGIoYyl7Y1tcImRhdGEtY2tlLWV4cGFuZG9cIl0mJihjW1wiZGF0YS1ja2UtZXhwYW5kb1wiXT0hMSk7aWYoYy5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHxjLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UKWlmKGV8fGMubm9kZVR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVHx8Yy5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiLCExKSxhKXtjPWMuY2hpbGROb2Rlcztmb3IodmFyIGQ9MDtkPGMubGVuZ3RoO2QrKyliKGNbZF0pfX1mdW5jdGlvbiBjKGIpe2lmKGIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHxiLnR5cGU9PUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQpe2lmKGIudHlwZSE9Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVCl7dmFyIGQ9Yi5nZXROYW1lKCk7XCI6XCI9PWRbMF0mJmIucmVuYW1lTm9kZShkLnN1YnN0cmluZygxKSl9aWYoYSlmb3IoZD0wO2Q8XG5iLmdldENoaWxkQ291bnQoKTtkKyspYyhiLmdldENoaWxkKGQpKX19dmFyIGQ9dGhpcy4kLmNsb25lTm9kZShhKTtiKGQpO2Q9bmV3IENLRURJVE9SLmRvbS5ub2RlKGQpO0NLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbiYmKHRoaXMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHx0aGlzLnR5cGU9PUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQpJiZjKGQpO3JldHVybiBkfSxoYXNQcmV2aW91czpmdW5jdGlvbigpe3JldHVybiEhdGhpcy4kLnByZXZpb3VzU2libGluZ30saGFzTmV4dDpmdW5jdGlvbigpe3JldHVybiEhdGhpcy4kLm5leHRTaWJsaW5nfSxpbnNlcnRBZnRlcjpmdW5jdGlvbihhKXthLiQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy4kLGEuJC5uZXh0U2libGluZyk7cmV0dXJuIGF9LGluc2VydEJlZm9yZTpmdW5jdGlvbihhKXthLiQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy4kLGEuJCk7cmV0dXJuIGF9LGluc2VydEJlZm9yZU1lOmZ1bmN0aW9uKGEpe3RoaXMuJC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLiQsXG50aGlzLiQpO3JldHVybiBhfSxnZXRBZGRyZXNzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgZT1bXSxiPXRoaXMuZ2V0RG9jdW1lbnQoKS4kLmRvY3VtZW50RWxlbWVudCxjPXRoaXMuJDtjJiZjIT1iOyl7dmFyIGQ9Yy5wYXJlbnROb2RlO2QmJmUudW5zaGlmdCh0aGlzLmdldEluZGV4LmNhbGwoeyQ6Y30sYSkpO2M9ZH1yZXR1cm4gZX0sZ2V0RG9jdW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5kb2N1bWVudCh0aGlzLiQub3duZXJEb2N1bWVudHx8dGhpcy4kLnBhcmVudE5vZGUub3duZXJEb2N1bWVudCl9LGdldEluZGV4OmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGUoYSxmKXt2YXIgaD1mP2EubmV4dFNpYmxpbmc6YS5wcmV2aW91c1NpYmxpbmc7cmV0dXJuIGgmJmgubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfVEVYVD9iKGgpP2UoaCxmKTpoOm51bGx9ZnVuY3Rpb24gYihhKXtyZXR1cm4hYS5ub2RlVmFsdWV8fGEubm9kZVZhbHVlPT1DS0VESVRPUi5kb20uc2VsZWN0aW9uLkZJTExJTkdfQ0hBUl9TRVFVRU5DRX1cbnZhciBjPXRoaXMuJCxkPS0xLGw7aWYoIXRoaXMuJC5wYXJlbnROb2RlfHxhJiZjLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJmIoYykmJiFlKGMpJiYhZShjLCEwKSlyZXR1cm4tMTtkbyBhJiZjIT10aGlzLiQmJmMubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGx8fGIoYykpfHwoZCsrLGw9Yy5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKTt3aGlsZShjPWMucHJldmlvdXNTaWJsaW5nKTtyZXR1cm4gZH0sZ2V0TmV4dFNvdXJjZU5vZGU6ZnVuY3Rpb24oYSxlLGIpe2lmKGImJiFiLmNhbGwpe3ZhciBjPWI7Yj1mdW5jdGlvbihhKXtyZXR1cm4hYS5lcXVhbHMoYyl9fWE9IWEmJnRoaXMuZ2V0Rmlyc3QmJnRoaXMuZ2V0Rmlyc3QoKTt2YXIgZDtpZighYSl7aWYodGhpcy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmImJiExPT09Yih0aGlzLCEwKSlyZXR1cm4gbnVsbDthPXRoaXMuZ2V0TmV4dCgpfWZvcig7IWEmJihkPShkfHx0aGlzKS5nZXRQYXJlbnQoKSk7KXtpZihiJiZcbiExPT09YihkLCEwKSlyZXR1cm4gbnVsbDthPWQuZ2V0TmV4dCgpfXJldHVybiFhfHxiJiYhMT09PWIoYSk/bnVsbDplJiZlIT1hLnR5cGU/YS5nZXROZXh0U291cmNlTm9kZSghMSxlLGIpOmF9LGdldFByZXZpb3VzU291cmNlTm9kZTpmdW5jdGlvbihhLGUsYil7aWYoYiYmIWIuY2FsbCl7dmFyIGM9YjtiPWZ1bmN0aW9uKGEpe3JldHVybiFhLmVxdWFscyhjKX19YT0hYSYmdGhpcy5nZXRMYXN0JiZ0aGlzLmdldExhc3QoKTt2YXIgZDtpZighYSl7aWYodGhpcy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmImJiExPT09Yih0aGlzLCEwKSlyZXR1cm4gbnVsbDthPXRoaXMuZ2V0UHJldmlvdXMoKX1mb3IoOyFhJiYoZD0oZHx8dGhpcykuZ2V0UGFyZW50KCkpOyl7aWYoYiYmITE9PT1iKGQsITApKXJldHVybiBudWxsO2E9ZC5nZXRQcmV2aW91cygpfXJldHVybiFhfHxiJiYhMT09PWIoYSk/bnVsbDplJiZhLnR5cGUhPWU/YS5nZXRQcmV2aW91c1NvdXJjZU5vZGUoITEsZSxiKTpcbmF9LGdldFByZXZpb3VzOmZ1bmN0aW9uKGEpe3ZhciBlPXRoaXMuJCxiO2RvIGI9KGU9ZS5wcmV2aW91c1NpYmxpbmcpJiYxMCE9ZS5ub2RlVHlwZSYmbmV3IENLRURJVE9SLmRvbS5ub2RlKGUpO3doaWxlKGImJmEmJiFhKGIpKTtyZXR1cm4gYn0sZ2V0TmV4dDpmdW5jdGlvbihhKXt2YXIgZT10aGlzLiQsYjtkbyBiPShlPWUubmV4dFNpYmxpbmcpJiZuZXcgQ0tFRElUT1IuZG9tLm5vZGUoZSk7d2hpbGUoYiYmYSYmIWEoYikpO3JldHVybiBifSxnZXRQYXJlbnQ6ZnVuY3Rpb24oYSl7dmFyIGU9dGhpcy4kLnBhcmVudE5vZGU7cmV0dXJuIGUmJihlLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fGEmJmUubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQpP25ldyBDS0VESVRPUi5kb20ubm9kZShlKTpudWxsfSxnZXRQYXJlbnRzOmZ1bmN0aW9uKGEpe3ZhciBlPXRoaXMsYj1bXTtkbyBiW2E/XCJwdXNoXCI6XCJ1bnNoaWZ0XCJdKGUpO3doaWxlKGU9ZS5nZXRQYXJlbnQoKSk7XG5yZXR1cm4gYn0sZ2V0Q29tbW9uQW5jZXN0b3I6ZnVuY3Rpb24oYSl7aWYoYS5lcXVhbHModGhpcykpcmV0dXJuIHRoaXM7aWYoYS5jb250YWlucyYmYS5jb250YWlucyh0aGlzKSlyZXR1cm4gYTt2YXIgZT10aGlzLmNvbnRhaW5zP3RoaXM6dGhpcy5nZXRQYXJlbnQoKTtkbyBpZihlLmNvbnRhaW5zKGEpKXJldHVybiBlO3doaWxlKGU9ZS5nZXRQYXJlbnQoKSk7cmV0dXJuIG51bGx9LGdldFBvc2l0aW9uOmZ1bmN0aW9uKGEpe3ZhciBlPXRoaXMuJCxiPWEuJDtpZihlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKXJldHVybiBlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIpO2lmKGU9PWIpcmV0dXJuIENLRURJVE9SLlBPU0lUSU9OX0lERU5USUNBTDtpZih0aGlzLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpe2lmKGUuY29udGFpbnMpe2lmKGUuY29udGFpbnMoYikpcmV0dXJuIENLRURJVE9SLlBPU0lUSU9OX0NPTlRBSU5TK1xuQ0tFRElUT1IuUE9TSVRJT05fUFJFQ0VESU5HO2lmKGIuY29udGFpbnMoZSkpcmV0dXJuIENLRURJVE9SLlBPU0lUSU9OX0lTX0NPTlRBSU5FRCtDS0VESVRPUi5QT1NJVElPTl9GT0xMT1dJTkd9aWYoXCJzb3VyY2VJbmRleFwiaW4gZSlyZXR1cm4gMD5lLnNvdXJjZUluZGV4fHwwPmIuc291cmNlSW5kZXg/Q0tFRElUT1IuUE9TSVRJT05fRElTQ09OTkVDVEVEOmUuc291cmNlSW5kZXg8Yi5zb3VyY2VJbmRleD9DS0VESVRPUi5QT1NJVElPTl9QUkVDRURJTkc6Q0tFRElUT1IuUE9TSVRJT05fRk9MTE9XSU5HfWU9dGhpcy5nZXRBZGRyZXNzKCk7YT1hLmdldEFkZHJlc3MoKTtmb3IodmFyIGI9TWF0aC5taW4oZS5sZW5ndGgsYS5sZW5ndGgpLGM9MDtjPGI7YysrKWlmKGVbY10hPWFbY10pcmV0dXJuIGVbY108YVtjXT9DS0VESVRPUi5QT1NJVElPTl9QUkVDRURJTkc6Q0tFRElUT1IuUE9TSVRJT05fRk9MTE9XSU5HO3JldHVybiBlLmxlbmd0aDxhLmxlbmd0aD9DS0VESVRPUi5QT1NJVElPTl9DT05UQUlOUytcbkNLRURJVE9SLlBPU0lUSU9OX1BSRUNFRElORzpDS0VESVRPUi5QT1NJVElPTl9JU19DT05UQUlORUQrQ0tFRElUT1IuUE9TSVRJT05fRk9MTE9XSU5HfSxnZXRBc2NlbmRhbnQ6ZnVuY3Rpb24oYSxlKXt2YXIgYj10aGlzLiQsYyxkO2V8fChiPWIucGFyZW50Tm9kZSk7XCJmdW5jdGlvblwiPT10eXBlb2YgYT8oZD0hMCxjPWEpOihkPSExLGM9ZnVuY3Rpb24oYil7Yj1cInN0cmluZ1wiPT10eXBlb2YgYi5ub2RlTmFtZT9iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk6XCJcIjtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgYT9iPT1hOmIgaW4gYX0pO2Zvcig7Yjspe2lmKGMoZD9uZXcgQ0tFRElUT1IuZG9tLm5vZGUoYik6YikpcmV0dXJuIG5ldyBDS0VESVRPUi5kb20ubm9kZShiKTt0cnl7Yj1iLnBhcmVudE5vZGV9Y2F0Y2gobCl7Yj1udWxsfX1yZXR1cm4gbnVsbH0saGFzQXNjZW5kYW50OmZ1bmN0aW9uKGEsZSl7dmFyIGI9dGhpcy4kO2V8fChiPWIucGFyZW50Tm9kZSk7Zm9yKDtiOyl7aWYoYi5ub2RlTmFtZSYmXG5iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PWEpcmV0dXJuITA7Yj1iLnBhcmVudE5vZGV9cmV0dXJuITF9LG1vdmU6ZnVuY3Rpb24oYSxlKXthLmFwcGVuZCh0aGlzLnJlbW92ZSgpLGUpfSxyZW1vdmU6ZnVuY3Rpb24oYSl7dmFyIGU9dGhpcy4kLGI9ZS5wYXJlbnROb2RlO2lmKGIpe2lmKGEpZm9yKDthPWUuZmlyc3RDaGlsZDspYi5pbnNlcnRCZWZvcmUoZS5yZW1vdmVDaGlsZChhKSxlKTtiLnJlbW92ZUNoaWxkKGUpfXJldHVybiB0aGlzfSxyZXBsYWNlOmZ1bmN0aW9uKGEpe3RoaXMuaW5zZXJ0QmVmb3JlKGEpO2EucmVtb3ZlKCl9LHRyaW06ZnVuY3Rpb24oKXt0aGlzLmx0cmltKCk7dGhpcy5ydHJpbSgpfSxsdHJpbTpmdW5jdGlvbigpe2Zvcih2YXIgYTt0aGlzLmdldEZpcnN0JiYoYT10aGlzLmdldEZpcnN0KCkpOyl7aWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQpe3ZhciBlPUNLRURJVE9SLnRvb2xzLmx0cmltKGEuZ2V0VGV4dCgpKSxiPWEuZ2V0TGVuZ3RoKCk7aWYoZSllLmxlbmd0aDxcbmImJihhLnNwbGl0KGItZS5sZW5ndGgpLHRoaXMuJC5yZW1vdmVDaGlsZCh0aGlzLiQuZmlyc3RDaGlsZCkpO2Vsc2V7YS5yZW1vdmUoKTtjb250aW51ZX19YnJlYWt9fSxydHJpbTpmdW5jdGlvbigpe2Zvcih2YXIgYTt0aGlzLmdldExhc3QmJihhPXRoaXMuZ2V0TGFzdCgpKTspe2lmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKXt2YXIgZT1DS0VESVRPUi50b29scy5ydHJpbShhLmdldFRleHQoKSksYj1hLmdldExlbmd0aCgpO2lmKGUpZS5sZW5ndGg8YiYmKGEuc3BsaXQoZS5sZW5ndGgpLHRoaXMuJC5sYXN0Q2hpbGQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLiQubGFzdENoaWxkKSk7ZWxzZXthLnJlbW92ZSgpO2NvbnRpbnVlfX1icmVha31DS0VESVRPUi5lbnYubmVlZHNCckZpbGxlciYmKGE9dGhpcy4kLmxhc3RDaGlsZCkmJjE9PWEudHlwZSYmXCJiclwiPT1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJmEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhKX0saXNSZWFkT25seTpmdW5jdGlvbihhKXt2YXIgZT1cbnRoaXM7dGhpcy50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihlPXRoaXMuZ2V0UGFyZW50KCkpO0NLRURJVE9SLmVudi5lZGdlJiZlJiZlLmlzKFwidGV4dGFyZWFcIixcImlucHV0XCIpJiYoYT0hMCk7aWYoIWEmJmUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBlLiQuaXNDb250ZW50RWRpdGFibGUpcmV0dXJuIShlLiQuaXNDb250ZW50RWRpdGFibGV8fGUuZGF0YShcImNrZS1lZGl0YWJsZVwiKSk7Zm9yKDtlOyl7aWYoZS5kYXRhKFwiY2tlLWVkaXRhYmxlXCIpKXJldHVybiExO2lmKGUuaGFzQXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKXJldHVyblwiZmFsc2VcIj09ZS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIik7ZT1lLmdldFBhcmVudCgpfXJldHVybiEwfX0pLENLRURJVE9SLmRvbS53aW5kb3c9ZnVuY3Rpb24oYSl7Q0tFRElUT1IuZG9tLmRvbU9iamVjdC5jYWxsKHRoaXMsYSl9LENLRURJVE9SLmRvbS53aW5kb3cucHJvdG90eXBlPW5ldyBDS0VESVRPUi5kb20uZG9tT2JqZWN0LFxuQ0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLmRvbS53aW5kb3cucHJvdG90eXBlLHtmb2N1czpmdW5jdGlvbigpe3RoaXMuJC5mb2N1cygpfSxnZXRWaWV3UGFuZVNpemU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiQuZG9jdW1lbnQsZT1cIkNTUzFDb21wYXRcIj09YS5jb21wYXRNb2RlO3JldHVybnt3aWR0aDooZT9hLmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDphLmJvZHkuY2xpZW50V2lkdGgpfHwwLGhlaWdodDooZT9hLmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ6YS5ib2R5LmNsaWVudEhlaWdodCl8fDB9fSxnZXRTY3JvbGxQb3NpdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuJDtpZihcInBhZ2VYT2Zmc2V0XCJpbiBhKXJldHVybnt4OmEucGFnZVhPZmZzZXR8fDAseTphLnBhZ2VZT2Zmc2V0fHwwfTthPWEuZG9jdW1lbnQ7cmV0dXJue3g6YS5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdHx8YS5ib2R5LnNjcm9sbExlZnR8fDAseTphLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3B8fFxuYS5ib2R5LnNjcm9sbFRvcHx8MH19LGdldEZyYW1lOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kLmZyYW1lRWxlbWVudDtyZXR1cm4gYT9uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQuZ2V0KGEpOm51bGx9fSksQ0tFRElUT1IuZG9tLmRvY3VtZW50PWZ1bmN0aW9uKGEpe0NLRURJVE9SLmRvbS5kb21PYmplY3QuY2FsbCh0aGlzLGEpfSxDS0VESVRPUi5kb20uZG9jdW1lbnQucHJvdG90eXBlPW5ldyBDS0VESVRPUi5kb20uZG9tT2JqZWN0LENLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5kb20uZG9jdW1lbnQucHJvdG90eXBlLHt0eXBlOkNLRURJVE9SLk5PREVfRE9DVU1FTlQsYXBwZW5kU3R5bGVTaGVldDpmdW5jdGlvbihhKXtpZih0aGlzLiQuY3JlYXRlU3R5bGVTaGVldCl0aGlzLiQuY3JlYXRlU3R5bGVTaGVldChhKTtlbHNle3ZhciBlPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImxpbmtcIik7ZS5zZXRBdHRyaWJ1dGVzKHtyZWw6XCJzdHlsZXNoZWV0XCIsdHlwZTpcInRleHQvY3NzXCIsXG5ocmVmOmF9KTt0aGlzLmdldEhlYWQoKS5hcHBlbmQoZSl9fSxhcHBlbmRTdHlsZVRleHQ6ZnVuY3Rpb24oYSl7aWYodGhpcy4kLmNyZWF0ZVN0eWxlU2hlZXQpe3ZhciBlPXRoaXMuJC5jcmVhdGVTdHlsZVNoZWV0KFwiXCIpO2UuY3NzVGV4dD1hfWVsc2V7dmFyIGI9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwic3R5bGVcIix0aGlzKTtiLmFwcGVuZChuZXcgQ0tFRElUT1IuZG9tLnRleHQoYSx0aGlzKSk7dGhpcy5nZXRIZWFkKCkuYXBwZW5kKGIpfXJldHVybiBlfHxiLiQuc2hlZXR9LGNyZWF0ZUVsZW1lbnQ6ZnVuY3Rpb24oYSxlKXt2YXIgYj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYSx0aGlzKTtlJiYoZS5hdHRyaWJ1dGVzJiZiLnNldEF0dHJpYnV0ZXMoZS5hdHRyaWJ1dGVzKSxlLnN0eWxlcyYmYi5zZXRTdHlsZXMoZS5zdHlsZXMpKTtyZXR1cm4gYn0sY3JlYXRlVGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS50ZXh0KGEsdGhpcyl9LGZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5nZXRXaW5kb3coKS5mb2N1cygpfSxcbmdldEFjdGl2ZTpmdW5jdGlvbigpe3ZhciBhO3RyeXthPXRoaXMuJC5hY3RpdmVFbGVtZW50fWNhdGNoKGUpe3JldHVybiBudWxsfXJldHVybiBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYSl9LGdldEJ5SWQ6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9dGhpcy4kLmdldEVsZW1lbnRCeUlkKGEpKT9uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYSk6bnVsbH0sZ2V0QnlBZGRyZXNzOmZ1bmN0aW9uKGEsZSl7Zm9yKHZhciBiPXRoaXMuJC5kb2N1bWVudEVsZW1lbnQsYz0wO2ImJmM8YS5sZW5ndGg7YysrKXt2YXIgZD1hW2NdO2lmKGUpZm9yKHZhciBsPS0xLG09MDttPGIuY2hpbGROb2Rlcy5sZW5ndGg7bSsrKXt2YXIgZj1iLmNoaWxkTm9kZXNbbV07aWYoITAhPT1lfHwzIT1mLm5vZGVUeXBlfHwhZi5wcmV2aW91c1NpYmxpbmd8fDMhPWYucHJldmlvdXNTaWJsaW5nLm5vZGVUeXBlKWlmKGwrKyxsPT1kKXtiPWY7YnJlYWt9fWVsc2UgYj1iLmNoaWxkTm9kZXNbZF19cmV0dXJuIGI/bmV3IENLRURJVE9SLmRvbS5ub2RlKGIpOlxubnVsbH0sZ2V0RWxlbWVudHNCeVRhZzpmdW5jdGlvbihhLGUpe0NLRURJVE9SLmVudi5pZSYmOD49ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHwhZXx8KGE9ZStcIjpcIithKTtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5ub2RlTGlzdCh0aGlzLiQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYSkpfSxnZXRIZWFkOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtyZXR1cm4gYT1hP25ldyBDS0VESVRPUi5kb20uZWxlbWVudChhKTp0aGlzLmdldERvY3VtZW50RWxlbWVudCgpLmFwcGVuZChuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJoZWFkXCIpLCEwKX0sZ2V0Qm9keTpmdW5jdGlvbigpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQodGhpcy4kLmJvZHkpfSxnZXREb2N1bWVudEVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KHRoaXMuJC5kb2N1bWVudEVsZW1lbnQpfSxnZXRXaW5kb3c6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS53aW5kb3codGhpcy4kLnBhcmVudFdpbmRvd3x8XG50aGlzLiQuZGVmYXVsdFZpZXcpfSx3cml0ZTpmdW5jdGlvbihhKXt0aGlzLiQub3BlbihcInRleHQvaHRtbFwiLFwicmVwbGFjZVwiKTtDS0VESVRPUi5lbnYuaWUmJihhPWEucmVwbGFjZSgvKD86Xlxccyo8IURPQ1RZUEVbXj5dKj8+KXxeL2ksJyRcXHgyNlxcblxceDNjc2NyaXB0IGRhdGEtY2tlLXRlbXBcXHgzZFwiMVwiXFx4M2UoJytDS0VESVRPUi50b29scy5maXhEb21haW4rXCIpKCk7XFx4M2Mvc2NyaXB0XFx4M2VcIikpO3RoaXMuJC53cml0ZShhKTt0aGlzLiQuY2xvc2UoKX0sZmluZDpmdW5jdGlvbihhKXtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5ub2RlTGlzdCh0aGlzLiQucXVlcnlTZWxlY3RvckFsbChhKSl9LGZpbmRPbmU6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9dGhpcy4kLnF1ZXJ5U2VsZWN0b3IoYSkpP25ldyBDS0VESVRPUi5kb20uZWxlbWVudChhKTpudWxsfSxfZ2V0SHRtbDVTaGl2RnJhZzpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0Q3VzdG9tRGF0YShcImh0bWw1U2hpdkZyYWdcIik7YXx8XG4oYT10aGlzLiQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLENLRURJVE9SLnRvb2xzLmVuYWJsZUh0bWw1RWxlbWVudHMoYSwhMCksdGhpcy5zZXRDdXN0b21EYXRhKFwiaHRtbDVTaGl2RnJhZ1wiLGEpKTtyZXR1cm4gYX19KSxDS0VESVRPUi5kb20ubm9kZUxpc3Q9ZnVuY3Rpb24oYSl7dGhpcy4kPWF9LENLRURJVE9SLmRvbS5ub2RlTGlzdC5wcm90b3R5cGU9e2NvdW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC5sZW5ndGh9LGdldEl0ZW06ZnVuY3Rpb24oYSl7cmV0dXJuIDA+YXx8YT49dGhpcy4kLmxlbmd0aD9udWxsOihhPXRoaXMuJFthXSk/bmV3IENLRURJVE9SLmRvbS5ub2RlKGEpOm51bGx9fSxDS0VESVRPUi5kb20uZWxlbWVudD1mdW5jdGlvbihhLGUpe1wic3RyaW5nXCI9PXR5cGVvZiBhJiYoYT0oZT9lLiQ6ZG9jdW1lbnQpLmNyZWF0ZUVsZW1lbnQoYSkpO0NLRURJVE9SLmRvbS5kb21PYmplY3QuY2FsbCh0aGlzLGEpfSxDS0VESVRPUi5kb20uZWxlbWVudC5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuKGE9XG5cInN0cmluZ1wiPT10eXBlb2YgYT9kb2N1bWVudC5nZXRFbGVtZW50QnlJZChhKXx8ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoYSlbMF06YSkmJihhLiQ/YTpuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYSkpfSxDS0VESVRPUi5kb20uZWxlbWVudC5wcm90b3R5cGU9bmV3IENLRURJVE9SLmRvbS5ub2RlLENLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sPWZ1bmN0aW9uKGEsZSl7dmFyIGI9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwiZGl2XCIsZSk7Yi5zZXRIdG1sKGEpO3JldHVybiBiLmdldEZpcnN0KCkucmVtb3ZlKCl9LENLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcj1mdW5jdGlvbihhLGUsYixjKXt2YXIgZD1lLmdldEN1c3RvbURhdGEoXCJsaXN0X21hcmtlcl9pZFwiKXx8ZS5zZXRDdXN0b21EYXRhKFwibGlzdF9tYXJrZXJfaWRcIixDS0VESVRPUi50b29scy5nZXROZXh0TnVtYmVyKCkpLmdldEN1c3RvbURhdGEoXCJsaXN0X21hcmtlcl9pZFwiKSxsPWUuZ2V0Q3VzdG9tRGF0YShcImxpc3RfbWFya2VyX25hbWVzXCIpfHxcbmUuc2V0Q3VzdG9tRGF0YShcImxpc3RfbWFya2VyX25hbWVzXCIse30pLmdldEN1c3RvbURhdGEoXCJsaXN0X21hcmtlcl9uYW1lc1wiKTthW2RdPWU7bFtiXT0xO3JldHVybiBlLnNldEN1c3RvbURhdGEoYixjKX0sQ0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJBbGxNYXJrZXJzPWZ1bmN0aW9uKGEpe2Zvcih2YXIgZSBpbiBhKUNLRURJVE9SLmRvbS5lbGVtZW50LmNsZWFyTWFya2VycyhhLGFbZV0sMSl9LENLRURJVE9SLmRvbS5lbGVtZW50LmNsZWFyTWFya2Vycz1mdW5jdGlvbihhLGUsYil7dmFyIGM9ZS5nZXRDdXN0b21EYXRhKFwibGlzdF9tYXJrZXJfbmFtZXNcIiksZD1lLmdldEN1c3RvbURhdGEoXCJsaXN0X21hcmtlcl9pZFwiKSxsO2ZvcihsIGluIGMpZS5yZW1vdmVDdXN0b21EYXRhKGwpO2UucmVtb3ZlQ3VzdG9tRGF0YShcImxpc3RfbWFya2VyX25hbWVzXCIpO2ImJihlLnJlbW92ZUN1c3RvbURhdGEoXCJsaXN0X21hcmtlcl9pZFwiKSxkZWxldGUgYVtkXSl9LGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLFxuYil7cmV0dXJuLTE8KFwiIFwiK2ErXCIgXCIpLnJlcGxhY2UobCxcIiBcIikuaW5kZXhPZihcIiBcIitiK1wiIFwiKX1mdW5jdGlvbiBlKGEpe3ZhciBiPSEwO2EuJC5pZHx8KGEuJC5pZD1cImNrZV90bXBfXCIrQ0tFRElUT1IudG9vbHMuZ2V0TmV4dE51bWJlcigpLGI9ITEpO3JldHVybiBmdW5jdGlvbigpe2J8fGEucmVtb3ZlQXR0cmlidXRlKFwiaWRcIil9fWZ1bmN0aW9uIGIoYSxiKXt2YXIgYz1DS0VESVRPUi50b29scy5lc2NhcGVDc3MoYS4kLmlkKTtyZXR1cm5cIiNcIitjK1wiIFwiK2Iuc3BsaXQoLyxcXHMqLykuam9pbihcIiwgI1wiK2MrXCIgXCIpfWZ1bmN0aW9uIGMoYSl7Zm9yKHZhciBiPTAsYz0wLGc9bVthXS5sZW5ndGg7YzxnO2MrKyliKz1wYXJzZUludCh0aGlzLmdldENvbXB1dGVkU3R5bGUobVthXVtjXSl8fDAsMTApfHwwO3JldHVybiBifXZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJfXCIpLmNsYXNzTGlzdCxkPVwidW5kZWZpbmVkXCIhPT10eXBlb2YgZCYmbnVsbCE9PVN0cmluZyhkLmFkZCkubWF0Y2goL1xcW05hdGl2ZSBjb2RlXFxdL2dpKSxcbmw9L1tcXG5cXHRcXHJdL2c7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLmRvbS5lbGVtZW50LnByb3RvdHlwZSx7dHlwZTpDS0VESVRPUi5OT0RFX0VMRU1FTlQsYWRkQ2xhc3M6ZD9mdW5jdGlvbihhKXt0aGlzLiQuY2xhc3NMaXN0LmFkZChhKTtyZXR1cm4gdGhpc306ZnVuY3Rpb24oZil7dmFyIGI9dGhpcy4kLmNsYXNzTmFtZTtiJiYoYShiLGYpfHwoYis9XCIgXCIrZikpO3RoaXMuJC5jbGFzc05hbWU9Ynx8ZjtyZXR1cm4gdGhpc30scmVtb3ZlQ2xhc3M6ZD9mdW5jdGlvbihhKXt2YXIgYj10aGlzLiQ7Yi5jbGFzc0xpc3QucmVtb3ZlKGEpO2IuY2xhc3NOYW1lfHxiLnJlbW92ZUF0dHJpYnV0ZShcImNsYXNzXCIpO3JldHVybiB0aGlzfTpmdW5jdGlvbihmKXt2YXIgYj10aGlzLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpO2ImJmEoYixmKSYmKChiPWIucmVwbGFjZShuZXcgUmVnRXhwKFwiKD86XnxcXFxccyspXCIrZitcIig/XFx4M2RcXFxcc3wkKVwiKSxcIlwiKS5yZXBsYWNlKC9eXFxzKy8sXCJcIikpP3RoaXMuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcbmIpOnRoaXMucmVtb3ZlQXR0cmlidXRlKFwiY2xhc3NcIikpO3JldHVybiB0aGlzfSxoYXNDbGFzczpmdW5jdGlvbihmKXtyZXR1cm4gYSh0aGlzLiQuY2xhc3NOYW1lLGYpfSxhcHBlbmQ6ZnVuY3Rpb24oYSxiKXtcInN0cmluZ1wiPT10eXBlb2YgYSYmKGE9dGhpcy5nZXREb2N1bWVudCgpLmNyZWF0ZUVsZW1lbnQoYSkpO2I/dGhpcy4kLmluc2VydEJlZm9yZShhLiQsdGhpcy4kLmZpcnN0Q2hpbGQpOnRoaXMuJC5hcHBlbmRDaGlsZChhLiQpO3JldHVybiBhfSxhcHBlbmRIdG1sOmZ1bmN0aW9uKGEpe2lmKHRoaXMuJC5jaGlsZE5vZGVzLmxlbmd0aCl7dmFyIGI9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwiZGl2XCIsdGhpcy5nZXREb2N1bWVudCgpKTtiLnNldEh0bWwoYSk7Yi5tb3ZlQ2hpbGRyZW4odGhpcyl9ZWxzZSB0aGlzLnNldEh0bWwoYSl9LGFwcGVuZFRleHQ6ZnVuY3Rpb24oYSl7bnVsbCE9dGhpcy4kLnRleHQmJkNLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbj9cbnRoaXMuJC50ZXh0Kz1hOnRoaXMuYXBwZW5kKG5ldyBDS0VESVRPUi5kb20udGV4dChhKSl9LGFwcGVuZEJvZ3VzOmZ1bmN0aW9uKGEpe2lmKGF8fENLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyKXtmb3IoYT10aGlzLmdldExhc3QoKTthJiZhLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmIUNLRURJVE9SLnRvb2xzLnJ0cmltKGEuZ2V0VGV4dCgpKTspYT1hLmdldFByZXZpb3VzKCk7YSYmYS5pcyYmYS5pcyhcImJyXCIpfHwoYT10aGlzLmdldERvY3VtZW50KCkuY3JlYXRlRWxlbWVudChcImJyXCIpLENLRURJVE9SLmVudi5nZWNrbyYmYS5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJfbW96XCIpLHRoaXMuYXBwZW5kKGEpKX19LGJyZWFrUGFyZW50OmZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IENLRURJVE9SLmRvbS5yYW5nZSh0aGlzLmdldERvY3VtZW50KCkpO2Muc2V0U3RhcnRBZnRlcih0aGlzKTtjLnNldEVuZEFmdGVyKGEpO3ZhciBnPWMuZXh0cmFjdENvbnRlbnRzKCExLGJ8fCExKSxkO2MuaW5zZXJ0Tm9kZSh0aGlzLnJlbW92ZSgpKTtcbmlmKENLRURJVE9SLmVudi5pZSYmIUNLRURJVE9SLmVudi5lZGdlKXtmb3IoYz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJkaXZcIik7ZD1nLmdldEZpcnN0KCk7KWQuJC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3ImJihkLiQuc3R5bGUuYmFja2dyb3VuZENvbG9yPWQuJC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IpLGMuYXBwZW5kKGQpO2MuaW5zZXJ0QWZ0ZXIodGhpcyk7Yy5yZW1vdmUoITApfWVsc2UgZy5pbnNlcnRBZnRlck5vZGUodGhpcyl9LGNvbnRhaW5zOmRvY3VtZW50LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uP2Z1bmN0aW9uKGEpe3JldHVybiEhKHRoaXMuJC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihhLiQpJjE2KX06ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy4kO3JldHVybiBhLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVD9iLmNvbnRhaW5zKGEuZ2V0UGFyZW50KCkuJCk6YiE9YS4kJiZiLmNvbnRhaW5zKGEuJCl9LGZvY3VzOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe3RyeXt0aGlzLiQuZm9jdXMoKX1jYXRjaChiKXt9fVxucmV0dXJuIGZ1bmN0aW9uKGIpe2I/Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChhLDEwMCx0aGlzKTphLmNhbGwodGhpcyl9fSgpLGdldEh0bWw6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiQuaW5uZXJIVE1MO3JldHVybiBDS0VESVRPUi5lbnYuaWU/YS5yZXBsYWNlKC88XFw/W14+XSo+L2csXCJcIik6YX0sZ2V0T3V0ZXJIdG1sOmZ1bmN0aW9uKCl7aWYodGhpcy4kLm91dGVySFRNTClyZXR1cm4gdGhpcy4kLm91dGVySFRNTC5yZXBsYWNlKC88XFw/W14+XSo+LyxcIlwiKTt2YXIgYT10aGlzLiQub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2EuYXBwZW5kQ2hpbGQodGhpcy4kLmNsb25lTm9kZSghMCkpO3JldHVybiBhLmlubmVySFRNTH0sZ2V0Q2xpZW50UmVjdDpmdW5jdGlvbigpe3ZhciBhPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSx0aGlzLiQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpOyFhLndpZHRoJiYoYS53aWR0aD1hLnJpZ2h0LWEubGVmdCk7IWEuaGVpZ2h0JiZcbihhLmhlaWdodD1hLmJvdHRvbS1hLnRvcCk7cmV0dXJuIGF9LHNldEh0bWw6Q0tFRElUT1IuZW52LmllJiY5PkNLRURJVE9SLmVudi52ZXJzaW9uP2Z1bmN0aW9uKGEpe3RyeXt2YXIgYj10aGlzLiQ7aWYodGhpcy5nZXRQYXJlbnQoKSlyZXR1cm4gYi5pbm5lckhUTUw9YTt2YXIgYz10aGlzLmdldERvY3VtZW50KCkuX2dldEh0bWw1U2hpdkZyYWcoKTtjLmFwcGVuZENoaWxkKGIpO2IuaW5uZXJIVE1MPWE7Yy5yZW1vdmVDaGlsZChiKTtyZXR1cm4gYX1jYXRjaChnKXt0aGlzLiQuaW5uZXJIVE1MPVwiXCI7Yj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJib2R5XCIsdGhpcy5nZXREb2N1bWVudCgpKTtiLiQuaW5uZXJIVE1MPWE7Zm9yKGI9Yi5nZXRDaGlsZHJlbigpO2IuY291bnQoKTspdGhpcy5hcHBlbmQoYi5nZXRJdGVtKDApKTtyZXR1cm4gYX19OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLiQuaW5uZXJIVE1MPWF9LHNldFRleHQ6ZnVuY3Rpb24oKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbmEuaW5uZXJIVE1MPVwieFwiO2E9YS50ZXh0Q29udGVudDtyZXR1cm4gZnVuY3Rpb24oYil7dGhpcy4kW2E/XCJ0ZXh0Q29udGVudFwiOlwiaW5uZXJUZXh0XCJdPWJ9fSgpLGdldEF0dHJpYnV0ZTpmdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLiQuZ2V0QXR0cmlidXRlKGEsMil9O3JldHVybiBDS0VESVRPUi5lbnYuaWUmJihDS0VESVRPUi5lbnYuaWU3Q29tcGF0fHxDS0VESVRPUi5lbnYucXVpcmtzKT9mdW5jdGlvbihhKXtzd2l0Y2goYSl7Y2FzZSBcImNsYXNzXCI6YT1cImNsYXNzTmFtZVwiO2JyZWFrO2Nhc2UgXCJodHRwLWVxdWl2XCI6YT1cImh0dHBFcXVpdlwiO2JyZWFrO2Nhc2UgXCJuYW1lXCI6cmV0dXJuIHRoaXMuJC5uYW1lO2Nhc2UgXCJ0YWJpbmRleFwiOnJldHVybiBhPXRoaXMuJC5nZXRBdHRyaWJ1dGUoYSwyKSwwIT09YSYmMD09PXRoaXMuJC50YWJJbmRleCYmKGE9bnVsbCksYTtjYXNlIFwiY2hlY2tlZFwiOnJldHVybiBhPXRoaXMuJC5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbShhKSxcbihhLnNwZWNpZmllZD9hLm5vZGVWYWx1ZTp0aGlzLiQuY2hlY2tlZCk/XCJjaGVja2VkXCI6bnVsbDtjYXNlIFwiaHNwYWNlXCI6Y2FzZSBcInZhbHVlXCI6cmV0dXJuIHRoaXMuJFthXTtjYXNlIFwic3R5bGVcIjpyZXR1cm4gdGhpcy4kLnN0eWxlLmNzc1RleHQ7Y2FzZSBcImNvbnRlbnRlZGl0YWJsZVwiOmNhc2UgXCJjb250ZW50RWRpdGFibGVcIjpyZXR1cm4gdGhpcy4kLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKFwiY29udGVudEVkaXRhYmxlXCIpLnNwZWNpZmllZD90aGlzLiQuZ2V0QXR0cmlidXRlKFwiY29udGVudEVkaXRhYmxlXCIpOm51bGx9cmV0dXJuIHRoaXMuJC5nZXRBdHRyaWJ1dGUoYSwyKX06YX0oKSxnZXRBdHRyaWJ1dGVzOmZ1bmN0aW9uKGEpe3ZhciBiPXt9LGM9dGhpcy4kLmF0dHJpYnV0ZXMsZzthPUNLRURJVE9SLnRvb2xzLmlzQXJyYXkoYSk/YTpbXTtmb3IoZz0wO2c8Yy5sZW5ndGg7ZysrKS0xPT09Q0tFRElUT1IudG9vbHMuaW5kZXhPZihhLGNbZ10ubmFtZSkmJihiW2NbZ10ubmFtZV09XG5jW2ddLnZhbHVlKTtyZXR1cm4gYn0sZ2V0Q2hpbGRyZW46ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5ub2RlTGlzdCh0aGlzLiQuY2hpbGROb2Rlcyl9LGdldENvbXB1dGVkU3R5bGU6ZG9jdW1lbnQuZGVmYXVsdFZpZXcmJmRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGU/ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRXaW5kb3coKS4kLmdldENvbXB1dGVkU3R5bGUodGhpcy4kLG51bGwpO3JldHVybiBiP2IuZ2V0UHJvcGVydHlWYWx1ZShhKTpcIlwifTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy4kLmN1cnJlbnRTdHlsZVtDS0VESVRPUi50b29scy5jc3NTdHlsZVRvRG9tU3R5bGUoYSldfSxnZXREdGQ6ZnVuY3Rpb24oKXt2YXIgYT1DS0VESVRPUi5kdGRbdGhpcy5nZXROYW1lKCldO3RoaXMuZ2V0RHRkPWZ1bmN0aW9uKCl7cmV0dXJuIGF9O3JldHVybiBhfSxnZXRFbGVtZW50c0J5VGFnOkNLRURJVE9SLmRvbS5kb2N1bWVudC5wcm90b3R5cGUuZ2V0RWxlbWVudHNCeVRhZyxcbmdldFRhYkluZGV4OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kLnRhYkluZGV4O3JldHVybiAwIT09YXx8Q0tFRElUT1IuZHRkLiR0YWJJbmRleFt0aGlzLmdldE5hbWUoKV18fDA9PT1wYXJzZUludCh0aGlzLmdldEF0dHJpYnV0ZShcInRhYmluZGV4XCIpLDEwKT9hOi0xfSxnZXRUZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC50ZXh0Q29udGVudHx8dGhpcy4kLmlubmVyVGV4dHx8XCJcIn0sZ2V0V2luZG93OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RG9jdW1lbnQoKS5nZXRXaW5kb3coKX0sZ2V0SWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kLmlkfHxudWxsfSxnZXROYW1lQXR0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC5uYW1lfHxudWxsfSxnZXROYW1lOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7aWYoQ0tFRElUT1IuZW52LmllJiY4Pj1kb2N1bWVudC5kb2N1bWVudE1vZGUpe3ZhciBiPXRoaXMuJC5zY29wZU5hbWU7XCJIVE1MXCIhPVxuYiYmKGE9Yi50b0xvd2VyQ2FzZSgpK1wiOlwiK2EpfXRoaXMuZ2V0TmFtZT1mdW5jdGlvbigpe3JldHVybiBhfTtyZXR1cm4gdGhpcy5nZXROYW1lKCl9LGdldFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC52YWx1ZX0sZ2V0Rmlyc3Q6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy4kLmZpcnN0Q2hpbGQ7KGI9YiYmbmV3IENLRURJVE9SLmRvbS5ub2RlKGIpKSYmYSYmIWEoYikmJihiPWIuZ2V0TmV4dChhKSk7cmV0dXJuIGJ9LGdldExhc3Q6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy4kLmxhc3RDaGlsZDsoYj1iJiZuZXcgQ0tFRElUT1IuZG9tLm5vZGUoYikpJiZhJiYhYShiKSYmKGI9Yi5nZXRQcmV2aW91cyhhKSk7cmV0dXJuIGJ9LGdldFN0eWxlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLiQuc3R5bGVbQ0tFRElUT1IudG9vbHMuY3NzU3R5bGVUb0RvbVN0eWxlKGEpXX0saXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldE5hbWUoKTtpZihcIm9iamVjdFwiPT10eXBlb2YgYXJndW1lbnRzWzBdKXJldHVybiEhYXJndW1lbnRzWzBdW2FdO1xuZm9yKHZhciBiPTA7Yjxhcmd1bWVudHMubGVuZ3RoO2IrKylpZihhcmd1bWVudHNbYl09PWEpcmV0dXJuITA7cmV0dXJuITF9LGlzRWRpdGFibGU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXROYW1lKCk7cmV0dXJuIHRoaXMuaXNSZWFkT25seSgpfHxcIm5vbmVcIj09dGhpcy5nZXRDb21wdXRlZFN0eWxlKFwiZGlzcGxheVwiKXx8XCJoaWRkZW5cIj09dGhpcy5nZXRDb21wdXRlZFN0eWxlKFwidmlzaWJpbGl0eVwiKXx8Q0tFRElUT1IuZHRkLiRub25FZGl0YWJsZVtiXXx8Q0tFRElUT1IuZHRkLiRlbXB0eVtiXXx8dGhpcy5pcyhcImFcIikmJih0aGlzLmRhdGEoXCJja2Utc2F2ZWQtbmFtZVwiKXx8dGhpcy5oYXNBdHRyaWJ1dGUoXCJuYW1lXCIpKSYmIXRoaXMuZ2V0Q2hpbGRDb3VudCgpPyExOiExIT09YT8oYT1DS0VESVRPUi5kdGRbYl18fENLRURJVE9SLmR0ZC5zcGFuLCEoIWF8fCFhW1wiI1wiXSkpOiEwfSxpc0lkZW50aWNhbDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNsb25lKDAsMSk7YT1hLmNsb25lKDAsXG4xKTtiLnJlbW92ZUF0dHJpYnV0ZXMoW1wiX21vel9kaXJ0eVwiLFwiZGF0YS1ja2UtZXhwYW5kb1wiLFwiZGF0YS1ja2Utc2F2ZWQtaHJlZlwiLFwiZGF0YS1ja2Utc2F2ZWQtbmFtZVwiXSk7YS5yZW1vdmVBdHRyaWJ1dGVzKFtcIl9tb3pfZGlydHlcIixcImRhdGEtY2tlLWV4cGFuZG9cIixcImRhdGEtY2tlLXNhdmVkLWhyZWZcIixcImRhdGEtY2tlLXNhdmVkLW5hbWVcIl0pO2lmKGIuJC5pc0VxdWFsTm9kZSlyZXR1cm4gYi4kLnN0eWxlLmNzc1RleHQ9Q0tFRElUT1IudG9vbHMubm9ybWFsaXplQ3NzVGV4dChiLiQuc3R5bGUuY3NzVGV4dCksYS4kLnN0eWxlLmNzc1RleHQ9Q0tFRElUT1IudG9vbHMubm9ybWFsaXplQ3NzVGV4dChhLiQuc3R5bGUuY3NzVGV4dCksYi4kLmlzRXF1YWxOb2RlKGEuJCk7Yj1iLmdldE91dGVySHRtbCgpO2E9YS5nZXRPdXRlckh0bWwoKTtpZihDS0VESVRPUi5lbnYuaWUmJjk+Q0tFRElUT1IuZW52LnZlcnNpb24mJnRoaXMuaXMoXCJhXCIpKXt2YXIgYz10aGlzLmdldFBhcmVudCgpO1xuYy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihjPWMuY2xvbmUoKSxjLnNldEh0bWwoYiksYj1jLmdldEh0bWwoKSxjLnNldEh0bWwoYSksYT1jLmdldEh0bWwoKSl9cmV0dXJuIGI9PWF9LGlzVmlzaWJsZTpmdW5jdGlvbigpe3ZhciBhPSh0aGlzLiQub2Zmc2V0SGVpZ2h0fHx0aGlzLiQub2Zmc2V0V2lkdGgpJiZcImhpZGRlblwiIT10aGlzLmdldENvbXB1dGVkU3R5bGUoXCJ2aXNpYmlsaXR5XCIpLGIsYzthJiZDS0VESVRPUi5lbnYud2Via2l0JiYoYj10aGlzLmdldFdpbmRvdygpLCFiLmVxdWFscyhDS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKSkmJihjPWIuJC5mcmFtZUVsZW1lbnQpJiYoYT0obmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGMpKS5pc1Zpc2libGUoKSkpO3JldHVybiEhYX0saXNFbXB0eUlubGluZVJlbW92ZWFibGU6ZnVuY3Rpb24oKXtpZighQ0tFRElUT1IuZHRkLiRyZW1vdmVFbXB0eVt0aGlzLmdldE5hbWUoKV0pcmV0dXJuITE7Zm9yKHZhciBhPXRoaXMuZ2V0Q2hpbGRyZW4oKSxcbmI9MCxjPWEuY291bnQoKTtiPGM7YisrKXt2YXIgZz1hLmdldEl0ZW0oYik7aWYoZy50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fCFnLmRhdGEoXCJja2UtYm9va21hcmtcIikpaWYoZy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJiFnLmlzRW1wdHlJbmxpbmVSZW1vdmVhYmxlKCl8fGcudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiZDS0VESVRPUi50b29scy50cmltKGcuZ2V0VGV4dCgpKSlyZXR1cm4hMX1yZXR1cm4hMH0saGFzQXR0cmlidXRlczpDS0VESVRPUi5lbnYuaWUmJihDS0VESVRPUi5lbnYuaWU3Q29tcGF0fHxDS0VESVRPUi5lbnYucXVpcmtzKT9mdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLiQuYXR0cmlidXRlcyxiPTA7YjxhLmxlbmd0aDtiKyspe3ZhciBjPWFbYl07c3dpdGNoKGMubm9kZU5hbWUpe2Nhc2UgXCJjbGFzc1wiOmlmKHRoaXMuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikpcmV0dXJuITA7Y2FzZSBcImRhdGEtY2tlLWV4cGFuZG9cIjpjb250aW51ZTtkZWZhdWx0OmlmKGMuc3BlY2lmaWVkKXJldHVybiEwfX1yZXR1cm4hMX06XG5mdW5jdGlvbigpe3ZhciBhPXRoaXMuJC5hdHRyaWJ1dGVzLGI9YS5sZW5ndGgsYz17XCJkYXRhLWNrZS1leHBhbmRvXCI6MSxfbW96X2RpcnR5OjF9O3JldHVybiAwPGImJigyPGJ8fCFjW2FbMF0ubm9kZU5hbWVdfHwyPT1iJiYhY1thWzFdLm5vZGVOYW1lXSl9LGhhc0F0dHJpYnV0ZTpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYil7dmFyIGY9dGhpcy4kLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKGIpO2lmKFwiaW5wdXRcIj09dGhpcy5nZXROYW1lKCkpc3dpdGNoKGIpe2Nhc2UgXCJjbGFzc1wiOnJldHVybiAwPHRoaXMuJC5jbGFzc05hbWUubGVuZ3RoO2Nhc2UgXCJjaGVja2VkXCI6cmV0dXJuISF0aGlzLiQuY2hlY2tlZDtjYXNlIFwidmFsdWVcIjpyZXR1cm4gYj10aGlzLmdldEF0dHJpYnV0ZShcInR5cGVcIiksXCJjaGVja2JveFwiPT1ifHxcInJhZGlvXCI9PWI/XCJvblwiIT10aGlzLiQudmFsdWU6ISF0aGlzLiQudmFsdWV9cmV0dXJuIGY/Zi5zcGVjaWZpZWQ6ITF9cmV0dXJuIENLRURJVE9SLmVudi5pZT9cbjg+Q0tFRElUT1IuZW52LnZlcnNpb24/ZnVuY3Rpb24oYil7cmV0dXJuXCJuYW1lXCI9PWI/ISF0aGlzLiQubmFtZTphLmNhbGwodGhpcyxiKX06YTpmdW5jdGlvbihhKXtyZXR1cm4hIXRoaXMuJC5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbShhKX19KCksaGlkZTpmdW5jdGlvbigpe3RoaXMuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJub25lXCIpfSxtb3ZlQ2hpbGRyZW46ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLiQ7YT1hLiQ7aWYoYyE9YSl7dmFyIGc7aWYoYilmb3IoO2c9Yy5sYXN0Q2hpbGQ7KWEuaW5zZXJ0QmVmb3JlKGMucmVtb3ZlQ2hpbGQoZyksYS5maXJzdENoaWxkKTtlbHNlIGZvcig7Zz1jLmZpcnN0Q2hpbGQ7KWEuYXBwZW5kQ2hpbGQoYy5yZW1vdmVDaGlsZChnKSl9fSxtZXJnZVNpYmxpbmdzOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiLGYsZyl7aWYoZiYmZi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpe2Zvcih2YXIgYz1bXTtmLmRhdGEoXCJja2UtYm9va21hcmtcIil8fGYuaXNFbXB0eUlubGluZVJlbW92ZWFibGUoKTspaWYoYy5wdXNoKGYpLFxuZj1nP2YuZ2V0TmV4dCgpOmYuZ2V0UHJldmlvdXMoKSwhZnx8Zi50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpcmV0dXJuO2lmKGIuaXNJZGVudGljYWwoZikpe2Zvcih2YXIgZD1nP2IuZ2V0TGFzdCgpOmIuZ2V0Rmlyc3QoKTtjLmxlbmd0aDspYy5zaGlmdCgpLm1vdmUoYiwhZyk7Zi5tb3ZlQ2hpbGRyZW4oYiwhZyk7Zi5yZW1vdmUoKTtkJiZkLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZC5tZXJnZVNpYmxpbmdzKCl9fX1yZXR1cm4gZnVuY3Rpb24oYil7aWYoITE9PT1ifHxDS0VESVRPUi5kdGQuJHJlbW92ZUVtcHR5W3RoaXMuZ2V0TmFtZSgpXXx8dGhpcy5pcyhcImFcIikpYSh0aGlzLHRoaXMuZ2V0TmV4dCgpLCEwKSxhKHRoaXMsdGhpcy5nZXRQcmV2aW91cygpKX19KCksc2hvdzpmdW5jdGlvbigpe3RoaXMuc2V0U3R5bGVzKHtkaXNwbGF5OlwiXCIsdmlzaWJpbGl0eTpcIlwifSl9LHNldEF0dHJpYnV0ZTpmdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKGEsYil7dGhpcy4kLnNldEF0dHJpYnV0ZShhLFxuYik7cmV0dXJuIHRoaXN9O3JldHVybiBDS0VESVRPUi5lbnYuaWUmJihDS0VESVRPUi5lbnYuaWU3Q29tcGF0fHxDS0VESVRPUi5lbnYucXVpcmtzKT9mdW5jdGlvbihiLGMpe1wiY2xhc3NcIj09Yj90aGlzLiQuY2xhc3NOYW1lPWM6XCJzdHlsZVwiPT1iP3RoaXMuJC5zdHlsZS5jc3NUZXh0PWM6XCJ0YWJpbmRleFwiPT1iP3RoaXMuJC50YWJJbmRleD1jOlwiY2hlY2tlZFwiPT1iP3RoaXMuJC5jaGVja2VkPWM6XCJjb250ZW50ZWRpdGFibGVcIj09Yj9hLmNhbGwodGhpcyxcImNvbnRlbnRFZGl0YWJsZVwiLGMpOmEuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB0aGlzfTpDS0VESVRPUi5lbnYuaWU4Q29tcGF0JiZDS0VESVRPUi5lbnYuc2VjdXJlP2Z1bmN0aW9uKGIsYyl7aWYoXCJzcmNcIj09YiYmYy5tYXRjaCgvXmh0dHA6XFwvXFwvLykpdHJ5e2EuYXBwbHkodGhpcyxhcmd1bWVudHMpfWNhdGNoKGcpe31lbHNlIGEuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB0aGlzfTphfSgpLHNldEF0dHJpYnV0ZXM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiIGluIGEpdGhpcy5zZXRBdHRyaWJ1dGUoYixcbmFbYl0pO3JldHVybiB0aGlzfSxzZXRWYWx1ZTpmdW5jdGlvbihhKXt0aGlzLiQudmFsdWU9YTtyZXR1cm4gdGhpc30scmVtb3ZlQXR0cmlidXRlOmZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oYSl7dGhpcy4kLnJlbW92ZUF0dHJpYnV0ZShhKX07cmV0dXJuIENLRURJVE9SLmVudi5pZSYmKENLRURJVE9SLmVudi5pZTdDb21wYXR8fENLRURJVE9SLmVudi5xdWlya3MpP2Z1bmN0aW9uKGEpe1wiY2xhc3NcIj09YT9hPVwiY2xhc3NOYW1lXCI6XCJ0YWJpbmRleFwiPT1hP2E9XCJ0YWJJbmRleFwiOlwiY29udGVudGVkaXRhYmxlXCI9PWEmJihhPVwiY29udGVudEVkaXRhYmxlXCIpO3RoaXMuJC5yZW1vdmVBdHRyaWJ1dGUoYSl9OmF9KCkscmVtb3ZlQXR0cmlidXRlczpmdW5jdGlvbihhKXtpZihDS0VESVRPUi50b29scy5pc0FycmF5KGEpKWZvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKXRoaXMucmVtb3ZlQXR0cmlidXRlKGFbYl0pO2Vsc2UgZm9yKGIgaW4gYT1hfHx0aGlzLmdldEF0dHJpYnV0ZXMoKSxcbmEpYS5oYXNPd25Qcm9wZXJ0eShiKSYmdGhpcy5yZW1vdmVBdHRyaWJ1dGUoYil9LHJlbW92ZVN0eWxlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuJC5zdHlsZTtpZihiLnJlbW92ZVByb3BlcnR5fHxcImJvcmRlclwiIT1hJiZcIm1hcmdpblwiIT1hJiZcInBhZGRpbmdcIiE9YSliLnJlbW92ZVByb3BlcnR5P2IucmVtb3ZlUHJvcGVydHkoYSk6Yi5yZW1vdmVBdHRyaWJ1dGUoQ0tFRElUT1IudG9vbHMuY3NzU3R5bGVUb0RvbVN0eWxlKGEpKSx0aGlzLiQuc3R5bGUuY3NzVGV4dHx8dGhpcy5yZW1vdmVBdHRyaWJ1dGUoXCJzdHlsZVwiKTtlbHNle3ZhciBjPVtcInRvcFwiLFwibGVmdFwiLFwicmlnaHRcIixcImJvdHRvbVwiXSxnO1wiYm9yZGVyXCI9PWEmJihnPVtcImNvbG9yXCIsXCJzdHlsZVwiLFwid2lkdGhcIl0pO2Zvcih2YXIgYj1bXSxkPTA7ZDxjLmxlbmd0aDtkKyspaWYoZylmb3IodmFyIGU9MDtlPGcubGVuZ3RoO2UrKyliLnB1c2goW2EsY1tkXSxnW2VdXS5qb2luKFwiLVwiKSk7ZWxzZSBiLnB1c2goW2EsY1tkXV0uam9pbihcIi1cIikpO1xuZm9yKGE9MDthPGIubGVuZ3RoO2ErKyl0aGlzLnJlbW92ZVN0eWxlKGJbYV0pfX0sc2V0U3R5bGU6ZnVuY3Rpb24oYSxiKXt0aGlzLiQuc3R5bGVbQ0tFRElUT1IudG9vbHMuY3NzU3R5bGVUb0RvbVN0eWxlKGEpXT1iO3JldHVybiB0aGlzfSxzZXRTdHlsZXM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiIGluIGEpdGhpcy5zZXRTdHlsZShiLGFbYl0pO3JldHVybiB0aGlzfSxzZXRPcGFjaXR5OmZ1bmN0aW9uKGEpe0NLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbj8oYT1NYXRoLnJvdW5kKDEwMCphKSx0aGlzLnNldFN0eWxlKFwiZmlsdGVyXCIsMTAwPD1hP1wiXCI6XCJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuQWxwaGEob3BhY2l0eVxceDNkXCIrYStcIilcIikpOnRoaXMuc2V0U3R5bGUoXCJvcGFjaXR5XCIsYSl9LHVuc2VsZWN0YWJsZTpmdW5jdGlvbigpe3RoaXMuc2V0U3R5bGVzKENLRURJVE9SLnRvb2xzLmNzc1ZlbmRvclByZWZpeChcInVzZXItc2VsZWN0XCIsXCJub25lXCIpKTtcbmlmKENLRURJVE9SLmVudi5pZSl7dGhpcy5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpO2Zvcih2YXIgYSxiPXRoaXMuZ2V0RWxlbWVudHNCeVRhZyhcIipcIiksYz0wLGc9Yi5jb3VudCgpO2M8ZztjKyspYT1iLmdldEl0ZW0oYyksYS5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpfX0sZ2V0UG9zaXRpb25lZEFuY2VzdG9yOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXM7XCJodG1sXCIhPWEuZ2V0TmFtZSgpOyl7aWYoXCJzdGF0aWNcIiE9YS5nZXRDb21wdXRlZFN0eWxlKFwicG9zaXRpb25cIikpcmV0dXJuIGE7YT1hLmdldFBhcmVudCgpfXJldHVybiBudWxsfSxnZXREb2N1bWVudFBvc2l0aW9uOmZ1bmN0aW9uKGEpe3ZhciBiPTAsYz0wLGc9dGhpcy5nZXREb2N1bWVudCgpLGQ9Zy5nZXRCb2R5KCksZT1cIkJhY2tDb21wYXRcIj09Zy4kLmNvbXBhdE1vZGU7aWYoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCYmKENLRURJVE9SLmVudi5pZT9cbjghPT1DS0VESVRPUi5lbnYudmVyc2lvbjoxKSl7dmFyIGw9dGhpcy4kLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG09Zy4kLmRvY3VtZW50RWxlbWVudCx0PW0uY2xpZW50VG9wfHxkLiQuY2xpZW50VG9wfHwwLHA9bS5jbGllbnRMZWZ0fHxkLiQuY2xpZW50TGVmdHx8MCx3PSEwO0NLRURJVE9SLmVudi5pZSYmKHc9Zy5nZXREb2N1bWVudEVsZW1lbnQoKS5jb250YWlucyh0aGlzKSxnPWcuZ2V0Qm9keSgpLmNvbnRhaW5zKHRoaXMpLHc9ZSYmZ3x8IWUmJncpO3cmJihDS0VESVRPUi5lbnYud2Via2l0fHxDS0VESVRPUi5lbnYuaWUmJjEyPD1DS0VESVRPUi5lbnYudmVyc2lvbj8oYj1kLiQuc2Nyb2xsTGVmdHx8bS5zY3JvbGxMZWZ0LGM9ZC4kLnNjcm9sbFRvcHx8bS5zY3JvbGxUb3ApOihjPWU/ZC4kOm0sYj1jLnNjcm9sbExlZnQsYz1jLnNjcm9sbFRvcCksYj1sLmxlZnQrYi1wLGM9bC50b3ArYy10KX1lbHNlIGZvcih0PXRoaXMscD1udWxsO3QmJlwiYm9keVwiIT10LmdldE5hbWUoKSYmXG5cImh0bWxcIiE9dC5nZXROYW1lKCk7KXtiKz10LiQub2Zmc2V0TGVmdC10LiQuc2Nyb2xsTGVmdDtjKz10LiQub2Zmc2V0VG9wLXQuJC5zY3JvbGxUb3A7dC5lcXVhbHModGhpcyl8fChiKz10LiQuY2xpZW50TGVmdHx8MCxjKz10LiQuY2xpZW50VG9wfHwwKTtmb3IoO3AmJiFwLmVxdWFscyh0KTspYi09cC4kLnNjcm9sbExlZnQsYy09cC4kLnNjcm9sbFRvcCxwPXAuZ2V0UGFyZW50KCk7cD10O3Q9KGw9dC4kLm9mZnNldFBhcmVudCk/bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGwpOm51bGx9YSYmKGw9dGhpcy5nZXRXaW5kb3coKSx0PWEuZ2V0V2luZG93KCksIWwuZXF1YWxzKHQpJiZsLiQuZnJhbWVFbGVtZW50JiYoYT0obmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGwuJC5mcmFtZUVsZW1lbnQpKS5nZXREb2N1bWVudFBvc2l0aW9uKGEpLGIrPWEueCxjKz1hLnkpKTtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0fHwhQ0tFRElUT1IuZW52LmdlY2tvfHxcbmV8fChiKz10aGlzLiQuY2xpZW50TGVmdD8xOjAsYys9dGhpcy4kLmNsaWVudFRvcD8xOjApO3JldHVybnt4OmIseTpjfX0sc2Nyb2xsSW50b1ZpZXc6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRQYXJlbnQoKTtpZihiKXtkbyBpZigoYi4kLmNsaWVudFdpZHRoJiZiLiQuY2xpZW50V2lkdGg8Yi4kLnNjcm9sbFdpZHRofHxiLiQuY2xpZW50SGVpZ2h0JiZiLiQuY2xpZW50SGVpZ2h0PGIuJC5zY3JvbGxIZWlnaHQpJiYhYi5pcyhcImJvZHlcIikmJnRoaXMuc2Nyb2xsSW50b1BhcmVudChiLGEsMSksYi5pcyhcImh0bWxcIikpe3ZhciBjPWIuZ2V0V2luZG93KCk7dHJ5e3ZhciBnPWMuJC5mcmFtZUVsZW1lbnQ7ZyYmKGI9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGcpKX1jYXRjaChkKXt9fXdoaWxlKGI9Yi5nZXRQYXJlbnQoKSl9fSxzY3JvbGxJbnRvUGFyZW50OmZ1bmN0aW9uKGEsYixjKXt2YXIgZyxkLGUsbDtmdW5jdGlvbiBtKGIsZyl7L2JvZHl8aHRtbC8udGVzdChhLmdldE5hbWUoKSk/XG5hLmdldFdpbmRvdygpLiQuc2Nyb2xsQnkoYixnKTooYS4kLnNjcm9sbExlZnQrPWIsYS4kLnNjcm9sbFRvcCs9Zyl9ZnVuY3Rpb24gdChhLGIpe3ZhciBnPXt4OjAseTowfTtpZighYS5pcyh3P1wiYm9keVwiOlwiaHRtbFwiKSl7dmFyIGM9YS4kLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2cueD1jLmxlZnQ7Zy55PWMudG9wfWM9YS5nZXRXaW5kb3coKTtjLmVxdWFscyhiKXx8KGM9dChDS0VESVRPUi5kb20uZWxlbWVudC5nZXQoYy4kLmZyYW1lRWxlbWVudCksYiksZy54Kz1jLngsZy55Kz1jLnkpO3JldHVybiBnfWZ1bmN0aW9uIHAoYSxiKXtyZXR1cm4gcGFyc2VJbnQoYS5nZXRDb21wdXRlZFN0eWxlKFwibWFyZ2luLVwiK2IpfHwwLDEwKXx8MH0hYSYmKGE9dGhpcy5nZXRXaW5kb3coKSk7ZT1hLmdldERvY3VtZW50KCk7dmFyIHc9XCJCYWNrQ29tcGF0XCI9PWUuJC5jb21wYXRNb2RlO2EgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20ud2luZG93JiYoYT13P2UuZ2V0Qm9keSgpOmUuZ2V0RG9jdW1lbnRFbGVtZW50KCkpO1xuQ0tFRElUT1IuZW52LndlYmtpdCYmKGU9dGhpcy5nZXRFZGl0b3IoITEpKSYmKGUuXy5wcmV2aW91c1Njcm9sbFRvcD1udWxsKTtlPWEuZ2V0V2luZG93KCk7ZD10KHRoaXMsZSk7dmFyIHo9dChhLGUpLEE9dGhpcy4kLm9mZnNldEhlaWdodDtnPXRoaXMuJC5vZmZzZXRXaWR0aDt2YXIgdT1hLiQuY2xpZW50SGVpZ2h0LHg9YS4kLmNsaWVudFdpZHRoO2U9ZC54LXAodGhpcyxcImxlZnRcIiktei54fHwwO2w9ZC55LXAodGhpcyxcInRvcFwiKS16Lnl8fDA7Zz1kLngrZytwKHRoaXMsXCJyaWdodFwiKS0oei54K3gpfHwwO2Q9ZC55K0ErcCh0aGlzLFwiYm90dG9tXCIpLSh6LnkrdSl8fDA7KDA+bHx8MDxkKSYmbSgwLCEwPT09Yj9sOiExPT09Yj9kOjA+bD9sOmQpO2MmJigwPmV8fDA8ZykmJm0oMD5lP2U6ZywwKX0sc2V0U3RhdGU6ZnVuY3Rpb24oYSxiLGMpe2I9Ynx8XCJja2VcIjtzd2l0Y2goYSl7Y2FzZSBDS0VESVRPUi5UUklTVEFURV9PTjp0aGlzLmFkZENsYXNzKGIrXCJfb25cIik7dGhpcy5yZW1vdmVDbGFzcyhiK1xuXCJfb2ZmXCIpO3RoaXMucmVtb3ZlQ2xhc3MoYitcIl9kaXNhYmxlZFwiKTtjJiZ0aGlzLnNldEF0dHJpYnV0ZShcImFyaWEtcHJlc3NlZFwiLCEwKTtjJiZ0aGlzLnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtZGlzYWJsZWRcIik7YnJlYWs7Y2FzZSBDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRDp0aGlzLmFkZENsYXNzKGIrXCJfZGlzYWJsZWRcIik7dGhpcy5yZW1vdmVDbGFzcyhiK1wiX29mZlwiKTt0aGlzLnJlbW92ZUNsYXNzKGIrXCJfb25cIik7YyYmdGhpcy5zZXRBdHRyaWJ1dGUoXCJhcmlhLWRpc2FibGVkXCIsITApO2MmJnRoaXMucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1wcmVzc2VkXCIpO2JyZWFrO2RlZmF1bHQ6dGhpcy5hZGRDbGFzcyhiK1wiX29mZlwiKSx0aGlzLnJlbW92ZUNsYXNzKGIrXCJfb25cIiksdGhpcy5yZW1vdmVDbGFzcyhiK1wiX2Rpc2FibGVkXCIpLGMmJnRoaXMucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1wcmVzc2VkXCIpLGMmJnRoaXMucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1kaXNhYmxlZFwiKX19LFxuZ2V0RnJhbWVEb2N1bWVudDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuJDt0cnl7YS5jb250ZW50V2luZG93LmRvY3VtZW50fWNhdGNoKGIpe2Euc3JjPWEuc3JjfXJldHVybiBhJiZuZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50KGEuY29udGVudFdpbmRvdy5kb2N1bWVudCl9LGNvcHlBdHRyaWJ1dGVzOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy4kLmF0dHJpYnV0ZXM7Yj1ifHx7fTtmb3IodmFyIGc9MDtnPGMubGVuZ3RoO2crKyl7dmFyIGQ9Y1tnXSxlPWQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxsO2lmKCEoZSBpbiBiKSlpZihcImNoZWNrZWRcIj09ZSYmKGw9dGhpcy5nZXRBdHRyaWJ1dGUoZSkpKWEuc2V0QXR0cmlidXRlKGUsbCk7ZWxzZSBpZighQ0tFRElUT1IuZW52LmllfHx0aGlzLmhhc0F0dHJpYnV0ZShlKSlsPXRoaXMuZ2V0QXR0cmlidXRlKGUpLG51bGw9PT1sJiYobD1kLm5vZGVWYWx1ZSksYS5zZXRBdHRyaWJ1dGUoZSxsKX1cIlwiIT09dGhpcy4kLnN0eWxlLmNzc1RleHQmJlxuKGEuJC5zdHlsZS5jc3NUZXh0PXRoaXMuJC5zdHlsZS5jc3NUZXh0KX0scmVuYW1lTm9kZTpmdW5jdGlvbihhKXtpZih0aGlzLmdldE5hbWUoKSE9YSl7dmFyIGI9dGhpcy5nZXREb2N1bWVudCgpO2E9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGEsYik7dGhpcy5jb3B5QXR0cmlidXRlcyhhKTt0aGlzLm1vdmVDaGlsZHJlbihhKTt0aGlzLmdldFBhcmVudCghMCkmJnRoaXMuJC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChhLiQsdGhpcy4kKTthLiRbXCJkYXRhLWNrZS1leHBhbmRvXCJdPXRoaXMuJFtcImRhdGEtY2tlLWV4cGFuZG9cIl07dGhpcy4kPWEuJDtkZWxldGUgdGhpcy5nZXROYW1lfX0sZ2V0Q2hpbGQ6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIsYyl7dmFyIGc9Yi5jaGlsZE5vZGVzO2lmKDA8PWMmJmM8Zy5sZW5ndGgpcmV0dXJuIGdbY119cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuJDtpZihiLnNsaWNlKWZvcihiPWIuc2xpY2UoKTswPGIubGVuZ3RoJiZjOyljPWEoYyxcbmIuc2hpZnQoKSk7ZWxzZSBjPWEoYyxiKTtyZXR1cm4gYz9uZXcgQ0tFRElUT1IuZG9tLm5vZGUoYyk6bnVsbH19KCksZ2V0Q2hpbGRDb3VudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLiQuY2hpbGROb2Rlcy5sZW5ndGh9LGRpc2FibGVDb250ZXh0TWVudTpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYil7cmV0dXJuIGIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZiLmhhc0NsYXNzKFwiY2tlX2VuYWJsZV9jb250ZXh0X21lbnVcIil9dGhpcy5vbihcImNvbnRleHRtZW51XCIsZnVuY3Rpb24oYil7Yi5kYXRhLmdldFRhcmdldCgpLmdldEFzY2VuZGFudChhLCEwKXx8Yi5kYXRhLnByZXZlbnREZWZhdWx0KCl9KX0sZ2V0RGlyZWN0aW9uOmZ1bmN0aW9uKGEpe3JldHVybiBhP3RoaXMuZ2V0Q29tcHV0ZWRTdHlsZShcImRpcmVjdGlvblwiKXx8dGhpcy5nZXREaXJlY3Rpb24oKXx8dGhpcy5nZXRQYXJlbnQoKSYmdGhpcy5nZXRQYXJlbnQoKS5nZXREaXJlY3Rpb24oMSl8fHRoaXMuZ2V0RG9jdW1lbnQoKS4kLmRpcnx8XG5cImx0clwiOnRoaXMuZ2V0U3R5bGUoXCJkaXJlY3Rpb25cIil8fHRoaXMuZ2V0QXR0cmlidXRlKFwiZGlyXCIpfSxkYXRhOmZ1bmN0aW9uKGEsYil7YT1cImRhdGEtXCIrYTtpZih2b2lkIDA9PT1iKXJldHVybiB0aGlzLmdldEF0dHJpYnV0ZShhKTshMT09PWI/dGhpcy5yZW1vdmVBdHRyaWJ1dGUoYSk6dGhpcy5zZXRBdHRyaWJ1dGUoYSxiKTtyZXR1cm4gbnVsbH0sZ2V0RWRpdG9yOmZ1bmN0aW9uKGEpe3ZhciBiPUNLRURJVE9SLmluc3RhbmNlcyxjLGcsZDthPWF8fHZvaWQgMD09PWE7Zm9yKGMgaW4gYilpZihnPWJbY10sZy5lbGVtZW50LmVxdWFscyh0aGlzKSYmZy5lbGVtZW50TW9kZSE9Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0FQUEVORFRPfHwhYSYmKGQ9Zy5lZGl0YWJsZSgpLGQuZXF1YWxzKHRoaXMpfHxkLmNvbnRhaW5zKHRoaXMpKSlyZXR1cm4gZztyZXR1cm4gbnVsbH0sZmluZDpmdW5jdGlvbihhKXt2YXIgYz1lKHRoaXMpO2E9bmV3IENLRURJVE9SLmRvbS5ub2RlTGlzdCh0aGlzLiQucXVlcnlTZWxlY3RvckFsbChiKHRoaXMsXG5hKSkpO2MoKTtyZXR1cm4gYX0sZmluZE9uZTpmdW5jdGlvbihhKXt2YXIgYz1lKHRoaXMpO2E9dGhpcy4kLnF1ZXJ5U2VsZWN0b3IoYih0aGlzLGEpKTtjKCk7cmV0dXJuIGE/bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGEpOm51bGx9LGZvckVhY2g6ZnVuY3Rpb24oYSxiLGMpe2lmKCEoY3x8YiYmdGhpcy50eXBlIT1iKSl2YXIgZz1hKHRoaXMpO2lmKCExIT09Zyl7Yz10aGlzLmdldENoaWxkcmVuKCk7Zm9yKHZhciBkPTA7ZDxjLmNvdW50KCk7ZCsrKWc9Yy5nZXRJdGVtKGQpLGcudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UP2cuZm9yRWFjaChhLGIpOmImJmcudHlwZSE9Ynx8YShnKX19fSk7dmFyIG09e3dpZHRoOltcImJvcmRlci1sZWZ0LXdpZHRoXCIsXCJib3JkZXItcmlnaHQtd2lkdGhcIixcInBhZGRpbmctbGVmdFwiLFwicGFkZGluZy1yaWdodFwiXSxoZWlnaHQ6W1wiYm9yZGVyLXRvcC13aWR0aFwiLFwiYm9yZGVyLWJvdHRvbS13aWR0aFwiLFwicGFkZGluZy10b3BcIixcInBhZGRpbmctYm90dG9tXCJdfTtcbkNLRURJVE9SLmRvbS5lbGVtZW50LnByb3RvdHlwZS5zZXRTaXplPWZ1bmN0aW9uKGEsYixkKXtcIm51bWJlclwiPT10eXBlb2YgYiYmKCFkfHxDS0VESVRPUi5lbnYuaWUmJkNLRURJVE9SLmVudi5xdWlya3N8fChiLT1jLmNhbGwodGhpcyxhKSksdGhpcy5zZXRTdHlsZShhLGIrXCJweFwiKSl9O0NLRURJVE9SLmRvbS5lbGVtZW50LnByb3RvdHlwZS5nZXRTaXplPWZ1bmN0aW9uKGEsYil7dmFyIGQ9TWF0aC5tYXgodGhpcy4kW1wib2Zmc2V0XCIrQ0tFRElUT1IudG9vbHMuY2FwaXRhbGl6ZShhKV0sdGhpcy4kW1wiY2xpZW50XCIrQ0tFRElUT1IudG9vbHMuY2FwaXRhbGl6ZShhKV0pfHwwO2ImJihkLT1jLmNhbGwodGhpcyxhKSk7cmV0dXJuIGR9fSgpLENLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50PWZ1bmN0aW9uKGEpe2E9YXx8Q0tFRElUT1IuZG9jdW1lbnQ7dGhpcy4kPWEudHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVD9hLiQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpOmF9LENLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudC5wcm90b3R5cGUsXG5DS0VESVRPUi5kb20uZWxlbWVudC5wcm90b3R5cGUse3R5cGU6Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVCxpbnNlcnRBZnRlck5vZGU6ZnVuY3Rpb24oYSl7YT1hLiQ7YS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLiQsYS5uZXh0U2libGluZyl9LGdldEh0bWw6ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJkaXZcIik7dGhpcy5jbG9uZSgxLDEpLmFwcGVuZFRvKGEpO3JldHVybiBhLmdldEh0bWwoKS5yZXBsYWNlKC9cXHMqZGF0YS1ja2UtZXhwYW5kbz1cIi4qP1wiL2csXCJcIil9fSwhMCx7YXBwZW5kOjEsYXBwZW5kQm9ndXM6MSxjbG9uZToxLGdldEZpcnN0OjEsZ2V0SHRtbDoxLGdldExhc3Q6MSxnZXRQYXJlbnQ6MSxnZXROZXh0OjEsZ2V0UHJldmlvdXM6MSxhcHBlbmRUbzoxLG1vdmVDaGlsZHJlbjoxLGluc2VydEJlZm9yZToxLGluc2VydEFmdGVyTm9kZToxLHJlcGxhY2U6MSx0cmltOjEsdHlwZToxLGx0cmltOjEscnRyaW06MSxnZXREb2N1bWVudDoxLFxuZ2V0Q2hpbGRDb3VudDoxLGdldENoaWxkOjEsZ2V0Q2hpbGRyZW46MX0pLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIpe3ZhciBnPXRoaXMucmFuZ2U7aWYodGhpcy5fLmVuZClyZXR1cm4gbnVsbDtpZighdGhpcy5fLnN0YXJ0KXt0aGlzLl8uc3RhcnQ9MTtpZihnLmNvbGxhcHNlZClyZXR1cm4gdGhpcy5lbmQoKSxudWxsO2cub3B0aW1pemUoKX12YXIgYyxkPWcuc3RhcnRDb250YWluZXI7Yz1nLmVuZENvbnRhaW5lcjt2YXIgZj1nLnN0YXJ0T2Zmc2V0LGs9Zy5lbmRPZmZzZXQsaCxlPXRoaXMuZ3VhcmQsbj10aGlzLnR5cGUsbD1hP1wiZ2V0UHJldmlvdXNTb3VyY2VOb2RlXCI6XCJnZXROZXh0U291cmNlTm9kZVwiO2lmKCFhJiYhdGhpcy5fLmd1YXJkTFRSKXt2YXIgbT1jLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVD9jOmMuZ2V0UGFyZW50KCksQj1jLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVD9jLmdldENoaWxkKGspOmMuZ2V0TmV4dCgpO3RoaXMuXy5ndWFyZExUUj1mdW5jdGlvbihhLFxuYil7cmV0dXJuKCFifHwhbS5lcXVhbHMoYSkpJiYoIUJ8fCFhLmVxdWFscyhCKSkmJihhLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVHx8IWJ8fCFhLmVxdWFscyhnLnJvb3QpKX19aWYoYSYmIXRoaXMuXy5ndWFyZFJUTCl7dmFyIEM9ZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ/ZDpkLmdldFBhcmVudCgpLEY9ZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ/Zj9kLmdldENoaWxkKGYtMSk6bnVsbDpkLmdldFByZXZpb3VzKCk7dGhpcy5fLmd1YXJkUlRMPWZ1bmN0aW9uKGEsYil7cmV0dXJuKCFifHwhQy5lcXVhbHMoYSkpJiYoIUZ8fCFhLmVxdWFscyhGKSkmJihhLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVHx8IWJ8fCFhLmVxdWFscyhnLnJvb3QpKX19dmFyIEU9YT90aGlzLl8uZ3VhcmRSVEw6dGhpcy5fLmd1YXJkTFRSO2g9ZT9mdW5jdGlvbihhLGIpe3JldHVybiExPT09RShhLGIpPyExOmUoYSxiKX06RTt0aGlzLmN1cnJlbnQ/Yz10aGlzLmN1cnJlbnRbbF0oITEsXG5uLGgpOihhP2MudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoYz0wPGs/Yy5nZXRDaGlsZChrLTEpOiExPT09aChjLCEwKT9udWxsOmMuZ2V0UHJldmlvdXNTb3VyY2VOb2RlKCEwLG4saCkpOihjPWQsYy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJigoYz1jLmdldENoaWxkKGYpKXx8KGM9ITE9PT1oKGQsITApP251bGw6ZC5nZXROZXh0U291cmNlTm9kZSghMCxuLGgpKSkpLGMmJiExPT09aChjKSYmKGM9bnVsbCkpO2Zvcig7YyYmIXRoaXMuXy5lbmQ7KXt0aGlzLmN1cnJlbnQ9YztpZighdGhpcy5ldmFsdWF0b3J8fCExIT09dGhpcy5ldmFsdWF0b3IoYykpe2lmKCFiKXJldHVybiBjfWVsc2UgaWYoYiYmdGhpcy5ldmFsdWF0b3IpcmV0dXJuITE7Yz1jW2xdKCExLG4saCl9dGhpcy5lbmQoKTtyZXR1cm4gdGhpcy5jdXJyZW50PW51bGx9ZnVuY3Rpb24gZShiKXtmb3IodmFyIGcsYz1udWxsO2c9YS5jYWxsKHRoaXMsYik7KWM9ZztyZXR1cm4gY31DS0VESVRPUi5kb20ud2Fsa2VyPVxuQ0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3MoeyQ6ZnVuY3Rpb24oYSl7dGhpcy5yYW5nZT1hO3RoaXMuXz17fX0scHJvdG86e2VuZDpmdW5jdGlvbigpe3RoaXMuXy5lbmQ9MX0sbmV4dDpmdW5jdGlvbigpe3JldHVybiBhLmNhbGwodGhpcyl9LHByZXZpb3VzOmZ1bmN0aW9uKCl7cmV0dXJuIGEuY2FsbCh0aGlzLDEpfSxjaGVja0ZvcndhcmQ6ZnVuY3Rpb24oKXtyZXR1cm4hMSE9PWEuY2FsbCh0aGlzLDAsMSl9LGNoZWNrQmFja3dhcmQ6ZnVuY3Rpb24oKXtyZXR1cm4hMSE9PWEuY2FsbCh0aGlzLDEsMSl9LGxhc3RGb3J3YXJkOmZ1bmN0aW9uKCl7cmV0dXJuIGUuY2FsbCh0aGlzKX0sbGFzdEJhY2t3YXJkOmZ1bmN0aW9uKCl7cmV0dXJuIGUuY2FsbCh0aGlzLDEpfSxyZXNldDpmdW5jdGlvbigpe2RlbGV0ZSB0aGlzLmN1cnJlbnQ7dGhpcy5fPXt9fX19KTt2YXIgYj17YmxvY2s6MSxcImxpc3QtaXRlbVwiOjEsdGFibGU6MSxcInRhYmxlLXJvdy1ncm91cFwiOjEsXCJ0YWJsZS1oZWFkZXItZ3JvdXBcIjoxLFxuXCJ0YWJsZS1mb290ZXItZ3JvdXBcIjoxLFwidGFibGUtcm93XCI6MSxcInRhYmxlLWNvbHVtbi1ncm91cFwiOjEsXCJ0YWJsZS1jb2x1bW5cIjoxLFwidGFibGUtY2VsbFwiOjEsXCJ0YWJsZS1jYXB0aW9uXCI6MX0sYz17YWJzb2x1dGU6MSxmaXhlZDoxfTtDS0VESVRPUi5kb20uZWxlbWVudC5wcm90b3R5cGUuaXNCbG9ja0JvdW5kYXJ5PWZ1bmN0aW9uKGEpe3JldHVyblwibm9uZVwiIT10aGlzLmdldENvbXB1dGVkU3R5bGUoXCJmbG9hdFwiKXx8dGhpcy5nZXRDb21wdXRlZFN0eWxlKFwicG9zaXRpb25cIilpbiBjfHwhYlt0aGlzLmdldENvbXB1dGVkU3R5bGUoXCJkaXNwbGF5XCIpXT8hISh0aGlzLmlzKENLRURJVE9SLmR0ZC4kYmxvY2spfHxhJiZ0aGlzLmlzKGEpKTohMH07Q0tFRElUT1IuZG9tLndhbGtlci5ibG9ja0JvdW5kYXJ5PWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4hKGIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZiLmlzQmxvY2tCb3VuZGFyeShhKSl9fTtDS0VESVRPUi5kb20ud2Fsa2VyLmxpc3RJdGVtQm91bmRhcnk9XG5mdW5jdGlvbigpe3JldHVybiB0aGlzLmJsb2NrQm91bmRhcnkoe2JyOjF9KX07Q0tFRElUT1IuZG9tLndhbGtlci5ib29rbWFyaz1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGcoYSl7cmV0dXJuIGEmJmEuZ2V0TmFtZSYmXCJzcGFuXCI9PWEuZ2V0TmFtZSgpJiZhLmRhdGEoXCJja2UtYm9va21hcmtcIil9cmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciBkLGY7ZD1jJiZjLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGY9Yy5nZXRQYXJlbnQoKSkmJmcoZik7ZD1hP2Q6ZHx8ZyhjKTtyZXR1cm4hIShiXmQpfX07Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcz1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7dmFyIGc7YiYmYi50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihnPSFDS0VESVRPUi50b29scy50cmltKGIuZ2V0VGV4dCgpKXx8Q0tFRElUT1IuZW52LndlYmtpdCYmYi5nZXRUZXh0KCk9PUNLRURJVE9SLmRvbS5zZWxlY3Rpb24uRklMTElOR19DSEFSX1NFUVVFTkNFKTtcbnJldHVybiEhKGFeZyl9fTtDS0VESVRPUi5kb20ud2Fsa2VyLmludmlzaWJsZT1mdW5jdGlvbihhKXt2YXIgYj1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCksZz1DS0VESVRPUi5lbnYud2Via2l0PzE6MDtyZXR1cm4gZnVuY3Rpb24oYyl7YihjKT9jPTE6KGMudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYoYz1jLmdldFBhcmVudCgpKSxjPWMuJC5vZmZzZXRXaWR0aDw9Zyk7cmV0dXJuISEoYV5jKX19O0NLRURJVE9SLmRvbS53YWxrZXIubm9kZVR5cGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZnVuY3Rpb24oZyl7cmV0dXJuISEoYl5nLnR5cGU9PWEpfX07Q0tFRElUT1IuZG9tLndhbGtlci5ib2d1cz1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3JldHVybiFsKGEpJiYhbShhKX1yZXR1cm4gZnVuY3Rpb24oZyl7dmFyIGM9Q0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXI/Zy5pcyYmZy5pcyhcImJyXCIpOmcuZ2V0VGV4dCYmZC50ZXN0KGcuZ2V0VGV4dCgpKTtjJiYoYz1nLmdldFBhcmVudCgpLFxuZz1nLmdldE5leHQoYiksYz1jLmlzQmxvY2tCb3VuZGFyeSgpJiYoIWd8fGcudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZnLmlzQmxvY2tCb3VuZGFyeSgpKSk7cmV0dXJuISEoYV5jKX19O0NLRURJVE9SLmRvbS53YWxrZXIudGVtcD1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7Yi50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihiPWIuZ2V0UGFyZW50KCkpO2I9YiYmYi5oYXNBdHRyaWJ1dGUoXCJkYXRhLWNrZS10ZW1wXCIpO3JldHVybiEhKGFeYil9fTt2YXIgZD0vXltcXHRcXHJcXG4gXSooPzombmJzcDt8XFx4YTApJC8sbD1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCksbT1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKCksZj1DS0VESVRPUi5kb20ud2Fsa2VyLnRlbXAoKSxoPWZ1bmN0aW9uKGEpe3JldHVybiBtKGEpfHxsKGEpfHxhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5pcyhDS0VESVRPUi5kdGQuJGlubGluZSkmJiFhLmlzKENLRURJVE9SLmR0ZC4kZW1wdHkpfTtcbkNLRURJVE9SLmRvbS53YWxrZXIuaWdub3JlZD1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7Yj1sKGIpfHxtKGIpfHxmKGIpO3JldHVybiEhKGFeYil9fTt2YXIgaz1DS0VESVRPUi5kb20ud2Fsa2VyLmlnbm9yZWQoKTtDS0VESVRPUi5kb20ud2Fsa2VyLmVtcHR5PWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtmb3IodmFyIGc9MCxjPWIuZ2V0Q2hpbGRDb3VudCgpO2c8YzsrK2cpaWYoIWsoYi5nZXRDaGlsZChnKSkpcmV0dXJuISFhO3JldHVybiFhfX07dmFyIGc9Q0tFRElUT1IuZG9tLndhbGtlci5lbXB0eSgpLG49Q0tFRElUT1IuZG9tLndhbGtlci52YWxpZEVtcHR5QmxvY2tDb250YWluZXJzPUNLRURJVE9SLnRvb2xzLmV4dGVuZChmdW5jdGlvbihhKXt2YXIgYj17fSxnO2ZvcihnIGluIGEpQ0tFRElUT1IuZHRkW2ddW1wiI1wiXSYmKGJbZ109MSk7cmV0dXJuIGJ9KENLRURJVE9SLmR0ZC4kYmxvY2spLHtjYXB0aW9uOjEsdGQ6MSx0aDoxfSk7Q0tFRElUT1IuZG9tLndhbGtlci5lZGl0YWJsZT1cbmZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtiPWsoYik/ITE6Yi50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFR8fGIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoYi5pcyhDS0VESVRPUi5kdGQuJGlubGluZSl8fGIuaXMoXCJoclwiKXx8XCJmYWxzZVwiPT1iLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKXx8IUNLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyJiZiLmlzKG4pJiZnKGIpKT8hMDohMTtyZXR1cm4hIShhXmIpfX07Q0tFRElUT1IuZG9tLmVsZW1lbnQucHJvdG90eXBlLmdldEJvZ3VzPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztkbyBhPWEuZ2V0UHJldmlvdXNTb3VyY2VOb2RlKCk7d2hpbGUoaChhKSk7cmV0dXJuIGEmJihDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcj9hLmlzJiZhLmlzKFwiYnJcIik6YS5nZXRUZXh0JiZkLnRlc3QoYS5nZXRUZXh0KCkpKT9hOiExfX0oKSxDS0VESVRPUi5kb20ucmFuZ2U9ZnVuY3Rpb24oYSl7dGhpcy5lbmRPZmZzZXQ9dGhpcy5lbmRDb250YWluZXI9XG50aGlzLnN0YXJ0T2Zmc2V0PXRoaXMuc3RhcnRDb250YWluZXI9bnVsbDt0aGlzLmNvbGxhcHNlZD0hMDt2YXIgZT1hIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLmRvY3VtZW50O3RoaXMuZG9jdW1lbnQ9ZT9hOmEuZ2V0RG9jdW1lbnQoKTt0aGlzLnJvb3Q9ZT9hLmdldEJvZHkoKTphfSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7YS5jb2xsYXBzZWQ9YS5zdGFydENvbnRhaW5lciYmYS5lbmRDb250YWluZXImJmEuc3RhcnRDb250YWluZXIuZXF1YWxzKGEuZW5kQ29udGFpbmVyKSYmYS5zdGFydE9mZnNldD09YS5lbmRPZmZzZXR9ZnVuY3Rpb24gZShhLGIsYyxkLGYpe2Z1bmN0aW9uIGsoYSxiLGcsYyl7dmFyIGQ9Zz9hLmdldFByZXZpb3VzKCk6YS5nZXROZXh0KCk7aWYoYyYmbClyZXR1cm4gZDt1fHxjP2IuYXBwZW5kKGEuY2xvbmUoITAsZiksZyk6KGEucmVtb3ZlKCksbSYmYi5hcHBlbmQoYSkpO3JldHVybiBkfWZ1bmN0aW9uIGgoKXt2YXIgYSxiLGcsYz1NYXRoLm1pbihJLmxlbmd0aCxcbkgubGVuZ3RoKTtmb3IoYT0wO2E8YzthKyspaWYoYj1JW2FdLGc9SFthXSwhYi5lcXVhbHMoZykpcmV0dXJuIGE7cmV0dXJuIGEtMX1mdW5jdGlvbiBlKCl7dmFyIGI9Ui0xLGM9RSYmSiYmIXguZXF1YWxzKEQpO2I8UC0xfHxiPFQtMXx8Yz8oYz9hLm1vdmVUb1Bvc2l0aW9uKEQsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKTpUPT1iKzEmJkY/YS5tb3ZlVG9Qb3NpdGlvbihIW2JdLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpOmEubW92ZVRvUG9zaXRpb24oSFtiKzFdLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCksZCYmKGI9SVtiKzFdKSYmYi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihjPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKCdcXHgzY3NwYW4gZGF0YS1ja2UtYm9va21hcmtcXHgzZFwiMVwiIHN0eWxlXFx4M2RcImRpc3BsYXk6bm9uZVwiXFx4M2VcXHgyNm5ic3A7XFx4M2Mvc3BhblxceDNlJyxhLmRvY3VtZW50KSxjLmluc2VydEFmdGVyKGIpLFxuYi5tZXJnZVNpYmxpbmdzKCExKSxhLm1vdmVUb0Jvb2ttYXJrKHtzdGFydE5vZGU6Y30pKSk6YS5jb2xsYXBzZSghMCl9YS5vcHRpbWl6ZUJvb2ttYXJrKCk7dmFyIGw9MD09PWIsbT0xPT1iLHU9Mj09YjtiPXV8fG07dmFyIHg9YS5zdGFydENvbnRhaW5lcixEPWEuZW5kQ29udGFpbmVyLHk9YS5zdGFydE9mZnNldCxCPWEuZW5kT2Zmc2V0LEMsRixFLEosRyxNO2lmKHUmJkQudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiZ4LmVxdWFscyhEKSl4PWEuZG9jdW1lbnQuY3JlYXRlVGV4dCh4LnN1YnN0cmluZyh5LEIpKSxjLmFwcGVuZCh4KTtlbHNle0QudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUP3U/TT0hMDpEPUQuc3BsaXQoQik6MDxELmdldENoaWxkQ291bnQoKT9CPj1ELmdldENoaWxkQ291bnQoKT8oRD1ELmdldENoaWxkKEItMSksRj0hMCk6RD1ELmdldENoaWxkKEIpOko9Rj0hMDt4LnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVD91P0c9ITA6eC5zcGxpdCh5KTowPHguZ2V0Q2hpbGRDb3VudCgpP1xuMD09PXk/KHg9eC5nZXRDaGlsZCh5KSxDPSEwKTp4PXguZ2V0Q2hpbGQoeS0xKTpFPUM9ITA7Zm9yKHZhciBJPXguZ2V0UGFyZW50cygpLEg9RC5nZXRQYXJlbnRzKCksUj1oKCksUD1JLmxlbmd0aC0xLFQ9SC5sZW5ndGgtMSxPPWMsSyxjYSxXLFU9LTEsTD1SO0w8PVA7TCsrKXtjYT1JW0xdO1c9Y2EuZ2V0TmV4dCgpO2ZvcihMIT1QfHxjYS5lcXVhbHMoSFtMXSkmJlA8VD9iJiYoSz1PLmFwcGVuZChjYS5jbG9uZSgwLGYpKSk6Qz9rKGNhLE8sITEsRSk6RyYmTy5hcHBlbmQoYS5kb2N1bWVudC5jcmVhdGVUZXh0KGNhLnN1YnN0cmluZyh5KSkpO1c7KXtpZihXLmVxdWFscyhIW0xdKSl7VT1MO2JyZWFrfVc9ayhXLE8pfU89S31PPWM7Zm9yKEw9UjtMPD1UO0wrKylpZihjPUhbTF0sVz1jLmdldFByZXZpb3VzKCksYy5lcXVhbHMoSVtMXSkpYiYmKE89Ty5nZXRDaGlsZCgwKSk7ZWxzZXtMIT1UfHxjLmVxdWFscyhJW0xdKSYmVDxQP2ImJihLPU8uYXBwZW5kKGMuY2xvbmUoMCxmKSkpOlxuRj9rKGMsTywhMSxKKTpNJiZPLmFwcGVuZChhLmRvY3VtZW50LmNyZWF0ZVRleHQoYy5zdWJzdHJpbmcoMCxCKSkpO2lmKEw+VSlmb3IoO1c7KVc9ayhXLE8sITApO089S311fHxlKCl9fWZ1bmN0aW9uIGIoKXt2YXIgYT0hMSxiPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoKSxjPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoITApLGQ9Q0tFRElUT1IuZG9tLndhbGtlci5ib2d1cygpO3JldHVybiBmdW5jdGlvbihmKXtyZXR1cm4gYyhmKXx8YihmKT8hMDpkKGYpJiYhYT9hPSEwOmYudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYoZi5oYXNBc2NlbmRhbnQoXCJwcmVcIil8fENLRURJVE9SLnRvb2xzLnRyaW0oZi5nZXRUZXh0KCkpLmxlbmd0aCl8fGYudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYhZi5pcyhsKT8hMTohMH19ZnVuY3Rpb24gYyhhKXt2YXIgYj1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCksYz1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKDEpO1xucmV0dXJuIGZ1bmN0aW9uKGQpe3JldHVybiBjKGQpfHxiKGQpPyEwOiFhJiZtKGQpfHxkLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZC5pcyhDS0VESVRPUi5kdGQuJHJlbW92ZUVtcHR5KX19ZnVuY3Rpb24gZChhKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYjtyZXR1cm4gdGhpc1thP1wiZ2V0UHJldmlvdXNOb2RlXCI6XCJnZXROZXh0Tm9kZVwiXShmdW5jdGlvbihhKXshYiYmayhhKSYmKGI9YSk7cmV0dXJuIGgoYSkmJiEobShhKSYmYS5lcXVhbHMoYikpfSl9fXZhciBsPXthYmJyOjEsYWNyb255bToxLGI6MSxiZG86MSxiaWc6MSxjaXRlOjEsY29kZToxLGRlbDoxLGRmbjoxLGVtOjEsZm9udDoxLGk6MSxpbnM6MSxsYWJlbDoxLGtiZDoxLHE6MSxzYW1wOjEsc21hbGw6MSxzcGFuOjEsc3RyaWtlOjEsc3Ryb25nOjEsc3ViOjEsc3VwOjEsdHQ6MSx1OjEsXCJ2YXJcIjoxfSxtPUNLRURJVE9SLmRvbS53YWxrZXIuYm9ndXMoKSxmPS9eW1xcdFxcclxcbiBdKig/OiZuYnNwO3xcXHhhMCkkLyxcbmg9Q0tFRElUT1IuZG9tLndhbGtlci5lZGl0YWJsZSgpLGs9Q0tFRElUT1IuZG9tLndhbGtlci5pZ25vcmVkKCEwKTtDS0VESVRPUi5kb20ucmFuZ2UucHJvdG90eXBlPXtjbG9uZTpmdW5jdGlvbigpe3ZhciBhPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UodGhpcy5yb290KTthLl9zZXRTdGFydENvbnRhaW5lcih0aGlzLnN0YXJ0Q29udGFpbmVyKTthLnN0YXJ0T2Zmc2V0PXRoaXMuc3RhcnRPZmZzZXQ7YS5fc2V0RW5kQ29udGFpbmVyKHRoaXMuZW5kQ29udGFpbmVyKTthLmVuZE9mZnNldD10aGlzLmVuZE9mZnNldDthLmNvbGxhcHNlZD10aGlzLmNvbGxhcHNlZDtyZXR1cm4gYX0sY29sbGFwc2U6ZnVuY3Rpb24oYSl7YT8odGhpcy5fc2V0RW5kQ29udGFpbmVyKHRoaXMuc3RhcnRDb250YWluZXIpLHRoaXMuZW5kT2Zmc2V0PXRoaXMuc3RhcnRPZmZzZXQpOih0aGlzLl9zZXRTdGFydENvbnRhaW5lcih0aGlzLmVuZENvbnRhaW5lciksdGhpcy5zdGFydE9mZnNldD10aGlzLmVuZE9mZnNldCk7XG50aGlzLmNvbGxhcHNlZD0hMH0sY2xvbmVDb250ZW50czpmdW5jdGlvbihhKXt2YXIgYj1uZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQodGhpcy5kb2N1bWVudCk7dGhpcy5jb2xsYXBzZWR8fGUodGhpcywyLGIsITEsXCJ1bmRlZmluZWRcIj09dHlwZW9mIGE/ITA6YSk7cmV0dXJuIGJ9LGRlbGV0ZUNvbnRlbnRzOmZ1bmN0aW9uKGEpe3RoaXMuY29sbGFwc2VkfHxlKHRoaXMsMCxudWxsLGEpfSxleHRyYWN0Q29udGVudHM6ZnVuY3Rpb24oYSxiKXt2YXIgYz1uZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQodGhpcy5kb2N1bWVudCk7dGhpcy5jb2xsYXBzZWR8fGUodGhpcywxLGMsYSxcInVuZGVmaW5lZFwiPT10eXBlb2YgYj8hMDpiKTtyZXR1cm4gY30sY3JlYXRlQm9va21hcms6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGYsaz10aGlzLmNvbGxhcHNlZDtiPXRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7Yi5kYXRhKFwiY2tlLWJvb2ttYXJrXCIsMSk7Yi5zZXRTdHlsZShcImRpc3BsYXlcIixcblwibm9uZVwiKTtiLnNldEh0bWwoXCJcXHgyNm5ic3A7XCIpO2EmJihkPVwiY2tlX2JtX1wiK0NLRURJVE9SLnRvb2xzLmdldE5leHROdW1iZXIoKSxiLnNldEF0dHJpYnV0ZShcImlkXCIsZCsoaz9cIkNcIjpcIlNcIikpKTtrfHwoYz1iLmNsb25lKCksYy5zZXRIdG1sKFwiXFx4MjZuYnNwO1wiKSxhJiZjLnNldEF0dHJpYnV0ZShcImlkXCIsZCtcIkVcIiksZj10aGlzLmNsb25lKCksZi5jb2xsYXBzZSgpLGYuaW5zZXJ0Tm9kZShjKSk7Zj10aGlzLmNsb25lKCk7Zi5jb2xsYXBzZSghMCk7Zi5pbnNlcnROb2RlKGIpO2M/KHRoaXMuc2V0U3RhcnRBZnRlcihiKSx0aGlzLnNldEVuZEJlZm9yZShjKSk6dGhpcy5tb3ZlVG9Qb3NpdGlvbihiLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCk7cmV0dXJue3N0YXJ0Tm9kZTphP2QrKGs/XCJDXCI6XCJTXCIpOmIsZW5kTm9kZTphP2QrXCJFXCI6YyxzZXJpYWxpemFibGU6YSxjb2xsYXBzZWQ6a319LGNyZWF0ZUJvb2ttYXJrMjpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYil7dmFyIGc9XG5iLmNvbnRhaW5lcixkPWIub2Zmc2V0LGY7Zj1nO3ZhciBrPWQ7Zj1mLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVHx8MD09PWt8fGs9PWYuZ2V0Q2hpbGRDb3VudCgpPzA6Zi5nZXRDaGlsZChrLTEpLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmZi5nZXRDaGlsZChrKS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQ7ZiYmKGc9Zy5nZXRDaGlsZChkLTEpLGQ9Zy5nZXRMZW5ndGgoKSk7aWYoZy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJjA8ZCl7YTp7Zm9yKGY9ZztkLS07KWlmKGs9Zi5nZXRDaGlsZChkKS5nZXRJbmRleCghMCksMDw9ayl7ZD1rO2JyZWFrIGF9ZD0tMX1kKz0xfWlmKGcudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKXtmPWc7Zm9yKGs9MDsoZj1mLmdldFByZXZpb3VzKCkpJiZmLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVDspays9Zi5nZXRUZXh0KCkucmVwbGFjZShDS0VESVRPUi5kb20uc2VsZWN0aW9uLkZJTExJTkdfQ0hBUl9TRVFVRU5DRSxcIlwiKS5sZW5ndGg7XG5mPWs7Zy5nZXRUZXh0KCk/ZCs9Zjooaz1nLmdldFByZXZpb3VzKGMpLGY/KGQ9ZixnPWs/ay5nZXROZXh0KCk6Zy5nZXRQYXJlbnQoKS5nZXRGaXJzdCgpKTooZz1nLmdldFBhcmVudCgpLGQ9az9rLmdldEluZGV4KCEwKSsxOjApKX1iLmNvbnRhaW5lcj1nO2Iub2Zmc2V0PWR9ZnVuY3Rpb24gYihhLGcpe3ZhciBjPWcuZ2V0Q3VzdG9tRGF0YShcImNrZS1maWxsaW5nQ2hhclwiKTtpZihjKXt2YXIgZD1hLmNvbnRhaW5lcjtjLmVxdWFscyhkKSYmKGEub2Zmc2V0LT1DS0VESVRPUi5kb20uc2VsZWN0aW9uLkZJTExJTkdfQ0hBUl9TRVFVRU5DRS5sZW5ndGgsMD49YS5vZmZzZXQmJihhLm9mZnNldD1kLmdldEluZGV4KCksYS5jb250YWluZXI9ZC5nZXRQYXJlbnQoKSkpfX12YXIgYz1DS0VESVRPUi5kb20ud2Fsa2VyLm5vZGVUeXBlKENLRURJVE9SLk5PREVfVEVYVCwhMCk7cmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciBkPXRoaXMuY29sbGFwc2VkLGY9e2NvbnRhaW5lcjp0aGlzLnN0YXJ0Q29udGFpbmVyLFxub2Zmc2V0OnRoaXMuc3RhcnRPZmZzZXR9LGs9e2NvbnRhaW5lcjp0aGlzLmVuZENvbnRhaW5lcixvZmZzZXQ6dGhpcy5lbmRPZmZzZXR9O2MmJihhKGYpLGIoZix0aGlzLnJvb3QpLGR8fChhKGspLGIoayx0aGlzLnJvb3QpKSk7cmV0dXJue3N0YXJ0OmYuY29udGFpbmVyLmdldEFkZHJlc3MoYyksZW5kOmQ/bnVsbDprLmNvbnRhaW5lci5nZXRBZGRyZXNzKGMpLHN0YXJ0T2Zmc2V0OmYub2Zmc2V0LGVuZE9mZnNldDprLm9mZnNldCxub3JtYWxpemVkOmMsY29sbGFwc2VkOmQsaXMyOiEwfX19KCksbW92ZVRvQm9va21hcms6ZnVuY3Rpb24oYSl7aWYoYS5pczIpe3ZhciBiPXRoaXMuZG9jdW1lbnQuZ2V0QnlBZGRyZXNzKGEuc3RhcnQsYS5ub3JtYWxpemVkKSxjPWEuc3RhcnRPZmZzZXQsZD1hLmVuZCYmdGhpcy5kb2N1bWVudC5nZXRCeUFkZHJlc3MoYS5lbmQsYS5ub3JtYWxpemVkKTthPWEuZW5kT2Zmc2V0O3RoaXMuc2V0U3RhcnQoYixjKTtkP3RoaXMuc2V0RW5kKGQsYSk6dGhpcy5jb2xsYXBzZSghMCl9ZWxzZSBiPVxuKGM9YS5zZXJpYWxpemFibGUpP3RoaXMuZG9jdW1lbnQuZ2V0QnlJZChhLnN0YXJ0Tm9kZSk6YS5zdGFydE5vZGUsYT1jP3RoaXMuZG9jdW1lbnQuZ2V0QnlJZChhLmVuZE5vZGUpOmEuZW5kTm9kZSx0aGlzLnNldFN0YXJ0QmVmb3JlKGIpLGIucmVtb3ZlKCksYT8odGhpcy5zZXRFbmRCZWZvcmUoYSksYS5yZW1vdmUoKSk6dGhpcy5jb2xsYXBzZSghMCl9LGdldEJvdW5kYXJ5Tm9kZXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnN0YXJ0Q29udGFpbmVyLGI9dGhpcy5lbmRDb250YWluZXIsYz10aGlzLnN0YXJ0T2Zmc2V0LGQ9dGhpcy5lbmRPZmZzZXQsZjtpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVClpZihmPWEuZ2V0Q2hpbGRDb3VudCgpLGY+YylhPWEuZ2V0Q2hpbGQoYyk7ZWxzZSBpZigxPmYpYT1hLmdldFByZXZpb3VzU291cmNlTm9kZSgpO2Vsc2V7Zm9yKGE9YS4kO2EubGFzdENoaWxkOylhPWEubGFzdENoaWxkO2E9bmV3IENLRURJVE9SLmRvbS5ub2RlKGEpO2E9XG5hLmdldE5leHRTb3VyY2VOb2RlKCl8fGF9aWYoYi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpaWYoZj1iLmdldENoaWxkQ291bnQoKSxmPmQpYj1iLmdldENoaWxkKGQpLmdldFByZXZpb3VzU291cmNlTm9kZSghMCk7ZWxzZSBpZigxPmYpYj1iLmdldFByZXZpb3VzU291cmNlTm9kZSgpO2Vsc2V7Zm9yKGI9Yi4kO2IubGFzdENoaWxkOyliPWIubGFzdENoaWxkO2I9bmV3IENLRURJVE9SLmRvbS5ub2RlKGIpfWEuZ2V0UG9zaXRpb24oYikmQ0tFRElUT1IuUE9TSVRJT05fRk9MTE9XSU5HJiYoYT1iKTtyZXR1cm57c3RhcnROb2RlOmEsZW5kTm9kZTpifX0sZ2V0Q29tbW9uQW5jZXN0b3I6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnN0YXJ0Q29udGFpbmVyLGQ9dGhpcy5lbmRDb250YWluZXIsYz1jLmVxdWFscyhkKT9hJiZjLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmdGhpcy5zdGFydE9mZnNldD09dGhpcy5lbmRPZmZzZXQtMT9jLmdldENoaWxkKHRoaXMuc3RhcnRPZmZzZXQpOlxuYzpjLmdldENvbW1vbkFuY2VzdG9yKGQpO3JldHVybiBiJiYhYy5pcz9jLmdldFBhcmVudCgpOmN9LG9wdGltaXplOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zdGFydENvbnRhaW5lcixiPXRoaXMuc3RhcnRPZmZzZXQ7YS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihiP2I+PWEuZ2V0TGVuZ3RoKCkmJnRoaXMuc2V0U3RhcnRBZnRlcihhKTp0aGlzLnNldFN0YXJ0QmVmb3JlKGEpKTthPXRoaXMuZW5kQ29udGFpbmVyO2I9dGhpcy5lbmRPZmZzZXQ7YS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihiP2I+PWEuZ2V0TGVuZ3RoKCkmJnRoaXMuc2V0RW5kQWZ0ZXIoYSk6dGhpcy5zZXRFbmRCZWZvcmUoYSkpfSxvcHRpbWl6ZUJvb2ttYXJrOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zdGFydENvbnRhaW5lcixiPXRoaXMuZW5kQ29udGFpbmVyO2EuaXMmJmEuaXMoXCJzcGFuXCIpJiZhLmRhdGEoXCJja2UtYm9va21hcmtcIikmJnRoaXMuc2V0U3RhcnRBdChhLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk7XG5iJiZiLmlzJiZiLmlzKFwic3BhblwiKSYmYi5kYXRhKFwiY2tlLWJvb2ttYXJrXCIpJiZ0aGlzLnNldEVuZEF0KGIsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKX0sdHJpbTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuc3RhcnRDb250YWluZXIsZD10aGlzLnN0YXJ0T2Zmc2V0LGY9dGhpcy5jb2xsYXBzZWQ7aWYoKCFhfHxmKSYmYyYmYy50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQpe2lmKGQpaWYoZD49Yy5nZXRMZW5ndGgoKSlkPWMuZ2V0SW5kZXgoKSsxLGM9Yy5nZXRQYXJlbnQoKTtlbHNle3ZhciBrPWMuc3BsaXQoZCksZD1jLmdldEluZGV4KCkrMSxjPWMuZ2V0UGFyZW50KCk7dGhpcy5zdGFydENvbnRhaW5lci5lcXVhbHModGhpcy5lbmRDb250YWluZXIpP3RoaXMuc2V0RW5kKGssdGhpcy5lbmRPZmZzZXQtdGhpcy5zdGFydE9mZnNldCk6Yy5lcXVhbHModGhpcy5lbmRDb250YWluZXIpJiYodGhpcy5lbmRPZmZzZXQrPTEpfWVsc2UgZD1jLmdldEluZGV4KCksYz1jLmdldFBhcmVudCgpO1xudGhpcy5zZXRTdGFydChjLGQpO2lmKGYpe3RoaXMuY29sbGFwc2UoITApO3JldHVybn19Yz10aGlzLmVuZENvbnRhaW5lcjtkPXRoaXMuZW5kT2Zmc2V0O2J8fGZ8fCFjfHxjLnR5cGUhPUNLRURJVE9SLk5PREVfVEVYVHx8KGQ/KGQ+PWMuZ2V0TGVuZ3RoKCl8fGMuc3BsaXQoZCksZD1jLmdldEluZGV4KCkrMSk6ZD1jLmdldEluZGV4KCksYz1jLmdldFBhcmVudCgpLHRoaXMuc2V0RW5kKGMsZCkpfSxlbmxhcmdlOmZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhhKXtyZXR1cm4gYSYmYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuaGFzQXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpP251bGw6YX12YXIgZD1uZXcgUmVnRXhwKC9bXlxcc1xcdWZlZmZdLyk7c3dpdGNoKGEpe2Nhc2UgQ0tFRElUT1IuRU5MQVJHRV9JTkxJTkU6dmFyIGY9MTtjYXNlIENLRURJVE9SLkVOTEFSR0VfRUxFTUVOVDp2YXIgaz1mdW5jdGlvbihhLGIpe3ZhciBjPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UoZSk7XG5jLnNldFN0YXJ0KGEsYik7Yy5zZXRFbmRBdChlLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO3ZhciBjPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGMpLGc7Zm9yKGMuZ3VhcmQ9ZnVuY3Rpb24oYSl7cmV0dXJuIShhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5pc0Jsb2NrQm91bmRhcnkoKSl9O2c9Yy5uZXh0KCk7KXtpZihnLnR5cGUhPUNLRURJVE9SLk5PREVfVEVYVClyZXR1cm4hMTtDPWchPWE/Zy5nZXRUZXh0KCk6Zy5zdWJzdHJpbmcoYik7aWYoZC50ZXN0KEMpKXJldHVybiExfXJldHVybiEwfTtpZih0aGlzLmNvbGxhcHNlZClicmVhazt2YXIgaD10aGlzLmdldENvbW1vbkFuY2VzdG9yKCksZT10aGlzLnJvb3QsbCxtLHUseCxELHk9ITEsQixDO0I9dGhpcy5zdGFydENvbnRhaW5lcjt2YXIgRj10aGlzLnN0YXJ0T2Zmc2V0O0IudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUPyhGJiYoQj0hQ0tFRElUT1IudG9vbHMudHJpbShCLnN1YnN0cmluZygwLEYpKS5sZW5ndGgmJlxuQix5PSEhQiksQiYmKCh4PUIuZ2V0UHJldmlvdXMoKSl8fCh1PUIuZ2V0UGFyZW50KCkpKSk6KEYmJih4PUIuZ2V0Q2hpbGQoRi0xKXx8Qi5nZXRMYXN0KCkpLHh8fCh1PUIpKTtmb3IodT1jKHUpO3V8fHg7KXtpZih1JiYheCl7IUQmJnUuZXF1YWxzKGgpJiYoRD0hMCk7aWYoZj91LmlzQmxvY2tCb3VuZGFyeSgpOiFlLmNvbnRhaW5zKHUpKWJyZWFrO3kmJlwiaW5saW5lXCI9PXUuZ2V0Q29tcHV0ZWRTdHlsZShcImRpc3BsYXlcIil8fCh5PSExLEQ/bD11OnRoaXMuc2V0U3RhcnRCZWZvcmUodSkpO3g9dS5nZXRQcmV2aW91cygpfWZvcig7eDspaWYoQj0hMSx4LnR5cGU9PUNLRURJVE9SLk5PREVfQ09NTUVOVCl4PXguZ2V0UHJldmlvdXMoKTtlbHNle2lmKHgudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKUM9eC5nZXRUZXh0KCksZC50ZXN0KEMpJiYoeD1udWxsKSxCPS9bXFxzXFx1ZmVmZl0kLy50ZXN0KEMpO2Vsc2UgaWYoKHguJC5vZmZzZXRXaWR0aD4oQ0tFRElUT1IuZW52LndlYmtpdD8xOlxuMCl8fGImJnguaXMoXCJiclwiKSkmJiF4LmRhdGEoXCJja2UtYm9va21hcmtcIikpaWYoeSYmQ0tFRElUT1IuZHRkLiRyZW1vdmVFbXB0eVt4LmdldE5hbWUoKV0pe0M9eC5nZXRUZXh0KCk7aWYoZC50ZXN0KEMpKXg9bnVsbDtlbHNlIGZvcih2YXIgRj14LiQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCIqXCIpLEU9MCxKO0o9RltFKytdOylpZighQ0tFRElUT1IuZHRkLiRyZW1vdmVFbXB0eVtKLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKXt4PW51bGw7YnJlYWt9eCYmKEI9ISFDLmxlbmd0aCl9ZWxzZSB4PW51bGw7QiYmKHk/RD9sPXU6dSYmdGhpcy5zZXRTdGFydEJlZm9yZSh1KTp5PSEwKTtpZih4KXtCPXguZ2V0UHJldmlvdXMoKTtpZighdSYmIUIpe3U9eDt4PW51bGw7YnJlYWt9eD1CfWVsc2UgdT1udWxsfXUmJih1PWModS5nZXRQYXJlbnQoKSkpfUI9dGhpcy5lbmRDb250YWluZXI7Rj10aGlzLmVuZE9mZnNldDt1PXg9bnVsbDtEPXk9ITE7Qi50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQ/XG5DS0VESVRPUi50b29scy50cmltKEIuc3Vic3RyaW5nKEYpKS5sZW5ndGg/eT0hMDooeT0hQi5nZXRMZW5ndGgoKSxGPT1CLmdldExlbmd0aCgpPyh4PUIuZ2V0TmV4dCgpKXx8KHU9Qi5nZXRQYXJlbnQoKSk6ayhCLEYpJiYodT1CLmdldFBhcmVudCgpKSk6KHg9Qi5nZXRDaGlsZChGKSl8fCh1PUIpO2Zvcig7dXx8eDspe2lmKHUmJiF4KXshRCYmdS5lcXVhbHMoaCkmJihEPSEwKTtpZihmP3UuaXNCbG9ja0JvdW5kYXJ5KCk6IWUuY29udGFpbnModSkpYnJlYWs7eSYmXCJpbmxpbmVcIj09dS5nZXRDb21wdXRlZFN0eWxlKFwiZGlzcGxheVwiKXx8KHk9ITEsRD9tPXU6dSYmdGhpcy5zZXRFbmRBZnRlcih1KSk7eD11LmdldE5leHQoKX1mb3IoO3g7KXtCPSExO2lmKHgudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKUM9eC5nZXRUZXh0KCksayh4LDApfHwoeD1udWxsKSxCPS9eW1xcc1xcdWZlZmZdLy50ZXN0KEMpO2Vsc2UgaWYoeC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpe2lmKCgwPHguJC5vZmZzZXRXaWR0aHx8XG5iJiZ4LmlzKFwiYnJcIikpJiYheC5kYXRhKFwiY2tlLWJvb2ttYXJrXCIpKWlmKHkmJkNLRURJVE9SLmR0ZC4kcmVtb3ZlRW1wdHlbeC5nZXROYW1lKCldKXtDPXguZ2V0VGV4dCgpO2lmKGQudGVzdChDKSl4PW51bGw7ZWxzZSBmb3IoRj14LiQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCIqXCIpLEU9MDtKPUZbRSsrXTspaWYoIUNLRURJVE9SLmR0ZC4kcmVtb3ZlRW1wdHlbSi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSl7eD1udWxsO2JyZWFrfXgmJihCPSEhQy5sZW5ndGgpfWVsc2UgeD1udWxsfWVsc2UgQj0xO0ImJnkmJihEP209dTp0aGlzLnNldEVuZEFmdGVyKHUpKTtpZih4KXtCPXguZ2V0TmV4dCgpO2lmKCF1JiYhQil7dT14O3g9bnVsbDticmVha314PUJ9ZWxzZSB1PW51bGx9dSYmKHU9Yyh1LmdldFBhcmVudCgpKSl9bCYmbSYmKGg9bC5jb250YWlucyhtKT9tOmwsdGhpcy5zZXRTdGFydEJlZm9yZShoKSx0aGlzLnNldEVuZEFmdGVyKGgpKTticmVhaztjYXNlIENLRURJVE9SLkVOTEFSR0VfQkxPQ0tfQ09OVEVOVFM6Y2FzZSBDS0VESVRPUi5FTkxBUkdFX0xJU1RfSVRFTV9DT05URU5UUzp1PVxubmV3IENLRURJVE9SLmRvbS5yYW5nZSh0aGlzLnJvb3QpO2U9dGhpcy5yb290O3Uuc2V0U3RhcnRBdChlLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKTt1LnNldEVuZCh0aGlzLnN0YXJ0Q29udGFpbmVyLHRoaXMuc3RhcnRPZmZzZXQpO3U9bmV3IENLRURJVE9SLmRvbS53YWxrZXIodSk7dmFyIEcsTSxJPUNLRURJVE9SLmRvbS53YWxrZXIuYmxvY2tCb3VuZGFyeShhPT1DS0VESVRPUi5FTkxBUkdFX0xJU1RfSVRFTV9DT05URU5UUz97YnI6MX06bnVsbCksSD1udWxsLFI9ZnVuY3Rpb24oYSl7aWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlwiZmFsc2VcIj09YS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpaWYoSCl7aWYoSC5lcXVhbHMoYSkpe0g9bnVsbDtyZXR1cm59fWVsc2UgSD1hO2Vsc2UgaWYoSClyZXR1cm47dmFyIGI9SShhKTtifHwoRz1hKTtyZXR1cm4gYn0sZj1mdW5jdGlvbihhKXt2YXIgYj1SKGEpOyFiJiZhLmlzJiZhLmlzKFwiYnJcIikmJlxuKE09YSk7cmV0dXJuIGJ9O3UuZ3VhcmQ9Ujt1PXUubGFzdEJhY2t3YXJkKCk7Rz1HfHxlO3RoaXMuc2V0U3RhcnRBdChHLCFHLmlzKFwiYnJcIikmJighdSYmdGhpcy5jaGVja1N0YXJ0T2ZCbG9jaygpfHx1JiZHLmNvbnRhaW5zKHUpKT9DS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVDpDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpO2lmKGE9PUNLRURJVE9SLkVOTEFSR0VfTElTVF9JVEVNX0NPTlRFTlRTKXt1PXRoaXMuY2xvbmUoKTt1PW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKHUpO3ZhciBQPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoKSxUPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoKTt1LmV2YWx1YXRvcj1mdW5jdGlvbihhKXtyZXR1cm4hUChhKSYmIVQoYSl9O2lmKCh1PXUucHJldmlvdXMoKSkmJnUudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZ1LmlzKFwiYnJcIikpYnJlYWt9dT10aGlzLmNsb25lKCk7dS5jb2xsYXBzZSgpO3Uuc2V0RW5kQXQoZSxcbkNLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO3U9bmV3IENLRURJVE9SLmRvbS53YWxrZXIodSk7dS5ndWFyZD1hPT1DS0VESVRPUi5FTkxBUkdFX0xJU1RfSVRFTV9DT05URU5UUz9mOlI7Rz1IPU09bnVsbDt1PXUubGFzdEZvcndhcmQoKTtHPUd8fGU7dGhpcy5zZXRFbmRBdChHLCF1JiZ0aGlzLmNoZWNrRW5kT2ZCbG9jaygpfHx1JiZHLmNvbnRhaW5zKHUpP0NLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQ6Q0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKTtNJiZ0aGlzLnNldEVuZEFmdGVyKE0pfX0sc2hyaW5rOmZ1bmN0aW9uKGEsYixjKXtpZighdGhpcy5jb2xsYXBzZWQpe2E9YXx8Q0tFRElUT1IuU0hSSU5LX1RFWFQ7dmFyIGQ9dGhpcy5jbG9uZSgpLGY9dGhpcy5zdGFydENvbnRhaW5lcixrPXRoaXMuZW5kQ29udGFpbmVyLGg9dGhpcy5zdGFydE9mZnNldCxlPXRoaXMuZW5kT2Zmc2V0LGw9MSxtPTE7ZiYmZi50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihoP1xuaD49Zi5nZXRMZW5ndGgoKT9kLnNldFN0YXJ0QWZ0ZXIoZik6KGQuc2V0U3RhcnRCZWZvcmUoZiksbD0wKTpkLnNldFN0YXJ0QmVmb3JlKGYpKTtrJiZrLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGU/ZT49ay5nZXRMZW5ndGgoKT9kLnNldEVuZEFmdGVyKGspOihkLnNldEVuZEFmdGVyKGspLG09MCk6ZC5zZXRFbmRCZWZvcmUoaykpO3ZhciBkPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGQpLHU9Q0tFRElUT1IuZG9tLndhbGtlci5ib29rbWFyaygpO2QuZXZhbHVhdG9yPWZ1bmN0aW9uKGIpe3JldHVybiBiLnR5cGU9PShhPT1DS0VESVRPUi5TSFJJTktfRUxFTUVOVD9DS0VESVRPUi5OT0RFX0VMRU1FTlQ6Q0tFRElUT1IuTk9ERV9URVhUKX07dmFyIHg7ZC5ndWFyZD1mdW5jdGlvbihiLGQpe2lmKHUoYikpcmV0dXJuITA7aWYoYT09Q0tFRElUT1IuU0hSSU5LX0VMRU1FTlQmJmIudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUfHxkJiZiLmVxdWFscyh4KXx8ITE9PT1jJiZiLnR5cGU9PVxuQ0tFRElUT1IuTk9ERV9FTEVNRU5UJiZiLmlzQmxvY2tCb3VuZGFyeSgpfHxiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYi5oYXNBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpcmV0dXJuITE7ZHx8Yi50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fCh4PWIpO3JldHVybiEwfTtsJiYoZj1kW2E9PUNLRURJVE9SLlNIUklOS19FTEVNRU5UP1wibGFzdEZvcndhcmRcIjpcIm5leHRcIl0oKSkmJnRoaXMuc2V0U3RhcnRBdChmLGI/Q0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQ6Q0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKTttJiYoZC5yZXNldCgpLChkPWRbYT09Q0tFRElUT1IuU0hSSU5LX0VMRU1FTlQ/XCJsYXN0QmFja3dhcmRcIjpcInByZXZpb3VzXCJdKCkpJiZ0aGlzLnNldEVuZEF0KGQsYj9DS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EOkNLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCkpO3JldHVybiEoIWwmJiFtKX19LGluc2VydE5vZGU6ZnVuY3Rpb24oYSl7dGhpcy5vcHRpbWl6ZUJvb2ttYXJrKCk7XG50aGlzLnRyaW0oITEsITApO3ZhciBiPXRoaXMuc3RhcnRDb250YWluZXIsYz1iLmdldENoaWxkKHRoaXMuc3RhcnRPZmZzZXQpO2M/YS5pbnNlcnRCZWZvcmUoYyk6Yi5hcHBlbmQoYSk7YS5nZXRQYXJlbnQoKSYmYS5nZXRQYXJlbnQoKS5lcXVhbHModGhpcy5lbmRDb250YWluZXIpJiZ0aGlzLmVuZE9mZnNldCsrO3RoaXMuc2V0U3RhcnRCZWZvcmUoYSl9LG1vdmVUb1Bvc2l0aW9uOmZ1bmN0aW9uKGEsYil7dGhpcy5zZXRTdGFydEF0KGEsYik7dGhpcy5jb2xsYXBzZSghMCl9LG1vdmVUb1JhbmdlOmZ1bmN0aW9uKGEpe3RoaXMuc2V0U3RhcnQoYS5zdGFydENvbnRhaW5lcixhLnN0YXJ0T2Zmc2V0KTt0aGlzLnNldEVuZChhLmVuZENvbnRhaW5lcixhLmVuZE9mZnNldCl9LHNlbGVjdE5vZGVDb250ZW50czpmdW5jdGlvbihhKXt0aGlzLnNldFN0YXJ0KGEsMCk7dGhpcy5zZXRFbmQoYSxhLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVD9hLmdldExlbmd0aCgpOmEuZ2V0Q2hpbGRDb3VudCgpKX0sXG5zZXRTdGFydDpmdW5jdGlvbihiLGMpe2IudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZDS0VESVRPUi5kdGQuJGVtcHR5W2IuZ2V0TmFtZSgpXSYmKGM9Yi5nZXRJbmRleCgpLGI9Yi5nZXRQYXJlbnQoKSk7dGhpcy5fc2V0U3RhcnRDb250YWluZXIoYik7dGhpcy5zdGFydE9mZnNldD1jO3RoaXMuZW5kQ29udGFpbmVyfHwodGhpcy5fc2V0RW5kQ29udGFpbmVyKGIpLHRoaXMuZW5kT2Zmc2V0PWMpO2EodGhpcyl9LHNldEVuZDpmdW5jdGlvbihiLGMpe2IudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZDS0VESVRPUi5kdGQuJGVtcHR5W2IuZ2V0TmFtZSgpXSYmKGM9Yi5nZXRJbmRleCgpKzEsYj1iLmdldFBhcmVudCgpKTt0aGlzLl9zZXRFbmRDb250YWluZXIoYik7dGhpcy5lbmRPZmZzZXQ9Yzt0aGlzLnN0YXJ0Q29udGFpbmVyfHwodGhpcy5fc2V0U3RhcnRDb250YWluZXIoYiksdGhpcy5zdGFydE9mZnNldD1jKTthKHRoaXMpfSxzZXRTdGFydEFmdGVyOmZ1bmN0aW9uKGEpe3RoaXMuc2V0U3RhcnQoYS5nZXRQYXJlbnQoKSxcbmEuZ2V0SW5kZXgoKSsxKX0sc2V0U3RhcnRCZWZvcmU6ZnVuY3Rpb24oYSl7dGhpcy5zZXRTdGFydChhLmdldFBhcmVudCgpLGEuZ2V0SW5kZXgoKSl9LHNldEVuZEFmdGVyOmZ1bmN0aW9uKGEpe3RoaXMuc2V0RW5kKGEuZ2V0UGFyZW50KCksYS5nZXRJbmRleCgpKzEpfSxzZXRFbmRCZWZvcmU6ZnVuY3Rpb24oYSl7dGhpcy5zZXRFbmQoYS5nZXRQYXJlbnQoKSxhLmdldEluZGV4KCkpfSxzZXRTdGFydEF0OmZ1bmN0aW9uKGIsYyl7c3dpdGNoKGMpe2Nhc2UgQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQ6dGhpcy5zZXRTdGFydChiLDApO2JyZWFrO2Nhc2UgQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORDpiLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVD90aGlzLnNldFN0YXJ0KGIsYi5nZXRMZW5ndGgoKSk6dGhpcy5zZXRTdGFydChiLGIuZ2V0Q2hpbGRDb3VudCgpKTticmVhaztjYXNlIENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVDp0aGlzLnNldFN0YXJ0QmVmb3JlKGIpO1xuYnJlYWs7Y2FzZSBDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQ6dGhpcy5zZXRTdGFydEFmdGVyKGIpfWEodGhpcyl9LHNldEVuZEF0OmZ1bmN0aW9uKGIsYyl7c3dpdGNoKGMpe2Nhc2UgQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQ6dGhpcy5zZXRFbmQoYiwwKTticmVhaztjYXNlIENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQ6Yi50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQ/dGhpcy5zZXRFbmQoYixiLmdldExlbmd0aCgpKTp0aGlzLnNldEVuZChiLGIuZ2V0Q2hpbGRDb3VudCgpKTticmVhaztjYXNlIENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVDp0aGlzLnNldEVuZEJlZm9yZShiKTticmVhaztjYXNlIENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORDp0aGlzLnNldEVuZEFmdGVyKGIpfWEodGhpcyl9LGZpeEJsb2NrOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jcmVhdGVCb29rbWFyaygpLGQ9dGhpcy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KGIpO3RoaXMuY29sbGFwc2UoYSk7XG50aGlzLmVubGFyZ2UoQ0tFRElUT1IuRU5MQVJHRV9CTE9DS19DT05URU5UUyk7dGhpcy5leHRyYWN0Q29udGVudHMoKS5hcHBlbmRUbyhkKTtkLnRyaW0oKTt0aGlzLmluc2VydE5vZGUoZCk7dmFyIGY9ZC5nZXRCb2d1cygpO2YmJmYucmVtb3ZlKCk7ZC5hcHBlbmRCb2d1cygpO3RoaXMubW92ZVRvQm9va21hcmsoYyk7cmV0dXJuIGR9LHNwbGl0QmxvY2s6ZnVuY3Rpb24oYSxiKXt2YXIgYz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHRoaXMuc3RhcnRDb250YWluZXIsdGhpcy5yb290KSxkPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgodGhpcy5lbmRDb250YWluZXIsdGhpcy5yb290KSxmPWMuYmxvY2ssaz1kLmJsb2NrLGg9bnVsbDtpZighYy5ibG9ja0xpbWl0LmVxdWFscyhkLmJsb2NrTGltaXQpKXJldHVybiBudWxsO1wiYnJcIiE9YSYmKGZ8fChmPXRoaXMuZml4QmxvY2soITAsYSksaz0obmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aCh0aGlzLmVuZENvbnRhaW5lcixcbnRoaXMucm9vdCkpLmJsb2NrKSxrfHwoaz10aGlzLmZpeEJsb2NrKCExLGEpKSk7Yz1mJiZ0aGlzLmNoZWNrU3RhcnRPZkJsb2NrKCk7ZD1rJiZ0aGlzLmNoZWNrRW5kT2ZCbG9jaygpO3RoaXMuZGVsZXRlQ29udGVudHMoKTtmJiZmLmVxdWFscyhrKSYmKGQ/KGg9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aCh0aGlzLnN0YXJ0Q29udGFpbmVyLHRoaXMucm9vdCksdGhpcy5tb3ZlVG9Qb3NpdGlvbihrLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCksaz1udWxsKTpjPyhoPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgodGhpcy5zdGFydENvbnRhaW5lcix0aGlzLnJvb3QpLHRoaXMubW92ZVRvUG9zaXRpb24oZixDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpLGY9bnVsbCk6KGs9dGhpcy5zcGxpdEVsZW1lbnQoZixifHwhMSksZi5pcyhcInVsXCIsXCJvbFwiKXx8Zi5hcHBlbmRCb2d1cygpKSk7cmV0dXJue3ByZXZpb3VzQmxvY2s6ZixuZXh0QmxvY2s6ayx3YXNTdGFydE9mQmxvY2s6Yyxcbndhc0VuZE9mQmxvY2s6ZCxlbGVtZW50UGF0aDpofX0sc3BsaXRFbGVtZW50OmZ1bmN0aW9uKGEsYil7aWYoIXRoaXMuY29sbGFwc2VkKXJldHVybiBudWxsO3RoaXMuc2V0RW5kQXQoYSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTt2YXIgYz10aGlzLmV4dHJhY3RDb250ZW50cyghMSxifHwhMSksZD1hLmNsb25lKCExLGJ8fCExKTtjLmFwcGVuZFRvKGQpO2QuaW5zZXJ0QWZ0ZXIoYSk7dGhpcy5tb3ZlVG9Qb3NpdGlvbihhLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCk7cmV0dXJuIGR9LHJlbW92ZUVtcHR5QmxvY2tzQXRFbmQ6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGcpe3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gYihhKXx8YyhhKXx8YS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuaXNFbXB0eUlubGluZVJlbW92ZWFibGUoKXx8Zy5pcyhcInRhYmxlXCIpJiZhLmlzKFwiY2FwdGlvblwiKT8hMTohMH19dmFyIGI9Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcygpLFxuYz1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKCExKTtyZXR1cm4gZnVuY3Rpb24oYil7Zm9yKHZhciBjPXRoaXMuY3JlYXRlQm9va21hcmsoKSxkPXRoaXNbYj9cImVuZFBhdGhcIjpcInN0YXJ0UGF0aFwiXSgpLGY9ZC5ibG9ja3x8ZC5ibG9ja0xpbWl0LGs7ZiYmIWYuZXF1YWxzKGQucm9vdCkmJiFmLmdldEZpcnN0KGEoZikpOylrPWYuZ2V0UGFyZW50KCksdGhpc1tiP1wic2V0RW5kQXRcIjpcInNldFN0YXJ0QXRcIl0oZixDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpLGYucmVtb3ZlKDEpLGY9azt0aGlzLm1vdmVUb0Jvb2ttYXJrKGMpfX0oKSxzdGFydFBhdGg6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aCh0aGlzLnN0YXJ0Q29udGFpbmVyLHRoaXMucm9vdCl9LGVuZFBhdGg6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aCh0aGlzLmVuZENvbnRhaW5lcix0aGlzLnJvb3QpfSxjaGVja0JvdW5kYXJ5T2ZFbGVtZW50OmZ1bmN0aW9uKGEsXG5iKXt2YXIgZD1iPT1DS0VESVRPUi5TVEFSVCxmPXRoaXMuY2xvbmUoKTtmLmNvbGxhcHNlKGQpO2ZbZD9cInNldFN0YXJ0QXRcIjpcInNldEVuZEF0XCJdKGEsZD9DS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVDpDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtmPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGYpO2YuZXZhbHVhdG9yPWMoZCk7cmV0dXJuIGZbZD9cImNoZWNrQmFja3dhcmRcIjpcImNoZWNrRm9yd2FyZFwiXSgpfSxjaGVja1N0YXJ0T2ZCbG9jazpmdW5jdGlvbigpe3ZhciBhPXRoaXMuc3RhcnRDb250YWluZXIsYz10aGlzLnN0YXJ0T2Zmc2V0O0NLRURJVE9SLmVudi5pZSYmYyYmYS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihhPUNLRURJVE9SLnRvb2xzLmx0cmltKGEuc3Vic3RyaW5nKDAsYykpLGYudGVzdChhKSYmdGhpcy50cmltKDAsMSkpO3RoaXMudHJpbSgpO2E9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aCh0aGlzLnN0YXJ0Q29udGFpbmVyLHRoaXMucm9vdCk7XG5jPXRoaXMuY2xvbmUoKTtjLmNvbGxhcHNlKCEwKTtjLnNldFN0YXJ0QXQoYS5ibG9ja3x8YS5ibG9ja0xpbWl0LENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKTthPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGMpO2EuZXZhbHVhdG9yPWIoKTtyZXR1cm4gYS5jaGVja0JhY2t3YXJkKCl9LGNoZWNrRW5kT2ZCbG9jazpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZW5kQ29udGFpbmVyLGM9dGhpcy5lbmRPZmZzZXQ7Q0tFRElUT1IuZW52LmllJiZhLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGE9Q0tFRElUT1IudG9vbHMucnRyaW0oYS5zdWJzdHJpbmcoYykpLGYudGVzdChhKSYmdGhpcy50cmltKDEsMCkpO3RoaXMudHJpbSgpO2E9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aCh0aGlzLmVuZENvbnRhaW5lcix0aGlzLnJvb3QpO2M9dGhpcy5jbG9uZSgpO2MuY29sbGFwc2UoITEpO2Muc2V0RW5kQXQoYS5ibG9ja3x8YS5ibG9ja0xpbWl0LENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO1xuYT1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihjKTthLmV2YWx1YXRvcj1iKCk7cmV0dXJuIGEuY2hlY2tGb3J3YXJkKCl9LGdldFByZXZpb3VzTm9kZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5jbG9uZSgpO2QuY29sbGFwc2UoMSk7ZC5zZXRTdGFydEF0KGN8fHRoaXMucm9vdCxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCk7Yz1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihkKTtjLmV2YWx1YXRvcj1hO2MuZ3VhcmQ9YjtyZXR1cm4gYy5wcmV2aW91cygpfSxnZXROZXh0Tm9kZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5jbG9uZSgpO2QuY29sbGFwc2UoKTtkLnNldEVuZEF0KGN8fHRoaXMucm9vdCxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtjPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGQpO2MuZXZhbHVhdG9yPWE7Yy5ndWFyZD1iO3JldHVybiBjLm5leHQoKX0sY2hlY2tSZWFkT25seTpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYixjKXtmb3IoO2I7KXtpZihiLnR5cGU9PVxuQ0tFRElUT1IuTk9ERV9FTEVNRU5UKXtpZihcImZhbHNlXCI9PWIuZ2V0QXR0cmlidXRlKFwiY29udGVudEVkaXRhYmxlXCIpJiYhYi5kYXRhKFwiY2tlLWVkaXRhYmxlXCIpKXJldHVybiAwO2lmKGIuaXMoXCJodG1sXCIpfHxcInRydWVcIj09Yi5nZXRBdHRyaWJ1dGUoXCJjb250ZW50RWRpdGFibGVcIikmJihiLmNvbnRhaW5zKGMpfHxiLmVxdWFscyhjKSkpYnJlYWt9Yj1iLmdldFBhcmVudCgpfXJldHVybiAxfXJldHVybiBmdW5jdGlvbigpe3ZhciBiPXRoaXMuc3RhcnRDb250YWluZXIsYz10aGlzLmVuZENvbnRhaW5lcjtyZXR1cm4hKGEoYixjKSYmYShjLGIpKX19KCksbW92ZVRvRWxlbWVudEVkaXRhYmxlUG9zaXRpb246ZnVuY3Rpb24oYSxiKXtpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmIWEuaXNFZGl0YWJsZSghMSkpcmV0dXJuIHRoaXMubW92ZVRvUG9zaXRpb24oYSxiP0NLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORDpDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpLFxuITA7Zm9yKHZhciBjPTA7YTspe2lmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKXtiJiZ0aGlzLmVuZENvbnRhaW5lciYmdGhpcy5jaGVja0VuZE9mQmxvY2soKSYmZi50ZXN0KGEuZ2V0VGV4dCgpKT90aGlzLm1vdmVUb1Bvc2l0aW9uKGEsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKTp0aGlzLm1vdmVUb1Bvc2l0aW9uKGEsYj9DS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQ6Q0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKTtjPTE7YnJlYWt9aWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpaWYoYS5pc0VkaXRhYmxlKCkpdGhpcy5tb3ZlVG9Qb3NpdGlvbihhLGI/Q0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORDpDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCksYz0xO2Vsc2UgaWYoYiYmYS5pcyhcImJyXCIpJiZ0aGlzLmVuZENvbnRhaW5lciYmdGhpcy5jaGVja0VuZE9mQmxvY2soKSl0aGlzLm1vdmVUb1Bvc2l0aW9uKGEsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKTtcbmVsc2UgaWYoXCJmYWxzZVwiPT1hLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSYmYS5pcyhDS0VESVRPUi5kdGQuJGJsb2NrKSlyZXR1cm4gdGhpcy5zZXRTdGFydEJlZm9yZShhKSx0aGlzLnNldEVuZEFmdGVyKGEpLCEwO3ZhciBkPWEsaD1jLGU9dm9pZCAwO2QudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZkLmlzRWRpdGFibGUoITEpJiYoZT1kW2I/XCJnZXRMYXN0XCI6XCJnZXRGaXJzdFwiXShrKSk7aHx8ZXx8KGU9ZFtiP1wiZ2V0UHJldmlvdXNcIjpcImdldE5leHRcIl0oaykpO2E9ZX1yZXR1cm4hIWN9LG1vdmVUb0Nsb3Nlc3RFZGl0YWJsZVBvc2l0aW9uOmZ1bmN0aW9uKGEsYil7dmFyIGMsZD0wLGYsayxoPVtDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUXTthPyhjPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UodGhpcy5yb290KSxjLm1vdmVUb1Bvc2l0aW9uKGEsaFtiPzA6MV0pKTpjPXRoaXMuY2xvbmUoKTtpZihhJiZcbiFhLmlzKENLRURJVE9SLmR0ZC4kYmxvY2spKWQ9MTtlbHNlIGlmKGY9Y1tiP1wiZ2V0TmV4dEVkaXRhYmxlTm9kZVwiOlwiZ2V0UHJldmlvdXNFZGl0YWJsZU5vZGVcIl0oKSlkPTEsKGs9Zi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpJiZmLmlzKENLRURJVE9SLmR0ZC4kYmxvY2spJiZcImZhbHNlXCI9PWYuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpPyhjLnNldFN0YXJ0QXQoZixDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpLGMuc2V0RW5kQXQoZixDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpKTohQ0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXImJmsmJmYuaXMoQ0tFRElUT1IuZG9tLndhbGtlci52YWxpZEVtcHR5QmxvY2tDb250YWluZXJzKT8oYy5zZXRFbmQoZiwwKSxjLmNvbGxhcHNlKCkpOmMubW92ZVRvUG9zaXRpb24oZixoW2I/MTowXSk7ZCYmdGhpcy5tb3ZlVG9SYW5nZShjKTtyZXR1cm4hIWR9LG1vdmVUb0VsZW1lbnRFZGl0U3RhcnQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubW92ZVRvRWxlbWVudEVkaXRhYmxlUG9zaXRpb24oYSl9LFxubW92ZVRvRWxlbWVudEVkaXRFbmQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubW92ZVRvRWxlbWVudEVkaXRhYmxlUG9zaXRpb24oYSwhMCl9LGdldEVuY2xvc2VkTm9kZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuY2xvbmUoKTthLm9wdGltaXplKCk7aWYoYS5zdGFydENvbnRhaW5lci50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fGEuZW5kQ29udGFpbmVyLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVClyZXR1cm4gbnVsbDt2YXIgYT1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihhKSxiPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoITEsITApLGM9Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcyghMCk7YS5ldmFsdWF0b3I9ZnVuY3Rpb24oYSl7cmV0dXJuIGMoYSkmJmIoYSl9O3ZhciBkPWEubmV4dCgpO2EucmVzZXQoKTtyZXR1cm4gZCYmZC5lcXVhbHMoYS5wcmV2aW91cygpKT9kOm51bGx9LGdldFRvdWNoZWRTdGFydE5vZGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnN0YXJ0Q29udGFpbmVyO1xucmV0dXJuIHRoaXMuY29sbGFwc2VkfHxhLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVD9hOmEuZ2V0Q2hpbGQodGhpcy5zdGFydE9mZnNldCl8fGF9LGdldFRvdWNoZWRFbmROb2RlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbmRDb250YWluZXI7cmV0dXJuIHRoaXMuY29sbGFwc2VkfHxhLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVD9hOmEuZ2V0Q2hpbGQodGhpcy5lbmRPZmZzZXQtMSl8fGF9LGdldE5leHRFZGl0YWJsZU5vZGU6ZCgpLGdldFByZXZpb3VzRWRpdGFibGVOb2RlOmQoMSksc2Nyb2xsSW50b1ZpZXc6ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoXCJcXHgzY3NwYW5cXHgzZVxceDI2bmJzcDtcXHgzYy9zcGFuXFx4M2VcIix0aGlzLmRvY3VtZW50KSxiLGMsZCxmPXRoaXMuY2xvbmUoKTtmLm9wdGltaXplKCk7KGQ9Zi5zdGFydENvbnRhaW5lci50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQpPyhjPWYuc3RhcnRDb250YWluZXIuZ2V0VGV4dCgpLFxuYj1mLnN0YXJ0Q29udGFpbmVyLnNwbGl0KGYuc3RhcnRPZmZzZXQpLGEuaW5zZXJ0QWZ0ZXIoZi5zdGFydENvbnRhaW5lcikpOmYuaW5zZXJ0Tm9kZShhKTthLnNjcm9sbEludG9WaWV3KCk7ZCYmKGYuc3RhcnRDb250YWluZXIuc2V0VGV4dChjKSxiLnJlbW92ZSgpKTthLnJlbW92ZSgpfSxfc2V0U3RhcnRDb250YWluZXI6ZnVuY3Rpb24oYSl7dGhpcy5zdGFydENvbnRhaW5lcj1hfSxfc2V0RW5kQ29udGFpbmVyOmZ1bmN0aW9uKGEpe3RoaXMuZW5kQ29udGFpbmVyPWF9LF9maW5kOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRDb21tb25BbmNlc3RvcigpLGQ9dGhpcy5nZXRCb3VuZGFyeU5vZGVzKCksZj1bXSxrLGgsZSxsO2lmKGMmJmMuZmluZClmb3IoaD1jLmZpbmQoYSksaz0wO2s8aC5jb3VudCgpO2srKylpZihjPWguZ2V0SXRlbShrKSxifHwhYy5pc1JlYWRPbmx5KCkpZT1jLmdldFBvc2l0aW9uKGQuc3RhcnROb2RlKSZDS0VESVRPUi5QT1NJVElPTl9GT0xMT1dJTkd8fFxuZC5zdGFydE5vZGUuZXF1YWxzKGMpLGw9Yy5nZXRQb3NpdGlvbihkLmVuZE5vZGUpJkNLRURJVE9SLlBPU0lUSU9OX1BSRUNFRElORytDS0VESVRPUi5QT1NJVElPTl9JU19DT05UQUlORUQsZSYmbCYmZi5wdXNoKGMpO3JldHVybiBmfX19KCksQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQ9MSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EPTIsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUPTMsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EPTQsQ0tFRElUT1IuRU5MQVJHRV9FTEVNRU5UPTEsQ0tFRElUT1IuRU5MQVJHRV9CTE9DS19DT05URU5UUz0yLENLRURJVE9SLkVOTEFSR0VfTElTVF9JVEVNX0NPTlRFTlRTPTMsQ0tFRElUT1IuRU5MQVJHRV9JTkxJTkU9NCxDS0VESVRPUi5TVEFSVD0xLENLRURJVE9SLkVORD0yLENLRURJVE9SLlNIUklOS19FTEVNRU5UPTEsQ0tFRElUT1IuU0hSSU5LX1RFWFQ9MixcInVzZSBzdHJpY3RcIixmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7MT5cbmFyZ3VtZW50cy5sZW5ndGh8fCh0aGlzLnJhbmdlPWEsdGhpcy5mb3JjZUJyQnJlYWs9MCx0aGlzLmVubGFyZ2VCcj0xLHRoaXMuZW5mb3JjZVJlYWxCbG9ja3M9MCx0aGlzLl98fCh0aGlzLl89e30pKX1mdW5jdGlvbiBlKGEpe3ZhciBiPVtdO2EuZm9yRWFjaChmdW5jdGlvbihhKXtpZihcInRydWVcIj09YS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpcmV0dXJuIGIucHVzaChhKSwhMX0sQ0tFRElUT1IuTk9ERV9FTEVNRU5ULCEwKTtyZXR1cm4gYn1mdW5jdGlvbiBiKGEsYyxkLGYpe2E6e251bGw9PWYmJihmPWUoZCkpO2Zvcih2YXIgaDtoPWYuc2hpZnQoKTspaWYoaC5nZXREdGQoKS5wKXtmPXtlbGVtZW50OmgscmVtYWluaW5nOmZ9O2JyZWFrIGF9Zj1udWxsfWlmKCFmKXJldHVybiAwO2lmKChoPUNLRURJVE9SLmZpbHRlci5pbnN0YW5jZXNbZi5lbGVtZW50LmRhdGEoXCJja2UtZmlsdGVyXCIpXSkmJiFoLmNoZWNrKGMpKXJldHVybiBiKGEsYyxkLGYucmVtYWluaW5nKTtcbmM9bmV3IENLRURJVE9SLmRvbS5yYW5nZShmLmVsZW1lbnQpO2Muc2VsZWN0Tm9kZUNvbnRlbnRzKGYuZWxlbWVudCk7Yz1jLmNyZWF0ZUl0ZXJhdG9yKCk7Yy5lbmxhcmdlQnI9YS5lbmxhcmdlQnI7Yy5lbmZvcmNlUmVhbEJsb2Nrcz1hLmVuZm9yY2VSZWFsQmxvY2tzO2MuYWN0aXZlRmlsdGVyPWMuZmlsdGVyPWg7YS5fLm5lc3RlZEVkaXRhYmxlPXtlbGVtZW50OmYuZWxlbWVudCxjb250YWluZXI6ZCxyZW1haW5pbmc6Zi5yZW1haW5pbmcsaXRlcmF0b3I6Y307cmV0dXJuIDF9ZnVuY3Rpb24gYyhhLGIsYyl7aWYoIWIpcmV0dXJuITE7YT1hLmNsb25lKCk7YS5jb2xsYXBzZSghYyk7cmV0dXJuIGEuY2hlY2tCb3VuZGFyeU9mRWxlbWVudChiLGM/Q0tFRElUT1IuU1RBUlQ6Q0tFRElUT1IuRU5EKX12YXIgZD0vXltcXHJcXG5cXHQgXSskLyxsPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoITEsITApLG09Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcyghMCksZj1mdW5jdGlvbihhKXtyZXR1cm4gbChhKSYmXG5tKGEpfSxoPXtkZDoxLGR0OjEsbGk6MX07YS5wcm90b3R5cGU9e2dldE5leHRQYXJhZ3JhcGg6ZnVuY3Rpb24oYSl7dmFyIGcsZSxtLHIscTthPWF8fFwicFwiO2lmKHRoaXMuXy5uZXN0ZWRFZGl0YWJsZSl7aWYoZz10aGlzLl8ubmVzdGVkRWRpdGFibGUuaXRlcmF0b3IuZ2V0TmV4dFBhcmFncmFwaChhKSlyZXR1cm4gdGhpcy5hY3RpdmVGaWx0ZXI9dGhpcy5fLm5lc3RlZEVkaXRhYmxlLml0ZXJhdG9yLmFjdGl2ZUZpbHRlcixnO3RoaXMuYWN0aXZlRmlsdGVyPXRoaXMuZmlsdGVyO2lmKGIodGhpcyxhLHRoaXMuXy5uZXN0ZWRFZGl0YWJsZS5jb250YWluZXIsdGhpcy5fLm5lc3RlZEVkaXRhYmxlLnJlbWFpbmluZykpcmV0dXJuIHRoaXMuYWN0aXZlRmlsdGVyPXRoaXMuXy5uZXN0ZWRFZGl0YWJsZS5pdGVyYXRvci5hY3RpdmVGaWx0ZXIsdGhpcy5fLm5lc3RlZEVkaXRhYmxlLml0ZXJhdG9yLmdldE5leHRQYXJhZ3JhcGgoYSk7dGhpcy5fLm5lc3RlZEVkaXRhYmxlPW51bGx9aWYoIXRoaXMucmFuZ2Uucm9vdC5nZXREdGQoKVthXSlyZXR1cm4gbnVsbDtcbmlmKCF0aGlzLl8uc3RhcnRlZCl7dmFyIHQ9dGhpcy5yYW5nZS5jbG9uZSgpO2U9dC5zdGFydFBhdGgoKTt2YXIgcD10LmVuZFBhdGgoKSx3PSF0LmNvbGxhcHNlZCYmYyh0LGUuYmxvY2spLHo9IXQuY29sbGFwc2VkJiZjKHQscC5ibG9jaywxKTt0LnNocmluayhDS0VESVRPUi5TSFJJTktfRUxFTUVOVCwhMCk7dyYmdC5zZXRTdGFydEF0KGUuYmxvY2ssQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7eiYmdC5zZXRFbmRBdChwLmJsb2NrLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKTtlPXQuZW5kQ29udGFpbmVyLmhhc0FzY2VuZGFudChcInByZVwiLCEwKXx8dC5zdGFydENvbnRhaW5lci5oYXNBc2NlbmRhbnQoXCJwcmVcIiwhMCk7dC5lbmxhcmdlKHRoaXMuZm9yY2VCckJyZWFrJiYhZXx8IXRoaXMuZW5sYXJnZUJyP0NLRURJVE9SLkVOTEFSR0VfTElTVF9JVEVNX0NPTlRFTlRTOkNLRURJVE9SLkVOTEFSR0VfQkxPQ0tfQ09OVEVOVFMpO3QuY29sbGFwc2VkfHwoZT1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcih0LmNsb25lKCkpLFxucD1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKCEwLCEwKSxlLmV2YWx1YXRvcj1wLHRoaXMuXy5uZXh0Tm9kZT1lLm5leHQoKSxlPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKHQuY2xvbmUoKSksZS5ldmFsdWF0b3I9cCxlPWUucHJldmlvdXMoKSx0aGlzLl8ubGFzdE5vZGU9ZS5nZXROZXh0U291cmNlTm9kZSghMCxudWxsLHQucm9vdCksdGhpcy5fLmxhc3ROb2RlJiZ0aGlzLl8ubGFzdE5vZGUudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYhQ0tFRElUT1IudG9vbHMudHJpbSh0aGlzLl8ubGFzdE5vZGUuZ2V0VGV4dCgpKSYmdGhpcy5fLmxhc3ROb2RlLmdldFBhcmVudCgpLmlzQmxvY2tCb3VuZGFyeSgpJiYocD10aGlzLnJhbmdlLmNsb25lKCkscC5tb3ZlVG9Qb3NpdGlvbih0aGlzLl8ubGFzdE5vZGUsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSxwLmNoZWNrRW5kT2ZCbG9jaygpJiYocD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHAuZW5kQ29udGFpbmVyLFxucC5yb290KSx0aGlzLl8ubGFzdE5vZGU9KHAuYmxvY2t8fHAuYmxvY2tMaW1pdCkuZ2V0TmV4dFNvdXJjZU5vZGUoITApKSksdGhpcy5fLmxhc3ROb2RlJiZ0LnJvb3QuY29udGFpbnModGhpcy5fLmxhc3ROb2RlKXx8KHRoaXMuXy5sYXN0Tm9kZT10aGlzLl8uZG9jRW5kTWFya2VyPXQuZG9jdW1lbnQuY3JlYXRlVGV4dChcIlwiKSx0aGlzLl8ubGFzdE5vZGUuaW5zZXJ0QWZ0ZXIoZSkpLHQ9bnVsbCk7dGhpcy5fLnN0YXJ0ZWQ9MTtlPXR9cD10aGlzLl8ubmV4dE5vZGU7dD10aGlzLl8ubGFzdE5vZGU7Zm9yKHRoaXMuXy5uZXh0Tm9kZT1udWxsO3A7KXt2YXIgdz0wLHo9cC5oYXNBc2NlbmRhbnQoXCJwcmVcIiksQT1wLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVCx1PTA7aWYoQSlwLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmZC50ZXN0KHAuZ2V0VGV4dCgpKSYmKEE9MCk7ZWxzZXt2YXIgeD1wLmdldE5hbWUoKTtpZihDS0VESVRPUi5kdGQuJGJsb2NrW3hdJiZcImZhbHNlXCI9PXAuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKXtnPVxucDtiKHRoaXMsYSxnKTticmVha31lbHNlIGlmKHAuaXNCbG9ja0JvdW5kYXJ5KHRoaXMuZm9yY2VCckJyZWFrJiYheiYme2JyOjF9KSl7aWYoXCJiclwiPT14KUE9MTtlbHNlIGlmKCFlJiYhcC5nZXRDaGlsZENvdW50KCkmJlwiaHJcIiE9eCl7Zz1wO209cC5lcXVhbHModCk7YnJlYWt9ZSYmKGUuc2V0RW5kQXQocCxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpLFwiYnJcIiE9eCYmKHRoaXMuXy5uZXh0Tm9kZT1wKSk7dz0xfWVsc2V7aWYocC5nZXRGaXJzdCgpKXtlfHwoZT10aGlzLnJhbmdlLmNsb25lKCksZS5zZXRTdGFydEF0KHAsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSk7cD1wLmdldEZpcnN0KCk7Y29udGludWV9QT0xfX1BJiYhZSYmKGU9dGhpcy5yYW5nZS5jbG9uZSgpLGUuc2V0U3RhcnRBdChwLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCkpO209KCF3fHxBKSYmcC5lcXVhbHModCk7aWYoZSYmIXcpZm9yKDshcC5nZXROZXh0KGYpJiYhbTspe3g9XG5wLmdldFBhcmVudCgpO2lmKHguaXNCbG9ja0JvdW5kYXJ5KHRoaXMuZm9yY2VCckJyZWFrJiYheiYme2JyOjF9KSl7dz0xO0E9MDttfHx4LmVxdWFscyh0KTtlLnNldEVuZEF0KHgsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7YnJlYWt9cD14O0E9MTttPXAuZXF1YWxzKHQpO3U9MX1BJiZlLnNldEVuZEF0KHAsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKTtwPXRoaXMuX2dldE5leHRTb3VyY2VOb2RlKHAsdSx0KTtpZigobT0hcCl8fHcmJmUpYnJlYWt9aWYoIWcpe2lmKCFlKXJldHVybiB0aGlzLl8uZG9jRW5kTWFya2VyJiZ0aGlzLl8uZG9jRW5kTWFya2VyLnJlbW92ZSgpLHRoaXMuXy5uZXh0Tm9kZT1udWxsO2c9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChlLnN0YXJ0Q29udGFpbmVyLGUucm9vdCk7cD1nLmJsb2NrTGltaXQ7dz17ZGl2OjEsdGg6MSx0ZDoxfTtnPWcuYmxvY2s7IWcmJnAmJiF0aGlzLmVuZm9yY2VSZWFsQmxvY2tzJiZ3W3AuZ2V0TmFtZSgpXSYmXG5lLmNoZWNrU3RhcnRPZkJsb2NrKCkmJmUuY2hlY2tFbmRPZkJsb2NrKCkmJiFwLmVxdWFscyhlLnJvb3QpP2c9cDohZ3x8dGhpcy5lbmZvcmNlUmVhbEJsb2NrcyYmZy5pcyhoKT8oZz10aGlzLnJhbmdlLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYSksZS5leHRyYWN0Q29udGVudHMoKS5hcHBlbmRUbyhnKSxnLnRyaW0oKSxlLmluc2VydE5vZGUoZykscj1xPSEwKTpcImxpXCIhPWcuZ2V0TmFtZSgpP2UuY2hlY2tTdGFydE9mQmxvY2soKSYmZS5jaGVja0VuZE9mQmxvY2soKXx8KGc9Zy5jbG9uZSghMSksZS5leHRyYWN0Q29udGVudHMoKS5hcHBlbmRUbyhnKSxnLnRyaW0oKSxxPWUuc3BsaXRCbG9jaygpLHI9IXEud2FzU3RhcnRPZkJsb2NrLHE9IXEud2FzRW5kT2ZCbG9jayxlLmluc2VydE5vZGUoZykpOm18fCh0aGlzLl8ubmV4dE5vZGU9Zy5lcXVhbHModCk/bnVsbDp0aGlzLl9nZXROZXh0U291cmNlTm9kZShlLmdldEJvdW5kYXJ5Tm9kZXMoKS5lbmROb2RlLDEsdCkpfXImJihyPVxuZy5nZXRQcmV2aW91cygpKSYmci50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihcImJyXCI9PXIuZ2V0TmFtZSgpP3IucmVtb3ZlKCk6ci5nZXRMYXN0KCkmJlwiYnJcIj09ci5nZXRMYXN0KCkuJC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiZyLmdldExhc3QoKS5yZW1vdmUoKSk7cSYmKHI9Zy5nZXRMYXN0KCkpJiZyLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmXCJiclwiPT1yLmdldE5hbWUoKSYmKCFDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcnx8ci5nZXRQcmV2aW91cyhsKXx8ci5nZXROZXh0KGwpKSYmci5yZW1vdmUoKTt0aGlzLl8ubmV4dE5vZGV8fCh0aGlzLl8ubmV4dE5vZGU9bXx8Zy5lcXVhbHModCl8fCF0P251bGw6dGhpcy5fZ2V0TmV4dFNvdXJjZU5vZGUoZywxLHQpKTtyZXR1cm4gZ30sX2dldE5leHRTb3VyY2VOb2RlOmZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBkKGEpe3JldHVybiEoYS5lcXVhbHMoYyl8fGEuZXF1YWxzKGYpKX12YXIgZj10aGlzLnJhbmdlLnJvb3Q7XG5mb3IoYT1hLmdldE5leHRTb3VyY2VOb2RlKGIsbnVsbCxkKTshbChhKTspYT1hLmdldE5leHRTb3VyY2VOb2RlKGIsbnVsbCxkKTtyZXR1cm4gYX19O0NLRURJVE9SLmRvbS5yYW5nZS5wcm90b3R5cGUuY3JlYXRlSXRlcmF0b3I9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGEodGhpcyl9fSgpLENLRURJVE9SLmNvbW1hbmQ9ZnVuY3Rpb24oYSxlKXt0aGlzLnVpSXRlbXM9W107dGhpcy5leGVjPWZ1bmN0aW9uKGIpe2lmKHRoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEfHwhdGhpcy5jaGVja0FsbG93ZWQoKSlyZXR1cm4hMTt0aGlzLmVkaXRvckZvY3VzJiZhLmZvY3VzKCk7cmV0dXJuITE9PT10aGlzLmZpcmUoXCJleGVjXCIpPyEwOiExIT09ZS5leGVjLmNhbGwodGhpcyxhLGIpfTt0aGlzLnJlZnJlc2g9ZnVuY3Rpb24oYSxiKXtpZighdGhpcy5yZWFkT25seSYmYS5yZWFkT25seSlyZXR1cm4hMDtpZih0aGlzLmNvbnRleHQmJiFiLmlzQ29udGV4dEZvcih0aGlzLmNvbnRleHQpfHxcbiF0aGlzLmNoZWNrQWxsb3dlZCghMCkpcmV0dXJuIHRoaXMuZGlzYWJsZSgpLCEwO3RoaXMuc3RhcnREaXNhYmxlZHx8dGhpcy5lbmFibGUoKTt0aGlzLm1vZGVzJiYhdGhpcy5tb2Rlc1thLm1vZGVdJiZ0aGlzLmRpc2FibGUoKTtyZXR1cm4hMT09PXRoaXMuZmlyZShcInJlZnJlc2hcIix7ZWRpdG9yOmEscGF0aDpifSk/ITA6ZS5yZWZyZXNoJiYhMSE9PWUucmVmcmVzaC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3ZhciBiO3RoaXMuY2hlY2tBbGxvd2VkPWZ1bmN0aW9uKGMpe3JldHVybiBjfHxcImJvb2xlYW5cIiE9dHlwZW9mIGI/Yj1hLmFjdGl2ZUZpbHRlci5jaGVja0ZlYXR1cmUodGhpcyk6Yn07Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsZSx7bW9kZXM6e3d5c2l3eWc6MX0sZWRpdG9yRm9jdXM6MSxjb250ZXh0U2Vuc2l0aXZlOiEhZS5jb250ZXh0LHN0YXRlOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEfSk7Q0tFRElUT1IuZXZlbnQuY2FsbCh0aGlzKX0sQ0tFRElUT1IuY29tbWFuZC5wcm90b3R5cGU9XG57ZW5hYmxlOmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQmJnRoaXMuY2hlY2tBbGxvd2VkKCkmJnRoaXMuc2V0U3RhdGUodGhpcy5wcmVzZXJ2ZVN0YXRlJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgdGhpcy5wcmV2aW91c1N0YXRlP3RoaXMucHJldmlvdXNTdGF0ZTpDS0VESVRPUi5UUklTVEFURV9PRkYpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCl9LHNldFN0YXRlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuc3RhdGU9PWF8fGEhPUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEJiYhdGhpcy5jaGVja0FsbG93ZWQoKSlyZXR1cm4hMTt0aGlzLnByZXZpb3VzU3RhdGU9dGhpcy5zdGF0ZTt0aGlzLnN0YXRlPWE7dGhpcy5maXJlKFwic3RhdGVcIik7cmV0dXJuITB9LHRvZ2dsZVN0YXRlOmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfT0ZGP3RoaXMuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfT04pOlxudGhpcy5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfT04mJnRoaXMuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfT0ZGKX19LENLRURJVE9SLmV2ZW50LmltcGxlbWVudE9uKENLRURJVE9SLmNvbW1hbmQucHJvdG90eXBlKSxDS0VESVRPUi5FTlRFUl9QPTEsQ0tFRElUT1IuRU5URVJfQlI9MixDS0VESVRPUi5FTlRFUl9ESVY9MyxDS0VESVRPUi5jb25maWc9e2N1c3RvbUNvbmZpZzpcImNvbmZpZy5qc1wiLGF1dG9VcGRhdGVFbGVtZW50OiEwLGxhbmd1YWdlOlwiXCIsZGVmYXVsdExhbmd1YWdlOlwiZW5cIixjb250ZW50c0xhbmdEaXJlY3Rpb246XCJcIixlbnRlck1vZGU6Q0tFRElUT1IuRU5URVJfUCxmb3JjZUVudGVyTW9kZTohMSxzaGlmdEVudGVyTW9kZTpDS0VESVRPUi5FTlRFUl9CUixkb2NUeXBlOlwiXFx4M2MhRE9DVFlQRSBodG1sXFx4M2VcIixib2R5SWQ6XCJcIixib2R5Q2xhc3M6XCJcIixmdWxsUGFnZTohMSxoZWlnaHQ6MjAwLGNvbnRlbnRzQ3NzOkNLRURJVE9SLmdldFVybChcImNvbnRlbnRzLmNzc1wiKSxcbmV4dHJhUGx1Z2luczpcIlwiLHJlbW92ZVBsdWdpbnM6XCJcIixwcm90ZWN0ZWRTb3VyY2U6W10sdGFiSW5kZXg6MCx3aWR0aDpcIlwiLGJhc2VGbG9hdFpJbmRleDoxRTQsYmxvY2tlZEtleXN0cm9rZXM6W0NLRURJVE9SLkNUUkwrNjYsQ0tFRElUT1IuQ1RSTCs3MyxDS0VESVRPUi5DVFJMKzg1XX0sZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYixjLGQsZil7dmFyIGcsZTthPVtdO2ZvcihnIGluIGIpe2U9YltnXTtlPVwiYm9vbGVhblwiPT10eXBlb2YgZT97fTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBlP3ttYXRjaDplfTpFKGUpO1wiJFwiIT1nLmNoYXJBdCgwKSYmKGUuZWxlbWVudHM9Zyk7YyYmKGUuZmVhdHVyZU5hbWU9Yy50b0xvd2VyQ2FzZSgpKTt2YXIgaz1lO2suZWxlbWVudHM9bShrLmVsZW1lbnRzLC9cXHMrLyl8fG51bGw7ay5wcm9wZXJ0aWVzT25seT1rLnByb3BlcnRpZXNPbmx5fHwhMD09PWsuZWxlbWVudHM7dmFyIGg9L1xccyosXFxzKi8sbD12b2lkIDA7Zm9yKGwgaW4gTSl7a1tsXT1tKGtbbF0sXG5oKXx8bnVsbDt2YXIgdT1rLHQ9SVtsXSx4PW0oa1tJW2xdXSxoKSxBPWtbbF0scD1bXSxEPSEwLG49dm9pZCAwO3g/RD0hMTp4PXt9O2ZvcihuIGluIEEpXCIhXCI9PW4uY2hhckF0KDApJiYobj1uLnNsaWNlKDEpLHAucHVzaChuKSx4W25dPSEwLEQ9ITEpO2Zvcig7bj1wLnBvcCgpOylBW25dPUFbXCIhXCIrbl0sZGVsZXRlIEFbXCIhXCIrbl07dVt0XT0oRD8hMTp4KXx8bnVsbH1rLm1hdGNoPWsubWF0Y2h8fG51bGw7ZC5wdXNoKGUpO2EucHVzaChlKX1iPWYuZWxlbWVudHM7Zj1mLmdlbmVyaWM7dmFyIEg7Yz0wO2ZvcihkPWEubGVuZ3RoO2M8ZDsrK2Mpe2c9RShhW2NdKTtlPSEwPT09Zy5jbGFzc2VzfHwhMD09PWcuc3R5bGVzfHwhMD09PWcuYXR0cmlidXRlcztrPWc7bD10PWg9dm9pZCAwO2ZvcihoIGluIE0pa1toXT13KGtbaF0pO3U9ITA7Zm9yKGwgaW4gSSl7aD1JW2xdO3Q9a1toXTt4PVtdO0E9dm9pZCAwO2ZvcihBIGluIHQpLTE8QS5pbmRleE9mKFwiKlwiKT94LnB1c2gobmV3IFJlZ0V4cChcIl5cIitcbkEucmVwbGFjZSgvXFwqL2csXCIuKlwiKStcIiRcIikpOngucHVzaChBKTt0PXg7dC5sZW5ndGgmJihrW2hdPXQsdT0hMSl9ay5ub3RoaW5nUmVxdWlyZWQ9dTtrLm5vUHJvcGVydGllcz0hKGsuYXR0cmlidXRlc3x8ay5jbGFzc2VzfHxrLnN0eWxlcyk7aWYoITA9PT1nLmVsZW1lbnRzfHxudWxsPT09Zy5lbGVtZW50cylmW2U/XCJ1bnNoaWZ0XCI6XCJwdXNoXCJdKGcpO2Vsc2UgZm9yKEggaW4gaz1nLmVsZW1lbnRzLGRlbGV0ZSBnLmVsZW1lbnRzLGspaWYoYltIXSliW0hdW2U/XCJ1bnNoaWZ0XCI6XCJwdXNoXCJdKGcpO2Vsc2UgYltIXT1bZ119fWZ1bmN0aW9uIGUoYSxjLGQsZyl7aWYoIWEubWF0Y2h8fGEubWF0Y2goYykpaWYoZ3x8ZihhLGMpKWlmKGEucHJvcGVydGllc09ubHl8fChkLnZhbGlkPSEwKSxkLmFsbEF0dHJpYnV0ZXN8fChkLmFsbEF0dHJpYnV0ZXM9YihhLmF0dHJpYnV0ZXMsYy5hdHRyaWJ1dGVzLGQudmFsaWRBdHRyaWJ1dGVzKSksZC5hbGxTdHlsZXN8fChkLmFsbFN0eWxlcz1iKGEuc3R5bGVzLFxuYy5zdHlsZXMsZC52YWxpZFN0eWxlcykpLCFkLmFsbENsYXNzZXMpe2E9YS5jbGFzc2VzO2M9Yy5jbGFzc2VzO2c9ZC52YWxpZENsYXNzZXM7aWYoYSlpZighMD09PWEpYT0hMDtlbHNle2Zvcih2YXIgZT0wLGs9Yy5sZW5ndGgsaDtlPGs7KytlKWg9Y1tlXSxnW2hdfHwoZ1toXT1hKGgpKTthPSExfWVsc2UgYT0hMTtkLmFsbENsYXNzZXM9YX19ZnVuY3Rpb24gYihhLGIsYyl7aWYoIWEpcmV0dXJuITE7aWYoITA9PT1hKXJldHVybiEwO2Zvcih2YXIgZCBpbiBiKWNbZF18fChjW2RdPWEoZCkpO3JldHVybiExfWZ1bmN0aW9uIGMoYSxiLGMpe2lmKCFhLm1hdGNofHxhLm1hdGNoKGIpKXtpZihhLm5vUHJvcGVydGllcylyZXR1cm4hMTtjLmhhZEludmFsaWRBdHRyaWJ1dGU9ZChhLmF0dHJpYnV0ZXMsYi5hdHRyaWJ1dGVzKXx8Yy5oYWRJbnZhbGlkQXR0cmlidXRlO2MuaGFkSW52YWxpZFN0eWxlPWQoYS5zdHlsZXMsYi5zdHlsZXMpfHxjLmhhZEludmFsaWRTdHlsZTthPWEuY2xhc3NlcztcbmI9Yi5jbGFzc2VzO2lmKGEpe2Zvcih2YXIgZj0hMSxnPSEwPT09YSxlPWIubGVuZ3RoO2UtLTspaWYoZ3x8YShiW2VdKSliLnNwbGljZShlLDEpLGY9ITA7YT1mfWVsc2UgYT0hMTtjLmhhZEludmFsaWRDbGFzcz1hfHxjLmhhZEludmFsaWRDbGFzc319ZnVuY3Rpb24gZChhLGIpe2lmKCFhKXJldHVybiExO3ZhciBjPSExLGQ9ITA9PT1hLGY7Zm9yKGYgaW4gYilpZihkfHxhKGYpKWRlbGV0ZSBiW2ZdLGM9ITA7cmV0dXJuIGN9ZnVuY3Rpb24gbChhLGIsYyl7aWYoYS5kaXNhYmxlZHx8YS5jdXN0b21Db25maWcmJiFjfHwhYilyZXR1cm4hMTthLl8uY2FjaGVkQ2hlY2tzPXt9O3JldHVybiEwfWZ1bmN0aW9uIG0oYSxiKXtpZighYSlyZXR1cm4hMTtpZighMD09PWEpcmV0dXJuIGE7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGEpcmV0dXJuIGE9SihhKSxcIipcIj09YT8hMDpDS0VESVRPUi50b29scy5jb252ZXJ0QXJyYXlUb09iamVjdChhLnNwbGl0KGIpKTtpZihDS0VESVRPUi50b29scy5pc0FycmF5KGEpKXJldHVybiBhLmxlbmd0aD9cbkNLRURJVE9SLnRvb2xzLmNvbnZlcnRBcnJheVRvT2JqZWN0KGEpOiExO3ZhciBjPXt9LGQ9MCxmO2ZvcihmIGluIGEpY1tmXT1hW2ZdLGQrKztyZXR1cm4gZD9jOiExfWZ1bmN0aW9uIGYoYSxiKXtpZihhLm5vdGhpbmdSZXF1aXJlZClyZXR1cm4hMDt2YXIgYyxkLGYsZztpZihmPWEucmVxdWlyZWRDbGFzc2VzKWZvcihnPWIuY2xhc3NlcyxjPTA7YzxmLmxlbmd0aDsrK2MpaWYoZD1mW2NdLFwic3RyaW5nXCI9PXR5cGVvZiBkKXtpZigtMT09Q0tFRElUT1IudG9vbHMuaW5kZXhPZihnLGQpKXJldHVybiExfWVsc2UgaWYoIUNLRURJVE9SLnRvb2xzLmNoZWNrSWZBbnlBcnJheUl0ZW1NYXRjaGVzKGcsZCkpcmV0dXJuITE7cmV0dXJuIGgoYi5zdHlsZXMsYS5yZXF1aXJlZFN0eWxlcykmJmgoYi5hdHRyaWJ1dGVzLGEucmVxdWlyZWRBdHRyaWJ1dGVzKX1mdW5jdGlvbiBoKGEsYil7aWYoIWIpcmV0dXJuITA7Zm9yKHZhciBjPTAsZDtjPGIubGVuZ3RoOysrYylpZihkPWJbY10sXCJzdHJpbmdcIj09XG50eXBlb2YgZCl7aWYoIShkIGluIGEpKXJldHVybiExfWVsc2UgaWYoIUNLRURJVE9SLnRvb2xzLmNoZWNrSWZBbnlPYmplY3RQcm9wZXJ0eU1hdGNoZXMoYSxkKSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBrKGEpe2lmKCFhKXJldHVybnt9O2E9YS5zcGxpdCgvXFxzKixcXHMqLykuc29ydCgpO2Zvcih2YXIgYj17fTthLmxlbmd0aDspYlthLnNoaWZ0KCldPVwiY2tlLXRlc3RcIjtyZXR1cm4gYn1mdW5jdGlvbiBnKGEpe3ZhciBiLGMsZCxmLGc9e30sZT0xO2ZvcihhPUooYSk7Yj1hLm1hdGNoKEgpOykoYz1iWzJdKT8oZD1uKGMsXCJzdHlsZXNcIiksZj1uKGMsXCJhdHRyc1wiKSxjPW4oYyxcImNsYXNzZXNcIikpOmQ9Zj1jPW51bGwsZ1tcIiRcIitlKytdPXtlbGVtZW50czpiWzFdLGNsYXNzZXM6YyxzdHlsZXM6ZCxhdHRyaWJ1dGVzOmZ9LGE9YS5zbGljZShiWzBdLmxlbmd0aCk7cmV0dXJuIGd9ZnVuY3Rpb24gbihhLGIpe3ZhciBjPWEubWF0Y2goUltiXSk7cmV0dXJuIGM/SihjWzFdKTpudWxsfVxuZnVuY3Rpb24gdihhKXt2YXIgYj1hLnN0eWxlQmFja3VwPWEuYXR0cmlidXRlcy5zdHlsZSxjPWEuY2xhc3NCYWNrdXA9YS5hdHRyaWJ1dGVzW1wiY2xhc3NcIl07YS5zdHlsZXN8fChhLnN0eWxlcz1DS0VESVRPUi50b29scy5wYXJzZUNzc1RleHQoYnx8XCJcIiwxKSk7YS5jbGFzc2VzfHwoYS5jbGFzc2VzPWM/Yy5zcGxpdCgvXFxzKy8pOltdKX1mdW5jdGlvbiByKGEsYixkLGYpe3ZhciBnPTAsaztmLnRvSHRtbCYmKGIubmFtZT1iLm5hbWUucmVwbGFjZShQLFwiJDFcIikpO2lmKGYuZG9DYWxsYmFja3MmJmEuZWxlbWVudENhbGxiYWNrcyl7YTp7az1hLmVsZW1lbnRDYWxsYmFja3M7Zm9yKHZhciBoPTAsbD1rLmxlbmd0aCx1O2g8bDsrK2gpaWYodT1rW2hdKGIpKXtrPXU7YnJlYWsgYX1rPXZvaWQgMH1pZihrKXJldHVybiBrfWlmKGYuZG9UcmFuc2Zvcm0mJihrPWEuXy50cmFuc2Zvcm1hdGlvbnNbYi5uYW1lXSkpe3YoYik7Zm9yKGg9MDtoPGsubGVuZ3RoOysraCl4KGEsYixrW2hdKTt0KGIpfWlmKGYuZG9GaWx0ZXIpe2E6e2g9XG5iLm5hbWU7bD1hLl87YT1sLmFsbG93ZWRSdWxlcy5lbGVtZW50c1toXTtrPWwuYWxsb3dlZFJ1bGVzLmdlbmVyaWM7aD1sLmRpc2FsbG93ZWRSdWxlcy5lbGVtZW50c1toXTtsPWwuZGlzYWxsb3dlZFJ1bGVzLmdlbmVyaWM7dT1mLnNraXBSZXF1aXJlZDt2YXIgbT17dmFsaWQ6ITEsdmFsaWRBdHRyaWJ1dGVzOnt9LHZhbGlkQ2xhc3Nlczp7fSx2YWxpZFN0eWxlczp7fSxhbGxBdHRyaWJ1dGVzOiExLGFsbENsYXNzZXM6ITEsYWxsU3R5bGVzOiExLGhhZEludmFsaWRBdHRyaWJ1dGU6ITEsaGFkSW52YWxpZENsYXNzOiExLGhhZEludmFsaWRTdHlsZTohMX0sQSxuO2lmKGF8fGspe3YoYik7aWYoaClmb3IoQT0wLG49aC5sZW5ndGg7QTxuOysrQSlpZighMT09PWMoaFtBXSxiLG0pKXthPW51bGw7YnJlYWsgYX1pZihsKWZvcihBPTAsbj1sLmxlbmd0aDtBPG47KytBKWMobFtBXSxiLG0pO2lmKGEpZm9yKEE9MCxuPWEubGVuZ3RoO0E8bjsrK0EpZShhW0FdLGIsbSx1KTtpZihrKWZvcihBPVxuMCxuPWsubGVuZ3RoO0E8bjsrK0EpZShrW0FdLGIsbSx1KTthPW19ZWxzZSBhPW51bGx9aWYoIWF8fCFhLnZhbGlkKXJldHVybiBkLnB1c2goYiksMTtuPWEudmFsaWRBdHRyaWJ1dGVzO3ZhciBEPWEudmFsaWRTdHlsZXM7az1hLnZhbGlkQ2xhc3Nlczt2YXIgaD1iLmF0dHJpYnV0ZXMsdz1iLnN0eWxlcyxsPWIuY2xhc3Nlczt1PWIuY2xhc3NCYWNrdXA7dmFyIEg9Yi5zdHlsZUJhY2t1cCxJLHkscT1bXSxtPVtdLHo9L15kYXRhLWNrZS0vO0E9ITE7ZGVsZXRlIGguc3R5bGU7ZGVsZXRlIGhbXCJjbGFzc1wiXTtkZWxldGUgYi5jbGFzc0JhY2t1cDtkZWxldGUgYi5zdHlsZUJhY2t1cDtpZighYS5hbGxBdHRyaWJ1dGVzKWZvcihJIGluIGgpbltJXXx8KHoudGVzdChJKT9JPT0oeT1JLnJlcGxhY2UoL15kYXRhLWNrZS1zYXZlZC0vLFwiXCIpKXx8blt5XXx8KGRlbGV0ZSBoW0ldLEE9ITApOihkZWxldGUgaFtJXSxBPSEwKSk7aWYoIWEuYWxsU3R5bGVzfHxhLmhhZEludmFsaWRTdHlsZSl7Zm9yKEkgaW4gdylhLmFsbFN0eWxlc3x8XG5EW0ldP3EucHVzaChJK1wiOlwiK3dbSV0pOkE9ITA7cS5sZW5ndGgmJihoLnN0eWxlPXEuc29ydCgpLmpvaW4oXCI7IFwiKSl9ZWxzZSBIJiYoaC5zdHlsZT1IKTtpZighYS5hbGxDbGFzc2VzfHxhLmhhZEludmFsaWRDbGFzcyl7Zm9yKEk9MDtJPGwubGVuZ3RoOysrSSkoYS5hbGxDbGFzc2VzfHxrW2xbSV1dKSYmbS5wdXNoKGxbSV0pO20ubGVuZ3RoJiYoaFtcImNsYXNzXCJdPW0uc29ydCgpLmpvaW4oXCIgXCIpKTt1JiZtLmxlbmd0aDx1LnNwbGl0KC9cXHMrLykubGVuZ3RoJiYoQT0hMCl9ZWxzZSB1JiYoaFtcImNsYXNzXCJdPXUpO0EmJihnPTEpO2lmKCFmLnNraXBGaW5hbFZhbGlkYXRpb24mJiFwKGIpKXJldHVybiBkLnB1c2goYiksMX1mLnRvSHRtbCYmKGIubmFtZT1iLm5hbWUucmVwbGFjZShULFwiY2tlOiQxXCIpKTtyZXR1cm4gZ31mdW5jdGlvbiBxKGEpe3ZhciBiPVtdLGM7Zm9yKGMgaW4gYSktMTxjLmluZGV4T2YoXCIqXCIpJiZiLnB1c2goYy5yZXBsYWNlKC9cXCovZyxcIi4qXCIpKTtyZXR1cm4gYi5sZW5ndGg/XG5uZXcgUmVnRXhwKFwiXig/OlwiK2Iuam9pbihcInxcIikrXCIpJFwiKTpudWxsfWZ1bmN0aW9uIHQoYSl7dmFyIGI9YS5hdHRyaWJ1dGVzLGM7ZGVsZXRlIGIuc3R5bGU7ZGVsZXRlIGJbXCJjbGFzc1wiXTtpZihjPUNLRURJVE9SLnRvb2xzLndyaXRlQ3NzVGV4dChhLnN0eWxlcywhMCkpYi5zdHlsZT1jO2EuY2xhc3Nlcy5sZW5ndGgmJihiW1wiY2xhc3NcIl09YS5jbGFzc2VzLnNvcnQoKS5qb2luKFwiIFwiKSl9ZnVuY3Rpb24gcChhKXtzd2l0Y2goYS5uYW1lKXtjYXNlIFwiYVwiOmlmKCEoYS5jaGlsZHJlbi5sZW5ndGh8fGEuYXR0cmlidXRlcy5uYW1lfHxhLmF0dHJpYnV0ZXMuaWQpKXJldHVybiExO2JyZWFrO2Nhc2UgXCJpbWdcIjppZighYS5hdHRyaWJ1dGVzLnNyYylyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiB3KGEpe2lmKCFhKXJldHVybiExO2lmKCEwPT09YSlyZXR1cm4hMDt2YXIgYj1xKGEpO3JldHVybiBmdW5jdGlvbihjKXtyZXR1cm4gYyBpbiBhfHxiJiZjLm1hdGNoKGIpfX1mdW5jdGlvbiB6KCl7cmV0dXJuIG5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQoXCJiclwiKX1cbmZ1bmN0aW9uIEEoYSl7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoXCJiclwiPT1hLm5hbWV8fEYuJGJsb2NrW2EubmFtZV0pfWZ1bmN0aW9uIHUoYSxiLGMpe3ZhciBkPWEubmFtZTtpZihGLiRlbXB0eVtkXXx8IWEuY2hpbGRyZW4ubGVuZ3RoKVwiaHJcIj09ZCYmXCJiclwiPT1iP2EucmVwbGFjZVdpdGgoeigpKTooYS5wYXJlbnQmJmMucHVzaCh7Y2hlY2s6XCJpdFwiLGVsOmEucGFyZW50fSksYS5yZW1vdmUoKSk7ZWxzZSBpZihGLiRibG9ja1tkXXx8XCJ0clwiPT1kKWlmKFwiYnJcIj09YilhLnByZXZpb3VzJiYhQShhLnByZXZpb3VzKSYmKGI9eigpLGIuaW5zZXJ0QmVmb3JlKGEpKSxhLm5leHQmJiFBKGEubmV4dCkmJihiPXooKSxiLmluc2VydEFmdGVyKGEpKSxhLnJlcGxhY2VXaXRoQ2hpbGRyZW4oKTtlbHNle3ZhciBkPWEuY2hpbGRyZW4sZjtiOntmPUZbYl07Zm9yKHZhciBnPTAsaz1kLmxlbmd0aCxlO2c8azsrK2cpaWYoZT1kW2ddLGUudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcbiFmW2UubmFtZV0pe2Y9ITE7YnJlYWsgYn1mPSEwfWlmKGYpYS5uYW1lPWIsYS5hdHRyaWJ1dGVzPXt9LGMucHVzaCh7Y2hlY2s6XCJwYXJlbnQtZG93blwiLGVsOmF9KTtlbHNle2Y9YS5wYXJlbnQ7Zm9yKHZhciBnPWYudHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVHx8XCJib2R5XCI9PWYubmFtZSxoLGwsaz1kLmxlbmd0aDswPGs7KWU9ZFstLWtdLGcmJihlLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVHx8ZS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJkYuJGlubGluZVtlLm5hbWVdKT8oaHx8KGg9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudChiKSxoLmluc2VydEFmdGVyKGEpLGMucHVzaCh7Y2hlY2s6XCJwYXJlbnQtZG93blwiLGVsOmh9KSksaC5hZGQoZSwwKSk6KGg9bnVsbCxsPUZbZi5uYW1lXXx8Ri5zcGFuLGUuaW5zZXJ0QWZ0ZXIoYSksZi50eXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UfHxlLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVHx8XG5sW2UubmFtZV18fGMucHVzaCh7Y2hlY2s6XCJlbC11cFwiLGVsOmV9KSk7YS5yZW1vdmUoKX19ZWxzZSBkIGlue3N0eWxlOjEsc2NyaXB0OjF9P2EucmVtb3ZlKCk6KGEucGFyZW50JiZjLnB1c2goe2NoZWNrOlwiaXRcIixlbDphLnBhcmVudH0pLGEucmVwbGFjZVdpdGhDaGlsZHJlbigpKX1mdW5jdGlvbiB4KGEsYixjKXt2YXIgZCxmO2ZvcihkPTA7ZDxjLmxlbmd0aDsrK2QpaWYoZj1jW2RdLCEoZi5jaGVjayYmIWEuY2hlY2soZi5jaGVjaywhMSl8fGYubGVmdCYmIWYubGVmdChiKSkpe2YucmlnaHQoYixPKTticmVha319ZnVuY3Rpb24gRChhLGIpe3ZhciBjPWIuZ2V0RGVmaW5pdGlvbigpLGQ9Yy5hdHRyaWJ1dGVzLGY9Yy5zdHlsZXMsZyxlLGssaDtpZihhLm5hbWUhPWMuZWxlbWVudClyZXR1cm4hMTtmb3IoZyBpbiBkKWlmKFwiY2xhc3NcIj09Zylmb3IoYz1kW2ddLnNwbGl0KC9cXHMrLyksaz1hLmNsYXNzZXMuam9pbihcInxcIik7aD1jLnBvcCgpOyl7aWYoLTE9PWsuaW5kZXhPZihoKSlyZXR1cm4hMX1lbHNlIGlmKGEuYXR0cmlidXRlc1tnXSE9XG5kW2ddKXJldHVybiExO2ZvcihlIGluIGYpaWYoYS5zdHlsZXNbZV0hPWZbZV0pcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24geShhLGIpe3ZhciBjLGQ7XCJzdHJpbmdcIj09dHlwZW9mIGE/Yz1hOmEgaW5zdGFuY2VvZiBDS0VESVRPUi5zdHlsZT9kPWE6KGM9YVswXSxkPWFbMV0pO3JldHVyblt7ZWxlbWVudDpjLGxlZnQ6ZCxyaWdodDpmdW5jdGlvbihhLGMpe2MudHJhbnNmb3JtKGEsYil9fV19ZnVuY3Rpb24gQihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIEQoYixhKX19ZnVuY3Rpb24gQyhhKXtyZXR1cm4gZnVuY3Rpb24oYixjKXtjW2FdKGIpfX12YXIgRj1DS0VESVRPUi5kdGQsRT1DS0VESVRPUi50b29scy5jb3B5LEo9Q0tFRElUT1IudG9vbHMudHJpbSxHPVtcIlwiLFwicFwiLFwiYnJcIixcImRpdlwiXTtDS0VESVRPUi5GSUxURVJfU0tJUF9UUkVFPTI7Q0tFRElUT1IuZmlsdGVyPWZ1bmN0aW9uKGEpe3RoaXMuYWxsb3dlZENvbnRlbnQ9W107dGhpcy5kaXNhbGxvd2VkQ29udGVudD1cbltdO3RoaXMuZWxlbWVudENhbGxiYWNrcz1udWxsO3RoaXMuZGlzYWJsZWQ9ITE7dGhpcy5lZGl0b3I9bnVsbDt0aGlzLmlkPUNLRURJVE9SLnRvb2xzLmdldE5leHROdW1iZXIoKTt0aGlzLl89e2FsbG93ZWRSdWxlczp7ZWxlbWVudHM6e30sZ2VuZXJpYzpbXX0sZGlzYWxsb3dlZFJ1bGVzOntlbGVtZW50czp7fSxnZW5lcmljOltdfSx0cmFuc2Zvcm1hdGlvbnM6e30sY2FjaGVkVGVzdHM6e319O0NLRURJVE9SLmZpbHRlci5pbnN0YW5jZXNbdGhpcy5pZF09dGhpcztpZihhIGluc3RhbmNlb2YgQ0tFRElUT1IuZWRpdG9yKXthPXRoaXMuZWRpdG9yPWE7dGhpcy5jdXN0b21Db25maWc9ITA7dmFyIGI9YS5jb25maWcuYWxsb3dlZENvbnRlbnQ7ITA9PT1iP3RoaXMuZGlzYWJsZWQ9ITA6KGJ8fCh0aGlzLmN1c3RvbUNvbmZpZz0hMSksdGhpcy5hbGxvdyhiLFwiY29uZmlnXCIsMSksdGhpcy5hbGxvdyhhLmNvbmZpZy5leHRyYUFsbG93ZWRDb250ZW50LFwiZXh0cmFcIiwxKSx0aGlzLmFsbG93KEdbYS5lbnRlck1vZGVdK1xuXCIgXCIrR1thLnNoaWZ0RW50ZXJNb2RlXSxcImRlZmF1bHRcIiwxKSx0aGlzLmRpc2FsbG93KGEuY29uZmlnLmRpc2FsbG93ZWRDb250ZW50KSl9ZWxzZSB0aGlzLmN1c3RvbUNvbmZpZz0hMSx0aGlzLmFsbG93KGEsXCJkZWZhdWx0XCIsMSl9O0NLRURJVE9SLmZpbHRlci5pbnN0YW5jZXM9e307Q0tFRElUT1IuZmlsdGVyLnByb3RvdHlwZT17YWxsb3c6ZnVuY3Rpb24oYixjLGQpe2lmKCFsKHRoaXMsYixkKSlyZXR1cm4hMTt2YXIgZixlO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBiKWI9ZyhiKTtlbHNlIGlmKGIgaW5zdGFuY2VvZiBDS0VESVRPUi5zdHlsZSl7aWYoYi50b0FsbG93ZWRDb250ZW50UnVsZXMpcmV0dXJuIHRoaXMuYWxsb3coYi50b0FsbG93ZWRDb250ZW50UnVsZXModGhpcy5lZGl0b3IpLGMsZCk7Zj1iLmdldERlZmluaXRpb24oKTtiPXt9O2Q9Zi5hdHRyaWJ1dGVzO2JbZi5lbGVtZW50XT1mPXtzdHlsZXM6Zi5zdHlsZXMscmVxdWlyZWRTdHlsZXM6Zi5zdHlsZXMmJkNLRURJVE9SLnRvb2xzLm9iamVjdEtleXMoZi5zdHlsZXMpfTtcbmQmJihkPUUoZCksZi5jbGFzc2VzPWRbXCJjbGFzc1wiXT9kW1wiY2xhc3NcIl0uc3BsaXQoL1xccysvKTpudWxsLGYucmVxdWlyZWRDbGFzc2VzPWYuY2xhc3NlcyxkZWxldGUgZFtcImNsYXNzXCJdLGYuYXR0cmlidXRlcz1kLGYucmVxdWlyZWRBdHRyaWJ1dGVzPWQmJkNLRURJVE9SLnRvb2xzLm9iamVjdEtleXMoZCkpfWVsc2UgaWYoQ0tFRElUT1IudG9vbHMuaXNBcnJheShiKSl7Zm9yKGY9MDtmPGIubGVuZ3RoOysrZillPXRoaXMuYWxsb3coYltmXSxjLGQpO3JldHVybiBlfWEodGhpcyxiLGMsdGhpcy5hbGxvd2VkQ29udGVudCx0aGlzLl8uYWxsb3dlZFJ1bGVzKTtyZXR1cm4hMH0sYXBwbHlUbzpmdW5jdGlvbihhLGIsYyxkKXtpZih0aGlzLmRpc2FibGVkKXJldHVybiExO3ZhciBmPXRoaXMsZz1bXSxlPXRoaXMuZWRpdG9yJiZ0aGlzLmVkaXRvci5jb25maWcucHJvdGVjdGVkU291cmNlLGssaD0hMSxsPXtkb0ZpbHRlcjohYyxkb1RyYW5zZm9ybTohMCxkb0NhbGxiYWNrczohMCx0b0h0bWw6Yn07XG5hLmZvckVhY2goZnVuY3Rpb24oYSl7aWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpe2lmKFwib2ZmXCI9PWEuYXR0cmlidXRlc1tcImRhdGEtY2tlLWZpbHRlclwiXSlyZXR1cm4hMTtpZighYnx8XCJzcGFuXCIhPWEubmFtZXx8IX5DS0VESVRPUi50b29scy5vYmplY3RLZXlzKGEuYXR0cmlidXRlcykuam9pbihcInxcIikuaW5kZXhPZihcImRhdGEtY2tlLVwiKSlpZihrPXIoZixhLGcsbCksayYxKWg9ITA7ZWxzZSBpZihrJjIpcmV0dXJuITF9ZWxzZSBpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfQ09NTUVOVCYmYS52YWx1ZS5tYXRjaCgvXlxce2NrZV9wcm90ZWN0ZWRcXH0oPyFcXHtDXFx9KS8pKXt2YXIgYzthOnt2YXIgZD1kZWNvZGVVUklDb21wb25lbnQoYS52YWx1ZS5yZXBsYWNlKC9eXFx7Y2tlX3Byb3RlY3RlZFxcfS8sXCJcIikpO2M9W107dmFyIHUsbSx0O2lmKGUpZm9yKG09MDttPGUubGVuZ3RoOysrbSlpZigodD1kLm1hdGNoKGVbbV0pKSYmdFswXS5sZW5ndGg9PWQubGVuZ3RoKXtjPSEwO1xuYnJlYWsgYX1kPUNLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQuZnJvbUh0bWwoZCk7MT09ZC5jaGlsZHJlbi5sZW5ndGgmJih1PWQuY2hpbGRyZW5bMF0pLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmcihmLHUsYyxsKTtjPSFjLmxlbmd0aH1jfHxnLnB1c2goYSl9fSxudWxsLCEwKTtnLmxlbmd0aCYmKGg9ITApO3ZhciBtO2E9W107ZD1HW2R8fCh0aGlzLmVkaXRvcj90aGlzLmVkaXRvci5lbnRlck1vZGU6Q0tFRElUT1IuRU5URVJfUCldO2Zvcih2YXIgdDtjPWcucG9wKCk7KWMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UP3UoYyxkLGEpOmMucmVtb3ZlKCk7Zm9yKDttPWEucG9wKCk7KWlmKGM9bS5lbCxjLnBhcmVudClzd2l0Y2godD1GW2MucGFyZW50Lm5hbWVdfHxGLnNwYW4sbS5jaGVjayl7Y2FzZSBcIml0XCI6Ri4kcmVtb3ZlRW1wdHlbYy5uYW1lXSYmIWMuY2hpbGRyZW4ubGVuZ3RoP3UoYyxkLGEpOnAoYyl8fHUoYyxkLGEpO2JyZWFrO2Nhc2UgXCJlbC11cFwiOmMucGFyZW50LnR5cGU9PVxuQ0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVHx8dFtjLm5hbWVdfHx1KGMsZCxhKTticmVhaztjYXNlIFwicGFyZW50LWRvd25cIjpjLnBhcmVudC50eXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UfHx0W2MubmFtZV18fHUoYy5wYXJlbnQsZCxhKX1yZXR1cm4gaH0sY2hlY2tGZWF0dXJlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuZGlzYWJsZWR8fCFhKXJldHVybiEwO2EudG9GZWF0dXJlJiYoYT1hLnRvRmVhdHVyZSh0aGlzLmVkaXRvcikpO3JldHVybiFhLnJlcXVpcmVkQ29udGVudHx8dGhpcy5jaGVjayhhLnJlcXVpcmVkQ29udGVudCl9LGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLmRpc2FibGVkPSEwfSxkaXNhbGxvdzpmdW5jdGlvbihiKXtpZighbCh0aGlzLGIsITApKXJldHVybiExO1wic3RyaW5nXCI9PXR5cGVvZiBiJiYoYj1nKGIpKTthKHRoaXMsYixudWxsLHRoaXMuZGlzYWxsb3dlZENvbnRlbnQsdGhpcy5fLmRpc2FsbG93ZWRSdWxlcyk7cmV0dXJuITB9LFxuYWRkQ29udGVudEZvcm1zOmZ1bmN0aW9uKGEpe2lmKCF0aGlzLmRpc2FibGVkJiZhKXt2YXIgYixjLGQ9W10sZjtmb3IoYj0wO2I8YS5sZW5ndGgmJiFmOysrYiljPWFbYl0sKFwic3RyaW5nXCI9PXR5cGVvZiBjfHxjIGluc3RhbmNlb2YgQ0tFRElUT1Iuc3R5bGUpJiZ0aGlzLmNoZWNrKGMpJiYoZj1jKTtpZihmKXtmb3IoYj0wO2I8YS5sZW5ndGg7KytiKWQucHVzaCh5KGFbYl0sZikpO3RoaXMuYWRkVHJhbnNmb3JtYXRpb25zKGQpfX19LGFkZEVsZW1lbnRDYWxsYmFjazpmdW5jdGlvbihhKXt0aGlzLmVsZW1lbnRDYWxsYmFja3N8fCh0aGlzLmVsZW1lbnRDYWxsYmFja3M9W10pO3RoaXMuZWxlbWVudENhbGxiYWNrcy5wdXNoKGEpfSxhZGRGZWF0dXJlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuZGlzYWJsZWR8fCFhKXJldHVybiEwO2EudG9GZWF0dXJlJiYoYT1hLnRvRmVhdHVyZSh0aGlzLmVkaXRvcikpO3RoaXMuYWxsb3coYS5hbGxvd2VkQ29udGVudCxhLm5hbWUpO3RoaXMuYWRkVHJhbnNmb3JtYXRpb25zKGEuY29udGVudFRyYW5zZm9ybWF0aW9ucyk7XG50aGlzLmFkZENvbnRlbnRGb3JtcyhhLmNvbnRlbnRGb3Jtcyk7cmV0dXJuIGEucmVxdWlyZWRDb250ZW50JiYodGhpcy5jdXN0b21Db25maWd8fHRoaXMuZGlzYWxsb3dlZENvbnRlbnQubGVuZ3RoKT90aGlzLmNoZWNrKGEucmVxdWlyZWRDb250ZW50KTohMH0sYWRkVHJhbnNmb3JtYXRpb25zOmZ1bmN0aW9uKGEpe3ZhciBiLGM7aWYoIXRoaXMuZGlzYWJsZWQmJmEpe3ZhciBkPXRoaXMuXy50cmFuc2Zvcm1hdGlvbnMsZjtmb3IoZj0wO2Y8YS5sZW5ndGg7KytmKXtiPWFbZl07dmFyIGc9dm9pZCAwLGU9dm9pZCAwLGs9dm9pZCAwLGg9dm9pZCAwLGw9dm9pZCAwLHU9dm9pZCAwO2M9W107Zm9yKGU9MDtlPGIubGVuZ3RoOysrZSlrPWJbZV0sXCJzdHJpbmdcIj09dHlwZW9mIGs/KGs9ay5zcGxpdCgvXFxzKjpcXHMqLyksaD1rWzBdLGw9bnVsbCx1PWtbMV0pOihoPWsuY2hlY2ssbD1rLmxlZnQsdT1rLnJpZ2h0KSxnfHwoZz1rLGc9Zy5lbGVtZW50P2cuZWxlbWVudDpoP2gubWF0Y2goL14oW2EtejAtOV0rKS9pKVswXTpcbmcubGVmdC5nZXREZWZpbml0aW9uKCkuZWxlbWVudCksbCBpbnN0YW5jZW9mIENLRURJVE9SLnN0eWxlJiYobD1CKGwpKSxjLnB1c2goe2NoZWNrOmg9PWc/bnVsbDpoLGxlZnQ6bCxyaWdodDpcInN0cmluZ1wiPT10eXBlb2YgdT9DKHUpOnV9KTtiPWc7ZFtiXXx8KGRbYl09W10pO2RbYl0ucHVzaChjKX19fSxjaGVjazpmdW5jdGlvbihhLGIsYyl7aWYodGhpcy5kaXNhYmxlZClyZXR1cm4hMDtpZihDS0VESVRPUi50b29scy5pc0FycmF5KGEpKXtmb3IodmFyIGQ9YS5sZW5ndGg7ZC0tOylpZih0aGlzLmNoZWNrKGFbZF0sYixjKSlyZXR1cm4hMDtyZXR1cm4hMX12YXIgZixlO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBhKXtlPWErXCJcXHgzY1wiKyghMT09PWI/XCIwXCI6XCIxXCIpKyhjP1wiMVwiOlwiMFwiKStcIlxceDNlXCI7aWYoZSBpbiB0aGlzLl8uY2FjaGVkQ2hlY2tzKXJldHVybiB0aGlzLl8uY2FjaGVkQ2hlY2tzW2VdO2Q9ZyhhKS4kMTtmPWQuc3R5bGVzO3ZhciBoPWQuY2xhc3NlcztkLm5hbWU9ZC5lbGVtZW50cztcbmQuY2xhc3Nlcz1oPWg/aC5zcGxpdCgvXFxzKixcXHMqLyk6W107ZC5zdHlsZXM9ayhmKTtkLmF0dHJpYnV0ZXM9ayhkLmF0dHJpYnV0ZXMpO2QuY2hpbGRyZW49W107aC5sZW5ndGgmJihkLmF0dHJpYnV0ZXNbXCJjbGFzc1wiXT1oLmpvaW4oXCIgXCIpKTtmJiYoZC5hdHRyaWJ1dGVzLnN0eWxlPUNLRURJVE9SLnRvb2xzLndyaXRlQ3NzVGV4dChkLnN0eWxlcykpO2Y9ZH1lbHNlIGQ9YS5nZXREZWZpbml0aW9uKCksZj1kLnN0eWxlcyxoPWQuYXR0cmlidXRlc3x8e30sZiYmIUNLRURJVE9SLnRvb2xzLmlzRW1wdHkoZik/KGY9RShmKSxoLnN0eWxlPUNLRURJVE9SLnRvb2xzLndyaXRlQ3NzVGV4dChmLCEwKSk6Zj17fSxmPXtuYW1lOmQuZWxlbWVudCxhdHRyaWJ1dGVzOmgsY2xhc3NlczpoW1wiY2xhc3NcIl0/aFtcImNsYXNzXCJdLnNwbGl0KC9cXHMrLyk6W10sc3R5bGVzOmYsY2hpbGRyZW46W119O3ZhciBoPUNLRURJVE9SLnRvb2xzLmNsb25lKGYpLGw9W10sdTtpZighMSE9PWImJih1PXRoaXMuXy50cmFuc2Zvcm1hdGlvbnNbZi5uYW1lXSkpe2ZvcihkPVxuMDtkPHUubGVuZ3RoOysrZCl4KHRoaXMsZix1W2RdKTt0KGYpfXIodGhpcyxoLGwse2RvRmlsdGVyOiEwLGRvVHJhbnNmb3JtOiExIT09Yixza2lwUmVxdWlyZWQ6IWMsc2tpcEZpbmFsVmFsaWRhdGlvbjohY30pO2I9MDxsLmxlbmd0aD8hMTpDS0VESVRPUi50b29scy5vYmplY3RDb21wYXJlKGYuYXR0cmlidXRlcyxoLmF0dHJpYnV0ZXMsITApPyEwOiExO1wic3RyaW5nXCI9PXR5cGVvZiBhJiYodGhpcy5fLmNhY2hlZENoZWNrc1tlXT1iKTtyZXR1cm4gYn0sZ2V0QWxsb3dlZEVudGVyTW9kZTpmdW5jdGlvbigpe3ZhciBhPVtcInBcIixcImRpdlwiLFwiYnJcIl0sYj17cDpDS0VESVRPUi5FTlRFUl9QLGRpdjpDS0VESVRPUi5FTlRFUl9ESVYsYnI6Q0tFRElUT1IuRU5URVJfQlJ9O3JldHVybiBmdW5jdGlvbihjLGQpe3ZhciBmPWEuc2xpY2UoKSxnO2lmKHRoaXMuY2hlY2soR1tjXSkpcmV0dXJuIGM7Zm9yKGR8fChmPWYucmV2ZXJzZSgpKTtnPWYucG9wKCk7KWlmKHRoaXMuY2hlY2soZykpcmV0dXJuIGJbZ107XG5yZXR1cm4gQ0tFRElUT1IuRU5URVJfQlJ9fSgpLGRlc3Ryb3k6ZnVuY3Rpb24oKXtkZWxldGUgQ0tFRElUT1IuZmlsdGVyLmluc3RhbmNlc1t0aGlzLmlkXTtkZWxldGUgdGhpcy5fO2RlbGV0ZSB0aGlzLmFsbG93ZWRDb250ZW50O2RlbGV0ZSB0aGlzLmRpc2FsbG93ZWRDb250ZW50fX07dmFyIE09e3N0eWxlczoxLGF0dHJpYnV0ZXM6MSxjbGFzc2VzOjF9LEk9e3N0eWxlczpcInJlcXVpcmVkU3R5bGVzXCIsYXR0cmlidXRlczpcInJlcXVpcmVkQXR0cmlidXRlc1wiLGNsYXNzZXM6XCJyZXF1aXJlZENsYXNzZXNcIn0sSD0vXihbYS16MC05XFwtKlxcc10rKSgoPzpcXHMqXFx7WyFcXHdcXC0sXFxzXFwqXStcXH1cXHMqfFxccypcXFtbIVxcd1xcLSxcXHNcXCpdK1xcXVxccyp8XFxzKlxcKFshXFx3XFwtLFxcc1xcKl0rXFwpXFxzKil7MCwzfSkoPzo7XFxzKnwkKS9pLFI9e3N0eWxlczoveyhbXn1dKyl9LyxhdHRyczovXFxbKFteXFxdXSspXFxdLyxjbGFzc2VzOi9cXCgoW15cXCldKylcXCkvfSxQPS9eY2tlOihvYmplY3R8ZW1iZWR8cGFyYW0pJC8sXG5UPS9eKG9iamVjdHxlbWJlZHxwYXJhbSkkLyxPO089Q0tFRElUT1IuZmlsdGVyLnRyYW5zZm9ybWF0aW9uc1Rvb2xzPXtzaXplVG9TdHlsZTpmdW5jdGlvbihhKXt0aGlzLmxlbmd0aFRvU3R5bGUoYSxcIndpZHRoXCIpO3RoaXMubGVuZ3RoVG9TdHlsZShhLFwiaGVpZ2h0XCIpfSxzaXplVG9BdHRyaWJ1dGU6ZnVuY3Rpb24oYSl7dGhpcy5sZW5ndGhUb0F0dHJpYnV0ZShhLFwid2lkdGhcIik7dGhpcy5sZW5ndGhUb0F0dHJpYnV0ZShhLFwiaGVpZ2h0XCIpfSxsZW5ndGhUb1N0eWxlOmZ1bmN0aW9uKGEsYixjKXtjPWN8fGI7aWYoIShjIGluIGEuc3R5bGVzKSl7dmFyIGQ9YS5hdHRyaWJ1dGVzW2JdO2QmJigvXlxcZCskLy50ZXN0KGQpJiYoZCs9XCJweFwiKSxhLnN0eWxlc1tjXT1kKX1kZWxldGUgYS5hdHRyaWJ1dGVzW2JdfSxsZW5ndGhUb0F0dHJpYnV0ZTpmdW5jdGlvbihhLGIsYyl7Yz1jfHxiO2lmKCEoYyBpbiBhLmF0dHJpYnV0ZXMpKXt2YXIgZD1hLnN0eWxlc1tiXSxmPWQmJmQubWF0Y2goL14oXFxkKykoPzpcXC5cXGQqKT9weCQvKTtcbmY/YS5hdHRyaWJ1dGVzW2NdPWZbMV06XCJja2UtdGVzdFwiPT1kJiYoYS5hdHRyaWJ1dGVzW2NdPVwiY2tlLXRlc3RcIil9ZGVsZXRlIGEuc3R5bGVzW2JdfSxhbGlnbm1lbnRUb1N0eWxlOmZ1bmN0aW9uKGEpe2lmKCEoXCJmbG9hdFwiaW4gYS5zdHlsZXMpKXt2YXIgYj1hLmF0dHJpYnV0ZXMuYWxpZ247aWYoXCJsZWZ0XCI9PWJ8fFwicmlnaHRcIj09YilhLnN0eWxlc1tcImZsb2F0XCJdPWJ9ZGVsZXRlIGEuYXR0cmlidXRlcy5hbGlnbn0sYWxpZ25tZW50VG9BdHRyaWJ1dGU6ZnVuY3Rpb24oYSl7aWYoIShcImFsaWduXCJpbiBhLmF0dHJpYnV0ZXMpKXt2YXIgYj1hLnN0eWxlc1tcImZsb2F0XCJdO2lmKFwibGVmdFwiPT1ifHxcInJpZ2h0XCI9PWIpYS5hdHRyaWJ1dGVzLmFsaWduPWJ9ZGVsZXRlIGEuc3R5bGVzW1wiZmxvYXRcIl19LG1hdGNoZXNTdHlsZTpELHRyYW5zZm9ybTpmdW5jdGlvbihhLGIpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBiKWEubmFtZT1iO2Vsc2V7dmFyIGM9Yi5nZXREZWZpbml0aW9uKCksZD1jLnN0eWxlcyxcbmY9Yy5hdHRyaWJ1dGVzLGcsZSxrLGg7YS5uYW1lPWMuZWxlbWVudDtmb3IoZyBpbiBmKWlmKFwiY2xhc3NcIj09Zylmb3IoYz1hLmNsYXNzZXMuam9pbihcInxcIiksaz1mW2ddLnNwbGl0KC9cXHMrLyk7aD1rLnBvcCgpOyktMT09Yy5pbmRleE9mKGgpJiZhLmNsYXNzZXMucHVzaChoKTtlbHNlIGEuYXR0cmlidXRlc1tnXT1mW2ddO2ZvcihlIGluIGQpYS5zdHlsZXNbZV09ZFtlXX19fX0oKSxmdW5jdGlvbigpe0NLRURJVE9SLmZvY3VzTWFuYWdlcj1mdW5jdGlvbihhKXtpZihhLmZvY3VzTWFuYWdlcilyZXR1cm4gYS5mb2N1c01hbmFnZXI7dGhpcy5oYXNGb2N1cz0hMTt0aGlzLmN1cnJlbnRBY3RpdmU9bnVsbDt0aGlzLl89e2VkaXRvcjphfTtyZXR1cm4gdGhpc307Q0tFRElUT1IuZm9jdXNNYW5hZ2VyLl89e2JsdXJEZWxheToyMDB9O0NLRURJVE9SLmZvY3VzTWFuYWdlci5wcm90b3R5cGU9e2ZvY3VzOmZ1bmN0aW9uKGEpe3RoaXMuXy50aW1lciYmY2xlYXJUaW1lb3V0KHRoaXMuXy50aW1lcik7XG5hJiYodGhpcy5jdXJyZW50QWN0aXZlPWEpO3RoaXMuaGFzRm9jdXN8fHRoaXMuXy5sb2NrZWR8fCgoYT1DS0VESVRPUi5jdXJyZW50SW5zdGFuY2UpJiZhLmZvY3VzTWFuYWdlci5ibHVyKDEpLHRoaXMuaGFzRm9jdXM9ITAsKGE9dGhpcy5fLmVkaXRvci5jb250YWluZXIpJiZhLmFkZENsYXNzKFwiY2tlX2ZvY3VzXCIpLHRoaXMuXy5lZGl0b3IuZmlyZShcImZvY3VzXCIpKX0sbG9jazpmdW5jdGlvbigpe3RoaXMuXy5sb2NrZWQ9MX0sdW5sb2NrOmZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuXy5sb2NrZWR9LGJsdXI6ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gZSgpe2lmKHRoaXMuaGFzRm9jdXMpe3RoaXMuaGFzRm9jdXM9ITE7dmFyIGE9dGhpcy5fLmVkaXRvci5jb250YWluZXI7YSYmYS5yZW1vdmVDbGFzcyhcImNrZV9mb2N1c1wiKTt0aGlzLl8uZWRpdG9yLmZpcmUoXCJibHVyXCIpfX1pZighdGhpcy5fLmxvY2tlZCl7dGhpcy5fLnRpbWVyJiZjbGVhclRpbWVvdXQodGhpcy5fLnRpbWVyKTt2YXIgYj1cbkNLRURJVE9SLmZvY3VzTWFuYWdlci5fLmJsdXJEZWxheTthfHwhYj9lLmNhbGwodGhpcyk6dGhpcy5fLnRpbWVyPUNLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5fLnRpbWVyO2UuY2FsbCh0aGlzKX0sYix0aGlzKX19LGFkZDpmdW5jdGlvbihhLGUpe3ZhciBiPWEuZ2V0Q3VzdG9tRGF0YShcImZvY3VzbWFuYWdlclwiKTtpZighYnx8YiE9dGhpcyl7YiYmYi5yZW1vdmUoYSk7dmFyIGI9XCJmb2N1c1wiLGM9XCJibHVyXCI7ZSYmKENLRURJVE9SLmVudi5pZT8oYj1cImZvY3VzaW5cIixjPVwiZm9jdXNvdXRcIik6Q0tFRElUT1IuZXZlbnQudXNlQ2FwdHVyZT0xKTt2YXIgZD17Ymx1cjpmdW5jdGlvbigpe2EuZXF1YWxzKHRoaXMuY3VycmVudEFjdGl2ZSkmJnRoaXMuYmx1cigpfSxmb2N1czpmdW5jdGlvbigpe3RoaXMuZm9jdXMoYSl9fTthLm9uKGIsZC5mb2N1cyx0aGlzKTthLm9uKGMsZC5ibHVyLHRoaXMpO2UmJihDS0VESVRPUi5ldmVudC51c2VDYXB0dXJlPVxuMCk7YS5zZXRDdXN0b21EYXRhKFwiZm9jdXNtYW5hZ2VyXCIsdGhpcyk7YS5zZXRDdXN0b21EYXRhKFwiZm9jdXNtYW5hZ2VyX2hhbmRsZXJzXCIsZCl9fSxyZW1vdmU6ZnVuY3Rpb24oYSl7YS5yZW1vdmVDdXN0b21EYXRhKFwiZm9jdXNtYW5hZ2VyXCIpO3ZhciBlPWEucmVtb3ZlQ3VzdG9tRGF0YShcImZvY3VzbWFuYWdlcl9oYW5kbGVyc1wiKTthLnJlbW92ZUxpc3RlbmVyKFwiYmx1clwiLGUuYmx1cik7YS5yZW1vdmVMaXN0ZW5lcihcImZvY3VzXCIsZS5mb2N1cyl9fX0oKSxDS0VESVRPUi5rZXlzdHJva2VIYW5kbGVyPWZ1bmN0aW9uKGEpe2lmKGEua2V5c3Ryb2tlSGFuZGxlcilyZXR1cm4gYS5rZXlzdHJva2VIYW5kbGVyO3RoaXMua2V5c3Ryb2tlcz17fTt0aGlzLmJsb2NrZWRLZXlzdHJva2VzPXt9O3RoaXMuXz17ZWRpdG9yOmF9O3JldHVybiB0aGlzfSxmdW5jdGlvbigpe3ZhciBhLGU9ZnVuY3Rpb24oYil7Yj1iLmRhdGE7dmFyIGQ9Yi5nZXRLZXlzdHJva2UoKSxlPXRoaXMua2V5c3Ryb2tlc1tkXSxcbm09dGhpcy5fLmVkaXRvcjthPSExPT09bS5maXJlKFwia2V5XCIse2tleUNvZGU6ZCxkb21FdmVudDpifSk7YXx8KGUmJihhPSExIT09bS5leGVjQ29tbWFuZChlLHtmcm9tOlwia2V5c3Ryb2tlSGFuZGxlclwifSkpLGF8fChhPSEhdGhpcy5ibG9ja2VkS2V5c3Ryb2tlc1tkXSkpO2EmJmIucHJldmVudERlZmF1bHQoITApO3JldHVybiFhfSxiPWZ1bmN0aW9uKGIpe2EmJihhPSExLGIuZGF0YS5wcmV2ZW50RGVmYXVsdCghMCkpfTtDS0VESVRPUi5rZXlzdHJva2VIYW5kbGVyLnByb3RvdHlwZT17YXR0YWNoOmZ1bmN0aW9uKGEpe2Eub24oXCJrZXlkb3duXCIsZSx0aGlzKTtpZihDS0VESVRPUi5lbnYuZ2Vja28mJkNLRURJVE9SLmVudi5tYWMpYS5vbihcImtleXByZXNzXCIsYix0aGlzKX19fSgpLGZ1bmN0aW9uKCl7Q0tFRElUT1IubGFuZz17bGFuZ3VhZ2VzOnthZjoxLGFyOjEsYmc6MSxibjoxLGJzOjEsY2E6MSxjczoxLGN5OjEsZGE6MSxkZToxLFwiZGUtY2hcIjoxLGVsOjEsXCJlbi1hdVwiOjEsXCJlbi1jYVwiOjEsXG5cImVuLWdiXCI6MSxlbjoxLGVvOjEsZXM6MSxldDoxLGV1OjEsZmE6MSxmaToxLGZvOjEsXCJmci1jYVwiOjEsZnI6MSxnbDoxLGd1OjEsaGU6MSxoaToxLGhyOjEsaHU6MSxpZDoxLGlzOjEsaXQ6MSxqYToxLGthOjEsa206MSxrbzoxLGt1OjEsbHQ6MSxsdjoxLG1rOjEsbW46MSxtczoxLG5iOjEsbmw6MSxubzoxLHBsOjEsXCJwdC1iclwiOjEscHQ6MSxybzoxLHJ1OjEsc2k6MSxzazoxLHNsOjEsc3E6MSxcInNyLWxhdG5cIjoxLHNyOjEsc3Y6MSx0aDoxLHRyOjEsdHQ6MSx1ZzoxLHVrOjEsdmk6MSxcInpoLWNuXCI6MSx6aDoxfSxydGw6e2FyOjEsZmE6MSxoZToxLGt1OjEsdWc6MX0sbG9hZDpmdW5jdGlvbihhLGUsYil7YSYmQ0tFRElUT1IubGFuZy5sYW5ndWFnZXNbYV18fChhPXRoaXMuZGV0ZWN0KGUsYSkpO3ZhciBjPXRoaXM7ZT1mdW5jdGlvbigpe2NbYV0uZGlyPWMucnRsW2FdP1wicnRsXCI6XCJsdHJcIjtiKGEsY1thXSl9O3RoaXNbYV0/ZSgpOkNLRURJVE9SLnNjcmlwdExvYWRlci5sb2FkKENLRURJVE9SLmdldFVybChcImxhbmcvXCIrXG5hK1wiLmpzXCIpLGUsdGhpcyl9LGRldGVjdDpmdW5jdGlvbihhLGUpe3ZhciBiPXRoaXMubGFuZ3VhZ2VzO2U9ZXx8bmF2aWdhdG9yLnVzZXJMYW5ndWFnZXx8bmF2aWdhdG9yLmxhbmd1YWdlfHxhO3ZhciBjPWUudG9Mb3dlckNhc2UoKS5tYXRjaCgvKFthLXpdKykoPzotKFthLXpdKykpPy8pLGQ9Y1sxXSxjPWNbMl07YltkK1wiLVwiK2NdP2Q9ZCtcIi1cIitjOmJbZF18fChkPW51bGwpO0NLRURJVE9SLmxhbmcuZGV0ZWN0PWQ/ZnVuY3Rpb24oKXtyZXR1cm4gZH06ZnVuY3Rpb24oYSl7cmV0dXJuIGF9O3JldHVybiBkfHxhfX19KCksQ0tFRElUT1Iuc2NyaXB0TG9hZGVyPWZ1bmN0aW9uKCl7dmFyIGE9e30sZT17fTtyZXR1cm57bG9hZDpmdW5jdGlvbihiLGMsZCxsKXt2YXIgbT1cInN0cmluZ1wiPT10eXBlb2YgYjttJiYoYj1bYl0pO2R8fChkPUNLRURJVE9SKTt2YXIgZj1iLmxlbmd0aCxoPVtdLGs9W10sZz1mdW5jdGlvbihhKXtjJiYobT9jLmNhbGwoZCxhKTpjLmNhbGwoZCxoLGspKX07aWYoMD09PVxuZilnKCEwKTtlbHNle3ZhciBuPWZ1bmN0aW9uKGEsYil7KGI/aDprKS5wdXNoKGEpOzA+PS0tZiYmKGwmJkNLRURJVE9SLmRvY3VtZW50LmdldERvY3VtZW50RWxlbWVudCgpLnJlbW92ZVN0eWxlKFwiY3Vyc29yXCIpLGcoYikpfSx2PWZ1bmN0aW9uKGIsYyl7YVtiXT0xO3ZhciBkPWVbYl07ZGVsZXRlIGVbYl07Zm9yKHZhciBmPTA7ZjxkLmxlbmd0aDtmKyspZFtmXShiLGMpfSxyPWZ1bmN0aW9uKGIpe2lmKGFbYl0pbihiLCEwKTtlbHNle3ZhciBkPWVbYl18fChlW2JdPVtdKTtkLnB1c2gobik7aWYoISgxPGQubGVuZ3RoKSl7dmFyIGY9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwic2NyaXB0XCIpO2Yuc2V0QXR0cmlidXRlcyh7dHlwZTpcInRleHQvamF2YXNjcmlwdFwiLHNyYzpifSk7YyYmKENLRURJVE9SLmVudi5pZSYmKDg+PUNLRURJVE9SLmVudi52ZXJzaW9ufHxDS0VESVRPUi5lbnYuaWU5Q29tcGF0KT9mLiQub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoXCJsb2FkZWRcIj09XG5mLiQucmVhZHlTdGF0ZXx8XCJjb21wbGV0ZVwiPT1mLiQucmVhZHlTdGF0ZSlmLiQub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsdihiLCEwKX06KGYuJC5vbmxvYWQ9ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dihiLCEwKX0sMCl9LGYuJC5vbmVycm9yPWZ1bmN0aW9uKCl7dihiLCExKX0pKTtmLmFwcGVuZFRvKENLRURJVE9SLmRvY3VtZW50LmdldEhlYWQoKSl9fX07bCYmQ0tFRElUT1IuZG9jdW1lbnQuZ2V0RG9jdW1lbnRFbGVtZW50KCkuc2V0U3R5bGUoXCJjdXJzb3JcIixcIndhaXRcIik7Zm9yKHZhciBxPTA7cTxmO3ErKylyKGJbcV0pfX0scXVldWU6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7dmFyIGI7KGI9Y1swXSkmJnRoaXMubG9hZChiLnNjcmlwdFVybCxiLmNhbGxiYWNrLENLRURJVE9SLDApfXZhciBjPVtdO3JldHVybiBmdW5jdGlvbihkLGUpe3ZhciBtPXRoaXM7Yy5wdXNoKHtzY3JpcHRVcmw6ZCxjYWxsYmFjazpmdW5jdGlvbigpe2UmJmUuYXBwbHkodGhpcyxcbmFyZ3VtZW50cyk7Yy5zaGlmdCgpO2EuY2FsbChtKX19KTsxPT1jLmxlbmd0aCYmYS5jYWxsKHRoaXMpfX0oKX19KCksQ0tFRElUT1IucmVzb3VyY2VNYW5hZ2VyPWZ1bmN0aW9uKGEsZSl7dGhpcy5iYXNlUGF0aD1hO3RoaXMuZmlsZU5hbWU9ZTt0aGlzLnJlZ2lzdGVyZWQ9e307dGhpcy5sb2FkZWQ9e307dGhpcy5leHRlcm5hbHM9e307dGhpcy5fPXt3YWl0aW5nTGlzdDp7fX19LENLRURJVE9SLnJlc291cmNlTWFuYWdlci5wcm90b3R5cGU9e2FkZDpmdW5jdGlvbihhLGUpe2lmKHRoaXMucmVnaXN0ZXJlZFthXSl0aHJvdyBFcnJvcignW0NLRURJVE9SLnJlc291cmNlTWFuYWdlci5hZGRdIFRoZSByZXNvdXJjZSBuYW1lIFwiJythKydcIiBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQuJyk7dmFyIGI9dGhpcy5yZWdpc3RlcmVkW2FdPWV8fHt9O2IubmFtZT1hO2IucGF0aD10aGlzLmdldFBhdGgoYSk7Q0tFRElUT1IuZmlyZShhK0NLRURJVE9SLnRvb2xzLmNhcGl0YWxpemUodGhpcy5maWxlTmFtZSkrXG5cIlJlYWR5XCIsYik7cmV0dXJuIHRoaXMuZ2V0KGEpfSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucmVnaXN0ZXJlZFthXXx8bnVsbH0sZ2V0UGF0aDpmdW5jdGlvbihhKXt2YXIgZT10aGlzLmV4dGVybmFsc1thXTtyZXR1cm4gQ0tFRElUT1IuZ2V0VXJsKGUmJmUuZGlyfHx0aGlzLmJhc2VQYXRoK2ErXCIvXCIpfSxnZXRGaWxlUGF0aDpmdW5jdGlvbihhKXt2YXIgZT10aGlzLmV4dGVybmFsc1thXTtyZXR1cm4gQ0tFRElUT1IuZ2V0VXJsKHRoaXMuZ2V0UGF0aChhKSsoZT9lLmZpbGU6dGhpcy5maWxlTmFtZStcIi5qc1wiKSl9LGFkZEV4dGVybmFsOmZ1bmN0aW9uKGEsZSxiKXthPWEuc3BsaXQoXCIsXCIpO2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgZD1hW2NdO2J8fChlPWUucmVwbGFjZSgvW15cXC9dKyQvLGZ1bmN0aW9uKGEpe2I9YTtyZXR1cm5cIlwifSkpO3RoaXMuZXh0ZXJuYWxzW2RdPXtkaXI6ZSxmaWxlOmJ8fHRoaXMuZmlsZU5hbWUrXCIuanNcIn19fSxsb2FkOmZ1bmN0aW9uKGEsXG5lLGIpe0NLRURJVE9SLnRvb2xzLmlzQXJyYXkoYSl8fChhPWE/W2FdOltdKTtmb3IodmFyIGM9dGhpcy5sb2FkZWQsZD10aGlzLnJlZ2lzdGVyZWQsbD1bXSxtPXt9LGY9e30saD0wO2g8YS5sZW5ndGg7aCsrKXt2YXIgaz1hW2hdO2lmKGspaWYoY1trXXx8ZFtrXSlmW2tdPXRoaXMuZ2V0KGspO2Vsc2V7dmFyIGc9dGhpcy5nZXRGaWxlUGF0aChrKTtsLnB1c2goZyk7ZyBpbiBtfHwobVtnXT1bXSk7bVtnXS5wdXNoKGspfX1DS0VESVRPUi5zY3JpcHRMb2FkZXIubG9hZChsLGZ1bmN0aW9uKGEsZCl7aWYoZC5sZW5ndGgpdGhyb3cgRXJyb3IoJ1tDS0VESVRPUi5yZXNvdXJjZU1hbmFnZXIubG9hZF0gUmVzb3VyY2UgbmFtZSBcIicrbVtkWzBdXS5qb2luKFwiLFwiKSsnXCIgd2FzIG5vdCBmb3VuZCBhdCBcIicrZFswXSsnXCIuJyk7Zm9yKHZhciBnPTA7ZzxhLmxlbmd0aDtnKyspZm9yKHZhciBrPW1bYVtnXV0saD0wO2g8ay5sZW5ndGg7aCsrKXt2YXIgbD1rW2hdO2ZbbF09dGhpcy5nZXQobCk7XG5jW2xdPTF9ZS5jYWxsKGIsZil9LHRoaXMpfX0sQ0tFRElUT1IucGx1Z2lucz1uZXcgQ0tFRElUT1IucmVzb3VyY2VNYW5hZ2VyKFwicGx1Z2lucy9cIixcInBsdWdpblwiKSxDS0VESVRPUi5wbHVnaW5zLmxvYWQ9Q0tFRElUT1IudG9vbHMub3ZlcnJpZGUoQ0tFRElUT1IucGx1Z2lucy5sb2FkLGZ1bmN0aW9uKGEpe3ZhciBlPXt9O3JldHVybiBmdW5jdGlvbihiLGMsZCl7dmFyIGw9e30sbT1mdW5jdGlvbihiKXthLmNhbGwodGhpcyxiLGZ1bmN0aW9uKGEpe0NLRURJVE9SLnRvb2xzLmV4dGVuZChsLGEpO3ZhciBiPVtdLGY7Zm9yKGYgaW4gYSl7dmFyIG49YVtmXSx2PW4mJm4ucmVxdWlyZXM7aWYoIWVbZl0pe2lmKG4uaWNvbnMpZm9yKHZhciByPW4uaWNvbnMuc3BsaXQoXCIsXCIpLHE9ci5sZW5ndGg7cS0tOylDS0VESVRPUi5za2luLmFkZEljb24ocltxXSxuLnBhdGgrXCJpY29ucy9cIisoQ0tFRElUT1IuZW52LmhpZHBpJiZuLmhpZHBpP1wiaGlkcGkvXCI6XCJcIikrcltxXStcIi5wbmdcIik7ZVtmXT1cbjF9aWYodilmb3Iodi5zcGxpdCYmKHY9di5zcGxpdChcIixcIikpLG49MDtuPHYubGVuZ3RoO24rKylsW3Zbbl1dfHxiLnB1c2godltuXSl9aWYoYi5sZW5ndGgpbS5jYWxsKHRoaXMsYik7ZWxzZXtmb3IoZiBpbiBsKW49bFtmXSxuLm9uTG9hZCYmIW4ub25Mb2FkLl9jYWxsZWQmJighMT09PW4ub25Mb2FkKCkmJmRlbGV0ZSBsW2ZdLG4ub25Mb2FkLl9jYWxsZWQ9MSk7YyYmYy5jYWxsKGR8fHdpbmRvdyxsKX19LHRoaXMpfTttLmNhbGwodGhpcyxiKX19KSxDS0VESVRPUi5wbHVnaW5zLnNldExhbmc9ZnVuY3Rpb24oYSxlLGIpe3ZhciBjPXRoaXMuZ2V0KGEpO2E9Yy5sYW5nRW50cmllc3x8KGMubGFuZ0VudHJpZXM9e30pO2M9Yy5sYW5nfHwoYy5sYW5nPVtdKTtjLnNwbGl0JiYoYz1jLnNwbGl0KFwiLFwiKSk7LTE9PUNLRURJVE9SLnRvb2xzLmluZGV4T2YoYyxlKSYmYy5wdXNoKGUpO2FbZV09Yn0sQ0tFRElUT1IudWk9ZnVuY3Rpb24oYSl7aWYoYS51aSlyZXR1cm4gYS51aTt0aGlzLml0ZW1zPVxue307dGhpcy5pbnN0YW5jZXM9e307dGhpcy5lZGl0b3I9YTt0aGlzLl89e2hhbmRsZXJzOnt9fTtyZXR1cm4gdGhpc30sQ0tFRElUT1IudWkucHJvdG90eXBlPXthZGQ6ZnVuY3Rpb24oYSxlLGIpe2IubmFtZT1hLnRvTG93ZXJDYXNlKCk7dmFyIGM9dGhpcy5pdGVtc1thXT17dHlwZTplLGNvbW1hbmQ6Yi5jb21tYW5kfHxudWxsLGFyZ3M6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpfTtDS0VESVRPUi50b29scy5leHRlbmQoYyxiKX0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmluc3RhbmNlc1thXX0sY3JlYXRlOmZ1bmN0aW9uKGEpe3ZhciBlPXRoaXMuaXRlbXNbYV0sYj1lJiZ0aGlzLl8uaGFuZGxlcnNbZS50eXBlXSxjPWUmJmUuY29tbWFuZCYmdGhpcy5lZGl0b3IuZ2V0Q29tbWFuZChlLmNvbW1hbmQpLGI9YiYmYi5jcmVhdGUuYXBwbHkodGhpcyxlLmFyZ3MpO3RoaXMuaW5zdGFuY2VzW2FdPWI7YyYmYy51aUl0ZW1zLnB1c2goYik7YiYmIWIudHlwZSYmXG4oYi50eXBlPWUudHlwZSk7cmV0dXJuIGJ9LGFkZEhhbmRsZXI6ZnVuY3Rpb24oYSxlKXt0aGlzLl8uaGFuZGxlcnNbYV09ZX0sc3BhY2U6ZnVuY3Rpb24oYSl7cmV0dXJuIENLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQodGhpcy5zcGFjZUlkKGEpKX0sc3BhY2VJZDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lZGl0b3IuaWQrXCJfXCIrYX19LENLRURJVE9SLmV2ZW50LmltcGxlbWVudE9uKENLRURJVE9SLnVpKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxkLGcpe0NLRURJVE9SLmV2ZW50LmNhbGwodGhpcyk7YT1hJiZDS0VESVRPUi50b29scy5jbG9uZShhKTtpZih2b2lkIDAhPT1kKXtpZighKGQgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20uZWxlbWVudCkpdGhyb3cgRXJyb3IoXCJFeHBlY3QgZWxlbWVudCBvZiB0eXBlIENLRURJVE9SLmRvbS5lbGVtZW50LlwiKTtpZighZyl0aHJvdyBFcnJvcihcIk9uZSBvZiB0aGUgZWxlbWVudCBtb2RlcyBtdXN0IGJlIHNwZWNpZmllZC5cIik7aWYoQ0tFRElUT1IuZW52LmllJiZcbkNLRURJVE9SLmVudi5xdWlya3MmJmc9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkUpdGhyb3cgRXJyb3IoXCJJbmxpbmUgZWxlbWVudCBtb2RlIGlzIG5vdCBzdXBwb3J0ZWQgb24gSUUgcXVpcmtzLlwiKTtpZighYihkLGcpKXRocm93IEVycm9yKCdUaGUgc3BlY2lmaWVkIGVsZW1lbnQgbW9kZSBpcyBub3Qgc3VwcG9ydGVkIG9uIGVsZW1lbnQ6IFwiJytkLmdldE5hbWUoKSsnXCIuJyk7dGhpcy5lbGVtZW50PWQ7dGhpcy5lbGVtZW50TW9kZT1nO3RoaXMubmFtZT10aGlzLmVsZW1lbnRNb2RlIT1DS0VESVRPUi5FTEVNRU5UX01PREVfQVBQRU5EVE8mJihkLmdldElkKCl8fGQuZ2V0TmFtZUF0dCgpKX1lbHNlIHRoaXMuZWxlbWVudE1vZGU9Q0tFRElUT1IuRUxFTUVOVF9NT0RFX05PTkU7dGhpcy5fPXt9O3RoaXMuY29tbWFuZHM9e307dGhpcy50ZW1wbGF0ZXM9e307dGhpcy5uYW1lPXRoaXMubmFtZXx8ZSgpO3RoaXMuaWQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCk7dGhpcy5zdGF0dXM9XG5cInVubG9hZGVkXCI7dGhpcy5jb25maWc9Q0tFRElUT1IudG9vbHMucHJvdG90eXBlZENvcHkoQ0tFRElUT1IuY29uZmlnKTt0aGlzLnVpPW5ldyBDS0VESVRPUi51aSh0aGlzKTt0aGlzLmZvY3VzTWFuYWdlcj1uZXcgQ0tFRElUT1IuZm9jdXNNYW5hZ2VyKHRoaXMpO3RoaXMua2V5c3Ryb2tlSGFuZGxlcj1uZXcgQ0tFRElUT1Iua2V5c3Ryb2tlSGFuZGxlcih0aGlzKTt0aGlzLm9uKFwicmVhZE9ubHlcIixjKTt0aGlzLm9uKFwic2VsZWN0aW9uQ2hhbmdlXCIsZnVuY3Rpb24oYSl7bCh0aGlzLGEuZGF0YS5wYXRoKX0pO3RoaXMub24oXCJhY3RpdmVGaWx0ZXJDaGFuZ2VcIixmdW5jdGlvbigpe2wodGhpcyx0aGlzLmVsZW1lbnRQYXRoKCksITApfSk7dGhpcy5vbihcIm1vZGVcIixjKTt0aGlzLm9uKFwiaW5zdGFuY2VSZWFkeVwiLGZ1bmN0aW9uKCl7dGhpcy5jb25maWcuc3RhcnR1cEZvY3VzJiZ0aGlzLmZvY3VzKCl9KTtDS0VESVRPUi5maXJlKFwiaW5zdGFuY2VDcmVhdGVkXCIsbnVsbCx0aGlzKTtDS0VESVRPUi5hZGQodGhpcyk7XG5DS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XCJkZXN0cm95ZWRcIiE9PXRoaXMuc3RhdHVzP2YodGhpcyxhKTpDS0VESVRPUi53YXJuKFwiZWRpdG9yLWluY29ycmVjdC1kZXN0cm95XCIpfSwwLHRoaXMpfWZ1bmN0aW9uIGUoKXtkbyB2YXIgYT1cImVkaXRvclwiKyArK3I7d2hpbGUoQ0tFRElUT1IuaW5zdGFuY2VzW2FdKTtyZXR1cm4gYX1mdW5jdGlvbiBiKGEsYil7cmV0dXJuIGI9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkU/YS5pcyhDS0VESVRPUi5kdGQuJGVkaXRhYmxlKXx8YS5pcyhcInRleHRhcmVhXCIpOmI9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9SRVBMQUNFPyFhLmlzKENLRURJVE9SLmR0ZC4kbm9uQm9keUNvbnRlbnQpOjF9ZnVuY3Rpb24gYygpe3ZhciBhPXRoaXMuY29tbWFuZHMsYjtmb3IoYiBpbiBhKWQodGhpcyxhW2JdKX1mdW5jdGlvbiBkKGEsYil7YltiLnN0YXJ0RGlzYWJsZWQ/XCJkaXNhYmxlXCI6YS5yZWFkT25seSYmIWIucmVhZE9ubHk/XCJkaXNhYmxlXCI6XG5iLm1vZGVzW2EubW9kZV0/XCJlbmFibGVcIjpcImRpc2FibGVcIl0oKX1mdW5jdGlvbiBsKGEsYixjKXtpZihiKXt2YXIgZCxmLGc9YS5jb21tYW5kcztmb3IoZiBpbiBnKWQ9Z1tmXSwoY3x8ZC5jb250ZXh0U2Vuc2l0aXZlKSYmZC5yZWZyZXNoKGEsYil9fWZ1bmN0aW9uIG0oYSl7dmFyIGI9YS5jb25maWcuY3VzdG9tQ29uZmlnO2lmKCFiKXJldHVybiExO3ZhciBiPUNLRURJVE9SLmdldFVybChiKSxjPXFbYl18fChxW2JdPXt9KTtjLmZuPyhjLmZuLmNhbGwoYSxhLmNvbmZpZyksQ0tFRElUT1IuZ2V0VXJsKGEuY29uZmlnLmN1c3RvbUNvbmZpZykhPWImJm0oYSl8fGEuZmlyZU9uY2UoXCJjdXN0b21Db25maWdMb2FkZWRcIikpOkNLRURJVE9SLnNjcmlwdExvYWRlci5xdWV1ZShiLGZ1bmN0aW9uKCl7Yy5mbj1DS0VESVRPUi5lZGl0b3JDb25maWc/Q0tFRElUT1IuZWRpdG9yQ29uZmlnOmZ1bmN0aW9uKCl7fTttKGEpfSk7cmV0dXJuITB9ZnVuY3Rpb24gZihhLGIpe2Eub24oXCJjdXN0b21Db25maWdMb2FkZWRcIixcbmZ1bmN0aW9uKCl7aWYoYil7aWYoYi5vbilmb3IodmFyIGMgaW4gYi5vbilhLm9uKGMsYi5vbltjXSk7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKGEuY29uZmlnLGIsITApO2RlbGV0ZSBhLmNvbmZpZy5vbn1jPWEuY29uZmlnO2EucmVhZE9ubHk9Yy5yZWFkT25seT8hMDphLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FP2EuZWxlbWVudC5pcyhcInRleHRhcmVhXCIpP2EuZWxlbWVudC5oYXNBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKXx8YS5lbGVtZW50Lmhhc0F0dHJpYnV0ZShcInJlYWRvbmx5XCIpOmEuZWxlbWVudC5pc1JlYWRPbmx5KCk6YS5lbGVtZW50TW9kZT09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX1JFUExBQ0U/YS5lbGVtZW50Lmhhc0F0dHJpYnV0ZShcImRpc2FibGVkXCIpfHxhLmVsZW1lbnQuaGFzQXR0cmlidXRlKFwicmVhZG9ubHlcIik6ITE7YS5ibG9ja2xlc3M9YS5lbGVtZW50TW9kZT09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORT8hKGEuZWxlbWVudC5pcyhcInRleHRhcmVhXCIpfHxcbkNLRURJVE9SLmR0ZFthLmVsZW1lbnQuZ2V0TmFtZSgpXS5wKTohMTthLnRhYkluZGV4PWMudGFiSW5kZXh8fGEuZWxlbWVudCYmYS5lbGVtZW50LmdldEF0dHJpYnV0ZShcInRhYmluZGV4XCIpfHwwO2EuYWN0aXZlRW50ZXJNb2RlPWEuZW50ZXJNb2RlPWEuYmxvY2tsZXNzP0NLRURJVE9SLkVOVEVSX0JSOmMuZW50ZXJNb2RlO2EuYWN0aXZlU2hpZnRFbnRlck1vZGU9YS5zaGlmdEVudGVyTW9kZT1hLmJsb2NrbGVzcz9DS0VESVRPUi5FTlRFUl9CUjpjLnNoaWZ0RW50ZXJNb2RlO2Muc2tpbiYmKENLRURJVE9SLnNraW5OYW1lPWMuc2tpbik7YS5maXJlT25jZShcImNvbmZpZ0xvYWRlZFwiKTthLmRhdGFQcm9jZXNzb3I9bmV3IENLRURJVE9SLmh0bWxEYXRhUHJvY2Vzc29yKGEpO2EuZmlsdGVyPWEuYWN0aXZlRmlsdGVyPW5ldyBDS0VESVRPUi5maWx0ZXIoYSk7aChhKX0pO2ImJm51bGwhPWIuY3VzdG9tQ29uZmlnJiYoYS5jb25maWcuY3VzdG9tQ29uZmlnPWIuY3VzdG9tQ29uZmlnKTtcbm0oYSl8fGEuZmlyZU9uY2UoXCJjdXN0b21Db25maWdMb2FkZWRcIil9ZnVuY3Rpb24gaChhKXtDS0VESVRPUi5za2luLmxvYWRQYXJ0KFwiZWRpdG9yXCIsZnVuY3Rpb24oKXtrKGEpfSl9ZnVuY3Rpb24gayhhKXtDS0VESVRPUi5sYW5nLmxvYWQoYS5jb25maWcubGFuZ3VhZ2UsYS5jb25maWcuZGVmYXVsdExhbmd1YWdlLGZ1bmN0aW9uKGIsYyl7dmFyIGQ9YS5jb25maWcudGl0bGU7YS5sYW5nQ29kZT1iO2EubGFuZz1DS0VESVRPUi50b29scy5wcm90b3R5cGVkQ29weShjKTthLnRpdGxlPVwic3RyaW5nXCI9PXR5cGVvZiBkfHwhMT09PWQ/ZDpbYS5sYW5nLmVkaXRvcixhLm5hbWVdLmpvaW4oXCIsIFwiKTthLmNvbmZpZy5jb250ZW50c0xhbmdEaXJlY3Rpb258fChhLmNvbmZpZy5jb250ZW50c0xhbmdEaXJlY3Rpb249YS5lbGVtZW50TW9kZT09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORT9hLmVsZW1lbnQuZ2V0RGlyZWN0aW9uKDEpOmEubGFuZy5kaXIpO2EuZmlyZShcImxhbmdMb2FkZWRcIik7XG5nKGEpfSl9ZnVuY3Rpb24gZyhhKXthLmdldFN0eWxlc1NldChmdW5jdGlvbihiKXthLm9uY2UoXCJsb2FkZWRcIixmdW5jdGlvbigpe2EuZmlyZShcInN0eWxlc1NldFwiLHtzdHlsZXM6Yn0pfSxudWxsLG51bGwsMSk7bihhKX0pfWZ1bmN0aW9uIG4oYSl7dmFyIGI9YS5jb25maWcsYz1iLnBsdWdpbnMsZD1iLmV4dHJhUGx1Z2lucyxmPWIucmVtb3ZlUGx1Z2lucztpZihkKXZhciBnPW5ldyBSZWdFeHAoXCIoPzpefCwpKD86XCIrZC5yZXBsYWNlKC9cXHMqLFxccyovZyxcInxcIikrXCIpKD9cXHgzZCx8JClcIixcImdcIiksYz1jLnJlcGxhY2UoZyxcIlwiKSxjPWMrKFwiLFwiK2QpO2lmKGYpdmFyIGU9bmV3IFJlZ0V4cChcIig/Ol58LCkoPzpcIitmLnJlcGxhY2UoL1xccyosXFxzKi9nLFwifFwiKStcIikoP1xceDNkLHwkKVwiLFwiZ1wiKSxjPWMucmVwbGFjZShlLFwiXCIpO0NLRURJVE9SLmVudi5haXImJihjKz1cIixhZG9iZWFpclwiKTtDS0VESVRPUi5wbHVnaW5zLmxvYWQoYy5zcGxpdChcIixcIiksZnVuY3Rpb24oYyl7dmFyIGQ9W10sXG5mPVtdLGc9W107YS5wbHVnaW5zPWM7Zm9yKHZhciBrIGluIGMpe3ZhciBoPWNba10sbD1oLmxhbmcsdT1udWxsLG09aC5yZXF1aXJlcyxBO0NLRURJVE9SLnRvb2xzLmlzQXJyYXkobSkmJihtPW0uam9pbihcIixcIikpO2lmKG0mJihBPW0ubWF0Y2goZSkpKWZvcig7bT1BLnBvcCgpOylDS0VESVRPUi5lcnJvcihcImVkaXRvci1wbHVnaW4tcmVxdWlyZWRcIix7cGx1Z2luOm0ucmVwbGFjZShcIixcIixcIlwiKSxyZXF1aXJlZEJ5Omt9KTtsJiYhYS5sYW5nW2tdJiYobC5zcGxpdCYmKGw9bC5zcGxpdChcIixcIikpLDA8PUNLRURJVE9SLnRvb2xzLmluZGV4T2YobCxhLmxhbmdDb2RlKT91PWEubGFuZ0NvZGU6KHU9YS5sYW5nQ29kZS5yZXBsYWNlKC8tLiovLFwiXCIpLHU9dSE9YS5sYW5nQ29kZSYmMDw9Q0tFRElUT1IudG9vbHMuaW5kZXhPZihsLHUpP3U6MDw9Q0tFRElUT1IudG9vbHMuaW5kZXhPZihsLFwiZW5cIik/XCJlblwiOmxbMF0pLGgubGFuZ0VudHJpZXMmJmgubGFuZ0VudHJpZXNbdV0/KGEubGFuZ1trXT1cbmgubGFuZ0VudHJpZXNbdV0sdT1udWxsKTpnLnB1c2goQ0tFRElUT1IuZ2V0VXJsKGgucGF0aCtcImxhbmcvXCIrdStcIi5qc1wiKSkpO2YucHVzaCh1KTtkLnB1c2goaCl9Q0tFRElUT1Iuc2NyaXB0TG9hZGVyLmxvYWQoZyxmdW5jdGlvbigpe2Zvcih2YXIgYz1bXCJiZWZvcmVJbml0XCIsXCJpbml0XCIsXCJhZnRlckluaXRcIl0sZz0wO2c8Yy5sZW5ndGg7ZysrKWZvcih2YXIgZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgaz1kW2VdOzA9PT1nJiZmW2VdJiZrLmxhbmcmJmsubGFuZ0VudHJpZXMmJihhLmxhbmdbay5uYW1lXT1rLmxhbmdFbnRyaWVzW2ZbZV1dKTtpZihrW2NbZ11dKWtbY1tnXV0oYSl9YS5maXJlT25jZShcInBsdWdpbnNMb2FkZWRcIik7Yi5rZXlzdHJva2VzJiZhLnNldEtleXN0cm9rZShhLmNvbmZpZy5rZXlzdHJva2VzKTtmb3IoZT0wO2U8YS5jb25maWcuYmxvY2tlZEtleXN0cm9rZXMubGVuZ3RoO2UrKylhLmtleXN0cm9rZUhhbmRsZXIuYmxvY2tlZEtleXN0cm9rZXNbYS5jb25maWcuYmxvY2tlZEtleXN0cm9rZXNbZV1dPVxuMTthLnN0YXR1cz1cImxvYWRlZFwiO2EuZmlyZU9uY2UoXCJsb2FkZWRcIik7Q0tFRElUT1IuZmlyZShcImluc3RhbmNlTG9hZGVkXCIsbnVsbCxhKX0pfSl9ZnVuY3Rpb24gdigpe3ZhciBhPXRoaXMuZWxlbWVudDtpZihhJiZ0aGlzLmVsZW1lbnRNb2RlIT1DS0VESVRPUi5FTEVNRU5UX01PREVfQVBQRU5EVE8pe3ZhciBiPXRoaXMuZ2V0RGF0YSgpO3RoaXMuY29uZmlnLmh0bWxFbmNvZGVPdXRwdXQmJihiPUNLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoYikpO2EuaXMoXCJ0ZXh0YXJlYVwiKT9hLnNldFZhbHVlKGIpOmEuc2V0SHRtbChiKTtyZXR1cm4hMH1yZXR1cm4hMX1hLnByb3RvdHlwZT1DS0VESVRPUi5lZGl0b3IucHJvdG90eXBlO0NLRURJVE9SLmVkaXRvcj1hO3ZhciByPTAscT17fTtDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZSx7YWRkQ29tbWFuZDpmdW5jdGlvbihhLGIpe2IubmFtZT1hLnRvTG93ZXJDYXNlKCk7dmFyIGM9bmV3IENLRURJVE9SLmNvbW1hbmQodGhpcyxcbmIpO3RoaXMubW9kZSYmZCh0aGlzLGMpO3JldHVybiB0aGlzLmNvbW1hbmRzW2FdPWN9LF9hdHRhY2hUb0Zvcm06ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIpe2MudXBkYXRlRWxlbWVudCgpO2MuXy5yZXF1aXJlZCYmIWQuZ2V0VmFsdWUoKSYmITE9PT1jLmZpcmUoXCJyZXF1aXJlZFwiKSYmYi5kYXRhLnByZXZlbnREZWZhdWx0KCl9ZnVuY3Rpb24gYihhKXtyZXR1cm4hIShhJiZhLmNhbGwmJmEuYXBwbHkpfXZhciBjPXRoaXMsZD1jLmVsZW1lbnQsZj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZC4kLmZvcm0pO2QuaXMoXCJ0ZXh0YXJlYVwiKSYmZiYmKGYub24oXCJzdWJtaXRcIixhKSxiKGYuJC5zdWJtaXQpJiYoZi4kLnN1Ym1pdD1DS0VESVRPUi50b29scy5vdmVycmlkZShmLiQuc3VibWl0LGZ1bmN0aW9uKGIpe3JldHVybiBmdW5jdGlvbigpe2EoKTtiLmFwcGx5P2IuYXBwbHkodGhpcyk6YigpfX0pKSxjLm9uKFwiZGVzdHJveVwiLGZ1bmN0aW9uKCl7Zi5yZW1vdmVMaXN0ZW5lcihcInN1Ym1pdFwiLFxuYSl9KSl9LGRlc3Ryb3k6ZnVuY3Rpb24oYSl7dGhpcy5maXJlKFwiYmVmb3JlRGVzdHJveVwiKTshYSYmdi5jYWxsKHRoaXMpO3RoaXMuZWRpdGFibGUobnVsbCk7dGhpcy5maWx0ZXImJih0aGlzLmZpbHRlci5kZXN0cm95KCksZGVsZXRlIHRoaXMuZmlsdGVyKTtkZWxldGUgdGhpcy5hY3RpdmVGaWx0ZXI7dGhpcy5zdGF0dXM9XCJkZXN0cm95ZWRcIjt0aGlzLmZpcmUoXCJkZXN0cm95XCIpO3RoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7Q0tFRElUT1IucmVtb3ZlKHRoaXMpO0NLRURJVE9SLmZpcmUoXCJpbnN0YW5jZURlc3Ryb3llZFwiLG51bGwsdGhpcyl9LGVsZW1lbnRQYXRoOmZ1bmN0aW9uKGEpe2lmKCFhKXthPXRoaXMuZ2V0U2VsZWN0aW9uKCk7aWYoIWEpcmV0dXJuIG51bGw7YT1hLmdldFN0YXJ0RWxlbWVudCgpfXJldHVybiBhP25ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoYSx0aGlzLmVkaXRhYmxlKCkpOm51bGx9LGNyZWF0ZVJhbmdlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lZGl0YWJsZSgpO1xucmV0dXJuIGE/bmV3IENLRURJVE9SLmRvbS5yYW5nZShhKTpudWxsfSxleGVjQ29tbWFuZDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0Q29tbWFuZChhKSxkPXtuYW1lOmEsY29tbWFuZERhdGE6Yixjb21tYW5kOmN9O3JldHVybiBjJiZjLnN0YXRlIT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCYmITEhPT10aGlzLmZpcmUoXCJiZWZvcmVDb21tYW5kRXhlY1wiLGQpJiYoZC5yZXR1cm5WYWx1ZT1jLmV4ZWMoZC5jb21tYW5kRGF0YSksIWMuYXN5bmMmJiExIT09dGhpcy5maXJlKFwiYWZ0ZXJDb21tYW5kRXhlY1wiLGQpKT9kLnJldHVyblZhbHVlOiExfSxnZXRDb21tYW5kOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNvbW1hbmRzW2FdfSxnZXREYXRhOmZ1bmN0aW9uKGEpeyFhJiZ0aGlzLmZpcmUoXCJiZWZvcmVHZXREYXRhXCIpO3ZhciBiPXRoaXMuXy5kYXRhO1wic3RyaW5nXCIhPXR5cGVvZiBiJiYoYj0oYj10aGlzLmVsZW1lbnQpJiZ0aGlzLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfUkVQTEFDRT9cbmIuaXMoXCJ0ZXh0YXJlYVwiKT9iLmdldFZhbHVlKCk6Yi5nZXRIdG1sKCk6XCJcIik7Yj17ZGF0YVZhbHVlOmJ9OyFhJiZ0aGlzLmZpcmUoXCJnZXREYXRhXCIsYik7cmV0dXJuIGIuZGF0YVZhbHVlfSxnZXRTbmFwc2hvdDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZmlyZShcImdldFNuYXBzaG90XCIpO1wic3RyaW5nXCIhPXR5cGVvZiBhJiYoYT0oYT10aGlzLmVsZW1lbnQpJiZ0aGlzLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfUkVQTEFDRT9hLmlzKFwidGV4dGFyZWFcIik/YS5nZXRWYWx1ZSgpOmEuZ2V0SHRtbCgpOlwiXCIpO3JldHVybiBhfSxsb2FkU25hcHNob3Q6ZnVuY3Rpb24oYSl7dGhpcy5maXJlKFwibG9hZFNuYXBzaG90XCIsYSl9LHNldERhdGE6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPSEwLGY9YjtiJiZcIm9iamVjdFwiPT10eXBlb2YgYiYmKGM9Yi5pbnRlcm5hbCxmPWIuY2FsbGJhY2ssZD0hYi5ub1NuYXBzaG90KTshYyYmZCYmdGhpcy5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2lmKGZ8fFxuIWMpdGhpcy5vbmNlKFwiZGF0YVJlYWR5XCIsZnVuY3Rpb24oYSl7IWMmJmQmJnRoaXMuZmlyZShcInNhdmVTbmFwc2hvdFwiKTtmJiZmLmNhbGwoYS5lZGl0b3IpfSk7YT17ZGF0YVZhbHVlOmF9OyFjJiZ0aGlzLmZpcmUoXCJzZXREYXRhXCIsYSk7dGhpcy5fLmRhdGE9YS5kYXRhVmFsdWU7IWMmJnRoaXMuZmlyZShcImFmdGVyU2V0RGF0YVwiLGEpfSxzZXRSZWFkT25seTpmdW5jdGlvbihhKXthPW51bGw9PWF8fGE7dGhpcy5yZWFkT25seSE9YSYmKHRoaXMucmVhZE9ubHk9YSx0aGlzLmtleXN0cm9rZUhhbmRsZXIuYmxvY2tlZEtleXN0cm9rZXNbOF09K2EsdGhpcy5lZGl0YWJsZSgpLnNldFJlYWRPbmx5KGEpLHRoaXMuZmlyZShcInJlYWRPbmx5XCIpKX0saW5zZXJ0SHRtbDpmdW5jdGlvbihhLGIsYyl7dGhpcy5maXJlKFwiaW5zZXJ0SHRtbFwiLHtkYXRhVmFsdWU6YSxtb2RlOmIscmFuZ2U6Y30pfSxpbnNlcnRUZXh0OmZ1bmN0aW9uKGEpe3RoaXMuZmlyZShcImluc2VydFRleHRcIixhKX0saW5zZXJ0RWxlbWVudDpmdW5jdGlvbihhKXt0aGlzLmZpcmUoXCJpbnNlcnRFbGVtZW50XCIsXG5hKX0sZ2V0U2VsZWN0ZWRIdG1sOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZWRpdGFibGUoKSxjPXRoaXMuZ2V0U2VsZWN0aW9uKCksYz1jJiZjLmdldFJhbmdlcygpO2lmKCFifHwhY3x8MD09PWMubGVuZ3RoKXJldHVybiBudWxsO2Zvcih2YXIgZD1uZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQsZixnLGUsaz0wO2s8Yy5sZW5ndGg7aysrKXt2YXIgaD1jW2tdLGw9aC5zdGFydENvbnRhaW5lcjtsLmdldE5hbWUmJlwidHJcIj09bC5nZXROYW1lKCk/KGZ8fChmPWwuZ2V0QXNjZW5kYW50KFwidGFibGVcIikuY2xvbmUoKSxmLmFwcGVuZChsLmdldEFzY2VuZGFudChcInRib2R5XCIpLmNsb25lKCkpLGQuYXBwZW5kKGYpLGY9Zi5maW5kT25lKFwidGJvZHlcIikpLGcmJmcuZXF1YWxzKGwpfHwoZz1sLGU9bC5jbG9uZSgpLGYuYXBwZW5kKGUpKSxlLmFwcGVuZChoLmNsb25lQ29udGVudHMoKSkpOmQuYXBwZW5kKGguY2xvbmVDb250ZW50cygpKX1iPWY/ZDpiLmdldEh0bWxGcm9tUmFuZ2UoY1swXSk7XG5yZXR1cm4gYT9iLmdldEh0bWwoKTpifSxleHRyYWN0U2VsZWN0ZWRIdG1sOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5lZGl0YWJsZSgpLGQ9dGhpcy5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoKTtpZighY3x8MD09PWQubGVuZ3RoKXJldHVybiBudWxsO2Q9ZFswXTtjPWMuZXh0cmFjdEh0bWxGcm9tUmFuZ2UoZCxiKTtifHx0aGlzLmdldFNlbGVjdGlvbigpLnNlbGVjdFJhbmdlcyhbZF0pO3JldHVybiBhP2MuZ2V0SHRtbCgpOmN9LGZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5maXJlKFwiYmVmb3JlRm9jdXNcIil9LGNoZWNrRGlydHk6ZnVuY3Rpb24oKXtyZXR1cm5cInJlYWR5XCI9PXRoaXMuc3RhdHVzJiZ0aGlzLl8ucHJldmlvdXNWYWx1ZSE9PXRoaXMuZ2V0U25hcHNob3QoKX0scmVzZXREaXJ0eTpmdW5jdGlvbigpe3RoaXMuXy5wcmV2aW91c1ZhbHVlPXRoaXMuZ2V0U25hcHNob3QoKX0sdXBkYXRlRWxlbWVudDpmdW5jdGlvbigpe3JldHVybiB2LmNhbGwodGhpcyl9LHNldEtleXN0cm9rZTpmdW5jdGlvbigpe2Zvcih2YXIgYT1cbnRoaXMua2V5c3Ryb2tlSGFuZGxlci5rZXlzdHJva2VzLGI9Q0tFRElUT1IudG9vbHMuaXNBcnJheShhcmd1bWVudHNbMF0pP2FyZ3VtZW50c1swXTpbW10uc2xpY2UuY2FsbChhcmd1bWVudHMsMCldLGMsZCxmPWIubGVuZ3RoO2YtLTspYz1iW2ZdLGQ9MCxDS0VESVRPUi50b29scy5pc0FycmF5KGMpJiYoZD1jWzFdLGM9Y1swXSksZD9hW2NdPWQ6ZGVsZXRlIGFbY119LGFkZEZlYXR1cmU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZmlsdGVyLmFkZEZlYXR1cmUoYSl9LHNldEFjdGl2ZUZpbHRlcjpmdW5jdGlvbihhKXthfHwoYT10aGlzLmZpbHRlcik7dGhpcy5hY3RpdmVGaWx0ZXIhPT1hJiYodGhpcy5hY3RpdmVGaWx0ZXI9YSx0aGlzLmZpcmUoXCJhY3RpdmVGaWx0ZXJDaGFuZ2VcIiksYT09PXRoaXMuZmlsdGVyP3RoaXMuc2V0QWN0aXZlRW50ZXJNb2RlKG51bGwsbnVsbCk6dGhpcy5zZXRBY3RpdmVFbnRlck1vZGUoYS5nZXRBbGxvd2VkRW50ZXJNb2RlKHRoaXMuZW50ZXJNb2RlKSxcbmEuZ2V0QWxsb3dlZEVudGVyTW9kZSh0aGlzLnNoaWZ0RW50ZXJNb2RlLCEwKSkpfSxzZXRBY3RpdmVFbnRlck1vZGU6ZnVuY3Rpb24oYSxiKXthPWE/dGhpcy5ibG9ja2xlc3M/Q0tFRElUT1IuRU5URVJfQlI6YTp0aGlzLmVudGVyTW9kZTtiPWI/dGhpcy5ibG9ja2xlc3M/Q0tFRElUT1IuRU5URVJfQlI6Yjp0aGlzLnNoaWZ0RW50ZXJNb2RlO2lmKHRoaXMuYWN0aXZlRW50ZXJNb2RlIT1hfHx0aGlzLmFjdGl2ZVNoaWZ0RW50ZXJNb2RlIT1iKXRoaXMuYWN0aXZlRW50ZXJNb2RlPWEsdGhpcy5hY3RpdmVTaGlmdEVudGVyTW9kZT1iLHRoaXMuZmlyZShcImFjdGl2ZUVudGVyTW9kZUNoYW5nZVwiKX0sc2hvd05vdGlmaWNhdGlvbjpmdW5jdGlvbihhKXthbGVydChhKX19KX0oKSxDS0VESVRPUi5FTEVNRU5UX01PREVfTk9ORT0wLENLRURJVE9SLkVMRU1FTlRfTU9ERV9SRVBMQUNFPTEsQ0tFRElUT1IuRUxFTUVOVF9NT0RFX0FQUEVORFRPPTIsQ0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORT1cbjMsQ0tFRElUT1IuaHRtbFBhcnNlcj1mdW5jdGlvbigpe3RoaXMuXz17aHRtbFBhcnRzUmVnZXg6LzwoPzooPzpcXC8oW14+XSspPil8KD86IS0tKFtcXFN8XFxzXSo/KS0tXFx4M2UpfCg/OihbXlxcL1xccz5dKykoKD86XFxzK1tcXHdcXC06Ll0rKD86XFxzKj1cXHMqPyg/Oig/OlwiW15cIl0qXCIpfCg/OidbXiddKicpfFteXFxzXCInXFwvPl0rKSk/KSopW1xcU1xcc10qPyhcXC8/KT4pKS9nfX0sZnVuY3Rpb24oKXt2YXIgYT0vKFtcXHdcXC06Ll0rKSg/Oig/Olxccyo9XFxzKig/Oig/OlwiKFteXCJdKilcIil8KD86JyhbXiddKiknKXwoW15cXHM+XSspKSl8KD89XFxzfCQpKS9nLGU9e2NoZWNrZWQ6MSxjb21wYWN0OjEsZGVjbGFyZToxLGRlZmVyOjEsZGlzYWJsZWQ6MSxpc21hcDoxLG11bHRpcGxlOjEsbm9ocmVmOjEsbm9yZXNpemU6MSxub3NoYWRlOjEsbm93cmFwOjEscmVhZG9ubHk6MSxzZWxlY3RlZDoxfTtDS0VESVRPUi5odG1sUGFyc2VyLnByb3RvdHlwZT17b25UYWdPcGVuOmZ1bmN0aW9uKCl7fSxvblRhZ0Nsb3NlOmZ1bmN0aW9uKCl7fSxcbm9uVGV4dDpmdW5jdGlvbigpe30sb25DREFUQTpmdW5jdGlvbigpe30sb25Db21tZW50OmZ1bmN0aW9uKCl7fSxwYXJzZTpmdW5jdGlvbihiKXtmb3IodmFyIGMsZCxsPTAsbTtjPXRoaXMuXy5odG1sUGFydHNSZWdleC5leGVjKGIpOyl7ZD1jLmluZGV4O2lmKGQ+bClpZihsPWIuc3Vic3RyaW5nKGwsZCksbSltLnB1c2gobCk7ZWxzZSB0aGlzLm9uVGV4dChsKTtsPXRoaXMuXy5odG1sUGFydHNSZWdleC5sYXN0SW5kZXg7aWYoZD1jWzFdKWlmKGQ9ZC50b0xvd2VyQ2FzZSgpLG0mJkNLRURJVE9SLmR0ZC4kY2RhdGFbZF0mJih0aGlzLm9uQ0RBVEEobS5qb2luKFwiXCIpKSxtPW51bGwpLCFtKXt0aGlzLm9uVGFnQ2xvc2UoZCk7Y29udGludWV9aWYobSltLnB1c2goY1swXSk7ZWxzZSBpZihkPWNbM10pe2lmKGQ9ZC50b0xvd2VyQ2FzZSgpLCEvPVwiLy50ZXN0KGQpKXt2YXIgZj17fSxoLGs9Y1s0XTtjPSEhY1s1XTtpZihrKWZvcig7aD1hLmV4ZWMoayk7KXt2YXIgZz1oWzFdLnRvTG93ZXJDYXNlKCk7XG5oPWhbMl18fGhbM118fGhbNF18fFwiXCI7ZltnXT0haCYmZVtnXT9nOkNLRURJVE9SLnRvb2xzLmh0bWxEZWNvZGVBdHRyKGgpfXRoaXMub25UYWdPcGVuKGQsZixjKTshbSYmQ0tFRElUT1IuZHRkLiRjZGF0YVtkXSYmKG09W10pfX1lbHNlIGlmKGQ9Y1syXSl0aGlzLm9uQ29tbWVudChkKX1pZihiLmxlbmd0aD5sKXRoaXMub25UZXh0KGIuc3Vic3RyaW5nKGwsYi5sZW5ndGgpKX19fSgpLENLRURJVE9SLmh0bWxQYXJzZXIuYmFzaWNXcml0ZXI9Q0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3MoeyQ6ZnVuY3Rpb24oKXt0aGlzLl89e291dHB1dDpbXX19LHByb3RvOntvcGVuVGFnOmZ1bmN0aW9uKGEpe3RoaXMuXy5vdXRwdXQucHVzaChcIlxceDNjXCIsYSl9LG9wZW5UYWdDbG9zZTpmdW5jdGlvbihhLGUpe2U/dGhpcy5fLm91dHB1dC5wdXNoKFwiIC9cXHgzZVwiKTp0aGlzLl8ub3V0cHV0LnB1c2goXCJcXHgzZVwiKX0sYXR0cmlidXRlOmZ1bmN0aW9uKGEsZSl7XCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPVxuQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZUF0dHIoZSkpO3RoaXMuXy5vdXRwdXQucHVzaChcIiBcIixhLCdcXHgzZFwiJyxlLCdcIicpfSxjbG9zZVRhZzpmdW5jdGlvbihhKXt0aGlzLl8ub3V0cHV0LnB1c2goXCJcXHgzYy9cIixhLFwiXFx4M2VcIil9LHRleHQ6ZnVuY3Rpb24oYSl7dGhpcy5fLm91dHB1dC5wdXNoKGEpfSxjb21tZW50OmZ1bmN0aW9uKGEpe3RoaXMuXy5vdXRwdXQucHVzaChcIlxceDNjIS0tXCIsYSxcIi0tXFx4M2VcIil9LHdyaXRlOmZ1bmN0aW9uKGEpe3RoaXMuXy5vdXRwdXQucHVzaChhKX0scmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl8ub3V0cHV0PVtdO3RoaXMuXy5pbmRlbnQ9ITF9LGdldEh0bWw6ZnVuY3Rpb24oYSl7dmFyIGU9dGhpcy5fLm91dHB1dC5qb2luKFwiXCIpO2EmJnRoaXMucmVzZXQoKTtyZXR1cm4gZX19fSksXCJ1c2Ugc3RyaWN0XCIsZnVuY3Rpb24oKXtDS0VESVRPUi5odG1sUGFyc2VyLm5vZGU9ZnVuY3Rpb24oKXt9O0NLRURJVE9SLmh0bWxQYXJzZXIubm9kZS5wcm90b3R5cGU9XG57cmVtb3ZlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5wYXJlbnQuY2hpbGRyZW4sZT1DS0VESVRPUi50b29scy5pbmRleE9mKGEsdGhpcyksYj10aGlzLnByZXZpb3VzLGM9dGhpcy5uZXh0O2ImJihiLm5leHQ9Yyk7YyYmKGMucHJldmlvdXM9Yik7YS5zcGxpY2UoZSwxKTt0aGlzLnBhcmVudD1udWxsfSxyZXBsYWNlV2l0aDpmdW5jdGlvbihhKXt2YXIgZT10aGlzLnBhcmVudC5jaGlsZHJlbixiPUNLRURJVE9SLnRvb2xzLmluZGV4T2YoZSx0aGlzKSxjPWEucHJldmlvdXM9dGhpcy5wcmV2aW91cyxkPWEubmV4dD10aGlzLm5leHQ7YyYmKGMubmV4dD1hKTtkJiYoZC5wcmV2aW91cz1hKTtlW2JdPWE7YS5wYXJlbnQ9dGhpcy5wYXJlbnQ7dGhpcy5wYXJlbnQ9bnVsbH0saW5zZXJ0QWZ0ZXI6ZnVuY3Rpb24oYSl7dmFyIGU9YS5wYXJlbnQuY2hpbGRyZW4sYj1DS0VESVRPUi50b29scy5pbmRleE9mKGUsYSksYz1hLm5leHQ7ZS5zcGxpY2UoYisxLDAsdGhpcyk7dGhpcy5uZXh0PWEubmV4dDtcbnRoaXMucHJldmlvdXM9YTthLm5leHQ9dGhpcztjJiYoYy5wcmV2aW91cz10aGlzKTt0aGlzLnBhcmVudD1hLnBhcmVudH0saW5zZXJ0QmVmb3JlOmZ1bmN0aW9uKGEpe3ZhciBlPWEucGFyZW50LmNoaWxkcmVuLGI9Q0tFRElUT1IudG9vbHMuaW5kZXhPZihlLGEpO2Uuc3BsaWNlKGIsMCx0aGlzKTt0aGlzLm5leHQ9YTsodGhpcy5wcmV2aW91cz1hLnByZXZpb3VzKSYmKGEucHJldmlvdXMubmV4dD10aGlzKTthLnByZXZpb3VzPXRoaXM7dGhpcy5wYXJlbnQ9YS5wYXJlbnR9LGdldEFzY2VuZGFudDpmdW5jdGlvbihhKXt2YXIgZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBhP2E6XCJzdHJpbmdcIj09dHlwZW9mIGE/ZnVuY3Rpb24oYil7cmV0dXJuIGIubmFtZT09YX06ZnVuY3Rpb24oYil7cmV0dXJuIGIubmFtZSBpbiBhfSxiPXRoaXMucGFyZW50O2Zvcig7YiYmYi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ7KXtpZihlKGIpKXJldHVybiBiO2I9Yi5wYXJlbnR9cmV0dXJuIG51bGx9LHdyYXBXaXRoOmZ1bmN0aW9uKGEpe3RoaXMucmVwbGFjZVdpdGgoYSk7XG5hLmFkZCh0aGlzKTtyZXR1cm4gYX0sZ2V0SW5kZXg6ZnVuY3Rpb24oKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMuaW5kZXhPZih0aGlzLnBhcmVudC5jaGlsZHJlbix0aGlzKX0sZ2V0RmlsdGVyQ29udGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gYXx8e319fX0oKSxcInVzZSBzdHJpY3RcIixDS0VESVRPUi5odG1sUGFyc2VyLmNvbW1lbnQ9ZnVuY3Rpb24oYSl7dGhpcy52YWx1ZT1hO3RoaXMuXz17aXNCbG9ja0xpa2U6ITF9fSxDS0VESVRPUi5odG1sUGFyc2VyLmNvbW1lbnQucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5ub2RlLHt0eXBlOkNLRURJVE9SLk5PREVfQ09NTUVOVCxmaWx0ZXI6ZnVuY3Rpb24oYSxlKXt2YXIgYj10aGlzLnZhbHVlO2lmKCEoYj1hLm9uQ29tbWVudChlLGIsdGhpcykpKXJldHVybiB0aGlzLnJlbW92ZSgpLCExO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBiKXJldHVybiB0aGlzLnJlcGxhY2VXaXRoKGIpLCExO3RoaXMudmFsdWU9XG5iO3JldHVybiEwfSx3cml0ZUh0bWw6ZnVuY3Rpb24oYSxlKXtlJiZ0aGlzLmZpbHRlcihlKTthLmNvbW1lbnQodGhpcy52YWx1ZSl9fSksXCJ1c2Ugc3RyaWN0XCIsZnVuY3Rpb24oKXtDS0VESVRPUi5odG1sUGFyc2VyLnRleHQ9ZnVuY3Rpb24oYSl7dGhpcy52YWx1ZT1hO3RoaXMuXz17aXNCbG9ja0xpa2U6ITF9fTtDS0VESVRPUi5odG1sUGFyc2VyLnRleHQucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5ub2RlLHt0eXBlOkNLRURJVE9SLk5PREVfVEVYVCxmaWx0ZXI6ZnVuY3Rpb24oYSxlKXtpZighKHRoaXMudmFsdWU9YS5vblRleHQoZSx0aGlzLnZhbHVlLHRoaXMpKSlyZXR1cm4gdGhpcy5yZW1vdmUoKSwhMX0sd3JpdGVIdG1sOmZ1bmN0aW9uKGEsZSl7ZSYmdGhpcy5maWx0ZXIoZSk7YS50ZXh0KHRoaXMudmFsdWUpfX0pfSgpLFwidXNlIHN0cmljdFwiLGZ1bmN0aW9uKCl7Q0tFRElUT1IuaHRtbFBhcnNlci5jZGF0YT1mdW5jdGlvbihhKXt0aGlzLnZhbHVlPVxuYX07Q0tFRElUT1IuaHRtbFBhcnNlci5jZGF0YS5wcm90b3R5cGU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKG5ldyBDS0VESVRPUi5odG1sUGFyc2VyLm5vZGUse3R5cGU6Q0tFRElUT1IuTk9ERV9URVhULGZpbHRlcjpmdW5jdGlvbigpe30sd3JpdGVIdG1sOmZ1bmN0aW9uKGEpe2Eud3JpdGUodGhpcy52YWx1ZSl9fSl9KCksXCJ1c2Ugc3RyaWN0XCIsQ0tFRElUT1IuaHRtbFBhcnNlci5mcmFnbWVudD1mdW5jdGlvbigpe3RoaXMuY2hpbGRyZW49W107dGhpcy5wYXJlbnQ9bnVsbDt0aGlzLl89e2lzQmxvY2tMaWtlOiEwLGhhc0lubGluZVN0YXJ0ZWQ6ITF9fSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7cmV0dXJuIGEuYXR0cmlidXRlc1tcImRhdGEtY2tlLXN1cnZpdmVcIl0/ITE6XCJhXCI9PWEubmFtZSYmYS5hdHRyaWJ1dGVzLmhyZWZ8fENLRURJVE9SLmR0ZC4kcmVtb3ZlRW1wdHlbYS5uYW1lXX12YXIgZT1DS0VESVRPUi50b29scy5leHRlbmQoe3RhYmxlOjEsdWw6MSxvbDoxLGRsOjF9LFxuQ0tFRElUT1IuZHRkLnRhYmxlLENLRURJVE9SLmR0ZC51bCxDS0VESVRPUi5kdGQub2wsQ0tFRElUT1IuZHRkLmRsKSxiPXtvbDoxLHVsOjF9LGM9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LHtodG1sOjF9LENLRURJVE9SLmR0ZC5odG1sLENLRURJVE9SLmR0ZC5ib2R5LENLRURJVE9SLmR0ZC5oZWFkLHtzdHlsZToxLHNjcmlwdDoxfSksZD17dWw6XCJsaVwiLG9sOlwibGlcIixkbDpcImRkXCIsdGFibGU6XCJ0Ym9keVwiLHRib2R5OlwidHJcIix0aGVhZDpcInRyXCIsdGZvb3Q6XCJ0clwiLHRyOlwidGRcIn07Q0tFRElUT1IuaHRtbFBhcnNlci5mcmFnbWVudC5mcm9tSHRtbD1mdW5jdGlvbihsLG0sZil7ZnVuY3Rpb24gaChhKXt2YXIgYjtpZigwPHAubGVuZ3RoKWZvcih2YXIgYz0wO2M8cC5sZW5ndGg7YysrKXt2YXIgZD1wW2NdLGY9ZC5uYW1lLGc9Q0tFRElUT1IuZHRkW2ZdLGU9ei5uYW1lJiZDS0VESVRPUi5kdGRbei5uYW1lXTtlJiYhZVtmXXx8YSYmZyYmIWdbYV0mJkNLRURJVE9SLmR0ZFthXT9mPT1cbnoubmFtZSYmKG4oeix6LnBhcmVudCwxKSxjLS0pOihifHwoaygpLGI9MSksZD1kLmNsb25lKCksZC5wYXJlbnQ9eix6PWQscC5zcGxpY2UoYywxKSxjLS0pfX1mdW5jdGlvbiBrKCl7Zm9yKDt3Lmxlbmd0aDspbih3LnNoaWZ0KCkseil9ZnVuY3Rpb24gZyhhKXtpZihhLl8uaXNCbG9ja0xpa2UmJlwicHJlXCIhPWEubmFtZSYmXCJ0ZXh0YXJlYVwiIT1hLm5hbWUpe3ZhciBiPWEuY2hpbGRyZW4ubGVuZ3RoLGM9YS5jaGlsZHJlbltiLTFdLGQ7YyYmYy50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJigoZD1DS0VESVRPUi50b29scy5ydHJpbShjLnZhbHVlKSk/Yy52YWx1ZT1kOmEuY2hpbGRyZW4ubGVuZ3RoPWItMSl9fWZ1bmN0aW9uIG4oYixjLGQpe2M9Y3x8enx8dDt2YXIgZT16O3ZvaWQgMD09PWIucHJldmlvdXMmJih2KGMsYikmJih6PWMscS5vblRhZ09wZW4oZix7fSksYi5yZXR1cm5Qb2ludD1jPXopLGcoYiksYShiKSYmIWIuY2hpbGRyZW4ubGVuZ3RofHxjLmFkZChiKSxcInByZVwiPT1cbmIubmFtZSYmKHU9ITEpLFwidGV4dGFyZWFcIj09Yi5uYW1lJiYoQT0hMSkpO2IucmV0dXJuUG9pbnQ/KHo9Yi5yZXR1cm5Qb2ludCxkZWxldGUgYi5yZXR1cm5Qb2ludCk6ej1kP2M6ZX1mdW5jdGlvbiB2KGEsYil7aWYoKGE9PXR8fFwiYm9keVwiPT1hLm5hbWUpJiZmJiYoIWEubmFtZXx8Q0tFRElUT1IuZHRkW2EubmFtZV1bZl0pKXt2YXIgYyxkO3JldHVybihjPWIuYXR0cmlidXRlcyYmKGQ9Yi5hdHRyaWJ1dGVzW1wiZGF0YS1ja2UtcmVhbC1lbGVtZW50LXR5cGVcIl0pP2Q6Yi5uYW1lKSYmYyBpbiBDS0VESVRPUi5kdGQuJGlubGluZSYmIShjIGluIENLRURJVE9SLmR0ZC5oZWFkKSYmIWIuaXNPcnBoYW58fGIudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUfX1mdW5jdGlvbiByKGEsYil7cmV0dXJuIGEgaW4gQ0tFRElUT1IuZHRkLiRsaXN0SXRlbXx8YSBpbiBDS0VESVRPUi5kdGQuJHRhYmxlQ29udGVudD9hPT1ifHxcImR0XCI9PWEmJlwiZGRcIj09Ynx8XCJkZFwiPT1hJiZcImR0XCI9PWI6ITF9dmFyIHE9XG5uZXcgQ0tFRElUT1IuaHRtbFBhcnNlcix0PW0gaW5zdGFuY2VvZiBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQ/bTpcInN0cmluZ1wiPT10eXBlb2YgbT9uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50KG0pOm5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50LHA9W10sdz1bXSx6PXQsQT1cInRleHRhcmVhXCI9PXQubmFtZSx1PVwicHJlXCI9PXQubmFtZTtxLm9uVGFnT3Blbj1mdW5jdGlvbihkLGYsZyxsKXtmPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQoZCxmKTtmLmlzVW5rbm93biYmZyYmKGYuaXNFbXB0eT0hMCk7Zi5pc09wdGlvbmFsQ2xvc2U9bDtpZihhKGYpKXAucHVzaChmKTtlbHNle2lmKFwicHJlXCI9PWQpdT0hMDtlbHNle2lmKFwiYnJcIj09ZCYmdSl7ei5hZGQobmV3IENLRURJVE9SLmh0bWxQYXJzZXIudGV4dChcIlxcblwiKSk7cmV0dXJufVwidGV4dGFyZWFcIj09ZCYmKEE9ITApfWlmKFwiYnJcIj09ZCl3LnB1c2goZik7ZWxzZXtmb3IoOyEobD0oZz16Lm5hbWUpP1xuQ0tFRElUT1IuZHRkW2ddfHwoei5fLmlzQmxvY2tMaWtlP0NLRURJVE9SLmR0ZC5kaXY6Q0tFRElUT1IuZHRkLnNwYW4pOmMsZi5pc1Vua25vd258fHouaXNVbmtub3dufHxsW2RdKTspaWYoei5pc09wdGlvbmFsQ2xvc2UpcS5vblRhZ0Nsb3NlKGcpO2Vsc2UgaWYoZCBpbiBiJiZnIGluIGIpZz16LmNoaWxkcmVuLChnPWdbZy5sZW5ndGgtMV0pJiZcImxpXCI9PWcubmFtZXx8bihnPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQoXCJsaVwiKSx6KSwhZi5yZXR1cm5Qb2ludCYmKGYucmV0dXJuUG9pbnQ9eiksej1nO2Vsc2UgaWYoZCBpbiBDS0VESVRPUi5kdGQuJGxpc3RJdGVtJiYhcihkLGcpKXEub25UYWdPcGVuKFwibGlcIj09ZD9cInVsXCI6XCJkbFwiLHt9LDAsMSk7ZWxzZSBpZihnIGluIGUmJiFyKGQsZykpIWYucmV0dXJuUG9pbnQmJihmLnJldHVyblBvaW50PXopLHo9ei5wYXJlbnQ7ZWxzZSBpZihnIGluIENLRURJVE9SLmR0ZC4kaW5saW5lJiZwLnVuc2hpZnQoeiksei5wYXJlbnQpbih6LFxuei5wYXJlbnQsMSk7ZWxzZXtmLmlzT3JwaGFuPTE7YnJlYWt9aChkKTtrKCk7Zi5wYXJlbnQ9ejtmLmlzRW1wdHk/bihmKTp6PWZ9fX07cS5vblRhZ0Nsb3NlPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1wLmxlbmd0aC0xOzA8PWI7Yi0tKWlmKGE9PXBbYl0ubmFtZSl7cC5zcGxpY2UoYiwxKTtyZXR1cm59Zm9yKHZhciBjPVtdLGQ9W10sZz16O2chPXQmJmcubmFtZSE9YTspZy5fLmlzQmxvY2tMaWtlfHxkLnVuc2hpZnQoZyksYy5wdXNoKGcpLGc9Zy5yZXR1cm5Qb2ludHx8Zy5wYXJlbnQ7aWYoZyE9dCl7Zm9yKGI9MDtiPGMubGVuZ3RoO2IrKyl7dmFyIGU9Y1tiXTtuKGUsZS5wYXJlbnQpfXo9ZztnLl8uaXNCbG9ja0xpa2UmJmsoKTtuKGcsZy5wYXJlbnQpO2c9PXomJih6PXoucGFyZW50KTtwPXAuY29uY2F0KGQpfVwiYm9keVwiPT1hJiYoZj0hMSl9O3Eub25UZXh0PWZ1bmN0aW9uKGEpe2lmKCEoei5fLmhhc0lubGluZVN0YXJ0ZWQmJiF3Lmxlbmd0aHx8dXx8QSkmJihhPUNLRURJVE9SLnRvb2xzLmx0cmltKGEpLFxuMD09PWEubGVuZ3RoKSlyZXR1cm47dmFyIGI9ei5uYW1lLGc9Yj9DS0VESVRPUi5kdGRbYl18fCh6Ll8uaXNCbG9ja0xpa2U/Q0tFRElUT1IuZHRkLmRpdjpDS0VESVRPUi5kdGQuc3Bhbik6YztpZighQSYmIWdbXCIjXCJdJiZiIGluIGUpcS5vblRhZ09wZW4oZFtiXXx8XCJcIikscS5vblRleHQoYSk7ZWxzZXtrKCk7aCgpO3V8fEF8fChhPWEucmVwbGFjZSgvW1xcdFxcclxcbiBdezIsfXxbXFx0XFxyXFxuXS9nLFwiIFwiKSk7YT1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci50ZXh0KGEpO2lmKHYoeixhKSl0aGlzLm9uVGFnT3BlbihmLHt9LDAsMSk7ei5hZGQoYSl9fTtxLm9uQ0RBVEE9ZnVuY3Rpb24oYSl7ei5hZGQobmV3IENLRURJVE9SLmh0bWxQYXJzZXIuY2RhdGEoYSkpfTtxLm9uQ29tbWVudD1mdW5jdGlvbihhKXtrKCk7aCgpO3ouYWRkKG5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmNvbW1lbnQoYSkpfTtxLnBhcnNlKGwpO2ZvcihrKCk7eiE9dDspbih6LHoucGFyZW50LDEpO2codCk7cmV0dXJuIHR9O1xuQ0tFRElUT1IuaHRtbFBhcnNlci5mcmFnbWVudC5wcm90b3R5cGU9e3R5cGU6Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVCxhZGQ6ZnVuY3Rpb24oYSxiKXtpc05hTihiKSYmKGI9dGhpcy5jaGlsZHJlbi5sZW5ndGgpO3ZhciBjPTA8Yj90aGlzLmNoaWxkcmVuW2ItMV06bnVsbDtpZihjKXtpZihhLl8uaXNCbG9ja0xpa2UmJmMudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYoYy52YWx1ZT1DS0VESVRPUi50b29scy5ydHJpbShjLnZhbHVlKSwwPT09Yy52YWx1ZS5sZW5ndGgpKXt0aGlzLmNoaWxkcmVuLnBvcCgpO3RoaXMuYWRkKGEpO3JldHVybn1jLm5leHQ9YX1hLnByZXZpb3VzPWM7YS5wYXJlbnQ9dGhpczt0aGlzLmNoaWxkcmVuLnNwbGljZShiLDAsYSk7dGhpcy5fLmhhc0lubGluZVN0YXJ0ZWR8fCh0aGlzLl8uaGFzSW5saW5lU3RhcnRlZD1hLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVHx8YS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJiFhLl8uaXNCbG9ja0xpa2UpfSxcbmZpbHRlcjpmdW5jdGlvbihhLGIpe2I9dGhpcy5nZXRGaWx0ZXJDb250ZXh0KGIpO2Eub25Sb290KGIsdGhpcyk7dGhpcy5maWx0ZXJDaGlsZHJlbihhLCExLGIpfSxmaWx0ZXJDaGlsZHJlbjpmdW5jdGlvbihhLGIsYyl7aWYodGhpcy5jaGlsZHJlbkZpbHRlcmVkQnkhPWEuaWQpe2M9dGhpcy5nZXRGaWx0ZXJDb250ZXh0KGMpO2lmKGImJiF0aGlzLnBhcmVudClhLm9uUm9vdChjLHRoaXMpO3RoaXMuY2hpbGRyZW5GaWx0ZXJlZEJ5PWEuaWQ7Zm9yKGI9MDtiPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO2IrKykhMT09PXRoaXMuY2hpbGRyZW5bYl0uZmlsdGVyKGEsYykmJmItLX19LHdyaXRlSHRtbDpmdW5jdGlvbihhLGIpe2ImJnRoaXMuZmlsdGVyKGIpO3RoaXMud3JpdGVDaGlsZHJlbkh0bWwoYSl9LHdyaXRlQ2hpbGRyZW5IdG1sOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmdldEZpbHRlckNvbnRleHQoKTtpZihjJiYhdGhpcy5wYXJlbnQmJmIpYi5vblJvb3QoZCx0aGlzKTtiJiZcbnRoaXMuZmlsdGVyQ2hpbGRyZW4oYiwhMSxkKTtiPTA7Yz10aGlzLmNoaWxkcmVuO2ZvcihkPWMubGVuZ3RoO2I8ZDtiKyspY1tiXS53cml0ZUh0bWwoYSl9LGZvckVhY2g6ZnVuY3Rpb24oYSxiLGMpe2lmKCEoY3x8YiYmdGhpcy50eXBlIT1iKSl2YXIgZD1hKHRoaXMpO2lmKCExIT09ZCl7Yz10aGlzLmNoaWxkcmVuO2Zvcih2YXIgZT0wO2U8Yy5sZW5ndGg7ZSsrKWQ9Y1tlXSxkLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVD9kLmZvckVhY2goYSxiKTpiJiZkLnR5cGUhPWJ8fGEoZCl9fSxnZXRGaWx0ZXJDb250ZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBhfHx7fX19fSgpLFwidXNlIHN0cmljdFwiLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe3RoaXMucnVsZXM9W119ZnVuY3Rpb24gZShiLGMsZCxlKXt2YXIgbSxmO2ZvcihtIGluIGMpKGY9YlttXSl8fChmPWJbbV09bmV3IGEpLGYuYWRkKGNbbV0sZCxlKX1DS0VESVRPUi5odG1sUGFyc2VyLmZpbHRlcj1DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7JDpmdW5jdGlvbihiKXt0aGlzLmlkPVxuQ0tFRElUT1IudG9vbHMuZ2V0TmV4dE51bWJlcigpO3RoaXMuZWxlbWVudE5hbWVSdWxlcz1uZXcgYTt0aGlzLmF0dHJpYnV0ZU5hbWVSdWxlcz1uZXcgYTt0aGlzLmVsZW1lbnRzUnVsZXM9e307dGhpcy5hdHRyaWJ1dGVzUnVsZXM9e307dGhpcy50ZXh0UnVsZXM9bmV3IGE7dGhpcy5jb21tZW50UnVsZXM9bmV3IGE7dGhpcy5yb290UnVsZXM9bmV3IGE7YiYmdGhpcy5hZGRSdWxlcyhiLDEwKX0scHJvdG86e2FkZFJ1bGVzOmZ1bmN0aW9uKGEsYyl7dmFyIGQ7XCJudW1iZXJcIj09dHlwZW9mIGM/ZD1jOmMmJlwicHJpb3JpdHlcImluIGMmJihkPWMucHJpb3JpdHkpO1wibnVtYmVyXCIhPXR5cGVvZiBkJiYoZD0xMCk7XCJvYmplY3RcIiE9dHlwZW9mIGMmJihjPXt9KTthLmVsZW1lbnROYW1lcyYmdGhpcy5lbGVtZW50TmFtZVJ1bGVzLmFkZE1hbnkoYS5lbGVtZW50TmFtZXMsZCxjKTthLmF0dHJpYnV0ZU5hbWVzJiZ0aGlzLmF0dHJpYnV0ZU5hbWVSdWxlcy5hZGRNYW55KGEuYXR0cmlidXRlTmFtZXMsXG5kLGMpO2EuZWxlbWVudHMmJmUodGhpcy5lbGVtZW50c1J1bGVzLGEuZWxlbWVudHMsZCxjKTthLmF0dHJpYnV0ZXMmJmUodGhpcy5hdHRyaWJ1dGVzUnVsZXMsYS5hdHRyaWJ1dGVzLGQsYyk7YS50ZXh0JiZ0aGlzLnRleHRSdWxlcy5hZGQoYS50ZXh0LGQsYyk7YS5jb21tZW50JiZ0aGlzLmNvbW1lbnRSdWxlcy5hZGQoYS5jb21tZW50LGQsYyk7YS5yb290JiZ0aGlzLnJvb3RSdWxlcy5hZGQoYS5yb290LGQsYyl9LGFwcGx5VG86ZnVuY3Rpb24oYSl7YS5maWx0ZXIodGhpcyl9LG9uRWxlbWVudE5hbWU6ZnVuY3Rpb24oYSxjKXtyZXR1cm4gdGhpcy5lbGVtZW50TmFtZVJ1bGVzLmV4ZWNPbk5hbWUoYSxjKX0sb25BdHRyaWJ1dGVOYW1lOmZ1bmN0aW9uKGEsYyl7cmV0dXJuIHRoaXMuYXR0cmlidXRlTmFtZVJ1bGVzLmV4ZWNPbk5hbWUoYSxjKX0sb25UZXh0OmZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4gdGhpcy50ZXh0UnVsZXMuZXhlYyhhLGMsZCl9LG9uQ29tbWVudDpmdW5jdGlvbihhLFxuYyxkKXtyZXR1cm4gdGhpcy5jb21tZW50UnVsZXMuZXhlYyhhLGMsZCl9LG9uUm9vdDpmdW5jdGlvbihhLGMpe3JldHVybiB0aGlzLnJvb3RSdWxlcy5leGVjKGEsYyl9LG9uRWxlbWVudDpmdW5jdGlvbihhLGMpe2Zvcih2YXIgZD1bdGhpcy5lbGVtZW50c1J1bGVzW1wiXlwiXSx0aGlzLmVsZW1lbnRzUnVsZXNbYy5uYW1lXSx0aGlzLmVsZW1lbnRzUnVsZXMuJF0sZSxtPTA7Mz5tO20rKylpZihlPWRbbV0pe2U9ZS5leGVjKGEsYyx0aGlzKTtpZighMT09PWUpcmV0dXJuIG51bGw7aWYoZSYmZSE9YylyZXR1cm4gdGhpcy5vbk5vZGUoYSxlKTtpZihjLnBhcmVudCYmIWMubmFtZSlicmVha31yZXR1cm4gY30sb25Ob2RlOmZ1bmN0aW9uKGEsYyl7dmFyIGQ9Yy50eXBlO3JldHVybiBkPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ/dGhpcy5vbkVsZW1lbnQoYSxjKTpkPT1DS0VESVRPUi5OT0RFX1RFWFQ/bmV3IENLRURJVE9SLmh0bWxQYXJzZXIudGV4dCh0aGlzLm9uVGV4dChhLGMudmFsdWUpKTpcbmQ9PUNLRURJVE9SLk5PREVfQ09NTUVOVD9uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5jb21tZW50KHRoaXMub25Db21tZW50KGEsYy52YWx1ZSkpOm51bGx9LG9uQXR0cmlidXRlOmZ1bmN0aW9uKGEsYyxkLGUpe3JldHVybihkPXRoaXMuYXR0cmlidXRlc1J1bGVzW2RdKT9kLmV4ZWMoYSxlLGMsdGhpcyk6ZX19fSk7Q0tFRElUT1IuaHRtbFBhcnNlci5maWx0ZXJSdWxlc0dyb3VwPWE7YS5wcm90b3R5cGU9e2FkZDpmdW5jdGlvbihhLGMsZCl7dGhpcy5ydWxlcy5zcGxpY2UodGhpcy5maW5kSW5kZXgoYyksMCx7dmFsdWU6YSxwcmlvcml0eTpjLG9wdGlvbnM6ZH0pfSxhZGRNYW55OmZ1bmN0aW9uKGEsYyxkKXtmb3IodmFyIGU9W3RoaXMuZmluZEluZGV4KGMpLDBdLG09MCxmPWEubGVuZ3RoO208ZjttKyspZS5wdXNoKHt2YWx1ZTphW21dLHByaW9yaXR5OmMsb3B0aW9uczpkfSk7dGhpcy5ydWxlcy5zcGxpY2UuYXBwbHkodGhpcy5ydWxlcyxlKX0sZmluZEluZGV4OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYz1cbnRoaXMucnVsZXMsZD1jLmxlbmd0aC0xOzA8PWQmJmE8Y1tkXS5wcmlvcml0eTspZC0tO3JldHVybiBkKzF9LGV4ZWM6ZnVuY3Rpb24oYSxjKXt2YXIgZD1jIGluc3RhbmNlb2YgQ0tFRElUT1IuaHRtbFBhcnNlci5ub2RlfHxjIGluc3RhbmNlb2YgQ0tFRElUT1IuaHRtbFBhcnNlci5mcmFnbWVudCxlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxtPXRoaXMucnVsZXMsZj1tLmxlbmd0aCxoLGssZyxuO2ZvcihuPTA7bjxmO24rKylpZihkJiYoaD1jLnR5cGUsaz1jLm5hbWUpLGc9bVtuXSwhKGEubm9uRWRpdGFibGUmJiFnLm9wdGlvbnMuYXBwbHlUb0FsbHx8YS5uZXN0ZWRFZGl0YWJsZSYmZy5vcHRpb25zLmV4Y2x1ZGVOZXN0ZWRFZGl0YWJsZSkpe2c9Zy52YWx1ZS5hcHBseShudWxsLGUpO2lmKCExPT09Z3x8ZCYmZyYmKGcubmFtZSE9a3x8Zy50eXBlIT1oKSlyZXR1cm4gZztudWxsIT1nJiYoZVswXT1jPWcpfXJldHVybiBjfSxleGVjT25OYW1lOmZ1bmN0aW9uKGEsXG5jKXtmb3IodmFyIGQ9MCxlPXRoaXMucnVsZXMsbT1lLmxlbmd0aCxmO2MmJmQ8bTtkKyspZj1lW2RdLGEubm9uRWRpdGFibGUmJiFmLm9wdGlvbnMuYXBwbHlUb0FsbHx8YS5uZXN0ZWRFZGl0YWJsZSYmZi5vcHRpb25zLmV4Y2x1ZGVOZXN0ZWRFZGl0YWJsZXx8KGM9Yy5yZXBsYWNlKGYudmFsdWVbMF0sZi52YWx1ZVsxXSkpO3JldHVybiBjfX19KCksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsZil7ZnVuY3Rpb24gZyhhKXtyZXR1cm4gYXx8Q0tFRElUT1IuZW52Lm5lZWRzTmJzcEZpbGxlcj9uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci50ZXh0KFwiwqBcIik6bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudChcImJyXCIse1wiZGF0YS1ja2UtYm9ndXNcIjoxfSl9ZnVuY3Rpb24gZShhLGQpe3JldHVybiBmdW5jdGlvbihmKXtpZihmLnR5cGUhPUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQpe3ZhciBlPVtdLGg9YihmKSx1LG07aWYoaClmb3IoayhoLDEpJiZlLnB1c2goaCk7aDspbChoKSYmXG4odT1jKGgpKSYmayh1KSYmKChtPWModSkpJiYhbChtKT9lLnB1c2godSk6KGcoQSkuaW5zZXJ0QWZ0ZXIodSksdS5yZW1vdmUoKSkpLGg9aC5wcmV2aW91cztmb3IoaD0wO2g8ZS5sZW5ndGg7aCsrKWVbaF0ucmVtb3ZlKCk7aWYoZT0hYXx8ITEhPT0oXCJmdW5jdGlvblwiPT10eXBlb2YgZD9kKGYpOmQpKUF8fENLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyfHxmLnR5cGUhPUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQ/QXx8Q0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXJ8fCEoNzxkb2N1bWVudC5kb2N1bWVudE1vZGV8fGYubmFtZSBpbiBDS0VESVRPUi5kdGQudHJ8fGYubmFtZSBpbiBDS0VESVRPUi5kdGQuJGxpc3RJdGVtKT8oZT1iKGYpLGU9IWV8fFwiZm9ybVwiPT1mLm5hbWUmJlwiaW5wdXRcIj09ZS5uYW1lKTplPSExOmU9ITE7ZSYmZi5hZGQoZyhhKSl9fX1mdW5jdGlvbiBrKGEsYil7aWYoKCFBfHxDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcikmJmEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcblwiYnJcIj09YS5uYW1lJiYhYS5hdHRyaWJ1dGVzW1wiZGF0YS1ja2UtZW9sXCJdKXJldHVybiEwO3ZhciBjO3JldHVybiBhLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGM9YS52YWx1ZS5tYXRjaChwKSkmJihjLmluZGV4JiYoKG5ldyBDS0VESVRPUi5odG1sUGFyc2VyLnRleHQoYS52YWx1ZS5zdWJzdHJpbmcoMCxjLmluZGV4KSkpLmluc2VydEJlZm9yZShhKSxhLnZhbHVlPWNbMF0pLCFDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlciYmQSYmKCFifHxhLnBhcmVudC5uYW1lIGluIG4pfHwhQSYmKChjPWEucHJldmlvdXMpJiZcImJyXCI9PWMubmFtZXx8IWN8fGwoYykpKT8hMDohMX12YXIgaD17ZWxlbWVudHM6e319LEE9XCJodG1sXCI9PWYsbj1DS0VESVRPUi50b29scy5leHRlbmQoe30sdSkseDtmb3IoeCBpbiBuKVwiI1wiaW4gelt4XXx8ZGVsZXRlIG5beF07Zm9yKHggaW4gbiloLmVsZW1lbnRzW3hdPWUoQSxhLmNvbmZpZy5maWxsRW1wdHlCbG9ja3MpO2gucm9vdD1lKEEsITEpO2guZWxlbWVudHMuYnI9XG5mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7aWYoYi5wYXJlbnQudHlwZSE9Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVCl7dmFyIGY9Yi5hdHRyaWJ1dGVzO2lmKFwiZGF0YS1ja2UtYm9ndXNcImluIGZ8fFwiZGF0YS1ja2UtZW9sXCJpbiBmKWRlbGV0ZSBmW1wiZGF0YS1ja2UtYm9ndXNcIl07ZWxzZXtmb3IoZj1iLm5leHQ7ZiYmZChmKTspZj1mLm5leHQ7dmFyIGU9YyhiKTshZiYmbChiLnBhcmVudCk/bShiLnBhcmVudCxnKGEpKTpsKGYpJiZlJiYhbChlKSYmZyhhKS5pbnNlcnRCZWZvcmUoZil9fX19KEEpO3JldHVybiBofWZ1bmN0aW9uIGUoYSxiKXtyZXR1cm4gYSE9Q0tFRElUT1IuRU5URVJfQlImJiExIT09Yj9hPT1DS0VESVRPUi5FTlRFUl9ESVY/XCJkaXZcIjpcInBcIjohMX1mdW5jdGlvbiBiKGEpe2ZvcihhPWEuY2hpbGRyZW5bYS5jaGlsZHJlbi5sZW5ndGgtMV07YSYmZChhKTspYT1hLnByZXZpb3VzO3JldHVybiBhfWZ1bmN0aW9uIGMoYSl7Zm9yKGE9YS5wcmV2aW91czthJiZcbmQoYSk7KWE9YS5wcmV2aW91cztyZXR1cm4gYX1mdW5jdGlvbiBkKGEpe3JldHVybiBhLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmIUNLRURJVE9SLnRvb2xzLnRyaW0oYS52YWx1ZSl8fGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS1ib29rbWFya1wiXX1mdW5jdGlvbiBsKGEpe3JldHVybiBhJiYoYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEubmFtZSBpbiB1fHxhLnR5cGU9PUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQpfWZ1bmN0aW9uIG0oYSxiKXt2YXIgYz1hLmNoaWxkcmVuW2EuY2hpbGRyZW4ubGVuZ3RoLTFdO2EuY2hpbGRyZW4ucHVzaChiKTtiLnBhcmVudD1hO2MmJihjLm5leHQ9YixiLnByZXZpb3VzPWMpfWZ1bmN0aW9uIGYoYSl7YT1hLmF0dHJpYnV0ZXM7XCJmYWxzZVwiIT1hLmNvbnRlbnRlZGl0YWJsZSYmKGFbXCJkYXRhLWNrZS1lZGl0YWJsZVwiXT1hLmNvbnRlbnRlZGl0YWJsZT9cInRydWVcIjoxKTtcbmEuY29udGVudGVkaXRhYmxlPVwiZmFsc2VcIn1mdW5jdGlvbiBoKGEpe2E9YS5hdHRyaWJ1dGVzO3N3aXRjaChhW1wiZGF0YS1ja2UtZWRpdGFibGVcIl0pe2Nhc2UgXCJ0cnVlXCI6YS5jb250ZW50ZWRpdGFibGU9XCJ0cnVlXCI7YnJlYWs7Y2FzZSBcIjFcIjpkZWxldGUgYS5jb250ZW50ZWRpdGFibGV9fWZ1bmN0aW9uIGsoYSl7cmV0dXJuIGEucmVwbGFjZShDLGZ1bmN0aW9uKGEsYixjKXtyZXR1cm5cIlxceDNjXCIrYitjLnJlcGxhY2UoRixmdW5jdGlvbihhLGIpe3JldHVybiBFLnRlc3QoYikmJi0xPT1jLmluZGV4T2YoXCJkYXRhLWNrZS1zYXZlZC1cIitiKT9cIiBkYXRhLWNrZS1zYXZlZC1cIithK1wiIGRhdGEtY2tlLVwiK0NLRURJVE9SLnJuZCtcIi1cIithOmF9KStcIlxceDNlXCJ9KX1mdW5jdGlvbiBnKGEsYil7cmV0dXJuIGEucmVwbGFjZShiLGZ1bmN0aW9uKGEsYixjKXswPT09YS5pbmRleE9mKFwiXFx4M2N0ZXh0YXJlYVwiKSYmKGE9YityKGMpLnJlcGxhY2UoLzwvZyxcIlxceDI2bHQ7XCIpLnJlcGxhY2UoLz4vZyxcblwiXFx4MjZndDtcIikrXCJcXHgzYy90ZXh0YXJlYVxceDNlXCIpO3JldHVyblwiXFx4M2Nja2U6ZW5jb2RlZFxceDNlXCIrZW5jb2RlVVJJQ29tcG9uZW50KGEpK1wiXFx4M2MvY2tlOmVuY29kZWRcXHgzZVwifSl9ZnVuY3Rpb24gbihhKXtyZXR1cm4gYS5yZXBsYWNlKE0sZnVuY3Rpb24oYSxiKXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGIpfSl9ZnVuY3Rpb24gdihhKXtyZXR1cm4gYS5yZXBsYWNlKC9cXHgzYyEtLSg/IXtja2VfcHJvdGVjdGVkfSlbXFxzXFxTXSs/LS1cXHgzZS9nLGZ1bmN0aW9uKGEpe3JldHVyblwiXFx4M2MhLS1cIit3K1wie0N9XCIrZW5jb2RlVVJJQ29tcG9uZW50KGEpLnJlcGxhY2UoLy0tL2csXCIlMkQlMkRcIikrXCItLVxceDNlXCJ9KX1mdW5jdGlvbiByKGEpe3JldHVybiBhLnJlcGxhY2UoL1xceDNjIS0tXFx7Y2tlX3Byb3RlY3RlZFxcfVxce0NcXH0oW1xcc1xcU10rPyktLVxceDNlL2csZnVuY3Rpb24oYSxiKXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGIpfSl9ZnVuY3Rpb24gcShhLGIpe3ZhciBjPWIuXy5kYXRhU3RvcmU7XG5yZXR1cm4gYS5yZXBsYWNlKC9cXHgzYyEtLVxce2NrZV9wcm90ZWN0ZWRcXH0oW1xcc1xcU10rPyktLVxceDNlL2csZnVuY3Rpb24oYSxiKXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGIpfSkucmVwbGFjZSgvXFx7Y2tlX3Byb3RlY3RlZF8oXFxkKylcXH0vZyxmdW5jdGlvbihhLGIpe3JldHVybiBjJiZjW2JdfHxcIlwifSl9ZnVuY3Rpb24gdChhLGIpe3ZhciBjPVtdLGQ9Yi5jb25maWcucHJvdGVjdGVkU291cmNlLGY9Yi5fLmRhdGFTdG9yZXx8KGIuXy5kYXRhU3RvcmU9e2lkOjF9KSxnPS88XFwhLS1cXHtja2VfdGVtcChjb21tZW50KT9cXH0oXFxkKj8pLS1cXHgzZS9nLGQ9Wy88c2NyaXB0W1xcc1xcU10qPyg8XFwvc2NyaXB0PnwkKS9naSwvPG5vc2NyaXB0W1xcc1xcU10qPzxcXC9ub3NjcmlwdD4vZ2ksLzxtZXRhW1xcc1xcU10qP1xcLz8+L2dpXS5jb25jYXQoZCk7YT1hLnJlcGxhY2UoL1xceDNjIS0tW1xcc1xcU10qPy0tXFx4M2UvZyxmdW5jdGlvbihhKXtyZXR1cm5cIlxceDNjIS0te2NrZV90ZW1wY29tbWVudH1cIisoYy5wdXNoKGEpLVxuMSkrXCItLVxceDNlXCJ9KTtmb3IodmFyIGU9MDtlPGQubGVuZ3RoO2UrKylhPWEucmVwbGFjZShkW2VdLGZ1bmN0aW9uKGEpe2E9YS5yZXBsYWNlKGcsZnVuY3Rpb24oYSxiLGQpe3JldHVybiBjW2RdfSk7cmV0dXJuL2NrZV90ZW1wKGNvbW1lbnQpPy8udGVzdChhKT9hOlwiXFx4M2MhLS17Y2tlX3RlbXB9XCIrKGMucHVzaChhKS0xKStcIi0tXFx4M2VcIn0pO2E9YS5yZXBsYWNlKGcsZnVuY3Rpb24oYSxiLGQpe3JldHVyblwiXFx4M2MhLS1cIit3KyhiP1wie0N9XCI6XCJcIikrZW5jb2RlVVJJQ29tcG9uZW50KGNbZF0pLnJlcGxhY2UoLy0tL2csXCIlMkQlMkRcIikrXCItLVxceDNlXCJ9KTthPWEucmVwbGFjZSgvPFxcdysoPzpcXHMrKD86KD86W15cXHM9Pl0rXFxzKj1cXHMqKD86W14nXCJcXHM+XSt8J1teJ10qJ3xcIlteXCJdKlwiKSl8W15cXHM9XFwvPl0rKSkrXFxzKlxcLz8+L2csZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvXFx4M2MhLS1cXHtja2VfcHJvdGVjdGVkXFx9KFtePl0qKS0tXFx4M2UvZyxmdW5jdGlvbihhLGIpe2ZbZi5pZF09XG5kZWNvZGVVUklDb21wb25lbnQoYik7cmV0dXJuXCJ7Y2tlX3Byb3RlY3RlZF9cIitmLmlkKysgK1wifVwifSl9KTtyZXR1cm4gYT1hLnJlcGxhY2UoLzwodGl0bGV8aWZyYW1lfHRleHRhcmVhKShbXj5dKik+KFtcXHNcXFNdKj8pPFxcL1xcMT4vZyxmdW5jdGlvbihhLGMsZCxmKXtyZXR1cm5cIlxceDNjXCIrYytkK1wiXFx4M2VcIitxKHIoZiksYikrXCJcXHgzYy9cIitjK1wiXFx4M2VcIn0pfUNLRURJVE9SLmh0bWxEYXRhUHJvY2Vzc29yPWZ1bmN0aW9uKGIpe3ZhciBjLGQsZj10aGlzO3RoaXMuZWRpdG9yPWI7dGhpcy5kYXRhRmlsdGVyPWM9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZmlsdGVyO3RoaXMuaHRtbEZpbHRlcj1kPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmZpbHRlcjt0aGlzLndyaXRlcj1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5iYXNpY1dyaXRlcjtjLmFkZFJ1bGVzKHgpO2MuYWRkUnVsZXMoRCx7YXBwbHlUb0FsbDohMH0pO2MuYWRkUnVsZXMoYShiLFwiZGF0YVwiKSx7YXBwbHlUb0FsbDohMH0pO1xuZC5hZGRSdWxlcyh5KTtkLmFkZFJ1bGVzKEIse2FwcGx5VG9BbGw6ITB9KTtkLmFkZFJ1bGVzKGEoYixcImh0bWxcIikse2FwcGx5VG9BbGw6ITB9KTtiLm9uKFwidG9IdG1sXCIsZnVuY3Rpb24oYSl7YT1hLmRhdGE7dmFyIGM9YS5kYXRhVmFsdWUsZCxjPXQoYyxiKSxjPWcoYyxHKSxjPWsoYyksYz1nKGMsSiksYz1jLnJlcGxhY2UoSSxcIiQxY2tlOiQyXCIpLGM9Yy5yZXBsYWNlKFIsXCJcXHgzY2NrZTokMSQyXFx4M2VcXHgzYy9ja2U6JDFcXHgzZVwiKSxjPWMucmVwbGFjZSgvKDxwcmVcXGJbXj5dKj4pKFxcclxcbnxcXG4pL2csXCIkMSQyJDJcIiksYz1jLnJlcGxhY2UoLyhbXmEtejAtOTxcXC1dKShvblxcd3szLH0pKD8hPikvZ2ksXCIkMWRhdGEtY2tlLVwiK0NLRURJVE9SLnJuZCtcIi0kMlwiKTtkPWEuY29udGV4dHx8Yi5lZGl0YWJsZSgpLmdldE5hbWUoKTt2YXIgZjtDS0VESVRPUi5lbnYuaWUmJjk+Q0tFRElUT1IuZW52LnZlcnNpb24mJlwicHJlXCI9PWQmJihkPVwiZGl2XCIsYz1cIlxceDNjcHJlXFx4M2VcIitjK1wiXFx4M2MvcHJlXFx4M2VcIixcbmY9MSk7ZD1iLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZCk7ZC5zZXRIdG1sKFwiYVwiK2MpO2M9ZC5nZXRIdG1sKCkuc3Vic3RyKDEpO2M9Yy5yZXBsYWNlKG5ldyBSZWdFeHAoXCJkYXRhLWNrZS1cIitDS0VESVRPUi5ybmQrXCItXCIsXCJpZ1wiKSxcIlwiKTtmJiYoYz1jLnJlcGxhY2UoL148cHJlPnw8XFwvcHJlPiQvZ2ksXCJcIikpO2M9Yy5yZXBsYWNlKEgsXCIkMSQyXCIpO2M9bihjKTtjPXIoYyk7ZD0hMT09PWEuZml4Rm9yQm9keT8hMTplKGEuZW50ZXJNb2RlLGIuY29uZmlnLmF1dG9QYXJhZ3JhcGgpO2M9Q0tFRElUT1IuaHRtbFBhcnNlci5mcmFnbWVudC5mcm9tSHRtbChjLGEuY29udGV4dCxkKTtkJiYoZj1jLCFmLmNoaWxkcmVuLmxlbmd0aCYmQ0tFRElUT1IuZHRkW2YubmFtZV1bZF0mJihkPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQoZCksZi5hZGQoZCkpKTthLmRhdGFWYWx1ZT1jfSxudWxsLG51bGwsNSk7Yi5vbihcInRvSHRtbFwiLGZ1bmN0aW9uKGEpe2EuZGF0YS5maWx0ZXIuYXBwbHlUbyhhLmRhdGEuZGF0YVZhbHVlLFxuITAsYS5kYXRhLmRvbnRGaWx0ZXIsYS5kYXRhLmVudGVyTW9kZSkmJmIuZmlyZShcImRhdGFGaWx0ZXJlZFwiKX0sbnVsbCxudWxsLDYpO2Iub24oXCJ0b0h0bWxcIixmdW5jdGlvbihhKXthLmRhdGEuZGF0YVZhbHVlLmZpbHRlckNoaWxkcmVuKGYuZGF0YUZpbHRlciwhMCl9LG51bGwsbnVsbCwxMCk7Yi5vbihcInRvSHRtbFwiLGZ1bmN0aW9uKGEpe2E9YS5kYXRhO3ZhciBiPWEuZGF0YVZhbHVlLGM9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuYmFzaWNXcml0ZXI7Yi53cml0ZUNoaWxkcmVuSHRtbChjKTtiPWMuZ2V0SHRtbCghMCk7YS5kYXRhVmFsdWU9dihiKX0sbnVsbCxudWxsLDE1KTtiLm9uKFwidG9EYXRhRm9ybWF0XCIsZnVuY3Rpb24oYSl7dmFyIGM9YS5kYXRhLmRhdGFWYWx1ZTthLmRhdGEuZW50ZXJNb2RlIT1DS0VESVRPUi5FTlRFUl9CUiYmKGM9Yy5yZXBsYWNlKC9ePGJyICpcXC8/Pi9pLFwiXCIpKTthLmRhdGEuZGF0YVZhbHVlPUNLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQuZnJvbUh0bWwoYyxcbmEuZGF0YS5jb250ZXh0LGUoYS5kYXRhLmVudGVyTW9kZSxiLmNvbmZpZy5hdXRvUGFyYWdyYXBoKSl9LG51bGwsbnVsbCw1KTtiLm9uKFwidG9EYXRhRm9ybWF0XCIsZnVuY3Rpb24oYSl7YS5kYXRhLmRhdGFWYWx1ZS5maWx0ZXJDaGlsZHJlbihmLmh0bWxGaWx0ZXIsITApfSxudWxsLG51bGwsMTApO2Iub24oXCJ0b0RhdGFGb3JtYXRcIixmdW5jdGlvbihhKXthLmRhdGEuZmlsdGVyLmFwcGx5VG8oYS5kYXRhLmRhdGFWYWx1ZSwhMSwhMCl9LG51bGwsbnVsbCwxMSk7Yi5vbihcInRvRGF0YUZvcm1hdFwiLGZ1bmN0aW9uKGEpe3ZhciBjPWEuZGF0YS5kYXRhVmFsdWUsZD1mLndyaXRlcjtkLnJlc2V0KCk7Yy53cml0ZUNoaWxkcmVuSHRtbChkKTtjPWQuZ2V0SHRtbCghMCk7Yz1yKGMpO2M9cShjLGIpO2EuZGF0YS5kYXRhVmFsdWU9Y30sbnVsbCxudWxsLDE1KX07Q0tFRElUT1IuaHRtbERhdGFQcm9jZXNzb3IucHJvdG90eXBlPXt0b0h0bWw6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGY9dGhpcy5lZGl0b3IsXG5nLGUsayxoO2ImJlwib2JqZWN0XCI9PXR5cGVvZiBiPyhnPWIuY29udGV4dCxjPWIuZml4Rm9yQm9keSxkPWIuZG9udEZpbHRlcixlPWIuZmlsdGVyLGs9Yi5lbnRlck1vZGUsaD1iLnByb3RlY3RlZFdoaXRlc3BhY2VzKTpnPWI7Z3x8bnVsbD09PWd8fChnPWYuZWRpdGFibGUoKS5nZXROYW1lKCkpO3JldHVybiBmLmZpcmUoXCJ0b0h0bWxcIix7ZGF0YVZhbHVlOmEsY29udGV4dDpnLGZpeEZvckJvZHk6Yyxkb250RmlsdGVyOmQsZmlsdGVyOmV8fGYuZmlsdGVyLGVudGVyTW9kZTprfHxmLmVudGVyTW9kZSxwcm90ZWN0ZWRXaGl0ZXNwYWNlczpofSkuZGF0YVZhbHVlfSx0b0RhdGFGb3JtYXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGY7YiYmKGM9Yi5jb250ZXh0LGQ9Yi5maWx0ZXIsZj1iLmVudGVyTW9kZSk7Y3x8bnVsbD09PWN8fChjPXRoaXMuZWRpdG9yLmVkaXRhYmxlKCkuZ2V0TmFtZSgpKTtyZXR1cm4gdGhpcy5lZGl0b3IuZmlyZShcInRvRGF0YUZvcm1hdFwiLHtkYXRhVmFsdWU6YSxcbmZpbHRlcjpkfHx0aGlzLmVkaXRvci5maWx0ZXIsY29udGV4dDpjLGVudGVyTW9kZTpmfHx0aGlzLmVkaXRvci5lbnRlck1vZGV9KS5kYXRhVmFsdWV9fTt2YXIgcD0vKD86Jm5ic3A7fFxceGEwKSQvLHc9XCJ7Y2tlX3Byb3RlY3RlZH1cIix6PUNLRURJVE9SLmR0ZCxBPVwiY2FwdGlvbiBjb2xncm91cCBjb2wgdGhlYWQgdGZvb3QgdGJvZHlcIi5zcGxpdChcIiBcIiksdT1DS0VESVRPUi50b29scy5leHRlbmQoe30sei4kYmxvY2tMaW1pdCx6LiRibG9jaykseD17ZWxlbWVudHM6e2lucHV0OmYsdGV4dGFyZWE6Zn19LEQ9e2F0dHJpYnV0ZU5hbWVzOltbL15vbi8sXCJkYXRhLWNrZS1wYS1vblwiXSxbL15kYXRhLWNrZS1leHBhbmRvJC8sXCJcIl1dfSx5PXtlbGVtZW50czp7ZW1iZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5wYXJlbnQ7aWYoYiYmXCJvYmplY3RcIj09Yi5uYW1lKXt2YXIgYz1iLmF0dHJpYnV0ZXMud2lkdGgsYj1iLmF0dHJpYnV0ZXMuaGVpZ2h0O2MmJihhLmF0dHJpYnV0ZXMud2lkdGg9Yyk7XG5iJiYoYS5hdHRyaWJ1dGVzLmhlaWdodD1iKX19LGE6ZnVuY3Rpb24oYSl7dmFyIGI9YS5hdHRyaWJ1dGVzO2lmKCEoYS5jaGlsZHJlbi5sZW5ndGh8fGIubmFtZXx8Yi5pZHx8YS5hdHRyaWJ1dGVzW1wiZGF0YS1ja2Utc2F2ZWQtbmFtZVwiXSkpcmV0dXJuITF9fX0sQj17ZWxlbWVudE5hbWVzOltbL15ja2U6LyxcIlwiXSxbL15cXD94bWw6bmFtZXNwYWNlJC8sXCJcIl1dLGF0dHJpYnV0ZU5hbWVzOltbL15kYXRhLWNrZS0oc2F2ZWR8cGEpLS8sXCJcIl0sWy9eZGF0YS1ja2UtLiovLFwiXCJdLFtcImhpZGVmb2N1c1wiLFwiXCJdXSxlbGVtZW50czp7JDpmdW5jdGlvbihhKXt2YXIgYj1hLmF0dHJpYnV0ZXM7aWYoYil7aWYoYltcImRhdGEtY2tlLXRlbXBcIl0pcmV0dXJuITE7Zm9yKHZhciBjPVtcIm5hbWVcIixcImhyZWZcIixcInNyY1wiXSxkLGY9MDtmPGMubGVuZ3RoO2YrKylkPVwiZGF0YS1ja2Utc2F2ZWQtXCIrY1tmXSxkIGluIGImJmRlbGV0ZSBiW2NbZl1dfXJldHVybiBhfSx0YWJsZTpmdW5jdGlvbihhKXthLmNoaWxkcmVuLnNsaWNlKDApLnNvcnQoZnVuY3Rpb24oYSxcbmIpe3ZhciBjLGQ7YS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmIudHlwZT09YS50eXBlJiYoYz1DS0VESVRPUi50b29scy5pbmRleE9mKEEsYS5uYW1lKSxkPUNLRURJVE9SLnRvb2xzLmluZGV4T2YoQSxiLm5hbWUpKTstMTxjJiYtMTxkJiZjIT1kfHwoYz1hLnBhcmVudD9hLmdldEluZGV4KCk6LTEsZD1iLnBhcmVudD9iLmdldEluZGV4KCk6LTEpO3JldHVybiBjPmQ/MTotMX0pfSxwYXJhbTpmdW5jdGlvbihhKXthLmNoaWxkcmVuPVtdO2EuaXNFbXB0eT0hMDtyZXR1cm4gYX0sc3BhbjpmdW5jdGlvbihhKXtcIkFwcGxlLXN0eWxlLXNwYW5cIj09YS5hdHRyaWJ1dGVzW1wiY2xhc3NcIl0mJmRlbGV0ZSBhLm5hbWV9LGh0bWw6ZnVuY3Rpb24oYSl7ZGVsZXRlIGEuYXR0cmlidXRlcy5jb250ZW50ZWRpdGFibGU7ZGVsZXRlIGEuYXR0cmlidXRlc1tcImNsYXNzXCJdfSxib2R5OmZ1bmN0aW9uKGEpe2RlbGV0ZSBhLmF0dHJpYnV0ZXMuc3BlbGxjaGVjaztkZWxldGUgYS5hdHRyaWJ1dGVzLmNvbnRlbnRlZGl0YWJsZX0sXG5zdHlsZTpmdW5jdGlvbihhKXt2YXIgYj1hLmNoaWxkcmVuWzBdO2ImJmIudmFsdWUmJihiLnZhbHVlPUNLRURJVE9SLnRvb2xzLnRyaW0oYi52YWx1ZSkpO2EuYXR0cmlidXRlcy50eXBlfHwoYS5hdHRyaWJ1dGVzLnR5cGU9XCJ0ZXh0L2Nzc1wiKX0sdGl0bGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5jaGlsZHJlblswXTshYiYmbShhLGI9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIudGV4dCk7Yi52YWx1ZT1hLmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS10aXRsZVwiXXx8XCJcIn0saW5wdXQ6aCx0ZXh0YXJlYTpofSxhdHRyaWJ1dGVzOntcImNsYXNzXCI6ZnVuY3Rpb24oYSl7cmV0dXJuIENLRURJVE9SLnRvb2xzLmx0cmltKGEucmVwbGFjZSgvKD86XnxcXHMrKWNrZV9bXlxcc10qL2csXCJcIikpfHwhMX19fTtDS0VESVRPUi5lbnYuaWUmJihCLmF0dHJpYnV0ZXMuc3R5bGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvKF58OykoW15cXDpdKykvZyxmdW5jdGlvbihhKXtyZXR1cm4gYS50b0xvd2VyQ2FzZSgpfSl9KTtcbnZhciBDPS88KGF8YXJlYXxpbWd8aW5wdXR8c291cmNlKVxcYihbXj5dKik+L2dpLEY9LyhbXFx3LTpdKylcXHMqPVxccyooPzooPzpcIlteXCJdKlwiKXwoPzonW14nXSonKXwoPzpbXiBcIic+XSspKS9naSxFPS9eKGhyZWZ8c3JjfG5hbWUpJC9pLEo9Lyg/OjxzdHlsZSg/PVsgPl0pW14+XSo+W1xcc1xcU10qPzxcXC9zdHlsZT4pfCg/OjwoOj9saW5rfG1ldGF8YmFzZSlbXj5dKj4pL2dpLEc9Lyg8dGV4dGFyZWEoPz1bID5dKVtePl0qPikoW1xcc1xcU10qPykoPzo8XFwvdGV4dGFyZWE+KS9naSxNPS88Y2tlOmVuY29kZWQ+KFtePF0qKTxcXC9ja2U6ZW5jb2RlZD4vZ2ksST0vKDxcXC8/KSgoPzpvYmplY3R8ZW1iZWR8cGFyYW18aHRtbHxib2R5fGhlYWR8dGl0bGUpW14+XSo+KS9naSxIPS8oPFxcLz8pY2tlOigoPzpodG1sfGJvZHl8aGVhZHx0aXRsZSlbXj5dKj4pL2dpLFI9Lzxja2U6KHBhcmFtfGVtYmVkKShbXj5dKj8pXFwvPz4oPyFcXHMqPFxcL2NrZTpcXDEpL2dpfSgpLFwidXNlIHN0cmljdFwiLENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudD1cbmZ1bmN0aW9uKGEsZSl7dGhpcy5uYW1lPWE7dGhpcy5hdHRyaWJ1dGVzPWV8fHt9O3RoaXMuY2hpbGRyZW49W107dmFyIGI9YXx8XCJcIixjPWIubWF0Y2goL15ja2U6KC4qKS8pO2MmJihiPWNbMV0pO2I9ISEoQ0tFRElUT1IuZHRkLiRub25Cb2R5Q29udGVudFtiXXx8Q0tFRElUT1IuZHRkLiRibG9ja1tiXXx8Q0tFRElUT1IuZHRkLiRsaXN0SXRlbVtiXXx8Q0tFRElUT1IuZHRkLiR0YWJsZUNvbnRlbnRbYl18fENLRURJVE9SLmR0ZC4kbm9uRWRpdGFibGVbYl18fFwiYnJcIj09Yik7dGhpcy5pc0VtcHR5PSEhQ0tFRElUT1IuZHRkLiRlbXB0eVthXTt0aGlzLmlzVW5rbm93bj0hQ0tFRElUT1IuZHRkW2FdO3RoaXMuXz17aXNCbG9ja0xpa2U6YixoYXNJbmxpbmVTdGFydGVkOnRoaXMuaXNFbXB0eXx8IWJ9fSxDS0VESVRPUi5odG1sUGFyc2VyLmNzc1N0eWxlPWZ1bmN0aW9uKGEpe3ZhciBlPXt9OygoYSBpbnN0YW5jZW9mIENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudD9hLmF0dHJpYnV0ZXMuc3R5bGU6XG5hKXx8XCJcIikucmVwbGFjZSgvJnF1b3Q7L2csJ1wiJykucmVwbGFjZSgvXFxzKihbXiA6O10rKVxccyo6XFxzKihbXjtdKylcXHMqKD89O3wkKS9nLGZ1bmN0aW9uKGEsYyxkKXtcImZvbnQtZmFtaWx5XCI9PWMmJihkPWQucmVwbGFjZSgvW1wiJ10vZyxcIlwiKSk7ZVtjLnRvTG93ZXJDYXNlKCldPWR9KTtyZXR1cm57cnVsZXM6ZSxwb3B1bGF0ZTpmdW5jdGlvbihhKXt2YXIgYz10aGlzLnRvU3RyaW5nKCk7YyYmKGEgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20uZWxlbWVudD9hLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsYyk6YSBpbnN0YW5jZW9mIENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudD9hLmF0dHJpYnV0ZXMuc3R5bGU9YzphLnN0eWxlPWMpfSx0b1N0cmluZzpmdW5jdGlvbigpe3ZhciBhPVtdLGM7Zm9yKGMgaW4gZSllW2NdJiZhLnB1c2goYyxcIjpcIixlW2NdLFwiO1wiKTtyZXR1cm4gYS5qb2luKFwiXCIpfX19LGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGIudHlwZT09XG5DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihcInN0cmluZ1wiPT10eXBlb2YgYT9iLm5hbWU9PWE6Yi5uYW1lIGluIGEpfX12YXIgZT1mdW5jdGlvbihhLGIpe2E9YVswXTtiPWJbMF07cmV0dXJuIGE8Yj8tMTphPmI/MTowfSxiPUNLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQucHJvdG90eXBlO0NLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudC5wcm90b3R5cGU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKG5ldyBDS0VESVRPUi5odG1sUGFyc2VyLm5vZGUse3R5cGU6Q0tFRElUT1IuTk9ERV9FTEVNRU5ULGFkZDpiLmFkZCxjbG9uZTpmdW5jdGlvbigpe3JldHVybiBuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50KHRoaXMubmFtZSx0aGlzLmF0dHJpYnV0ZXMpfSxmaWx0ZXI6ZnVuY3Rpb24oYSxiKXt2YXIgZT10aGlzLG0sZjtiPWUuZ2V0RmlsdGVyQ29udGV4dChiKTtpZihiLm9mZilyZXR1cm4hMDtpZighZS5wYXJlbnQpYS5vblJvb3QoYixlKTtmb3IoOzspe209ZS5uYW1lO2lmKCEoZj1cbmEub25FbGVtZW50TmFtZShiLG0pKSlyZXR1cm4gdGhpcy5yZW1vdmUoKSwhMTtlLm5hbWU9ZjtpZighKGU9YS5vbkVsZW1lbnQoYixlKSkpcmV0dXJuIHRoaXMucmVtb3ZlKCksITE7aWYoZSE9PXRoaXMpcmV0dXJuIHRoaXMucmVwbGFjZVdpdGgoZSksITE7aWYoZS5uYW1lPT1tKWJyZWFrO2lmKGUudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UKXJldHVybiB0aGlzLnJlcGxhY2VXaXRoKGUpLCExO2lmKCFlLm5hbWUpcmV0dXJuIHRoaXMucmVwbGFjZVdpdGhDaGlsZHJlbigpLCExfW09ZS5hdHRyaWJ1dGVzO3ZhciBoLGs7Zm9yKGggaW4gbSl7Zm9yKGY9bVtoXTs7KWlmKGs9YS5vbkF0dHJpYnV0ZU5hbWUoYixoKSlpZihrIT1oKWRlbGV0ZSBtW2hdLGg9aztlbHNlIGJyZWFrO2Vsc2V7ZGVsZXRlIG1baF07YnJlYWt9ayYmKCExPT09KGY9YS5vbkF0dHJpYnV0ZShiLGUsayxmKSk/ZGVsZXRlIG1ba106bVtrXT1mKX1lLmlzRW1wdHl8fHRoaXMuZmlsdGVyQ2hpbGRyZW4oYSwhMSxcbmIpO3JldHVybiEwfSxmaWx0ZXJDaGlsZHJlbjpiLmZpbHRlckNoaWxkcmVuLHdyaXRlSHRtbDpmdW5jdGlvbihhLGIpe2ImJnRoaXMuZmlsdGVyKGIpO3ZhciBsPXRoaXMubmFtZSxtPVtdLGY9dGhpcy5hdHRyaWJ1dGVzLGgsazthLm9wZW5UYWcobCxmKTtmb3IoaCBpbiBmKW0ucHVzaChbaCxmW2hdXSk7YS5zb3J0QXR0cmlidXRlcyYmbS5zb3J0KGUpO2g9MDtmb3Ioaz1tLmxlbmd0aDtoPGs7aCsrKWY9bVtoXSxhLmF0dHJpYnV0ZShmWzBdLGZbMV0pO2Eub3BlblRhZ0Nsb3NlKGwsdGhpcy5pc0VtcHR5KTt0aGlzLndyaXRlQ2hpbGRyZW5IdG1sKGEpO3RoaXMuaXNFbXB0eXx8YS5jbG9zZVRhZyhsKX0sd3JpdGVDaGlsZHJlbkh0bWw6Yi53cml0ZUNoaWxkcmVuSHRtbCxyZXBsYWNlV2l0aENoaWxkcmVuOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuY2hpbGRyZW4sYj1hLmxlbmd0aDtiOylhWy0tYl0uaW5zZXJ0QWZ0ZXIodGhpcyk7dGhpcy5yZW1vdmUoKX0sZm9yRWFjaDpiLmZvckVhY2gsXG5nZXRGaXJzdDpmdW5jdGlvbihiKXtpZighYilyZXR1cm4gdGhpcy5jaGlsZHJlbi5sZW5ndGg/dGhpcy5jaGlsZHJlblswXTpudWxsO1wiZnVuY3Rpb25cIiE9dHlwZW9mIGImJihiPWEoYikpO2Zvcih2YXIgZD0wLGU9dGhpcy5jaGlsZHJlbi5sZW5ndGg7ZDxlOysrZClpZihiKHRoaXMuY2hpbGRyZW5bZF0pKXJldHVybiB0aGlzLmNoaWxkcmVuW2RdO3JldHVybiBudWxsfSxnZXRIdG1sOmZ1bmN0aW9uKCl7dmFyIGE9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuYmFzaWNXcml0ZXI7dGhpcy53cml0ZUNoaWxkcmVuSHRtbChhKTtyZXR1cm4gYS5nZXRIdG1sKCl9LHNldEh0bWw6ZnVuY3Rpb24oYSl7YT10aGlzLmNoaWxkcmVuPUNLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQuZnJvbUh0bWwoYSkuY2hpbGRyZW47Zm9yKHZhciBiPTAsZT1hLmxlbmd0aDtiPGU7KytiKWFbYl0ucGFyZW50PXRoaXN9LGdldE91dGVySHRtbDpmdW5jdGlvbigpe3ZhciBhPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmJhc2ljV3JpdGVyO1xudGhpcy53cml0ZUh0bWwoYSk7cmV0dXJuIGEuZ2V0SHRtbCgpfSxzcGxpdDpmdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5jaGlsZHJlbi5zcGxpY2UoYSx0aGlzLmNoaWxkcmVuLmxlbmd0aC1hKSxlPXRoaXMuY2xvbmUoKSxtPTA7bTxiLmxlbmd0aDsrK20pYlttXS5wYXJlbnQ9ZTtlLmNoaWxkcmVuPWI7YlswXSYmKGJbMF0ucHJldmlvdXM9bnVsbCk7MDxhJiYodGhpcy5jaGlsZHJlblthLTFdLm5leHQ9bnVsbCk7dGhpcy5wYXJlbnQuYWRkKGUsdGhpcy5nZXRJbmRleCgpKzEpO3JldHVybiBlfSxhZGRDbGFzczpmdW5jdGlvbihhKXtpZighdGhpcy5oYXNDbGFzcyhhKSl7dmFyIGI9dGhpcy5hdHRyaWJ1dGVzW1wiY2xhc3NcIl18fFwiXCI7dGhpcy5hdHRyaWJ1dGVzW1wiY2xhc3NcIl09YisoYj9cIiBcIjpcIlwiKSthfX0scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5hdHRyaWJ1dGVzW1wiY2xhc3NcIl07YiYmKChiPUNLRURJVE9SLnRvb2xzLnRyaW0oYi5yZXBsYWNlKG5ldyBSZWdFeHAoXCIoPzpcXFxccyt8XilcIitcbmErXCIoPzpcXFxccyt8JClcIiksXCIgXCIpKSk/dGhpcy5hdHRyaWJ1dGVzW1wiY2xhc3NcIl09YjpkZWxldGUgdGhpcy5hdHRyaWJ1dGVzW1wiY2xhc3NcIl0pfSxoYXNDbGFzczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmF0dHJpYnV0ZXNbXCJjbGFzc1wiXTtyZXR1cm4gYj8obmV3IFJlZ0V4cChcIig/Ol58XFxcXHMpXCIrYStcIig/XFx4M2RcXFxcc3wkKVwiKSkudGVzdChiKTohMX0sZ2V0RmlsdGVyQ29udGV4dDpmdW5jdGlvbihhKXt2YXIgYj1bXTthfHwoYT17b2ZmOiExLG5vbkVkaXRhYmxlOiExLG5lc3RlZEVkaXRhYmxlOiExfSk7YS5vZmZ8fFwib2ZmXCIhPXRoaXMuYXR0cmlidXRlc1tcImRhdGEtY2tlLXByb2Nlc3NvclwiXXx8Yi5wdXNoKFwib2ZmXCIsITApO2Eubm9uRWRpdGFibGV8fFwiZmFsc2VcIiE9dGhpcy5hdHRyaWJ1dGVzLmNvbnRlbnRlZGl0YWJsZT9hLm5vbkVkaXRhYmxlJiYhYS5uZXN0ZWRFZGl0YWJsZSYmXCJ0cnVlXCI9PXRoaXMuYXR0cmlidXRlcy5jb250ZW50ZWRpdGFibGUmJmIucHVzaChcIm5lc3RlZEVkaXRhYmxlXCIsXG4hMCk6Yi5wdXNoKFwibm9uRWRpdGFibGVcIiwhMCk7aWYoYi5sZW5ndGgpe2E9Q0tFRElUT1IudG9vbHMuY29weShhKTtmb3IodmFyIGU9MDtlPGIubGVuZ3RoO2UrPTIpYVtiW2VdXT1iW2UrMV19cmV0dXJuIGF9fSwhMCl9KCksZnVuY3Rpb24oKXt2YXIgYT17fSxlPS97KFtefV0rKX0vZyxiPS8oW1xcXFwnXSkvZyxjPS9cXG4vZyxkPS9cXHIvZztDS0VESVRPUi50ZW1wbGF0ZT1mdW5jdGlvbihsKXtpZihhW2xdKXRoaXMub3V0cHV0PWFbbF07ZWxzZXt2YXIgbT1sLnJlcGxhY2UoYixcIlxcXFwkMVwiKS5yZXBsYWNlKGMsXCJcXFxcblwiKS5yZXBsYWNlKGQsXCJcXFxcclwiKS5yZXBsYWNlKGUsZnVuY3Rpb24oYSxiKXtyZXR1cm5cIicsZGF0YVsnXCIrYitcIiddXFx4M2RcXHgzZHVuZGVmaW5lZD8ne1wiK2IrXCJ9JzpkYXRhWydcIitiK1wiJ10sJ1wifSk7dGhpcy5vdXRwdXQ9YVtsXT1GdW5jdGlvbihcImRhdGFcIixcImJ1ZmZlclwiLFwicmV0dXJuIGJ1ZmZlcj9idWZmZXIucHVzaCgnXCIrbStcIicpOlsnXCIrbStcIiddLmpvaW4oJycpO1wiKX19fSgpLFxuZGVsZXRlIENLRURJVE9SLmxvYWRGdWxsQ29yZSxDS0VESVRPUi5pbnN0YW5jZXM9e30sQ0tFRElUT1IuZG9jdW1lbnQ9bmV3IENLRURJVE9SLmRvbS5kb2N1bWVudChkb2N1bWVudCksQ0tFRElUT1IuYWRkPWZ1bmN0aW9uKGEpe0NLRURJVE9SLmluc3RhbmNlc1thLm5hbWVdPWE7YS5vbihcImZvY3VzXCIsZnVuY3Rpb24oKXtDS0VESVRPUi5jdXJyZW50SW5zdGFuY2UhPWEmJihDS0VESVRPUi5jdXJyZW50SW5zdGFuY2U9YSxDS0VESVRPUi5maXJlKFwiY3VycmVudEluc3RhbmNlXCIpKX0pO2Eub24oXCJibHVyXCIsZnVuY3Rpb24oKXtDS0VESVRPUi5jdXJyZW50SW5zdGFuY2U9PWEmJihDS0VESVRPUi5jdXJyZW50SW5zdGFuY2U9bnVsbCxDS0VESVRPUi5maXJlKFwiY3VycmVudEluc3RhbmNlXCIpKX0pO0NLRURJVE9SLmZpcmUoXCJpbnN0YW5jZVwiLG51bGwsYSl9LENLRURJVE9SLnJlbW92ZT1mdW5jdGlvbihhKXtkZWxldGUgQ0tFRElUT1IuaW5zdGFuY2VzW2EubmFtZV19LGZ1bmN0aW9uKCl7dmFyIGE9XG57fTtDS0VESVRPUi5hZGRUZW1wbGF0ZT1mdW5jdGlvbihlLGIpe3ZhciBjPWFbZV07aWYoYylyZXR1cm4gYztjPXtuYW1lOmUsc291cmNlOmJ9O0NLRURJVE9SLmZpcmUoXCJ0ZW1wbGF0ZVwiLGMpO3JldHVybiBhW2VdPW5ldyBDS0VESVRPUi50ZW1wbGF0ZShjLnNvdXJjZSl9O0NLRURJVE9SLmdldFRlbXBsYXRlPWZ1bmN0aW9uKGUpe3JldHVybiBhW2VdfX0oKSxmdW5jdGlvbigpe3ZhciBhPVtdO0NLRURJVE9SLmFkZENzcz1mdW5jdGlvbihlKXthLnB1c2goZSl9O0NLRURJVE9SLmdldENzcz1mdW5jdGlvbigpe3JldHVybiBhLmpvaW4oXCJcXG5cIil9fSgpLENLRURJVE9SLm9uKFwiaW5zdGFuY2VEZXN0cm95ZWRcIixmdW5jdGlvbigpe0NLRURJVE9SLnRvb2xzLmlzRW1wdHkodGhpcy5pbnN0YW5jZXMpJiZDS0VESVRPUi5maXJlKFwicmVzZXRcIil9KSxDS0VESVRPUi5UUklTVEFURV9PTj0xLENLRURJVE9SLlRSSVNUQVRFX09GRj0yLENLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEPTAsZnVuY3Rpb24oKXtDS0VESVRPUi5pbmxpbmU9XG5mdW5jdGlvbihhLGUpe2lmKCFDS0VESVRPUi5lbnYuaXNDb21wYXRpYmxlKXJldHVybiBudWxsO2E9Q0tFRElUT1IuZG9tLmVsZW1lbnQuZ2V0KGEpO2lmKGEuZ2V0RWRpdG9yKCkpdGhyb3cnVGhlIGVkaXRvciBpbnN0YW5jZSBcIicrYS5nZXRFZGl0b3IoKS5uYW1lKydcIiBpcyBhbHJlYWR5IGF0dGFjaGVkIHRvIHRoZSBwcm92aWRlZCBlbGVtZW50Lic7dmFyIGI9bmV3IENLRURJVE9SLmVkaXRvcihlLGEsQ0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORSksYz1hLmlzKFwidGV4dGFyZWFcIik/YTpudWxsO2M/KGIuc2V0RGF0YShjLmdldFZhbHVlKCksbnVsbCwhMCksYT1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCgnXFx4M2NkaXYgY29udGVudGVkaXRhYmxlXFx4M2RcIicrISFiLnJlYWRPbmx5KydcIiBjbGFzc1xceDNkXCJja2VfdGV4dGFyZWFfaW5saW5lXCJcXHgzZScrYy5nZXRWYWx1ZSgpK1wiXFx4M2MvZGl2XFx4M2VcIixDS0VESVRPUi5kb2N1bWVudCksYS5pbnNlcnRBZnRlcihjKSxcbmMuaGlkZSgpLGMuJC5mb3JtJiZiLl9hdHRhY2hUb0Zvcm0oKSk6Yi5zZXREYXRhKGEuZ2V0SHRtbCgpLG51bGwsITApO2Iub24oXCJsb2FkZWRcIixmdW5jdGlvbigpe2IuZmlyZShcInVpUmVhZHlcIik7Yi5lZGl0YWJsZShhKTtiLmNvbnRhaW5lcj1hO2IudWkuY29udGVudHNFbGVtZW50PWE7Yi5zZXREYXRhKGIuZ2V0RGF0YSgxKSk7Yi5yZXNldERpcnR5KCk7Yi5maXJlKFwiY29udGVudERvbVwiKTtiLm1vZGU9XCJ3eXNpd3lnXCI7Yi5maXJlKFwibW9kZVwiKTtiLnN0YXR1cz1cInJlYWR5XCI7Yi5maXJlT25jZShcImluc3RhbmNlUmVhZHlcIik7Q0tFRElUT1IuZmlyZShcImluc3RhbmNlUmVhZHlcIixudWxsLGIpfSxudWxsLG51bGwsMUU0KTtiLm9uKFwiZGVzdHJveVwiLGZ1bmN0aW9uKCl7YyYmKGIuY29udGFpbmVyLmNsZWFyQ3VzdG9tRGF0YSgpLGIuY29udGFpbmVyLnJlbW92ZSgpLGMuc2hvdygpKTtiLmVsZW1lbnQuY2xlYXJDdXN0b21EYXRhKCk7ZGVsZXRlIGIuZWxlbWVudH0pO3JldHVybiBifTtcbkNLRURJVE9SLmlubGluZUFsbD1mdW5jdGlvbigpe3ZhciBhLGUsYjtmb3IoYiBpbiBDS0VESVRPUi5kdGQuJGVkaXRhYmxlKWZvcih2YXIgYz1DS0VESVRPUi5kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnKGIpLGQ9MCxsPWMuY291bnQoKTtkPGw7ZCsrKWE9Yy5nZXRJdGVtKGQpLFwidHJ1ZVwiPT1hLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSYmKGU9e2VsZW1lbnQ6YSxjb25maWc6e319LCExIT09Q0tFRElUT1IuZmlyZShcImlubGluZVwiLGUpJiZDS0VESVRPUi5pbmxpbmUoYSxlLmNvbmZpZykpfTtDS0VESVRPUi5kb21SZWFkeShmdW5jdGlvbigpeyFDS0VESVRPUi5kaXNhYmxlQXV0b0lubGluZSYmQ0tFRElUT1IuaW5saW5lQWxsKCl9KX0oKSxDS0VESVRPUi5yZXBsYWNlQ2xhc3M9XCJja2VkaXRvclwiLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGQsbCxtKXtpZighQ0tFRElUT1IuZW52LmlzQ29tcGF0aWJsZSlyZXR1cm4gbnVsbDthPUNLRURJVE9SLmRvbS5lbGVtZW50LmdldChhKTtcbmlmKGEuZ2V0RWRpdG9yKCkpdGhyb3cnVGhlIGVkaXRvciBpbnN0YW5jZSBcIicrYS5nZXRFZGl0b3IoKS5uYW1lKydcIiBpcyBhbHJlYWR5IGF0dGFjaGVkIHRvIHRoZSBwcm92aWRlZCBlbGVtZW50Lic7dmFyIGY9bmV3IENLRURJVE9SLmVkaXRvcihkLGEsbSk7bT09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX1JFUExBQ0UmJihhLnNldFN0eWxlKFwidmlzaWJpbGl0eVwiLFwiaGlkZGVuXCIpLGYuXy5yZXF1aXJlZD1hLmhhc0F0dHJpYnV0ZShcInJlcXVpcmVkXCIpLGEucmVtb3ZlQXR0cmlidXRlKFwicmVxdWlyZWRcIikpO2wmJmYuc2V0RGF0YShsLG51bGwsITApO2Yub24oXCJsb2FkZWRcIixmdW5jdGlvbigpe2IoZik7bT09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX1JFUExBQ0UmJmYuY29uZmlnLmF1dG9VcGRhdGVFbGVtZW50JiZhLiQuZm9ybSYmZi5fYXR0YWNoVG9Gb3JtKCk7Zi5zZXRNb2RlKGYuY29uZmlnLnN0YXJ0dXBNb2RlLGZ1bmN0aW9uKCl7Zi5yZXNldERpcnR5KCk7Zi5zdGF0dXM9XCJyZWFkeVwiO1xuZi5maXJlT25jZShcImluc3RhbmNlUmVhZHlcIik7Q0tFRElUT1IuZmlyZShcImluc3RhbmNlUmVhZHlcIixudWxsLGYpfSl9KTtmLm9uKFwiZGVzdHJveVwiLGUpO3JldHVybiBmfWZ1bmN0aW9uIGUoKXt2YXIgYT10aGlzLmNvbnRhaW5lcixiPXRoaXMuZWxlbWVudDthJiYoYS5jbGVhckN1c3RvbURhdGEoKSxhLnJlbW92ZSgpKTtiJiYoYi5jbGVhckN1c3RvbURhdGEoKSx0aGlzLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfUkVQTEFDRSYmKGIuc2hvdygpLHRoaXMuXy5yZXF1aXJlZCYmYi5zZXRBdHRyaWJ1dGUoXCJyZXF1aXJlZFwiLFwicmVxdWlyZWRcIikpLGRlbGV0ZSB0aGlzLmVsZW1lbnQpfWZ1bmN0aW9uIGIoYSl7dmFyIGI9YS5uYW1lLGU9YS5lbGVtZW50LG09YS5lbGVtZW50TW9kZSxmPWEuZmlyZShcInVpU3BhY2VcIix7c3BhY2U6XCJ0b3BcIixodG1sOlwiXCJ9KS5odG1sLGg9YS5maXJlKFwidWlTcGFjZVwiLHtzcGFjZTpcImJvdHRvbVwiLGh0bWw6XCJcIn0pLmh0bWwsaz1uZXcgQ0tFRElUT1IudGVtcGxhdGUoJ1xceDNje291dGVyRWx9IGlkXFx4M2RcImNrZV97bmFtZX1cIiBjbGFzc1xceDNkXCJ7aWR9IGNrZSBja2VfcmVzZXQgY2tlX2Nocm9tZSBja2VfZWRpdG9yX3tuYW1lfSBja2Vfe2xhbmdEaXJ9ICcrXG5DS0VESVRPUi5lbnYuY3NzQ2xhc3MrJ1wiICBkaXJcXHgzZFwie2xhbmdEaXJ9XCIgbGFuZ1xceDNkXCJ7bGFuZ0NvZGV9XCIgcm9sZVxceDNkXCJhcHBsaWNhdGlvblwiJysoYS50aXRsZT8nIGFyaWEtbGFiZWxsZWRieVxceDNkXCJja2Vfe25hbWV9X2FyaWFsYmxcIic6XCJcIikrXCJcXHgzZVwiKyhhLnRpdGxlPydcXHgzY3NwYW4gaWRcXHgzZFwiY2tlX3tuYW1lfV9hcmlhbGJsXCIgY2xhc3NcXHgzZFwiY2tlX3ZvaWNlX2xhYmVsXCJcXHgzZXt2b2ljZUxhYmVsfVxceDNjL3NwYW5cXHgzZSc6XCJcIikrJ1xceDNje291dGVyRWx9IGNsYXNzXFx4M2RcImNrZV9pbm5lciBja2VfcmVzZXRcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiXFx4M2V7dG9wSHRtbH1cXHgzY3tvdXRlckVsfSBpZFxceDNkXCJ7Y29udGVudElkfVwiIGNsYXNzXFx4M2RcImNrZV9jb250ZW50cyBja2VfcmVzZXRcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiXFx4M2VcXHgzYy97b3V0ZXJFbH1cXHgzZXtib3R0b21IdG1sfVxceDNjL3tvdXRlckVsfVxceDNlXFx4M2Mve291dGVyRWx9XFx4M2UnKSxcbmI9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoay5vdXRwdXQoe2lkOmEuaWQsbmFtZTpiLGxhbmdEaXI6YS5sYW5nLmRpcixsYW5nQ29kZTphLmxhbmdDb2RlLHZvaWNlTGFiZWw6YS50aXRsZSx0b3BIdG1sOmY/J1xceDNjc3BhbiBpZFxceDNkXCInK2EudWkuc3BhY2VJZChcInRvcFwiKSsnXCIgY2xhc3NcXHgzZFwiY2tlX3RvcCBja2VfcmVzZXRfYWxsXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIiBzdHlsZVxceDNkXCJoZWlnaHQ6YXV0b1wiXFx4M2UnK2YrXCJcXHgzYy9zcGFuXFx4M2VcIjpcIlwiLGNvbnRlbnRJZDphLnVpLnNwYWNlSWQoXCJjb250ZW50c1wiKSxib3R0b21IdG1sOmg/J1xceDNjc3BhbiBpZFxceDNkXCInK2EudWkuc3BhY2VJZChcImJvdHRvbVwiKSsnXCIgY2xhc3NcXHgzZFwiY2tlX2JvdHRvbSBja2VfcmVzZXRfYWxsXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNlJytoK1wiXFx4M2Mvc3BhblxceDNlXCI6XCJcIixvdXRlckVsOkNLRURJVE9SLmVudi5pZT9cInNwYW5cIjpcImRpdlwifSkpO209PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9SRVBMQUNFP1xuKGUuaGlkZSgpLGIuaW5zZXJ0QWZ0ZXIoZSkpOmUuYXBwZW5kKGIpO2EuY29udGFpbmVyPWI7YS51aS5jb250ZW50c0VsZW1lbnQ9YS51aS5zcGFjZShcImNvbnRlbnRzXCIpO2YmJmEudWkuc3BhY2UoXCJ0b3BcIikudW5zZWxlY3RhYmxlKCk7aCYmYS51aS5zcGFjZShcImJvdHRvbVwiKS51bnNlbGVjdGFibGUoKTtlPWEuY29uZmlnLndpZHRoO209YS5jb25maWcuaGVpZ2h0O2UmJmIuc2V0U3R5bGUoXCJ3aWR0aFwiLENLRURJVE9SLnRvb2xzLmNzc0xlbmd0aChlKSk7bSYmYS51aS5zcGFjZShcImNvbnRlbnRzXCIpLnNldFN0eWxlKFwiaGVpZ2h0XCIsQ0tFRElUT1IudG9vbHMuY3NzTGVuZ3RoKG0pKTtiLmRpc2FibGVDb250ZXh0TWVudSgpO0NLRURJVE9SLmVudi53ZWJraXQmJmIub24oXCJmb2N1c1wiLGZ1bmN0aW9uKCl7YS5mb2N1cygpfSk7YS5maXJlT25jZShcInVpUmVhZHlcIil9Q0tFRElUT1IucmVwbGFjZT1mdW5jdGlvbihiLGQpe3JldHVybiBhKGIsZCxudWxsLENLRURJVE9SLkVMRU1FTlRfTU9ERV9SRVBMQUNFKX07XG5DS0VESVRPUi5hcHBlbmRUbz1mdW5jdGlvbihiLGQsZSl7cmV0dXJuIGEoYixkLGUsQ0tFRElUT1IuRUxFTUVOVF9NT0RFX0FQUEVORFRPKX07Q0tFRElUT1IucmVwbGFjZUFsbD1mdW5jdGlvbigpe2Zvcih2YXIgYT1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRleHRhcmVhXCIpLGI9MDtiPGEubGVuZ3RoO2IrKyl7dmFyIGU9bnVsbCxtPWFbYl07aWYobS5uYW1lfHxtLmlkKXtpZihcInN0cmluZ1wiPT10eXBlb2YgYXJndW1lbnRzWzBdKXtpZighKG5ldyBSZWdFeHAoXCIoPzpefFxcXFxzKVwiK2FyZ3VtZW50c1swXStcIig/OiR8XFxcXHMpXCIpKS50ZXN0KG0uY2xhc3NOYW1lKSljb250aW51ZX1lbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGFyZ3VtZW50c1swXSYmKGU9e30sITE9PT1hcmd1bWVudHNbMF0obSxlKSkpY29udGludWU7dGhpcy5yZXBsYWNlKG0sZSl9fX07Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5hZGRNb2RlPWZ1bmN0aW9uKGEsYil7KHRoaXMuXy5tb2Rlc3x8KHRoaXMuXy5tb2Rlcz1cbnt9KSlbYV09Yn07Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5zZXRNb2RlPWZ1bmN0aW9uKGEsYil7dmFyIGU9dGhpcyxtPXRoaXMuXy5tb2RlcztpZihhIT1lLm1vZGUmJm0mJm1bYV0pe2UuZmlyZShcImJlZm9yZVNldE1vZGVcIixhKTtpZihlLm1vZGUpe3ZhciBmPWUuY2hlY2tEaXJ0eSgpLG09ZS5fLnByZXZpb3VzTW9kZURhdGEsaCxrPTA7ZS5maXJlKFwiYmVmb3JlTW9kZVVubG9hZFwiKTtlLmVkaXRhYmxlKDApO2UuXy5wcmV2aW91c01vZGU9ZS5tb2RlO2UuXy5wcmV2aW91c01vZGVEYXRhPWg9ZS5nZXREYXRhKDEpO1wic291cmNlXCI9PWUubW9kZSYmbT09aCYmKGUuZmlyZShcImxvY2tTbmFwc2hvdFwiLHtmb3JjZVVwZGF0ZTohMH0pLGs9MSk7ZS51aS5zcGFjZShcImNvbnRlbnRzXCIpLnNldEh0bWwoXCJcIik7ZS5tb2RlPVwiXCJ9ZWxzZSBlLl8ucHJldmlvdXNNb2RlRGF0YT1lLmdldERhdGEoMSk7dGhpcy5fLm1vZGVzW2FdKGZ1bmN0aW9uKCl7ZS5tb2RlPWE7dm9pZCAwIT09ZiYmIWYmJlxuZS5yZXNldERpcnR5KCk7az9lLmZpcmUoXCJ1bmxvY2tTbmFwc2hvdFwiKTpcInd5c2l3eWdcIj09YSYmZS5maXJlKFwic2F2ZVNuYXBzaG90XCIpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtlLmZpcmUoXCJtb2RlXCIpO2ImJmIuY2FsbChlKX0sMCl9KX19O0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKGEsYixlLG0pe3ZhciBmPXRoaXMuY29udGFpbmVyLGg9dGhpcy51aS5zcGFjZShcImNvbnRlbnRzXCIpLGs9Q0tFRElUT1IuZW52LndlYmtpdCYmdGhpcy5kb2N1bWVudCYmdGhpcy5kb2N1bWVudC5nZXRXaW5kb3coKS4kLmZyYW1lRWxlbWVudDttPW0/dGhpcy5jb250YWluZXIuZ2V0Rmlyc3QoZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmhhc0NsYXNzKFwiY2tlX2lubmVyXCIpfSk6ZjttLnNldFNpemUoXCJ3aWR0aFwiLGEsITApO2smJihrLnN0eWxlLndpZHRoPVwiMSVcIik7dmFyIGc9KG0uJC5vZmZzZXRIZWlnaHR8fDApLShoLiQuY2xpZW50SGVpZ2h0fHxcbjApLGY9TWF0aC5tYXgoYi0oZT8wOmcpLDApO2I9ZT9iK2c6YjtoLnNldFN0eWxlKFwiaGVpZ2h0XCIsZitcInB4XCIpO2smJihrLnN0eWxlLndpZHRoPVwiMTAwJVwiKTt0aGlzLmZpcmUoXCJyZXNpemVcIix7b3V0ZXJIZWlnaHQ6Yixjb250ZW50c0hlaWdodDpmLG91dGVyV2lkdGg6YXx8bS5nZXRTaXplKFwid2lkdGhcIil9KX07Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5nZXRSZXNpemFibGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGE/dGhpcy51aS5zcGFjZShcImNvbnRlbnRzXCIpOnRoaXMuY29udGFpbmVyfTtDS0VESVRPUi5kb21SZWFkeShmdW5jdGlvbigpe0NLRURJVE9SLnJlcGxhY2VDbGFzcyYmQ0tFRElUT1IucmVwbGFjZUFsbChDS0VESVRPUi5yZXBsYWNlQ2xhc3MpfSl9KCksQ0tFRElUT1IuY29uZmlnLnN0YXJ0dXBNb2RlPVwid3lzaXd5Z1wiLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXt2YXIgYj1hLmVkaXRvcixkPWEuZGF0YS5wYXRoLGY9ZC5ibG9ja0xpbWl0LGc9YS5kYXRhLnNlbGVjdGlvbixcbms9Zy5nZXRSYW5nZXMoKVswXSxoO2lmKENLRURJVE9SLmVudi5nZWNrb3x8Q0tFRElUT1IuZW52LmllJiZDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcilpZihnPWUoZyxkKSlnLmFwcGVuZEJvZ3VzKCksaD1DS0VESVRPUi5lbnYuaWU7bShiLGQuYmxvY2ssZikmJmsuY29sbGFwc2VkJiYhay5nZXRDb21tb25BbmNlc3RvcigpLmlzUmVhZE9ubHkoKSYmKGQ9ay5jbG9uZSgpLGQuZW5sYXJnZShDS0VESVRPUi5FTkxBUkdFX0JMT0NLX0NPTlRFTlRTKSxmPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGQpLGYuZ3VhcmQ9ZnVuY3Rpb24oYSl7cmV0dXJuIWMoYSl8fGEudHlwZT09Q0tFRElUT1IuTk9ERV9DT01NRU5UfHxhLmlzUmVhZE9ubHkoKX0sIWYuY2hlY2tGb3J3YXJkKCl8fGQuY2hlY2tTdGFydE9mQmxvY2soKSYmZC5jaGVja0VuZE9mQmxvY2soKSkmJihiPWsuZml4QmxvY2soITAsYi5hY3RpdmVFbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX0RJVj9cImRpdlwiOlwicFwiKSxDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcnx8XG4oYj1iLmdldEZpcnN0KGMpKSYmYi50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJkNLRURJVE9SLnRvb2xzLnRyaW0oYi5nZXRUZXh0KCkpLm1hdGNoKC9eKD86Jm5ic3A7fFxceGEwKSQvKSYmYi5yZW1vdmUoKSxoPTEsYS5jYW5jZWwoKSk7aCYmay5zZWxlY3QoKX1mdW5jdGlvbiBlKGEsYil7aWYoYS5pc0Zha2UpcmV0dXJuIDA7dmFyIGQ9Yi5ibG9ja3x8Yi5ibG9ja0xpbWl0LGY9ZCYmZC5nZXRMYXN0KGMpO2lmKCEoIWR8fCFkLmlzQmxvY2tCb3VuZGFyeSgpfHxmJiZmLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZi5pc0Jsb2NrQm91bmRhcnkoKXx8ZC5pcyhcInByZVwiKXx8ZC5nZXRCb2d1cygpKSlyZXR1cm4gZH1mdW5jdGlvbiBiKGEpe3ZhciBiPWEuZGF0YS5nZXRUYXJnZXQoKTtiLmlzKFwiaW5wdXRcIikmJihiPWIuZ2V0QXR0cmlidXRlKFwidHlwZVwiKSxcInN1Ym1pdFwiIT1iJiZcInJlc2V0XCIhPWJ8fGEuZGF0YS5wcmV2ZW50RGVmYXVsdCgpKX1mdW5jdGlvbiBjKGEpe3JldHVybiBnKGEpJiZcbm4oYSl9ZnVuY3Rpb24gZChhLGIpe3JldHVybiBmdW5jdGlvbihjKXt2YXIgZD1jLmRhdGEuJC50b0VsZW1lbnR8fGMuZGF0YS4kLmZyb21FbGVtZW50fHxjLmRhdGEuJC5yZWxhdGVkVGFyZ2V0OyhkPWQmJmQubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVD9uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZCk6bnVsbCkmJihiLmVxdWFscyhkKXx8Yi5jb250YWlucyhkKSl8fGEuY2FsbCh0aGlzLGMpfX1mdW5jdGlvbiBsKGEpe2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGZ1bmN0aW9uKGIsZil7ZiYmYi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmIuaXMoZykmJihkPWIpO2lmKCEoZnx8IWMoYil8fGEmJnIoYikpKXJldHVybiExfX12YXIgZCxmPWEuZ2V0UmFuZ2VzKClbMF07YT1hLnJvb3Q7dmFyIGc9e3RhYmxlOjEsdWw6MSxvbDoxLGRsOjF9O2lmKGYuc3RhcnRQYXRoKCkuY29udGFpbnMoZykpe3ZhciBlPWYuY2xvbmUoKTtlLmNvbGxhcHNlKDEpO2Uuc2V0U3RhcnRBdChhLFxuQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpO2E9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoZSk7YS5ndWFyZD1iKCk7YS5jaGVja0JhY2t3YXJkKCk7aWYoZClyZXR1cm4gZT1mLmNsb25lKCksZS5jb2xsYXBzZSgpLGUuc2V0RW5kQXQoZCxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpLGE9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoZSksYS5ndWFyZD1iKCEwKSxkPSExLGEuY2hlY2tGb3J3YXJkKCksZH1yZXR1cm4gbnVsbH1mdW5jdGlvbiBtKGEsYixjKXtyZXR1cm4hMSE9PWEuY29uZmlnLmF1dG9QYXJhZ3JhcGgmJmEuYWN0aXZlRW50ZXJNb2RlIT1DS0VESVRPUi5FTlRFUl9CUiYmKGEuZWRpdGFibGUoKS5lcXVhbHMoYykmJiFifHxiJiZcInRydWVcIj09Yi5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpfWZ1bmN0aW9uIGYoYSl7cmV0dXJuIGEuYWN0aXZlRW50ZXJNb2RlIT1DS0VESVRPUi5FTlRFUl9CUiYmITEhPT1hLmNvbmZpZy5hdXRvUGFyYWdyYXBoP1xuYS5hY3RpdmVFbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX0RJVj9cImRpdlwiOlwicFwiOiExfWZ1bmN0aW9uIGgoYSl7dmFyIGI9YS5lZGl0b3I7Yi5nZXRTZWxlY3Rpb24oKS5zY3JvbGxJbnRvVmlldygpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtiLmZpcmUoXCJzYXZlU25hcHNob3RcIil9LDApfWZ1bmN0aW9uIGsoYSxiLGMpe3ZhciBkPWEuZ2V0Q29tbW9uQW5jZXN0b3IoYik7Zm9yKGI9YT1jP2I6YTsoYT1hLmdldFBhcmVudCgpKSYmIWQuZXF1YWxzKGEpJiYxPT1hLmdldENoaWxkQ291bnQoKTspYj1hO2IucmVtb3ZlKCl9dmFyIGcsbix2LHIscSx0LHAsdyx6O0NLRURJVE9SLmVkaXRhYmxlPUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHtiYXNlOkNLRURJVE9SLmRvbS5lbGVtZW50LCQ6ZnVuY3Rpb24oYSxiKXt0aGlzLmJhc2UoYi4kfHxiKTt0aGlzLmVkaXRvcj1hO3RoaXMuc3RhdHVzPVwidW5sb2FkZWRcIjt0aGlzLmhhc0ZvY3VzPSExO3RoaXMuc2V0dXAoKX0scHJvdG86e2ZvY3VzOmZ1bmN0aW9uKCl7dmFyIGE7XG5pZihDS0VESVRPUi5lbnYud2Via2l0JiYhdGhpcy5oYXNGb2N1cyYmKGE9dGhpcy5lZGl0b3IuXy5wcmV2aW91c0FjdGl2ZXx8dGhpcy5nZXREb2N1bWVudCgpLmdldEFjdGl2ZSgpLHRoaXMuY29udGFpbnMoYSkpKXthLmZvY3VzKCk7cmV0dXJufUNLRURJVE9SLmVudi5lZGdlJiYxNDxDS0VESVRPUi5lbnYudmVyc2lvbiYmIXRoaXMuaGFzRm9jdXMmJnRoaXMuZ2V0RG9jdW1lbnQoKS5lcXVhbHMoQ0tFRElUT1IuZG9jdW1lbnQpJiYodGhpcy5lZGl0b3IuXy5wcmV2aW91c1Njcm9sbFRvcD10aGlzLiQuc2Nyb2xsVG9wKTt0cnl7IUNLRURJVE9SLmVudi5pZXx8Q0tFRElUT1IuZW52LmVkZ2UmJjE0PENLRURJVE9SLmVudi52ZXJzaW9ufHwhdGhpcy5nZXREb2N1bWVudCgpLmVxdWFscyhDS0VESVRPUi5kb2N1bWVudCk/dGhpcy4kLmZvY3VzKCk6dGhpcy4kLnNldEFjdGl2ZSgpfWNhdGNoKGIpe2lmKCFDS0VESVRPUi5lbnYuaWUpdGhyb3cgYjt9Q0tFRElUT1IuZW52LnNhZmFyaSYmXG4hdGhpcy5pc0lubGluZSgpJiYoYT1DS0VESVRPUi5kb2N1bWVudC5nZXRBY3RpdmUoKSxhLmVxdWFscyh0aGlzLmdldFdpbmRvdygpLmdldEZyYW1lKCkpfHx0aGlzLmdldFdpbmRvdygpLmZvY3VzKCkpfSxvbjpmdW5jdGlvbihhLGIpe3ZhciBjPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKTtDS0VESVRPUi5lbnYuaWUmJi9eZm9jdXN8Ymx1ciQvLmV4ZWMoYSkmJihhPVwiZm9jdXNcIj09YT9cImZvY3VzaW5cIjpcImZvY3Vzb3V0XCIsYj1kKGIsdGhpcyksY1swXT1hLGNbMV09Yik7cmV0dXJuIENLRURJVE9SLmRvbS5lbGVtZW50LnByb3RvdHlwZS5vbi5hcHBseSh0aGlzLGMpfSxhdHRhY2hMaXN0ZW5lcjpmdW5jdGlvbihhKXshdGhpcy5fLmxpc3RlbmVycyYmKHRoaXMuXy5saXN0ZW5lcnM9W10pO3ZhciBiPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxiPWEub24uYXBwbHkoYSxiKTt0aGlzLl8ubGlzdGVuZXJzLnB1c2goYik7cmV0dXJuIGJ9LFxuY2xlYXJMaXN0ZW5lcnM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8ubGlzdGVuZXJzO3RyeXtmb3IoO2EubGVuZ3RoOylhLnBvcCgpLnJlbW92ZUxpc3RlbmVyKCl9Y2F0Y2goYil7fX0scmVzdG9yZUF0dHJzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLmF0dHJDaGFuZ2VzLGIsYztmb3IoYyBpbiBhKWEuaGFzT3duUHJvcGVydHkoYykmJihiPWFbY10sbnVsbCE9PWI/dGhpcy5zZXRBdHRyaWJ1dGUoYyxiKTp0aGlzLnJlbW92ZUF0dHJpYnV0ZShjKSl9LGF0dGFjaENsYXNzOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0Q3VzdG9tRGF0YShcImNsYXNzZXNcIik7dGhpcy5oYXNDbGFzcyhhKXx8KCFiJiYoYj1bXSksYi5wdXNoKGEpLHRoaXMuc2V0Q3VzdG9tRGF0YShcImNsYXNzZXNcIixiKSx0aGlzLmFkZENsYXNzKGEpKX0sY2hhbmdlQXR0cjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0QXR0cmlidXRlKGEpO2IhPT1jJiYoIXRoaXMuXy5hdHRyQ2hhbmdlcyYmKHRoaXMuXy5hdHRyQ2hhbmdlcz1cbnt9KSxhIGluIHRoaXMuXy5hdHRyQ2hhbmdlc3x8KHRoaXMuXy5hdHRyQ2hhbmdlc1thXT1jKSx0aGlzLnNldEF0dHJpYnV0ZShhLGIpKX0saW5zZXJ0VGV4dDpmdW5jdGlvbihhKXt0aGlzLmVkaXRvci5mb2N1cygpO3RoaXMuaW5zZXJ0SHRtbCh0aGlzLnRyYW5zZm9ybVBsYWluVGV4dFRvSHRtbChhKSxcInRleHRcIil9LHRyYW5zZm9ybVBsYWluVGV4dFRvSHRtbDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmVkaXRvci5nZXRTZWxlY3Rpb24oKS5nZXRTdGFydEVsZW1lbnQoKS5oYXNBc2NlbmRhbnQoXCJwcmVcIiwhMCk/Q0tFRElUT1IuRU5URVJfQlI6dGhpcy5lZGl0b3IuYWN0aXZlRW50ZXJNb2RlO3JldHVybiBDS0VESVRPUi50b29scy50cmFuc2Zvcm1QbGFpblRleHRUb0h0bWwoYSxiKX0saW5zZXJ0SHRtbDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5lZGl0b3I7ZC5mb2N1cygpO2QuZmlyZShcInNhdmVTbmFwc2hvdFwiKTtjfHwoYz1kLmdldFNlbGVjdGlvbigpLmdldFJhbmdlcygpWzBdKTtcbnQodGhpcyxifHxcImh0bWxcIixhLGMpO2Muc2VsZWN0KCk7aCh0aGlzKTt0aGlzLmVkaXRvci5maXJlKFwiYWZ0ZXJJbnNlcnRIdG1sXCIse30pfSxpbnNlcnRIdG1sSW50b1JhbmdlOmZ1bmN0aW9uKGEsYixjKXt0KHRoaXMsY3x8XCJodG1sXCIsYSxiKTt0aGlzLmVkaXRvci5maXJlKFwiYWZ0ZXJJbnNlcnRIdG1sXCIse2ludG9SYW5nZTpifSl9LGluc2VydEVsZW1lbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgZD10aGlzLmVkaXRvcjtkLmZvY3VzKCk7ZC5maXJlKFwic2F2ZVNuYXBzaG90XCIpO3ZhciBmPWQuYWN0aXZlRW50ZXJNb2RlLGQ9ZC5nZXRTZWxlY3Rpb24oKSxnPWEuZ2V0TmFtZSgpLGc9Q0tFRElUT1IuZHRkLiRibG9ja1tnXTtifHwoYj1kLmdldFJhbmdlcygpWzBdKTt0aGlzLmluc2VydEVsZW1lbnRJbnRvUmFuZ2UoYSxiKSYmKGIubW92ZVRvUG9zaXRpb24oYSxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpLGcmJigoZz1hLmdldE5leHQoZnVuY3Rpb24oYSl7cmV0dXJuIGMoYSkmJiFyKGEpfSkpJiZcbmcudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZnLmlzKENLRURJVE9SLmR0ZC4kYmxvY2spP2cuZ2V0RHRkKClbXCIjXCJdP2IubW92ZVRvRWxlbWVudEVkaXRTdGFydChnKTpiLm1vdmVUb0VsZW1lbnRFZGl0RW5kKGEpOmd8fGY9PUNLRURJVE9SLkVOVEVSX0JSfHwoZz1iLmZpeEJsb2NrKCEwLGY9PUNLRURJVE9SLkVOVEVSX0RJVj9cImRpdlwiOlwicFwiKSxiLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoZykpKSk7ZC5zZWxlY3RSYW5nZXMoW2JdKTtoKHRoaXMpfSxpbnNlcnRFbGVtZW50SW50b1NlbGVjdGlvbjpmdW5jdGlvbihhKXt0aGlzLmluc2VydEVsZW1lbnQoYSl9LGluc2VydEVsZW1lbnRJbnRvUmFuZ2U6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmVkaXRvcixkPWMuY29uZmlnLmVudGVyTW9kZSxmPWEuZ2V0TmFtZSgpLGc9Q0tFRElUT1IuZHRkLiRibG9ja1tmXTtpZihiLmNoZWNrUmVhZE9ubHkoKSlyZXR1cm4hMTtiLmRlbGV0ZUNvbnRlbnRzKDEpO2Iuc3RhcnRDb250YWluZXIudHlwZT09XG5DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmIuc3RhcnRDb250YWluZXIuaXMoe3RyOjEsdGFibGU6MSx0Ym9keToxLHRoZWFkOjEsdGZvb3Q6MX0pJiZwKGIpO3ZhciBlLGs7aWYoZylmb3IoOyhlPWIuZ2V0Q29tbW9uQW5jZXN0b3IoMCwxKSkmJihrPUNLRURJVE9SLmR0ZFtlLmdldE5hbWUoKV0pJiYoIWt8fCFrW2ZdKTspZS5nZXROYW1lKClpbiBDS0VESVRPUi5kdGQuc3Bhbj9iLnNwbGl0RWxlbWVudChlKTpiLmNoZWNrU3RhcnRPZkJsb2NrKCkmJmIuY2hlY2tFbmRPZkJsb2NrKCk/KGIuc2V0U3RhcnRCZWZvcmUoZSksYi5jb2xsYXBzZSghMCksZS5yZW1vdmUoKSk6Yi5zcGxpdEJsb2NrKGQ9PUNLRURJVE9SLkVOVEVSX0RJVj9cImRpdlwiOlwicFwiLGMuZWRpdGFibGUoKSk7Yi5pbnNlcnROb2RlKGEpO3JldHVybiEwfSxzZXREYXRhOmZ1bmN0aW9uKGEsYil7Ynx8KGE9dGhpcy5lZGl0b3IuZGF0YVByb2Nlc3Nvci50b0h0bWwoYSkpO3RoaXMuc2V0SHRtbChhKTt0aGlzLmZpeEluaXRpYWxTZWxlY3Rpb24oKTtcblwidW5sb2FkZWRcIj09dGhpcy5zdGF0dXMmJih0aGlzLnN0YXR1cz1cInJlYWR5XCIpO3RoaXMuZWRpdG9yLmZpcmUoXCJkYXRhUmVhZHlcIil9LGdldERhdGE6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRIdG1sKCk7YXx8KGI9dGhpcy5lZGl0b3IuZGF0YVByb2Nlc3Nvci50b0RhdGFGb3JtYXQoYikpO3JldHVybiBifSxzZXRSZWFkT25seTpmdW5jdGlvbihhKXt0aGlzLnNldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiLCFhKX0sZGV0YWNoOmZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVDbGFzcyhcImNrZV9lZGl0YWJsZVwiKTt0aGlzLnN0YXR1cz1cImRldGFjaGVkXCI7dmFyIGE9dGhpcy5lZGl0b3I7dGhpcy5fLmRldGFjaCgpO2RlbGV0ZSBhLmRvY3VtZW50O2RlbGV0ZSBhLndpbmRvd30saXNJbmxpbmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXREb2N1bWVudCgpLmVxdWFscyhDS0VESVRPUi5kb2N1bWVudCl9LGZpeEluaXRpYWxTZWxlY3Rpb246ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7dmFyIGI9XG5jLmdldERvY3VtZW50KCkuJCxkPWIuZ2V0U2VsZWN0aW9uKCksZjthOmlmKGQuYW5jaG9yTm9kZSYmZC5hbmNob3JOb2RlPT1jLiQpZj0hMDtlbHNle2lmKENLRURJVE9SLmVudi53ZWJraXQmJihmPWMuZ2V0RG9jdW1lbnQoKS5nZXRBY3RpdmUoKSkmJmYuZXF1YWxzKGMpJiYhZC5hbmNob3JOb2RlKXtmPSEwO2JyZWFrIGF9Zj12b2lkIDB9ZiYmKGY9bmV3IENLRURJVE9SLmRvbS5yYW5nZShjKSxmLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoYyksYj1iLmNyZWF0ZVJhbmdlKCksYi5zZXRTdGFydChmLnN0YXJ0Q29udGFpbmVyLiQsZi5zdGFydE9mZnNldCksYi5jb2xsYXBzZSghMCksZC5yZW1vdmVBbGxSYW5nZXMoKSxkLmFkZFJhbmdlKGIpKX1mdW5jdGlvbiBiKCl7dmFyIGE9Yy5nZXREb2N1bWVudCgpLiQsZD1hLnNlbGVjdGlvbixmPWMuZ2V0RG9jdW1lbnQoKS5nZXRBY3RpdmUoKTtcIk5vbmVcIj09ZC50eXBlJiZmLmVxdWFscyhjKSYmKGQ9bmV3IENLRURJVE9SLmRvbS5yYW5nZShjKSxcbmE9YS5ib2R5LmNyZWF0ZVRleHRSYW5nZSgpLGQubW92ZVRvRWxlbWVudEVkaXRTdGFydChjKSxkPWQuc3RhcnRDb250YWluZXIsZC50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihkPWQuZ2V0UGFyZW50KCkpLGEubW92ZVRvRWxlbWVudFRleHQoZC4kKSxhLmNvbGxhcHNlKCEwKSxhLnNlbGVjdCgpKX12YXIgYz10aGlzO2lmKENLRURJVE9SLmVudi5pZSYmKDk+Q0tFRElUT1IuZW52LnZlcnNpb258fENLRURJVE9SLmVudi5xdWlya3MpKXRoaXMuaGFzRm9jdXMmJih0aGlzLmZvY3VzKCksYigpKTtlbHNlIGlmKHRoaXMuaGFzRm9jdXMpdGhpcy5mb2N1cygpLGEoKTtlbHNlIHRoaXMub25jZShcImZvY3VzXCIsZnVuY3Rpb24oKXthKCl9LG51bGwsbnVsbCwtOTk5KX0sZ2V0SHRtbEZyb21SYW5nZTpmdW5jdGlvbihhKXtpZihhLmNvbGxhcHNlZClyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50KGEuZG9jdW1lbnQpO2E9e2RvYzp0aGlzLmdldERvY3VtZW50KCksXG5yYW5nZTphLmNsb25lKCl9O3cuZW9sLmRldGVjdChhLHRoaXMpO3cuYm9ndXMuZXhjbHVkZShhKTt3LmNlbGwuc2hyaW5rKGEpO2EuZnJhZ21lbnQ9YS5yYW5nZS5jbG9uZUNvbnRlbnRzKCk7dy50cmVlLnJlYnVpbGQoYSx0aGlzKTt3LmVvbC5maXgoYSx0aGlzKTtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50KGEuZnJhZ21lbnQuJCl9LGV4dHJhY3RIdG1sRnJvbVJhbmdlOmZ1bmN0aW9uKGEsYil7dmFyIGM9eixkPXtyYW5nZTphLGRvYzphLmRvY3VtZW50fSxmPXRoaXMuZ2V0SHRtbEZyb21SYW5nZShhKTtpZihhLmNvbGxhcHNlZClyZXR1cm4gYS5vcHRpbWl6ZSgpLGY7YS5lbmxhcmdlKENLRURJVE9SLkVOTEFSR0VfSU5MSU5FLDEpO2MudGFibGUuZGV0ZWN0UHVyZ2UoZCk7ZC5ib29rbWFyaz1hLmNyZWF0ZUJvb2ttYXJrKCk7ZGVsZXRlIGQucmFuZ2U7dmFyIGc9dGhpcy5lZGl0b3IuY3JlYXRlUmFuZ2UoKTtnLm1vdmVUb1Bvc2l0aW9uKGQuYm9va21hcmsuc3RhcnROb2RlLFxuQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKTtkLnRhcmdldEJvb2ttYXJrPWcuY3JlYXRlQm9va21hcmsoKTtjLmxpc3QuZGV0ZWN0TWVyZ2UoZCx0aGlzKTtjLnRhYmxlLmRldGVjdFJhbmdlcyhkLHRoaXMpO2MuYmxvY2suZGV0ZWN0TWVyZ2UoZCx0aGlzKTtkLnRhYmxlQ29udGVudHNSYW5nZXM/KGMudGFibGUuZGVsZXRlUmFuZ2VzKGQpLGEubW92ZVRvQm9va21hcmsoZC5ib29rbWFyayksZC5yYW5nZT1hKTooYS5tb3ZlVG9Cb29rbWFyayhkLmJvb2ttYXJrKSxkLnJhbmdlPWEsYS5leHRyYWN0Q29udGVudHMoYy5kZXRlY3RFeHRyYWN0TWVyZ2UoZCkpKTthLm1vdmVUb0Jvb2ttYXJrKGQudGFyZ2V0Qm9va21hcmspO2Eub3B0aW1pemUoKTtjLmZpeFVuZWRpdGFibGVSYW5nZVBvc2l0aW9uKGEpO2MubGlzdC5tZXJnZShkLHRoaXMpO2MudGFibGUucHVyZ2UoZCx0aGlzKTtjLmJsb2NrLm1lcmdlKGQsdGhpcyk7aWYoYil7Yz1hLnN0YXJ0UGF0aCgpO2lmKGQ9YS5jaGVja1N0YXJ0T2ZCbG9jaygpJiZcbmEuY2hlY2tFbmRPZkJsb2NrKCkmJmMuYmxvY2smJiFhLnJvb3QuZXF1YWxzKGMuYmxvY2spKXthOnt2YXIgZD1jLmJsb2NrLmdldEVsZW1lbnRzQnlUYWcoXCJzcGFuXCIpLGc9MCxlO2lmKGQpZm9yKDtlPWQuZ2V0SXRlbShnKyspOylpZighbihlKSl7ZD0hMDticmVhayBhfWQ9ITF9ZD0hZH1kJiYoYS5tb3ZlVG9Qb3NpdGlvbihjLmJsb2NrLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCksYy5ibG9jay5yZW1vdmUoKSl9ZWxzZSBjLmF1dG9QYXJhZ3JhcGgodGhpcy5lZGl0b3IsYSksdihhLnN0YXJ0Q29udGFpbmVyKSYmYS5zdGFydENvbnRhaW5lci5hcHBlbmRCb2d1cygpO2Euc3RhcnRDb250YWluZXIubWVyZ2VTaWJsaW5ncygpO3JldHVybiBmfSxzZXR1cDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWRpdG9yO3RoaXMuYXR0YWNoTGlzdGVuZXIoYSxcImJlZm9yZUdldERhdGFcIixmdW5jdGlvbigpe3ZhciBiPXRoaXMuZ2V0RGF0YSgpO3RoaXMuaXMoXCJ0ZXh0YXJlYVwiKXx8ITEhPT1cbmEuY29uZmlnLmlnbm9yZUVtcHR5UGFyYWdyYXBoJiYoYj1iLnJlcGxhY2UocSxmdW5jdGlvbihhLGIpe3JldHVybiBifSkpO2Euc2V0RGF0YShiLG51bGwsMSl9LHRoaXMpO3RoaXMuYXR0YWNoTGlzdGVuZXIoYSxcImdldFNuYXBzaG90XCIsZnVuY3Rpb24oYSl7YS5kYXRhPXRoaXMuZ2V0RGF0YSgxKX0sdGhpcyk7dGhpcy5hdHRhY2hMaXN0ZW5lcihhLFwiYWZ0ZXJTZXREYXRhXCIsZnVuY3Rpb24oKXt0aGlzLnNldERhdGEoYS5nZXREYXRhKDEpKX0sdGhpcyk7dGhpcy5hdHRhY2hMaXN0ZW5lcihhLFwibG9hZFNuYXBzaG90XCIsZnVuY3Rpb24oYSl7dGhpcy5zZXREYXRhKGEuZGF0YSwxKX0sdGhpcyk7dGhpcy5hdHRhY2hMaXN0ZW5lcihhLFwiYmVmb3JlRm9jdXNcIixmdW5jdGlvbigpe3ZhciBiPWEuZ2V0U2VsZWN0aW9uKCk7KGI9YiYmYi5nZXROYXRpdmUoKSkmJlwiQ29udHJvbFwiPT1iLnR5cGV8fHRoaXMuZm9jdXMoKX0sdGhpcyk7dGhpcy5hdHRhY2hMaXN0ZW5lcihhLFwiaW5zZXJ0SHRtbFwiLFxuZnVuY3Rpb24oYSl7dGhpcy5pbnNlcnRIdG1sKGEuZGF0YS5kYXRhVmFsdWUsYS5kYXRhLm1vZGUsYS5kYXRhLnJhbmdlKX0sdGhpcyk7dGhpcy5hdHRhY2hMaXN0ZW5lcihhLFwiaW5zZXJ0RWxlbWVudFwiLGZ1bmN0aW9uKGEpe3RoaXMuaW5zZXJ0RWxlbWVudChhLmRhdGEpfSx0aGlzKTt0aGlzLmF0dGFjaExpc3RlbmVyKGEsXCJpbnNlcnRUZXh0XCIsZnVuY3Rpb24oYSl7dGhpcy5pbnNlcnRUZXh0KGEuZGF0YSl9LHRoaXMpO3RoaXMuc2V0UmVhZE9ubHkoYS5yZWFkT25seSk7dGhpcy5hdHRhY2hDbGFzcyhcImNrZV9lZGl0YWJsZVwiKTthLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FP3RoaXMuYXR0YWNoQ2xhc3MoXCJja2VfZWRpdGFibGVfaW5saW5lXCIpOmEuZWxlbWVudE1vZGUhPUNLRURJVE9SLkVMRU1FTlRfTU9ERV9SRVBMQUNFJiZhLmVsZW1lbnRNb2RlIT1DS0VESVRPUi5FTEVNRU5UX01PREVfQVBQRU5EVE98fHRoaXMuYXR0YWNoQ2xhc3MoXCJja2VfZWRpdGFibGVfdGhlbWVkXCIpO1xudGhpcy5hdHRhY2hDbGFzcyhcImNrZV9jb250ZW50c19cIithLmNvbmZpZy5jb250ZW50c0xhbmdEaXJlY3Rpb24pO2Eua2V5c3Ryb2tlSGFuZGxlci5ibG9ja2VkS2V5c3Ryb2tlc1s4XT0rYS5yZWFkT25seTthLmtleXN0cm9rZUhhbmRsZXIuYXR0YWNoKHRoaXMpO3RoaXMub24oXCJibHVyXCIsZnVuY3Rpb24oKXt0aGlzLmhhc0ZvY3VzPSExfSxudWxsLG51bGwsLTEpO3RoaXMub24oXCJmb2N1c1wiLGZ1bmN0aW9uKCl7dGhpcy5oYXNGb2N1cz0hMH0sbnVsbCxudWxsLC0xKTtpZihDS0VESVRPUi5lbnYud2Via2l0KXRoaXMub24oXCJzY3JvbGxcIixmdW5jdGlvbigpe2EuXy5wcmV2aW91c1Njcm9sbFRvcD1hLmVkaXRhYmxlKCkuJC5zY3JvbGxUb3B9LG51bGwsbnVsbCwtMSk7aWYoQ0tFRElUT1IuZW52LmVkZ2UmJjE0PENLRURJVE9SLmVudi52ZXJzaW9uKXt2YXIgZD1mdW5jdGlvbigpe3ZhciBiPWEuZWRpdGFibGUoKTtudWxsIT1hLl8ucHJldmlvdXNTY3JvbGxUb3AmJmIuZ2V0RG9jdW1lbnQoKS5lcXVhbHMoQ0tFRElUT1IuZG9jdW1lbnQpJiZcbihiLiQuc2Nyb2xsVG9wPWEuXy5wcmV2aW91c1Njcm9sbFRvcCxhLl8ucHJldmlvdXNTY3JvbGxUb3A9bnVsbCx0aGlzLnJlbW92ZUxpc3RlbmVyKFwic2Nyb2xsXCIsZCkpfTt0aGlzLm9uKFwic2Nyb2xsXCIsZCl9YS5mb2N1c01hbmFnZXIuYWRkKHRoaXMpO3RoaXMuZXF1YWxzKENLRURJVE9SLmRvY3VtZW50LmdldEFjdGl2ZSgpKSYmKHRoaXMuaGFzRm9jdXM9ITAsYS5vbmNlKFwiY29udGVudERvbVwiLGZ1bmN0aW9uKCl7YS5mb2N1c01hbmFnZXIuZm9jdXModGhpcyl9LHRoaXMpKTt0aGlzLmlzSW5saW5lKCkmJnRoaXMuY2hhbmdlQXR0cihcInRhYmluZGV4XCIsYS50YWJJbmRleCk7aWYoIXRoaXMuaXMoXCJ0ZXh0YXJlYVwiKSl7YS5kb2N1bWVudD10aGlzLmdldERvY3VtZW50KCk7YS53aW5kb3c9dGhpcy5nZXRXaW5kb3coKTt2YXIgZj1hLmRvY3VtZW50O3RoaXMuY2hhbmdlQXR0cihcInNwZWxsY2hlY2tcIiwhYS5jb25maWcuZGlzYWJsZU5hdGl2ZVNwZWxsQ2hlY2tlcik7dmFyIGU9YS5jb25maWcuY29udGVudHNMYW5nRGlyZWN0aW9uO1xudGhpcy5nZXREaXJlY3Rpb24oMSkhPWUmJnRoaXMuY2hhbmdlQXR0cihcImRpclwiLGUpO3ZhciBoPUNLRURJVE9SLmdldENzcygpO2lmKGgpe3ZhciBlPWYuZ2V0SGVhZCgpLG09ZS5nZXRDdXN0b21EYXRhKFwic3R5bGVzaGVldFwiKTttP2ghPW0uZ2V0VGV4dCgpJiYoQ0tFRElUT1IuZW52LmllJiY5PkNLRURJVE9SLmVudi52ZXJzaW9uP20uJC5zdHlsZVNoZWV0LmNzc1RleHQ9aDptLnNldFRleHQoaCkpOihoPWYuYXBwZW5kU3R5bGVUZXh0KGgpLGg9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGgub3duZXJOb2RlfHxoLm93bmluZ0VsZW1lbnQpLGUuc2V0Q3VzdG9tRGF0YShcInN0eWxlc2hlZXRcIixoKSxoLmRhdGEoXCJja2UtdGVtcFwiLDEpKX1lPWYuZ2V0Q3VzdG9tRGF0YShcInN0eWxlc2hlZXRfcmVmXCIpfHwwO2Yuc2V0Q3VzdG9tRGF0YShcInN0eWxlc2hlZXRfcmVmXCIsZSsxKTt0aGlzLnNldEN1c3RvbURhdGEoXCJja2VfaW5jbHVkZVJlYWRvbmx5XCIsIWEuY29uZmlnLmRpc2FibGVSZWFkb25seVN0eWxpbmcpO1xudGhpcy5hdHRhY2hMaXN0ZW5lcih0aGlzLFwiY2xpY2tcIixmdW5jdGlvbihhKXthPWEuZGF0YTt2YXIgYj0obmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChhLmdldFRhcmdldCgpLHRoaXMpKS5jb250YWlucyhcImFcIik7YiYmMiE9YS4kLmJ1dHRvbiYmYi5pc1JlYWRPbmx5KCkmJmEucHJldmVudERlZmF1bHQoKX0pO3ZhciBuPXs4OjEsNDY6MX07dGhpcy5hdHRhY2hMaXN0ZW5lcihhLFwia2V5XCIsZnVuY3Rpb24oYil7aWYoYS5yZWFkT25seSlyZXR1cm4hMDt2YXIgYz1iLmRhdGEuZG9tRXZlbnQuZ2V0S2V5KCksZDtpZihjIGluIG4pe2I9YS5nZXRTZWxlY3Rpb24oKTt2YXIgZixlPWIuZ2V0UmFuZ2VzKClbMF0saD1lLnN0YXJ0UGF0aCgpLGssbSx1LGM9OD09YztDS0VESVRPUi5lbnYuaWUmJjExPkNLRURJVE9SLmVudi52ZXJzaW9uJiYoZj1iLmdldFNlbGVjdGVkRWxlbWVudCgpKXx8KGY9bChiKSk/KGEuZmlyZShcInNhdmVTbmFwc2hvdFwiKSxlLm1vdmVUb1Bvc2l0aW9uKGYsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxcbmYucmVtb3ZlKCksZS5zZWxlY3QoKSxhLmZpcmUoXCJzYXZlU25hcHNob3RcIiksZD0xKTplLmNvbGxhcHNlZCYmKChrPWguYmxvY2spJiYodT1rW2M/XCJnZXRQcmV2aW91c1wiOlwiZ2V0TmV4dFwiXShnKSkmJnUudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZ1LmlzKFwidGFibGVcIikmJmVbYz9cImNoZWNrU3RhcnRPZkJsb2NrXCI6XCJjaGVja0VuZE9mQmxvY2tcIl0oKT8oYS5maXJlKFwic2F2ZVNuYXBzaG90XCIpLGVbYz9cImNoZWNrRW5kT2ZCbG9ja1wiOlwiY2hlY2tTdGFydE9mQmxvY2tcIl0oKSYmay5yZW1vdmUoKSxlW1wibW92ZVRvRWxlbWVudEVkaXRcIisoYz9cIkVuZFwiOlwiU3RhcnRcIildKHUpLGUuc2VsZWN0KCksYS5maXJlKFwic2F2ZVNuYXBzaG90XCIpLGQ9MSk6aC5ibG9ja0xpbWl0JiZoLmJsb2NrTGltaXQuaXMoXCJ0ZFwiKSYmKG09aC5ibG9ja0xpbWl0LmdldEFzY2VuZGFudChcInRhYmxlXCIpKSYmZS5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KG0sYz9DS0VESVRPUi5TVEFSVDpDS0VESVRPUi5FTkQpJiZcbih1PW1bYz9cImdldFByZXZpb3VzXCI6XCJnZXROZXh0XCJdKGcpKT8oYS5maXJlKFwic2F2ZVNuYXBzaG90XCIpLGVbXCJtb3ZlVG9FbGVtZW50RWRpdFwiKyhjP1wiRW5kXCI6XCJTdGFydFwiKV0odSksZS5jaGVja1N0YXJ0T2ZCbG9jaygpJiZlLmNoZWNrRW5kT2ZCbG9jaygpP3UucmVtb3ZlKCk6ZS5zZWxlY3QoKSxhLmZpcmUoXCJzYXZlU25hcHNob3RcIiksZD0xKToobT1oLmNvbnRhaW5zKFtcInRkXCIsXCJ0aFwiLFwiY2FwdGlvblwiXSkpJiZlLmNoZWNrQm91bmRhcnlPZkVsZW1lbnQobSxjP0NLRURJVE9SLlNUQVJUOkNLRURJVE9SLkVORCkmJihkPTEpKX1yZXR1cm4hZH0pO2EuYmxvY2tsZXNzJiZDS0VESVRPUi5lbnYuaWUmJkNLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyJiZ0aGlzLmF0dGFjaExpc3RlbmVyKHRoaXMsXCJrZXl1cFwiLGZ1bmN0aW9uKGIpe2IuZGF0YS5nZXRLZXlzdHJva2UoKWluIG4mJiF0aGlzLmdldEZpcnN0KGMpJiYodGhpcy5hcHBlbmRCb2d1cygpLGI9YS5jcmVhdGVSYW5nZSgpLGIubW92ZVRvUG9zaXRpb24odGhpcyxcbkNLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKSxiLnNlbGVjdCgpKX0pO3RoaXMuYXR0YWNoTGlzdGVuZXIodGhpcyxcImRibGNsaWNrXCIsZnVuY3Rpb24oYil7aWYoYS5yZWFkT25seSlyZXR1cm4hMTtiPXtlbGVtZW50OmIuZGF0YS5nZXRUYXJnZXQoKX07YS5maXJlKFwiZG91YmxlY2xpY2tcIixiKX0pO0NLRURJVE9SLmVudi5pZSYmdGhpcy5hdHRhY2hMaXN0ZW5lcih0aGlzLFwiY2xpY2tcIixiKTtDS0VESVRPUi5lbnYuaWUmJiFDS0VESVRPUi5lbnYuZWRnZXx8dGhpcy5hdHRhY2hMaXN0ZW5lcih0aGlzLFwibW91c2Vkb3duXCIsZnVuY3Rpb24oYil7dmFyIGM9Yi5kYXRhLmdldFRhcmdldCgpO2MuaXMoXCJpbWdcIixcImhyXCIsXCJpbnB1dFwiLFwidGV4dGFyZWFcIixcInNlbGVjdFwiKSYmIWMuaXNSZWFkT25seSgpJiYoYS5nZXRTZWxlY3Rpb24oKS5zZWxlY3RFbGVtZW50KGMpLGMuaXMoXCJpbnB1dFwiLFwidGV4dGFyZWFcIixcInNlbGVjdFwiKSYmYi5kYXRhLnByZXZlbnREZWZhdWx0KCkpfSk7Q0tFRElUT1IuZW52LmVkZ2UmJlxudGhpcy5hdHRhY2hMaXN0ZW5lcih0aGlzLFwibW91c2V1cFwiLGZ1bmN0aW9uKGIpeyhiPWIuZGF0YS5nZXRUYXJnZXQoKSkmJmIuaXMoXCJpbWdcIikmJmEuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0RWxlbWVudChiKX0pO0NLRURJVE9SLmVudi5nZWNrbyYmdGhpcy5hdHRhY2hMaXN0ZW5lcih0aGlzLFwibW91c2V1cFwiLGZ1bmN0aW9uKGIpe2lmKDI9PWIuZGF0YS4kLmJ1dHRvbiYmKGI9Yi5kYXRhLmdldFRhcmdldCgpLCFiLmdldE91dGVySHRtbCgpLnJlcGxhY2UocSxcIlwiKSkpe3ZhciBjPWEuY3JlYXRlUmFuZ2UoKTtjLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoYik7Yy5zZWxlY3QoITApfX0pO0NLRURJVE9SLmVudi53ZWJraXQmJih0aGlzLmF0dGFjaExpc3RlbmVyKHRoaXMsXCJjbGlja1wiLGZ1bmN0aW9uKGEpe2EuZGF0YS5nZXRUYXJnZXQoKS5pcyhcImlucHV0XCIsXCJzZWxlY3RcIikmJmEuZGF0YS5wcmV2ZW50RGVmYXVsdCgpfSksdGhpcy5hdHRhY2hMaXN0ZW5lcih0aGlzLFwibW91c2V1cFwiLFxuZnVuY3Rpb24oYSl7YS5kYXRhLmdldFRhcmdldCgpLmlzKFwiaW5wdXRcIixcInRleHRhcmVhXCIpJiZhLmRhdGEucHJldmVudERlZmF1bHQoKX0pKTtDS0VESVRPUi5lbnYud2Via2l0JiZ0aGlzLmF0dGFjaExpc3RlbmVyKGEsXCJrZXlcIixmdW5jdGlvbihiKXtpZihhLnJlYWRPbmx5KXJldHVybiEwO2I9Yi5kYXRhLmRvbUV2ZW50LmdldEtleSgpO2lmKGIgaW4gbil7dmFyIGM9OD09YixkPWEuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VzKClbMF07Yj1kLnN0YXJ0UGF0aCgpO2lmKGQuY29sbGFwc2VkKWE6e3ZhciBmPWIuYmxvY2s7aWYoZiYmZFtjP1wiY2hlY2tTdGFydE9mQmxvY2tcIjpcImNoZWNrRW5kT2ZCbG9ja1wiXSgpJiZkLm1vdmVUb0Nsb3Nlc3RFZGl0YWJsZVBvc2l0aW9uKGYsIWMpJiZkLmNvbGxhcHNlZCl7aWYoZC5zdGFydENvbnRhaW5lci50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpe3ZhciBnPWQuc3RhcnRDb250YWluZXIuZ2V0Q2hpbGQoZC5zdGFydE9mZnNldC0oYz8xOlxuMCkpO2lmKGcmJmcudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZnLmlzKFwiaHJcIikpe2EuZmlyZShcInNhdmVTbmFwc2hvdFwiKTtnLnJlbW92ZSgpO2I9ITA7YnJlYWsgYX19ZD1kLnN0YXJ0UGF0aCgpLmJsb2NrO2lmKCFkfHxkJiZkLmNvbnRhaW5zKGYpKWI9dm9pZCAwO2Vsc2V7YS5maXJlKFwic2F2ZVNuYXBzaG90XCIpO3ZhciBlOyhlPShjP2Q6ZikuZ2V0Qm9ndXMoKSkmJmUucmVtb3ZlKCk7ZT1hLmdldFNlbGVjdGlvbigpO2c9ZS5jcmVhdGVCb29rbWFya3MoKTsoYz9mOmQpLm1vdmVDaGlsZHJlbihjP2Q6ZiwhMSk7Yi5sYXN0RWxlbWVudC5tZXJnZVNpYmxpbmdzKCk7ayhmLGQsIWMpO2Uuc2VsZWN0Qm9va21hcmtzKGcpO2I9ITB9fWVsc2UgYj0hMX1lbHNlIGM9ZCxlPWIuYmxvY2ssZD1jLmVuZFBhdGgoKS5ibG9jayxlJiZkJiYhZS5lcXVhbHMoZCk/KGEuZmlyZShcInNhdmVTbmFwc2hvdFwiKSwoZj1lLmdldEJvZ3VzKCkpJiZmLnJlbW92ZSgpLGMuZW5sYXJnZShDS0VESVRPUi5FTkxBUkdFX0lOTElORSksXG5jLmRlbGV0ZUNvbnRlbnRzKCksZC5nZXRQYXJlbnQoKSYmKGQubW92ZUNoaWxkcmVuKGUsITEpLGIubGFzdEVsZW1lbnQubWVyZ2VTaWJsaW5ncygpLGsoZSxkLCEwKSksYz1hLmdldFNlbGVjdGlvbigpLmdldFJhbmdlcygpWzBdLGMuY29sbGFwc2UoMSksYy5vcHRpbWl6ZSgpLFwiXCI9PT1jLnN0YXJ0Q29udGFpbmVyLmdldEh0bWwoKSYmYy5zdGFydENvbnRhaW5lci5hcHBlbmRCb2d1cygpLGMuc2VsZWN0KCksYj0hMCk6Yj0hMTtpZighYilyZXR1cm47YS5nZXRTZWxlY3Rpb24oKS5zY3JvbGxJbnRvVmlldygpO2EuZmlyZShcInNhdmVTbmFwc2hvdFwiKTtyZXR1cm4hMX19LHRoaXMsbnVsbCwxMDApfX19LF86e2RldGFjaDpmdW5jdGlvbigpe3RoaXMuZWRpdG9yLnNldERhdGEodGhpcy5lZGl0b3IuZ2V0RGF0YSgpLDAsMSk7dGhpcy5jbGVhckxpc3RlbmVycygpO3RoaXMucmVzdG9yZUF0dHJzKCk7dmFyIGE7aWYoYT10aGlzLnJlbW92ZUN1c3RvbURhdGEoXCJjbGFzc2VzXCIpKWZvcig7YS5sZW5ndGg7KXRoaXMucmVtb3ZlQ2xhc3MoYS5wb3AoKSk7XG5pZighdGhpcy5pcyhcInRleHRhcmVhXCIpKXthPXRoaXMuZ2V0RG9jdW1lbnQoKTt2YXIgYj1hLmdldEhlYWQoKTtpZihiLmdldEN1c3RvbURhdGEoXCJzdHlsZXNoZWV0XCIpKXt2YXIgYz1hLmdldEN1c3RvbURhdGEoXCJzdHlsZXNoZWV0X3JlZlwiKTstLWM/YS5zZXRDdXN0b21EYXRhKFwic3R5bGVzaGVldF9yZWZcIixjKTooYS5yZW1vdmVDdXN0b21EYXRhKFwic3R5bGVzaGVldF9yZWZcIiksYi5yZW1vdmVDdXN0b21EYXRhKFwic3R5bGVzaGVldFwiKS5yZW1vdmUoKSl9fXRoaXMuZWRpdG9yLmZpcmUoXCJjb250ZW50RG9tVW5sb2FkXCIpO2RlbGV0ZSB0aGlzLmVkaXRvcn19fSk7Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5lZGl0YWJsZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLl8uZWRpdGFibGU7aWYoYiYmYSlyZXR1cm4gMDthcmd1bWVudHMubGVuZ3RoJiYoYj10aGlzLl8uZWRpdGFibGU9YT9hIGluc3RhbmNlb2YgQ0tFRElUT1IuZWRpdGFibGU/YTpuZXcgQ0tFRElUT1IuZWRpdGFibGUodGhpcyxcbmEpOihiJiZiLmRldGFjaCgpLG51bGwpKTtyZXR1cm4gYn07Q0tFRElUT1Iub24oXCJpbnN0YW5jZUxvYWRlZFwiLGZ1bmN0aW9uKGIpe3ZhciBjPWIuZWRpdG9yO2Mub24oXCJpbnNlcnRFbGVtZW50XCIsZnVuY3Rpb24oYSl7YT1hLmRhdGE7YS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihhLmlzKFwiaW5wdXRcIil8fGEuaXMoXCJ0ZXh0YXJlYVwiKSkmJihcImZhbHNlXCIhPWEuZ2V0QXR0cmlidXRlKFwiY29udGVudEVkaXRhYmxlXCIpJiZhLmRhdGEoXCJja2UtZWRpdGFibGVcIixhLmhhc0F0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKT9cInRydWVcIjpcIjFcIiksYS5zZXRBdHRyaWJ1dGUoXCJjb250ZW50RWRpdGFibGVcIiwhMSkpfSk7Yy5vbihcInNlbGVjdGlvbkNoYW5nZVwiLGZ1bmN0aW9uKGIpe2lmKCFjLnJlYWRPbmx5KXt2YXIgZD1jLmdldFNlbGVjdGlvbigpO2QmJiFkLmlzTG9ja2VkJiYoZD1jLmNoZWNrRGlydHkoKSxjLmZpcmUoXCJsb2NrU25hcHNob3RcIiksYShiKSxjLmZpcmUoXCJ1bmxvY2tTbmFwc2hvdFwiKSxcbiFkJiZjLnJlc2V0RGlydHkoKSl9fSl9KTtDS0VESVRPUi5vbihcImluc3RhbmNlQ3JlYXRlZFwiLGZ1bmN0aW9uKGEpe3ZhciBiPWEuZWRpdG9yO2Iub24oXCJtb2RlXCIsZnVuY3Rpb24oKXt2YXIgYT1iLmVkaXRhYmxlKCk7aWYoYSYmYS5pc0lubGluZSgpKXt2YXIgYz1iLnRpdGxlO2EuY2hhbmdlQXR0cihcInJvbGVcIixcInRleHRib3hcIik7YS5jaGFuZ2VBdHRyKFwiYXJpYS1sYWJlbFwiLGMpO2MmJmEuY2hhbmdlQXR0cihcInRpdGxlXCIsYyk7dmFyIGQ9Yi5maXJlKFwiYXJpYUVkaXRvckhlbHBMYWJlbFwiLHt9KS5sYWJlbDtpZihkJiYoYz10aGlzLnVpLnNwYWNlKHRoaXMuZWxlbWVudE1vZGU9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkU/XCJ0b3BcIjpcImNvbnRlbnRzXCIpKSl7dmFyIGY9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCksZD1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCgnXFx4M2NzcGFuIGlkXFx4M2RcIicrZisnXCIgY2xhc3NcXHgzZFwiY2tlX3ZvaWNlX2xhYmVsXCJcXHgzZScrXG5kK1wiXFx4M2Mvc3BhblxceDNlXCIpO2MuYXBwZW5kKGQpO2EuY2hhbmdlQXR0cihcImFyaWEtZGVzY3JpYmVkYnlcIixmKX19fSl9KTtDS0VESVRPUi5hZGRDc3MoXCIuY2tlX2VkaXRhYmxle2N1cnNvcjp0ZXh0fS5ja2VfZWRpdGFibGUgaW1nLC5ja2VfZWRpdGFibGUgaW5wdXQsLmNrZV9lZGl0YWJsZSB0ZXh0YXJlYXtjdXJzb3I6ZGVmYXVsdH1cIik7Zz1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCEwKTtuPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoITEsITApO3Y9Q0tFRElUT1IuZG9tLndhbGtlci5lbXB0eSgpO3I9Q0tFRElUT1IuZG9tLndhbGtlci5ib2d1cygpO3E9LyhefDxib2R5XFxiW14+XSo+KVxccyo8KHB8ZGl2fGFkZHJlc3N8aFxcZHxjZW50ZXJ8cHJlKVtePl0qPlxccyooPzo8YnJbXj5dKj58Jm5ic3A7fFxcdTAwQTB8JiMxNjA7KT9cXHMqKDo/PFxcL1xcMj4pP1xccyooPz0kfDxcXC9ib2R5PikvZ2k7dD1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYil7cmV0dXJuIGIudHlwZT09XG5DS0VESVRPUi5OT0RFX0VMRU1FTlR9ZnVuY3Rpb24gYihjLGQpe3ZhciBmLGcsZSxoLGs9W10sbT1kLnJhbmdlLnN0YXJ0Q29udGFpbmVyO2Y9ZC5yYW5nZS5zdGFydFBhdGgoKTtmb3IodmFyIG09bFttLmdldE5hbWUoKV0sbj0wLHA9Yy5nZXRDaGlsZHJlbigpLHc9cC5jb3VudCgpLHg9LTEscT0tMSx0PTAsRD1mLmNvbnRhaW5zKGwuJGxpc3QpO248dzsrK24pZj1wLmdldEl0ZW0obiksYShmKT8oZT1mLmdldE5hbWUoKSxEJiZlIGluIENLRURJVE9SLmR0ZC4kbGlzdD9rPWsuY29uY2F0KGIoZixkKSk6KGg9ISFtW2VdLFwiYnJcIiE9ZXx8IWYuZGF0YShcImNrZS1lb2xcIil8fG4mJm4hPXctMXx8KHQ9KGc9bj9rW24tMV0ubm9kZTpwLmdldEl0ZW0obisxKSkmJighYShnKXx8IWcuaXMoXCJiclwiKSksZz1nJiZhKGcpJiZsLiRibG9ja1tnLmdldE5hbWUoKV0pLC0xIT14fHxofHwoeD1uKSxofHwocT1uKSxrLnB1c2goe2lzRWxlbWVudDoxLGlzTGluZUJyZWFrOnQsaXNCbG9jazpmLmlzQmxvY2tCb3VuZGFyeSgpLFxuaGFzQmxvY2tTaWJsaW5nOmcsbm9kZTpmLG5hbWU6ZSxhbGxvd2VkOmh9KSxnPXQ9MCkpOmsucHVzaCh7aXNFbGVtZW50OjAsbm9kZTpmLGFsbG93ZWQ6MX0pOy0xPHgmJihrW3hdLmZpcnN0Tm90QWxsb3dlZD0xKTstMTxxJiYoa1txXS5sYXN0Tm90QWxsb3dlZD0xKTtyZXR1cm4ga31mdW5jdGlvbiBkKGIsYyl7dmFyIGY9W10sZz1iLmdldENoaWxkcmVuKCksZT1nLmNvdW50KCksayxoPTAsbT1sW2NdLG49IWIuaXMobC4kaW5saW5lKXx8Yi5pcyhcImJyXCIpO2ZvcihuJiZmLnB1c2goXCIgXCIpO2g8ZTtoKyspaz1nLmdldEl0ZW0oaCksYShrKSYmIWsuaXMobSk/Zj1mLmNvbmNhdChkKGssYykpOmYucHVzaChrKTtuJiZmLnB1c2goXCIgXCIpO3JldHVybiBmfWZ1bmN0aW9uIGcoYil7cmV0dXJuIGEoYi5zdGFydENvbnRhaW5lcikmJmIuc3RhcnRDb250YWluZXIuZ2V0Q2hpbGQoYi5zdGFydE9mZnNldC0xKX1mdW5jdGlvbiBlKGIpe3JldHVybiBiJiZhKGIpJiYoYi5pcyhsLiRyZW1vdmVFbXB0eSl8fFxuYi5pcyhcImFcIikmJiFiLmlzQmxvY2tCb3VuZGFyeSgpKX1mdW5jdGlvbiBoKGIsYyxkLGYpe3ZhciBnPWIuY2xvbmUoKSxlLGs7Zy5zZXRFbmRBdChjLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpOyhlPShuZXcgQ0tFRElUT1IuZG9tLndhbGtlcihnKSkubmV4dCgpKSYmYShlKSYmbltlLmdldE5hbWUoKV0mJihrPWUuZ2V0UHJldmlvdXMoKSkmJmEoaykmJiFrLmdldFBhcmVudCgpLmVxdWFscyhiLnN0YXJ0Q29udGFpbmVyKSYmZC5jb250YWlucyhrKSYmZi5jb250YWlucyhlKSYmZS5pc0lkZW50aWNhbChrKSYmKGUubW92ZUNoaWxkcmVuKGspLGUucmVtb3ZlKCksaChiLGMsZCxmKSl9ZnVuY3Rpb24gayhiLGMpe2Z1bmN0aW9uIGQoYixjKXtpZihjLmlzQmxvY2smJmMuaXNFbGVtZW50JiYhYy5ub2RlLmlzKFwiYnJcIikmJmEoYikmJmIuaXMoXCJiclwiKSlyZXR1cm4gYi5yZW1vdmUoKSwxfXZhciBmPWMuZW5kQ29udGFpbmVyLmdldENoaWxkKGMuZW5kT2Zmc2V0KSxnPWMuZW5kQ29udGFpbmVyLmdldENoaWxkKGMuZW5kT2Zmc2V0LVxuMSk7ZiYmZChmLGJbYi5sZW5ndGgtMV0pO2cmJmQoZyxiWzBdKSYmKGMuc2V0RW5kKGMuZW5kQ29udGFpbmVyLGMuZW5kT2Zmc2V0LTEpLGMuY29sbGFwc2UoKSl9dmFyIGw9Q0tFRElUT1IuZHRkLG49e3A6MSxkaXY6MSxoMToxLGgyOjEsaDM6MSxoNDoxLGg1OjEsaDY6MSx1bDoxLG9sOjEsbGk6MSxwcmU6MSxkbDoxLGJsb2NrcXVvdGU6MX0sdz17cDoxLGRpdjoxLGgxOjEsaDI6MSxoMzoxLGg0OjEsaDU6MSxoNjoxfSxwPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxsLiRpbmxpbmUpO2RlbGV0ZSBwLmJyO3JldHVybiBmdW5jdGlvbihuLHEsSCx0KXt2YXIgcj1uLmVkaXRvcix6PSExO1widW5maWx0ZXJlZF9odG1sXCI9PXEmJihxPVwiaHRtbFwiLHo9ITApO2lmKCF0LmNoZWNrUmVhZE9ubHkoKSl7dmFyIHY9KG5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgodC5zdGFydENvbnRhaW5lcix0LnJvb3QpKS5ibG9ja0xpbWl0fHx0LnJvb3Q7bj17dHlwZTpxLGRvbnRGaWx0ZXI6eixlZGl0YWJsZTpuLFxuZWRpdG9yOnIscmFuZ2U6dCxibG9ja0xpbWl0OnYsbWVyZ2VDYW5kaWRhdGVzOltdLHpvbWJpZXM6W119O3E9bi5yYW5nZTt0PW4ubWVyZ2VDYW5kaWRhdGVzO3ZhciBLLEU7XCJ0ZXh0XCI9PW4udHlwZSYmcS5zaHJpbmsoQ0tFRElUT1IuU0hSSU5LX0VMRU1FTlQsITAsITEpJiYoSz1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbChcIlxceDNjc3BhblxceDNlXFx4MjZuYnNwO1xceDNjL3NwYW5cXHgzZVwiLHEuZG9jdW1lbnQpLHEuaW5zZXJ0Tm9kZShLKSxxLnNldFN0YXJ0QWZ0ZXIoSykpO3o9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChxLnN0YXJ0Q29udGFpbmVyKTtuLmVuZFBhdGg9dj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHEuZW5kQ29udGFpbmVyKTtpZighcS5jb2xsYXBzZWQpe3ZhciByPXYuYmxvY2t8fHYuYmxvY2tMaW1pdCxXPXEuZ2V0Q29tbW9uQW5jZXN0b3IoKTtyJiYhci5lcXVhbHMoVykmJiFyLmNvbnRhaW5zKFcpJiZxLmNoZWNrRW5kT2ZCbG9jaygpJiZcbm4uem9tYmllcy5wdXNoKHIpO3EuZGVsZXRlQ29udGVudHMoKX1mb3IoOyhFPWcocSkpJiZhKEUpJiZFLmlzQmxvY2tCb3VuZGFyeSgpJiZ6LmNvbnRhaW5zKEUpOylxLm1vdmVUb1Bvc2l0aW9uKEUsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7aChxLG4uYmxvY2tMaW1pdCx6LHYpO0smJihxLnNldEVuZEJlZm9yZShLKSxxLmNvbGxhcHNlKCksSy5yZW1vdmUoKSk7Sz1xLnN0YXJ0UGF0aCgpO2lmKHI9Sy5jb250YWlucyhlLCExLDEpKXEuc3BsaXRFbGVtZW50KHIpLG4uaW5saW5lU3R5bGVzUm9vdD1yLG4uaW5saW5lU3R5bGVzUGVhaz1LLmxhc3RFbGVtZW50O0s9cS5jcmVhdGVCb29rbWFyaygpOyhyPUsuc3RhcnROb2RlLmdldFByZXZpb3VzKGMpKSYmYShyKSYmZShyKSYmdC5wdXNoKHIpOyhyPUsuc3RhcnROb2RlLmdldE5leHQoYykpJiZhKHIpJiZlKHIpJiZ0LnB1c2gocik7Zm9yKHI9Sy5zdGFydE5vZGU7KHI9ci5nZXRQYXJlbnQoKSkmJmUocik7KXQucHVzaChyKTtcbnEubW92ZVRvQm9va21hcmsoSyk7aWYoSz1IKXtLPW4ucmFuZ2U7aWYoXCJ0ZXh0XCI9PW4udHlwZSYmbi5pbmxpbmVTdHlsZXNSb290KXtFPW4uaW5saW5lU3R5bGVzUGVhaztxPUUuZ2V0RG9jdW1lbnQoKS5jcmVhdGVUZXh0KFwie2NrZS1wZWFrfVwiKTtmb3IodD1uLmlubGluZVN0eWxlc1Jvb3QuZ2V0UGFyZW50KCk7IUUuZXF1YWxzKHQpOylxPXEuYXBwZW5kVG8oRS5jbG9uZSgpKSxFPUUuZ2V0UGFyZW50KCk7SD1xLmdldE91dGVySHRtbCgpLnNwbGl0KFwie2NrZS1wZWFrfVwiKS5qb2luKEgpfUU9bi5ibG9ja0xpbWl0LmdldE5hbWUoKTtpZigvXlxccyt8XFxzKyQvLnRlc3QoSCkmJlwic3BhblwiaW4gQ0tFRElUT1IuZHRkW0VdKXt2YXIgVT0nXFx4M2NzcGFuIGRhdGEtY2tlLW1hcmtlclxceDNkXCIxXCJcXHgzZVxceDI2bmJzcDtcXHgzYy9zcGFuXFx4M2UnO0g9VStIK1V9SD1uLmVkaXRvci5kYXRhUHJvY2Vzc29yLnRvSHRtbChILHtjb250ZXh0Om51bGwsZml4Rm9yQm9keTohMSxwcm90ZWN0ZWRXaGl0ZXNwYWNlczohIVUsXG5kb250RmlsdGVyOm4uZG9udEZpbHRlcixmaWx0ZXI6bi5lZGl0b3IuYWN0aXZlRmlsdGVyLGVudGVyTW9kZTpuLmVkaXRvci5hY3RpdmVFbnRlck1vZGV9KTtFPUsuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJvZHlcIik7RS5zZXRIdG1sKEgpO1UmJihFLmdldEZpcnN0KCkucmVtb3ZlKCksRS5nZXRMYXN0KCkucmVtb3ZlKCkpO2lmKChVPUsuc3RhcnRQYXRoKCkuYmxvY2spJiYoMSE9VS5nZXRDaGlsZENvdW50KCl8fCFVLmdldEJvZ3VzKCkpKWE6e3ZhciBMO2lmKDE9PUUuZ2V0Q2hpbGRDb3VudCgpJiZhKEw9RS5nZXRGaXJzdCgpKSYmTC5pcyh3KSYmIUwuaGFzQXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKXtVPUwuZ2V0RWxlbWVudHNCeVRhZyhcIipcIik7Sz0wO2Zvcih0PVUuY291bnQoKTtLPHQ7SysrKWlmKHE9VS5nZXRJdGVtKEspLCFxLmlzKHApKWJyZWFrIGE7TC5tb3ZlQ2hpbGRyZW4oTC5nZXRQYXJlbnQoMSkpO0wucmVtb3ZlKCl9fW4uZGF0YVdyYXBwZXI9RTtLPUh9aWYoSyl7TD1cbm4ucmFuZ2U7Sz1MLmRvY3VtZW50O3ZhciBOO0U9bi5ibG9ja0xpbWl0O3Q9MDt2YXIgUyxVPVtdLFEsWTtIPXI9MDt2YXIgVixkYTtxPUwuc3RhcnRDb250YWluZXI7dmFyIHo9bi5lbmRQYXRoLmVsZW1lbnRzWzBdLFosdj16LmdldFBvc2l0aW9uKHEpLFc9ISF6LmdldENvbW1vbkFuY2VzdG9yKHEpJiZ2IT1DS0VESVRPUi5QT1NJVElPTl9JREVOVElDQUwmJiEodiZDS0VESVRPUi5QT1NJVElPTl9DT05UQUlOUytDS0VESVRPUi5QT1NJVElPTl9JU19DT05UQUlORUQpO3E9YihuLmRhdGFXcmFwcGVyLG4pO2ZvcihrKHEsTCk7dDxxLmxlbmd0aDt0Kyspe3Y9cVt0XTtpZihOPXYuaXNMaW5lQnJlYWspe049TDtWPUU7dmFyIFg9dm9pZCAwLGdhPXZvaWQgMDt2Lmhhc0Jsb2NrU2libGluZz9OPTE6KFg9Ti5zdGFydENvbnRhaW5lci5nZXRBc2NlbmRhbnQobC4kYmxvY2ssMSkpJiZYLmlzKHtkaXY6MSxwOjF9KT8oZ2E9WC5nZXRQb3NpdGlvbihWKSxnYT09Q0tFRElUT1IuUE9TSVRJT05fSURFTlRJQ0FMfHxcbmdhPT1DS0VESVRPUi5QT1NJVElPTl9DT05UQUlOUz9OPTA6KFY9Ti5zcGxpdEVsZW1lbnQoWCksTi5tb3ZlVG9Qb3NpdGlvbihWLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKSxOPTEpKTpOPTB9aWYoTilIPTA8dDtlbHNle049TC5zdGFydFBhdGgoKTshdi5pc0Jsb2NrJiZtKG4uZWRpdG9yLE4uYmxvY2ssTi5ibG9ja0xpbWl0KSYmKFk9ZihuLmVkaXRvcikpJiYoWT1LLmNyZWF0ZUVsZW1lbnQoWSksWS5hcHBlbmRCb2d1cygpLEwuaW5zZXJ0Tm9kZShZKSxDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlciYmKFM9WS5nZXRCb2d1cygpKSYmUy5yZW1vdmUoKSxMLm1vdmVUb1Bvc2l0aW9uKFksQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCkpO2lmKChOPUwuc3RhcnRQYXRoKCkuYmxvY2spJiYhTi5lcXVhbHMoUSkpe2lmKFM9Ti5nZXRCb2d1cygpKVMucmVtb3ZlKCksVS5wdXNoKE4pO1E9Tn12LmZpcnN0Tm90QWxsb3dlZCYmKHI9MSk7aWYociYmdi5pc0VsZW1lbnQpe049XG5MLnN0YXJ0Q29udGFpbmVyO2ZvcihWPW51bGw7TiYmIWxbTi5nZXROYW1lKCldW3YubmFtZV07KXtpZihOLmVxdWFscyhFKSl7Tj1udWxsO2JyZWFrfVY9TjtOPU4uZ2V0UGFyZW50KCl9aWYoTilWJiYoZGE9TC5zcGxpdEVsZW1lbnQoViksbi56b21iaWVzLnB1c2goZGEpLG4uem9tYmllcy5wdXNoKFYpKTtlbHNle1Y9RS5nZXROYW1lKCk7Wj0hdDtOPXQ9PXEubGVuZ3RoLTE7Vj1kKHYubm9kZSxWKTtmb3IodmFyIFg9W10sZ2E9Vi5sZW5ndGgsYmE9MCxlYT12b2lkIDAsaGE9MCxpYT0tMTtiYTxnYTtiYSsrKWVhPVZbYmFdLFwiIFwiPT1lYT8oaGF8fFomJiFiYXx8KFgucHVzaChuZXcgQ0tFRElUT1IuZG9tLnRleHQoXCIgXCIpKSxpYT1YLmxlbmd0aCksaGE9MSk6KFgucHVzaChlYSksaGE9MCk7TiYmaWE9PVgubGVuZ3RoJiZYLnBvcCgpO1o9WH19aWYoWil7Zm9yKDtOPVoucG9wKCk7KUwuaW5zZXJ0Tm9kZShOKTtaPTB9ZWxzZSBMLmluc2VydE5vZGUodi5ub2RlKTt2Lmxhc3ROb3RBbGxvd2VkJiZcbnQ8cS5sZW5ndGgtMSYmKChkYT1XP3o6ZGEpJiZMLnNldEVuZEF0KGRhLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKSxyPTApO0wuY29sbGFwc2UoKX19MSE9cS5sZW5ndGg/Uz0hMTooUz1xWzBdLFM9Uy5pc0VsZW1lbnQmJlwiZmFsc2VcIj09Uy5ub2RlLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSk7UyYmKEg9ITAsTj1xWzBdLm5vZGUsTC5zZXRTdGFydEF0KE4sQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxMLnNldEVuZEF0KE4sQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSk7bi5kb250TW92ZUNhcmV0PUg7bi5ib2d1c05lZWRlZEJsb2Nrcz1VfVM9bi5yYW5nZTt2YXIgYWE7ZGE9bi5ib2d1c05lZWRlZEJsb2Nrcztmb3IoWj1TLmNyZWF0ZUJvb2ttYXJrKCk7UT1uLnpvbWJpZXMucG9wKCk7KVEuZ2V0UGFyZW50KCkmJihZPVMuY2xvbmUoKSxZLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoUSksWS5yZW1vdmVFbXB0eUJsb2Nrc0F0RW5kKCkpO2lmKGRhKWZvcig7UT1cbmRhLnBvcCgpOylDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcj9RLmFwcGVuZEJvZ3VzKCk6US5hcHBlbmQoUy5kb2N1bWVudC5jcmVhdGVUZXh0KFwiwqBcIikpO2Zvcig7UT1uLm1lcmdlQ2FuZGlkYXRlcy5wb3AoKTspUS5tZXJnZVNpYmxpbmdzKCk7Uy5tb3ZlVG9Cb29rbWFyayhaKTtpZighbi5kb250TW92ZUNhcmV0KXtmb3IoUT1nKFMpO1EmJmEoUSkmJiFRLmlzKGwuJGVtcHR5KTspe2lmKFEuaXNCbG9ja0JvdW5kYXJ5KCkpUy5tb3ZlVG9Qb3NpdGlvbihRLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2Vsc2V7aWYoZShRKSYmUS5nZXRIdG1sKCkubWF0Y2goLyhcXHN8Jm5ic3A7KSQvZykpe2FhPW51bGw7YnJlYWt9YWE9Uy5jbG9uZSgpO2FhLm1vdmVUb1Bvc2l0aW9uKFEsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCl9UT1RLmdldExhc3QoYyl9YWEmJlMubW92ZVRvUmFuZ2UoYWEpfX19fSgpO3A9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIpe2I9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoYik7XG5iLmd1YXJkPWZ1bmN0aW9uKGEsYil7aWYoYilyZXR1cm4hMTtpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVClyZXR1cm4gYS5pcyhDS0VESVRPUi5kdGQuJHRhYmxlQ29udGVudCl9O2IuZXZhbHVhdG9yPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVH07cmV0dXJuIGJ9ZnVuY3Rpb24gYihhLGMsZCl7Yz1hLmdldERvY3VtZW50KCkuY3JlYXRlRWxlbWVudChjKTthLmFwcGVuZChjLGQpO3JldHVybiBjfWZ1bmN0aW9uIGMoYSl7dmFyIGI9YS5jb3VudCgpLGQ7Zm9yKGI7MDxiLS07KWQ9YS5nZXRJdGVtKGIpLENLRURJVE9SLnRvb2xzLnRyaW0oZC5nZXRIdG1sKCkpfHwoZC5hcHBlbmRCb2d1cygpLENLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbiYmZC5nZXRDaGlsZENvdW50KCkmJmQuZ2V0Rmlyc3QoKS5yZW1vdmUoKSl9cmV0dXJuIGZ1bmN0aW9uKGQpe3ZhciBmPWQuc3RhcnRDb250YWluZXIsZz1mLmdldEFzY2VuZGFudChcInRhYmxlXCIsXG4xKSxlPSExO2MoZy5nZXRFbGVtZW50c0J5VGFnKFwidGRcIikpO2MoZy5nZXRFbGVtZW50c0J5VGFnKFwidGhcIikpO2c9ZC5jbG9uZSgpO2cuc2V0U3RhcnQoZiwwKTtnPWEoZykubGFzdEJhY2t3YXJkKCk7Z3x8KGc9ZC5jbG9uZSgpLGcuc2V0RW5kQXQoZixDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKSxnPWEoZykubGFzdEZvcndhcmQoKSxlPSEwKTtnfHwoZz1mKTtnLmlzKFwidGFibGVcIik/KGQuc2V0U3RhcnRBdChnLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCksZC5jb2xsYXBzZSghMCksZy5yZW1vdmUoKSk6KGcuaXMoe3Rib2R5OjEsdGhlYWQ6MSx0Zm9vdDoxfSkmJihnPWIoZyxcInRyXCIsZSkpLGcuaXMoXCJ0clwiKSYmKGc9YihnLGcuZ2V0UGFyZW50KCkuaXMoXCJ0aGVhZFwiKT9cInRoXCI6XCJ0ZFwiLGUpKSwoZj1nLmdldEJvZ3VzKCkpJiZmLnJlbW92ZSgpLGQubW92ZVRvUG9zaXRpb24oZyxlP0NLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUOkNLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpKX19KCk7XG53PXtlb2w6e2RldGVjdDpmdW5jdGlvbihhLGIpe3ZhciBjPWEucmFuZ2UsZD1jLmNsb25lKCksZj1jLmNsb25lKCksZz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGMuc3RhcnRDb250YWluZXIsYiksZT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGMuZW5kQ29udGFpbmVyLGIpO2QuY29sbGFwc2UoMSk7Zi5jb2xsYXBzZSgpO2cuYmxvY2smJmQuY2hlY2tCb3VuZGFyeU9mRWxlbWVudChnLmJsb2NrLENLRURJVE9SLkVORCkmJihjLnNldFN0YXJ0QWZ0ZXIoZy5ibG9jayksYS5wcmVwZW5kRW9sQnI9MSk7ZS5ibG9jayYmZi5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KGUuYmxvY2ssQ0tFRElUT1IuU1RBUlQpJiYoYy5zZXRFbmRCZWZvcmUoZS5ibG9jayksYS5hcHBlbmRFb2xCcj0xKX0sZml4OmZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5nZXREb2N1bWVudCgpLGQ7YS5hcHBlbmRFb2xCciYmKGQ9dGhpcy5jcmVhdGVFb2xCcihjKSxhLmZyYWdtZW50LmFwcGVuZChkKSk7IWEucHJlcGVuZEVvbEJyfHxcbmQmJiFkLmdldFByZXZpb3VzKCl8fGEuZnJhZ21lbnQuYXBwZW5kKHRoaXMuY3JlYXRlRW9sQnIoYyksMSl9LGNyZWF0ZUVvbEJyOmZ1bmN0aW9uKGEpe3JldHVybiBhLmNyZWF0ZUVsZW1lbnQoXCJiclwiLHthdHRyaWJ1dGVzOntcImRhdGEtY2tlLWVvbFwiOjF9fSl9fSxib2d1czp7ZXhjbHVkZTpmdW5jdGlvbihhKXt2YXIgYj1hLnJhbmdlLmdldEJvdW5kYXJ5Tm9kZXMoKSxjPWIuc3RhcnROb2RlLGI9Yi5lbmROb2RlOyFifHwhcihiKXx8YyYmYy5lcXVhbHMoYil8fGEucmFuZ2Uuc2V0RW5kQmVmb3JlKGIpfX0sdHJlZTp7cmVidWlsZDpmdW5jdGlvbihhLGIpe3ZhciBjPWEucmFuZ2UsZD1jLmdldENvbW1vbkFuY2VzdG9yKCksZj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGQsYiksZz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGMuc3RhcnRDb250YWluZXIsYiksYz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGMuZW5kQ29udGFpbmVyLGIpLGU7ZC50eXBlPT1cbkNLRURJVE9SLk5PREVfVEVYVCYmKGQ9ZC5nZXRQYXJlbnQoKSk7aWYoZi5ibG9ja0xpbWl0LmlzKHt0cjoxLHRhYmxlOjF9KSl7dmFyIGs9Zi5jb250YWlucyhcInRhYmxlXCIpLmdldFBhcmVudCgpO2U9ZnVuY3Rpb24oYSl7cmV0dXJuIWEuZXF1YWxzKGspfX1lbHNlIGlmKGYuYmxvY2smJmYuYmxvY2suaXMoQ0tFRElUT1IuZHRkLiRsaXN0SXRlbSkmJihnPWcuY29udGFpbnMoQ0tFRElUT1IuZHRkLiRsaXN0KSxjPWMuY29udGFpbnMoQ0tFRElUT1IuZHRkLiRsaXN0KSwhZy5lcXVhbHMoYykpKXt2YXIgaD1mLmNvbnRhaW5zKENLRURJVE9SLmR0ZC4kbGlzdCkuZ2V0UGFyZW50KCk7ZT1mdW5jdGlvbihhKXtyZXR1cm4hYS5lcXVhbHMoaCl9fWV8fChlPWZ1bmN0aW9uKGEpe3JldHVybiFhLmVxdWFscyhmLmJsb2NrKSYmIWEuZXF1YWxzKGYuYmxvY2tMaW1pdCl9KTt0aGlzLnJlYnVpbGRGcmFnbWVudChhLGIsZCxlKX0scmVidWlsZEZyYWdtZW50OmZ1bmN0aW9uKGEsYixjLGQpe2Zvcih2YXIgZjtjJiZcbiFjLmVxdWFscyhiKSYmZChjKTspZj1jLmNsb25lKDAsMSksYS5mcmFnbWVudC5hcHBlbmRUbyhmKSxhLmZyYWdtZW50PWYsYz1jLmdldFBhcmVudCgpfX0sY2VsbDp7c2hyaW5rOmZ1bmN0aW9uKGEpe2E9YS5yYW5nZTt2YXIgYj1hLnN0YXJ0Q29udGFpbmVyLGM9YS5lbmRDb250YWluZXIsZD1hLnN0YXJ0T2Zmc2V0LGY9YS5lbmRPZmZzZXQ7Yi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmIuZXF1YWxzKGMpJiZiLmlzKFwidHJcIikmJisrZD09ZiYmYS5zaHJpbmsoQ0tFRElUT1IuU0hSSU5LX1RFWFQpfX19O3o9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIsYyl7dmFyIGQ9Yi5nZXRQYXJlbnQoKTtpZihkLmlzKENLRURJVE9SLmR0ZC4kaW5saW5lKSliW2M/XCJpbnNlcnRCZWZvcmVcIjpcImluc2VydEFmdGVyXCJdKGQpfWZ1bmN0aW9uIGIoYyxkLGYpe2EoZCk7YShmLDEpO2Zvcih2YXIgZztnPWYuZ2V0TmV4dCgpOylnLmluc2VydEFmdGVyKGQpLGQ9Zzt2KGMpJiZjLnJlbW92ZSgpfVxuZnVuY3Rpb24gYyhhLGIpe3ZhciBkPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UoYSk7ZC5zZXRTdGFydEFmdGVyKGIuc3RhcnROb2RlKTtkLnNldEVuZEJlZm9yZShiLmVuZE5vZGUpO3JldHVybiBkfXJldHVybntsaXN0OntkZXRlY3RNZXJnZTpmdW5jdGlvbihhLGIpe3ZhciBkPWMoYixhLmJvb2ttYXJrKSxmPWQuc3RhcnRQYXRoKCksZz1kLmVuZFBhdGgoKSxlPWYuY29udGFpbnMoQ0tFRElUT1IuZHRkLiRsaXN0KSxrPWcuY29udGFpbnMoQ0tFRElUT1IuZHRkLiRsaXN0KTthLm1lcmdlTGlzdD1lJiZrJiZlLmdldFBhcmVudCgpLmVxdWFscyhrLmdldFBhcmVudCgpKSYmIWUuZXF1YWxzKGspO2EubWVyZ2VMaXN0SXRlbXM9Zi5ibG9jayYmZy5ibG9jayYmZi5ibG9jay5pcyhDS0VESVRPUi5kdGQuJGxpc3RJdGVtKSYmZy5ibG9jay5pcyhDS0VESVRPUi5kdGQuJGxpc3RJdGVtKTtpZihhLm1lcmdlTGlzdHx8YS5tZXJnZUxpc3RJdGVtcylkPWQuY2xvbmUoKSxkLnNldFN0YXJ0QmVmb3JlKGEuYm9va21hcmsuc3RhcnROb2RlKSxcbmQuc2V0RW5kQWZ0ZXIoYS5ib29rbWFyay5lbmROb2RlKSxhLm1lcmdlTGlzdEJvb2ttYXJrPWQuY3JlYXRlQm9va21hcmsoKX0sbWVyZ2U6ZnVuY3Rpb24oYSxjKXtpZihhLm1lcmdlTGlzdEJvb2ttYXJrKXt2YXIgZD1hLm1lcmdlTGlzdEJvb2ttYXJrLnN0YXJ0Tm9kZSxmPWEubWVyZ2VMaXN0Qm9va21hcmsuZW5kTm9kZSxnPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoZCxjKSxlPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoZixjKTtpZihhLm1lcmdlTGlzdCl7dmFyIGs9Zy5jb250YWlucyhDS0VESVRPUi5kdGQuJGxpc3QpLGg9ZS5jb250YWlucyhDS0VESVRPUi5kdGQuJGxpc3QpO2suZXF1YWxzKGgpfHwoaC5tb3ZlQ2hpbGRyZW4oayksaC5yZW1vdmUoKSl9YS5tZXJnZUxpc3RJdGVtcyYmKGc9Zy5jb250YWlucyhDS0VESVRPUi5kdGQuJGxpc3RJdGVtKSxlPWUuY29udGFpbnMoQ0tFRElUT1IuZHRkLiRsaXN0SXRlbSksZy5lcXVhbHMoZSl8fGIoZSxkLGYpKTtcbmQucmVtb3ZlKCk7Zi5yZW1vdmUoKX19fSxibG9jazp7ZGV0ZWN0TWVyZ2U6ZnVuY3Rpb24oYSxiKXtpZighYS50YWJsZUNvbnRlbnRzUmFuZ2VzJiYhYS5tZXJnZUxpc3RCb29rbWFyayl7dmFyIGM9bmV3IENLRURJVE9SLmRvbS5yYW5nZShiKTtjLnNldFN0YXJ0QmVmb3JlKGEuYm9va21hcmsuc3RhcnROb2RlKTtjLnNldEVuZEFmdGVyKGEuYm9va21hcmsuZW5kTm9kZSk7YS5tZXJnZUJsb2NrQm9va21hcms9Yy5jcmVhdGVCb29rbWFyaygpfX0sbWVyZ2U6ZnVuY3Rpb24oYSxjKXtpZihhLm1lcmdlQmxvY2tCb29rbWFyayYmIWEucHVyZ2VUYWJsZUJvb2ttYXJrKXt2YXIgZD1hLm1lcmdlQmxvY2tCb29rbWFyay5zdGFydE5vZGUsZj1hLm1lcmdlQmxvY2tCb29rbWFyay5lbmROb2RlLGc9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChkLGMpLGU9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChmLGMpLGc9Zy5ibG9jayxlPWUuYmxvY2s7ZyYmZSYmIWcuZXF1YWxzKGUpJiZcbmIoZSxkLGYpO2QucmVtb3ZlKCk7Zi5yZW1vdmUoKX19fSx0YWJsZTpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYyl7dmFyIGY9W10sZyxlPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGMpLGs9Yy5zdGFydFBhdGgoKS5jb250YWlucyhkKSxoPWMuZW5kUGF0aCgpLmNvbnRhaW5zKGQpLGw9e307ZS5ndWFyZD1mdW5jdGlvbihhLGUpe2lmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKXt2YXIgbT1cInZpc2l0ZWRfXCIrKGU/XCJvdXRcIjpcImluXCIpO2lmKGEuZ2V0Q3VzdG9tRGF0YShtKSlyZXR1cm47Q0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyKGwsYSxtLDEpfWlmKGUmJmsmJmEuZXF1YWxzKGspKWc9Yy5jbG9uZSgpLGcuc2V0RW5kQXQoayxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKSxmLnB1c2goZyk7ZWxzZSBpZighZSYmaCYmYS5lcXVhbHMoaCkpZz1jLmNsb25lKCksZy5zZXRTdGFydEF0KGgsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpLGYucHVzaChnKTtcbmVsc2V7aWYobT0hZSltPWEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmlzKGQpJiYoIWt8fGIoYSxrKSkmJighaHx8YihhLGgpKTttJiYoZz1jLmNsb25lKCksZy5zZWxlY3ROb2RlQ29udGVudHMoYSksZi5wdXNoKGcpKX19O2UubGFzdEZvcndhcmQoKTtDS0VESVRPUi5kb20uZWxlbWVudC5jbGVhckFsbE1hcmtlcnMobCk7cmV0dXJuIGZ9ZnVuY3Rpb24gYihhLGMpe3ZhciBkPUNLRURJVE9SLlBPU0lUSU9OX0NPTlRBSU5TK0NLRURJVE9SLlBPU0lUSU9OX0lTX0NPTlRBSU5FRCxmPWEuZ2V0UG9zaXRpb24oYyk7cmV0dXJuIGY9PT1DS0VESVRPUi5QT1NJVElPTl9JREVOVElDQUw/ITE6MD09PShmJmQpfXZhciBkPXt0ZDoxLHRoOjEsY2FwdGlvbjoxfTtyZXR1cm57ZGV0ZWN0UHVyZ2U6ZnVuY3Rpb24oYSl7dmFyIGI9YS5yYW5nZSxjPWIuY2xvbmUoKTtjLmVubGFyZ2UoQ0tFRElUT1IuRU5MQVJHRV9FTEVNRU5UKTt2YXIgYz1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihjKSxcbmY9MDtjLmV2YWx1YXRvcj1mdW5jdGlvbihhKXthLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5pcyhkKSYmKytmfTtjLmNoZWNrRm9yd2FyZCgpO2lmKDE8Zil7dmFyIGM9Yi5zdGFydFBhdGgoKS5jb250YWlucyhcInRhYmxlXCIpLGc9Yi5lbmRQYXRoKCkuY29udGFpbnMoXCJ0YWJsZVwiKTtjJiZnJiZiLmNoZWNrQm91bmRhcnlPZkVsZW1lbnQoYyxDS0VESVRPUi5TVEFSVCkmJmIuY2hlY2tCb3VuZGFyeU9mRWxlbWVudChnLENLRURJVE9SLkVORCkmJihiPWEucmFuZ2UuY2xvbmUoKSxiLnNldFN0YXJ0QmVmb3JlKGMpLGIuc2V0RW5kQWZ0ZXIoZyksYS5wdXJnZVRhYmxlQm9va21hcms9Yi5jcmVhdGVCb29rbWFyaygpKX19LGRldGVjdFJhbmdlczpmdW5jdGlvbihmLGcpe3ZhciBlPWMoZyxmLmJvb2ttYXJrKSxrPWUuY2xvbmUoKSxoLGwsbT1lLmdldENvbW1vbkFuY2VzdG9yKCk7bS5pcyhDS0VESVRPUi5kdGQuJHRhYmxlQ29udGVudCkmJiFtLmlzKGQpJiYobT1tLmdldEFzY2VuZGFudChcInRhYmxlXCIsXG4hMCkpO2w9bTttPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoZS5zdGFydENvbnRhaW5lcixsKTtsPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoZS5lbmRDb250YWluZXIsbCk7bT1tLmNvbnRhaW5zKFwidGFibGVcIik7bD1sLmNvbnRhaW5zKFwidGFibGVcIik7aWYobXx8bCltJiZsJiZiKG0sbCk/KGYudGFibGVTdXJyb3VuZGluZ1JhbmdlPWssay5zZXRTdGFydEF0KG0sQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSxrLnNldEVuZEF0KGwsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxrPWUuY2xvbmUoKSxrLnNldEVuZEF0KG0sQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSxoPWUuY2xvbmUoKSxoLnNldFN0YXJ0QXQobCxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpLGg9YShrKS5jb25jYXQoYShoKSkpOm0/bHx8KGYudGFibGVTdXJyb3VuZGluZ1JhbmdlPWssay5zZXRTdGFydEF0KG0sQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSxlLnNldEVuZEF0KG0sXG5DS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpKTooZi50YWJsZVN1cnJvdW5kaW5nUmFuZ2U9ayxrLnNldEVuZEF0KGwsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxlLnNldFN0YXJ0QXQobCxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCkpLGYudGFibGVDb250ZW50c1Jhbmdlcz1oP2g6YShlKX0sZGVsZXRlUmFuZ2VzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYjtiPWEudGFibGVDb250ZW50c1Jhbmdlcy5wb3AoKTspYi5leHRyYWN0Q29udGVudHMoKSx2KGIuc3RhcnRDb250YWluZXIpJiZiLnN0YXJ0Q29udGFpbmVyLmFwcGVuZEJvZ3VzKCk7YS50YWJsZVN1cnJvdW5kaW5nUmFuZ2UmJmEudGFibGVTdXJyb3VuZGluZ1JhbmdlLmV4dHJhY3RDb250ZW50cygpfSxwdXJnZTpmdW5jdGlvbihhKXtpZihhLnB1cmdlVGFibGVCb29rbWFyayl7dmFyIGI9YS5kb2MsYz1hLnJhbmdlLmNsb25lKCksYj1iLmNyZWF0ZUVsZW1lbnQoXCJwXCIpO2IuaW5zZXJ0QmVmb3JlKGEucHVyZ2VUYWJsZUJvb2ttYXJrLnN0YXJ0Tm9kZSk7XG5jLm1vdmVUb0Jvb2ttYXJrKGEucHVyZ2VUYWJsZUJvb2ttYXJrKTtjLmRlbGV0ZUNvbnRlbnRzKCk7YS5yYW5nZS5tb3ZlVG9Qb3NpdGlvbihiLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKX19fX0oKSxkZXRlY3RFeHRyYWN0TWVyZ2U6ZnVuY3Rpb24oYSl7cmV0dXJuIShhLnJhbmdlLnN0YXJ0UGF0aCgpLmNvbnRhaW5zKENLRURJVE9SLmR0ZC4kbGlzdEl0ZW0pJiZhLnJhbmdlLmVuZFBhdGgoKS5jb250YWlucyhDS0VESVRPUi5kdGQuJGxpc3RJdGVtKSl9LGZpeFVuZWRpdGFibGVSYW5nZVBvc2l0aW9uOmZ1bmN0aW9uKGEpe2Euc3RhcnRDb250YWluZXIuZ2V0RHRkKClbXCIjXCJdfHxhLm1vdmVUb0Nsb3Nlc3RFZGl0YWJsZVBvc2l0aW9uKG51bGwsITApfSxhdXRvUGFyYWdyYXBoOmZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5zdGFydFBhdGgoKSxkO20oYSxjLmJsb2NrLGMuYmxvY2tMaW1pdCkmJihkPWYoYSkpJiYoZD1iLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZCksZC5hcHBlbmRCb2d1cygpLFxuYi5pbnNlcnROb2RlKGQpLGIubW92ZVRvUG9zaXRpb24oZCxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCkpfX19KCl9KCksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7dmFyIGE9dGhpcy5fLmZha2VTZWxlY3Rpb24sYjthJiYoYj10aGlzLmdldFNlbGVjdGlvbigxKSxiJiZiLmlzSGlkZGVuKCl8fChhLnJlc2V0KCksYT0wKSk7aWYoIWEmJihhPWJ8fHRoaXMuZ2V0U2VsZWN0aW9uKDEpLCFhfHxhLmdldFR5cGUoKT09Q0tFRElUT1IuU0VMRUNUSU9OX05PTkUpKXJldHVybjt0aGlzLmZpcmUoXCJzZWxlY3Rpb25DaGVja1wiLGEpO2I9dGhpcy5lbGVtZW50UGF0aCgpO2lmKCFiLmNvbXBhcmUodGhpcy5fLnNlbGVjdGlvblByZXZpb3VzUGF0aCkpe3ZhciBjPXRoaXMuXy5zZWxlY3Rpb25QcmV2aW91c1BhdGgmJnRoaXMuXy5zZWxlY3Rpb25QcmV2aW91c1BhdGguYmxvY2tMaW1pdC5lcXVhbHMoYi5ibG9ja0xpbWl0KTtDS0VESVRPUi5lbnYud2Via2l0JiYhYyYmKHRoaXMuXy5wcmV2aW91c0FjdGl2ZT1cbnRoaXMuZG9jdW1lbnQuZ2V0QWN0aXZlKCkpO3RoaXMuXy5zZWxlY3Rpb25QcmV2aW91c1BhdGg9Yjt0aGlzLmZpcmUoXCJzZWxlY3Rpb25DaGFuZ2VcIix7c2VsZWN0aW9uOmEscGF0aDpifSl9fWZ1bmN0aW9uIGUoKXtwPSEwO3R8fChiLmNhbGwodGhpcyksdD1DS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGIsMjAwLHRoaXMpKX1mdW5jdGlvbiBiKCl7dD1udWxsO3AmJihDS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGEsMCx0aGlzKSxwPSExKX1mdW5jdGlvbiBjKGEpe3JldHVybiB3KGEpfHxhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmIWEuaXMoQ0tFRElUT1IuZHRkLiRlbXB0eSk/ITA6ITF9ZnVuY3Rpb24gZChhKXtmdW5jdGlvbiBiKGMsZCl7cmV0dXJuIGMmJmMudHlwZSE9Q0tFRElUT1IuTk9ERV9URVhUP2EuY2xvbmUoKVtcIm1vdmVUb0VsZW1lbnRFZGl0XCIrKGQ/XCJFbmRcIjpcIlN0YXJ0XCIpXShjKTohMX1pZighKGEucm9vdCBpbnN0YW5jZW9mIENLRURJVE9SLmVkaXRhYmxlKSlyZXR1cm4hMTtcbnZhciBkPWEuc3RhcnRDb250YWluZXIsZj1hLmdldFByZXZpb3VzTm9kZShjLG51bGwsZCksZz1hLmdldE5leHROb2RlKGMsbnVsbCxkKTtyZXR1cm4gYihmKXx8YihnLDEpfHwhKGZ8fGd8fGQudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZkLmlzQmxvY2tCb3VuZGFyeSgpJiZkLmdldEJvZ3VzKCkpPyEwOiExfWZ1bmN0aW9uIGwoYSl7bShhLCExKTt2YXIgYj1hLmdldERvY3VtZW50KCkuY3JlYXRlVGV4dChyKTthLnNldEN1c3RvbURhdGEoXCJja2UtZmlsbGluZ0NoYXJcIixiKTtyZXR1cm4gYn1mdW5jdGlvbiBtKGEsYil7dmFyIGM9YSYmYS5yZW1vdmVDdXN0b21EYXRhKFwiY2tlLWZpbGxpbmdDaGFyXCIpO2lmKGMpe2lmKCExIT09Yil7dmFyIGQ9YS5nZXREb2N1bWVudCgpLmdldFNlbGVjdGlvbigpLmdldE5hdGl2ZSgpLGc9ZCYmXCJOb25lXCIhPWQudHlwZSYmZC5nZXRSYW5nZUF0KDApLGU9ci5sZW5ndGg7aWYoYy5nZXRMZW5ndGgoKT5lJiZnJiZnLmludGVyc2VjdHNOb2RlKGMuJCkpe3ZhciBrPVxuW3tub2RlOmQuYW5jaG9yTm9kZSxvZmZzZXQ6ZC5hbmNob3JPZmZzZXR9LHtub2RlOmQuZm9jdXNOb2RlLG9mZnNldDpkLmZvY3VzT2Zmc2V0fV07ZC5hbmNob3JOb2RlPT1jLiQmJmQuYW5jaG9yT2Zmc2V0PmUmJihrWzBdLm9mZnNldC09ZSk7ZC5mb2N1c05vZGU9PWMuJCYmZC5mb2N1c09mZnNldD5lJiYoa1sxXS5vZmZzZXQtPWUpfX1jLnNldFRleHQoZihjLmdldFRleHQoKSwxKSk7ayYmKGM9YS5nZXREb2N1bWVudCgpLiQsZD1jLmdldFNlbGVjdGlvbigpLGM9Yy5jcmVhdGVSYW5nZSgpLGMuc2V0U3RhcnQoa1swXS5ub2RlLGtbMF0ub2Zmc2V0KSxjLmNvbGxhcHNlKCEwKSxkLnJlbW92ZUFsbFJhbmdlcygpLGQuYWRkUmFuZ2UoYyksZC5leHRlbmQoa1sxXS5ub2RlLGtbMV0ub2Zmc2V0KSl9fWZ1bmN0aW9uIGYoYSxiKXtyZXR1cm4gYj9hLnJlcGxhY2UocSxmdW5jdGlvbihhLGIpe3JldHVybiBiP1wiwqBcIjpcIlwifSk6YS5yZXBsYWNlKHIsXCJcIil9ZnVuY3Rpb24gaChhLGIpe3ZhciBjPVxuQ0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoJ1xceDNjZGl2IGRhdGEtY2tlLWhpZGRlbi1zZWxcXHgzZFwiMVwiIGRhdGEtY2tlLXRlbXBcXHgzZFwiMVwiIHN0eWxlXFx4M2RcIicrKENLRURJVE9SLmVudi5pZSYmMTQ+Q0tFRElUT1IuZW52LnZlcnNpb24/XCJkaXNwbGF5Om5vbmVcIjpcInBvc2l0aW9uOmZpeGVkO3RvcDowO2xlZnQ6LTEwMDBweFwiKSsnXCJcXHgzZScrKGJ8fFwiXFx4MjZuYnNwO1wiKStcIlxceDNjL2RpdlxceDNlXCIsYS5kb2N1bWVudCk7YS5maXJlKFwibG9ja1NuYXBzaG90XCIpO2EuZWRpdGFibGUoKS5hcHBlbmQoYyk7dmFyIGQ9YS5nZXRTZWxlY3Rpb24oMSksZj1hLmNyZWF0ZVJhbmdlKCksZz1kLnJvb3Qub24oXCJzZWxlY3Rpb25jaGFuZ2VcIixmdW5jdGlvbihhKXthLmNhbmNlbCgpfSxudWxsLG51bGwsMCk7Zi5zZXRTdGFydEF0KGMsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpO2Yuc2V0RW5kQXQoYyxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtkLnNlbGVjdFJhbmdlcyhbZl0pO1xuZy5yZW1vdmVMaXN0ZW5lcigpO2EuZmlyZShcInVubG9ja1NuYXBzaG90XCIpO2EuXy5oaWRkZW5TZWxlY3Rpb25Db250YWluZXI9Y31mdW5jdGlvbiBrKGEpe3ZhciBiPXszNzoxLDM5OjEsODoxLDQ2OjF9O3JldHVybiBmdW5jdGlvbihjKXt2YXIgZD1jLmRhdGEuZ2V0S2V5c3Ryb2tlKCk7aWYoYltkXSl7dmFyIGY9YS5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoKSxnPWZbMF07MT09Zi5sZW5ndGgmJmcuY29sbGFwc2VkJiYoZD1nWzM4PmQ/XCJnZXRQcmV2aW91c0VkaXRhYmxlTm9kZVwiOlwiZ2V0TmV4dEVkaXRhYmxlTm9kZVwiXSgpKSYmZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlwiZmFsc2VcIj09ZC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikmJihhLmdldFNlbGVjdGlvbigpLmZha2UoZCksYy5kYXRhLnByZXZlbnREZWZhdWx0KCksYy5jYW5jZWwoKSl9fX1mdW5jdGlvbiBnKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKXt2YXIgYz1hW2JdO2MuZ2V0Q29tbW9uQW5jZXN0b3IoKS5pc1JlYWRPbmx5KCkmJlxuYS5zcGxpY2UoYiwxKTtpZighYy5jb2xsYXBzZWQpe2lmKGMuc3RhcnRDb250YWluZXIuaXNSZWFkT25seSgpKWZvcih2YXIgZD1jLnN0YXJ0Q29udGFpbmVyLGY7ZCYmISgoZj1kLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCkmJmQuaXMoXCJib2R5XCIpfHwhZC5pc1JlYWRPbmx5KCkpOylmJiZcImZhbHNlXCI9PWQuZ2V0QXR0cmlidXRlKFwiY29udGVudEVkaXRhYmxlXCIpJiZjLnNldFN0YXJ0QWZ0ZXIoZCksZD1kLmdldFBhcmVudCgpO2Q9Yy5zdGFydENvbnRhaW5lcjtmPWMuZW5kQ29udGFpbmVyO3ZhciBnPWMuc3RhcnRPZmZzZXQsZT1jLmVuZE9mZnNldCxrPWMuY2xvbmUoKTtkJiZkLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGc+PWQuZ2V0TGVuZ3RoKCk/ay5zZXRTdGFydEFmdGVyKGQpOmsuc2V0U3RhcnRCZWZvcmUoZCkpO2YmJmYudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYoZT9rLnNldEVuZEFmdGVyKGYpOmsuc2V0RW5kQmVmb3JlKGYpKTtkPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGspO1xuZC5ldmFsdWF0b3I9ZnVuY3Rpb24oZCl7aWYoZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmQuaXNSZWFkT25seSgpKXt2YXIgZj1jLmNsb25lKCk7Yy5zZXRFbmRCZWZvcmUoZCk7Yy5jb2xsYXBzZWQmJmEuc3BsaWNlKGItLSwxKTtkLmdldFBvc2l0aW9uKGsuZW5kQ29udGFpbmVyKSZDS0VESVRPUi5QT1NJVElPTl9DT05UQUlOU3x8KGYuc2V0U3RhcnRBZnRlcihkKSxmLmNvbGxhcHNlZHx8YS5zcGxpY2UoYisxLDAsZikpO3JldHVybiEwfXJldHVybiExfTtkLm5leHQoKX19cmV0dXJuIGF9dmFyIG49XCJmdW5jdGlvblwiIT10eXBlb2Ygd2luZG93LmdldFNlbGVjdGlvbix2PTEscj1DS0VESVRPUi50b29scy5yZXBlYXQoXCLigItcIiw3KSxxPW5ldyBSZWdFeHAocitcIiggKT9cIixcImdcIiksdCxwLHc9Q0tFRElUT1IuZG9tLndhbGtlci5pbnZpc2libGUoMSksej1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYil7cmV0dXJuIGZ1bmN0aW9uKGEpe3ZhciBjPWEuZWRpdG9yLmNyZWF0ZVJhbmdlKCk7XG5jLm1vdmVUb0Nsb3Nlc3RFZGl0YWJsZVBvc2l0aW9uKGEuc2VsZWN0ZWQsYikmJmEuZWRpdG9yLmdldFNlbGVjdGlvbigpLnNlbGVjdFJhbmdlcyhbY10pO3JldHVybiExfX1mdW5jdGlvbiBiKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYz1iLmVkaXRvcixkPWMuY3JlYXRlUmFuZ2UoKSxmOyhmPWQubW92ZVRvQ2xvc2VzdEVkaXRhYmxlUG9zaXRpb24oYi5zZWxlY3RlZCxhKSl8fChmPWQubW92ZVRvQ2xvc2VzdEVkaXRhYmxlUG9zaXRpb24oYi5zZWxlY3RlZCwhYSkpO2YmJmMuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0UmFuZ2VzKFtkXSk7Yy5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2Iuc2VsZWN0ZWQucmVtb3ZlKCk7Znx8KGQubW92ZVRvRWxlbWVudEVkaXRhYmxlUG9zaXRpb24oYy5lZGl0YWJsZSgpKSxjLmdldFNlbGVjdGlvbigpLnNlbGVjdFJhbmdlcyhbZF0pKTtjLmZpcmUoXCJzYXZlU25hcHNob3RcIik7cmV0dXJuITF9fXZhciBjPWEoKSxkPWEoMSk7cmV0dXJuezM3OmMsMzg6YyxcbjM5OmQsNDA6ZCw4OmIoKSw0NjpiKDEpfX0oKTtDS0VESVRPUi5vbihcImluc3RhbmNlQ3JlYXRlZFwiLGZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGMoKXt2YXIgYT1kLmdldFNlbGVjdGlvbigpO2EmJmEucmVtb3ZlQWxsUmFuZ2VzKCl9dmFyIGQ9Yi5lZGl0b3I7ZC5vbihcImNvbnRlbnREb21cIixmdW5jdGlvbigpe2Z1bmN0aW9uIGIoKXt3PW5ldyBDS0VESVRPUi5kb20uc2VsZWN0aW9uKGQuZ2V0U2VsZWN0aW9uKCkpO3cubG9jaygpfWZ1bmN0aW9uIGMoKXtnLnJlbW92ZUxpc3RlbmVyKFwibW91c2V1cFwiLGMpO3UucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZXVwXCIsYyk7dmFyIGE9Q0tFRElUT1IuZG9jdW1lbnQuJC5zZWxlY3Rpb24sYj1hLmNyZWF0ZVJhbmdlKCk7XCJOb25lXCIhPWEudHlwZSYmYi5wYXJlbnRFbGVtZW50KCkub3duZXJEb2N1bWVudD09Zi4kJiZiLnNlbGVjdCgpfXZhciBmPWQuZG9jdW1lbnQsZz1DS0VESVRPUi5kb2N1bWVudCxoPWQuZWRpdGFibGUoKSxsPWYuZ2V0Qm9keSgpLHU9XG5mLmdldERvY3VtZW50RWxlbWVudCgpLHE9aC5pc0lubGluZSgpLHAsdztDS0VESVRPUi5lbnYuZ2Vja28mJmguYXR0YWNoTGlzdGVuZXIoaCxcImZvY3VzXCIsZnVuY3Rpb24oYSl7YS5yZW1vdmVMaXN0ZW5lcigpOzAhPT1wJiYoYT1kLmdldFNlbGVjdGlvbigpLmdldE5hdGl2ZSgpKSYmYS5pc0NvbGxhcHNlZCYmYS5hbmNob3JOb2RlPT1oLiQmJihhPWQuY3JlYXRlUmFuZ2UoKSxhLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoaCksYS5zZWxlY3QoKSl9LG51bGwsbnVsbCwtMik7aC5hdHRhY2hMaXN0ZW5lcihoLENLRURJVE9SLmVudi53ZWJraXQ/XCJET01Gb2N1c0luXCI6XCJmb2N1c1wiLGZ1bmN0aW9uKCl7cCYmQ0tFRElUT1IuZW52LndlYmtpdCYmKHA9ZC5fLnByZXZpb3VzQWN0aXZlJiZkLl8ucHJldmlvdXNBY3RpdmUuZXF1YWxzKGYuZ2V0QWN0aXZlKCkpKSYmbnVsbCE9ZC5fLnByZXZpb3VzU2Nyb2xsVG9wJiZkLl8ucHJldmlvdXNTY3JvbGxUb3AhPWguJC5zY3JvbGxUb3AmJihoLiQuc2Nyb2xsVG9wPVxuZC5fLnByZXZpb3VzU2Nyb2xsVG9wKTtkLnVubG9ja1NlbGVjdGlvbihwKTtwPTB9LG51bGwsbnVsbCwtMSk7aC5hdHRhY2hMaXN0ZW5lcihoLFwibW91c2Vkb3duXCIsZnVuY3Rpb24oKXtwPTB9KTtpZihDS0VESVRPUi5lbnYuaWV8fHEpbj9oLmF0dGFjaExpc3RlbmVyKGgsXCJiZWZvcmVkZWFjdGl2YXRlXCIsYixudWxsLG51bGwsLTEpOmguYXR0YWNoTGlzdGVuZXIoZCxcInNlbGVjdGlvbkNoZWNrXCIsYixudWxsLG51bGwsLTEpLGguYXR0YWNoTGlzdGVuZXIoaCxDS0VESVRPUi5lbnYud2Via2l0P1wiRE9NRm9jdXNPdXRcIjpcImJsdXJcIixmdW5jdGlvbigpe2QubG9ja1NlbGVjdGlvbih3KTtwPTF9LG51bGwsbnVsbCwtMSksaC5hdHRhY2hMaXN0ZW5lcihoLFwibW91c2Vkb3duXCIsZnVuY3Rpb24oKXtwPTB9KTtpZihDS0VESVRPUi5lbnYuaWUmJiFxKXt2YXIgdDtoLmF0dGFjaExpc3RlbmVyKGgsXCJtb3VzZWRvd25cIixmdW5jdGlvbihhKXsyPT1hLmRhdGEuJC5idXR0b24mJigoYT1kLmRvY3VtZW50LmdldFNlbGVjdGlvbigpKSYmXG5hLmdldFR5cGUoKSE9Q0tFRElUT1IuU0VMRUNUSU9OX05PTkV8fCh0PWQud2luZG93LmdldFNjcm9sbFBvc2l0aW9uKCkpKX0pO2guYXR0YWNoTGlzdGVuZXIoaCxcIm1vdXNldXBcIixmdW5jdGlvbihhKXsyPT1hLmRhdGEuJC5idXR0b24mJnQmJihkLmRvY3VtZW50LiQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQ9dC54LGQuZG9jdW1lbnQuJC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wPXQueSk7dD1udWxsfSk7aWYoXCJCYWNrQ29tcGF0XCIhPWYuJC5jb21wYXRNb2RlKXtpZihDS0VESVRPUi5lbnYuaWU3Q29tcGF0fHxDS0VESVRPUi5lbnYuaWU2Q29tcGF0KXt2YXIgcix6O3Uub24oXCJtb3VzZWRvd25cIixmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe2E9YS5kYXRhLiQ7aWYocil7dmFyIGM9bC4kLmNyZWF0ZVRleHRSYW5nZSgpO3RyeXtjLm1vdmVUb1BvaW50KGEuY2xpZW50WCxhLmNsaWVudFkpfWNhdGNoKGQpe31yLnNldEVuZFBvaW50KDA+ei5jb21wYXJlRW5kUG9pbnRzKFwiU3RhcnRUb1N0YXJ0XCIsXG5jKT9cIkVuZFRvRW5kXCI6XCJTdGFydFRvU3RhcnRcIixjKTtyLnNlbGVjdCgpfX1mdW5jdGlvbiBjKCl7dS5yZW1vdmVMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLGIpO2cucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZXVwXCIsYyk7dS5yZW1vdmVMaXN0ZW5lcihcIm1vdXNldXBcIixjKTtyLnNlbGVjdCgpfWE9YS5kYXRhO2lmKGEuZ2V0VGFyZ2V0KCkuaXMoXCJodG1sXCIpJiZhLiQueTx1LiQuY2xpZW50SGVpZ2h0JiZhLiQueDx1LiQuY2xpZW50V2lkdGgpe3I9bC4kLmNyZWF0ZVRleHRSYW5nZSgpO3RyeXtyLm1vdmVUb1BvaW50KGEuJC5jbGllbnRYLGEuJC5jbGllbnRZKX1jYXRjaChkKXt9ej1yLmR1cGxpY2F0ZSgpO3Uub24oXCJtb3VzZW1vdmVcIixiKTtnLm9uKFwibW91c2V1cFwiLGMpO3Uub24oXCJtb3VzZXVwXCIsYyl9fSl9aWYoNzxDS0VESVRPUi5lbnYudmVyc2lvbiYmMTE+Q0tFRElUT1IuZW52LnZlcnNpb24pdS5vbihcIm1vdXNlZG93blwiLGZ1bmN0aW9uKGEpe2EuZGF0YS5nZXRUYXJnZXQoKS5pcyhcImh0bWxcIikmJlxuKGcub24oXCJtb3VzZXVwXCIsYyksdS5vbihcIm1vdXNldXBcIixjKSl9KX19aC5hdHRhY2hMaXN0ZW5lcihoLFwic2VsZWN0aW9uY2hhbmdlXCIsYSxkKTtoLmF0dGFjaExpc3RlbmVyKGgsXCJrZXl1cFwiLGUsZCk7aC5hdHRhY2hMaXN0ZW5lcihoLENLRURJVE9SLmVudi53ZWJraXQ/XCJET01Gb2N1c0luXCI6XCJmb2N1c1wiLGZ1bmN0aW9uKCl7ZC5mb3JjZU5leHRTZWxlY3Rpb25DaGVjaygpO2Quc2VsZWN0aW9uQ2hhbmdlKDEpfSk7aWYocSYmKENLRURJVE9SLmVudi53ZWJraXR8fENLRURJVE9SLmVudi5nZWNrbykpe3ZhciB4O2guYXR0YWNoTGlzdGVuZXIoaCxcIm1vdXNlZG93blwiLGZ1bmN0aW9uKCl7eD0xfSk7aC5hdHRhY2hMaXN0ZW5lcihmLmdldERvY3VtZW50RWxlbWVudCgpLFwibW91c2V1cFwiLGZ1bmN0aW9uKCl7eCYmZS5jYWxsKGQpO3g9MH0pfWVsc2UgaC5hdHRhY2hMaXN0ZW5lcihDS0VESVRPUi5lbnYuaWU/aDpmLmdldERvY3VtZW50RWxlbWVudCgpLFwibW91c2V1cFwiLGUsZCk7Q0tFRElUT1IuZW52LndlYmtpdCYmXG5oLmF0dGFjaExpc3RlbmVyKGYsXCJrZXlkb3duXCIsZnVuY3Rpb24oYSl7c3dpdGNoKGEuZGF0YS5nZXRLZXkoKSl7Y2FzZSAxMzpjYXNlIDMzOmNhc2UgMzQ6Y2FzZSAzNTpjYXNlIDM2OmNhc2UgMzc6Y2FzZSAzOTpjYXNlIDg6Y2FzZSA0NTpjYXNlIDQ2Om0oaCl9fSxudWxsLG51bGwsLTEpO2guYXR0YWNoTGlzdGVuZXIoaCxcImtleWRvd25cIixrKGQpLG51bGwsbnVsbCwtMSl9KTtkLm9uKFwic2V0RGF0YVwiLGZ1bmN0aW9uKCl7ZC51bmxvY2tTZWxlY3Rpb24oKTtDS0VESVRPUi5lbnYud2Via2l0JiZjKCl9KTtkLm9uKFwiY29udGVudERvbVVubG9hZFwiLGZ1bmN0aW9uKCl7ZC51bmxvY2tTZWxlY3Rpb24oKX0pO2lmKENLRURJVE9SLmVudi5pZTlDb21wYXQpZC5vbihcImJlZm9yZURlc3Ryb3lcIixjLG51bGwsbnVsbCw5KTtkLm9uKFwiZGF0YVJlYWR5XCIsZnVuY3Rpb24oKXtkZWxldGUgZC5fLmZha2VTZWxlY3Rpb247ZGVsZXRlIGQuXy5oaWRkZW5TZWxlY3Rpb25Db250YWluZXI7ZC5zZWxlY3Rpb25DaGFuZ2UoMSl9KTtcbmQub24oXCJsb2FkU25hcHNob3RcIixmdW5jdGlvbigpe3ZhciBhPUNLRURJVE9SLmRvbS53YWxrZXIubm9kZVR5cGUoQ0tFRElUT1IuTk9ERV9FTEVNRU5UKSxiPWQuZWRpdGFibGUoKS5nZXRMYXN0KGEpO2ImJmIuaGFzQXR0cmlidXRlKFwiZGF0YS1ja2UtaGlkZGVuLXNlbFwiKSYmKGIucmVtb3ZlKCksQ0tFRElUT1IuZW52LmdlY2tvJiYoYT1kLmVkaXRhYmxlKCkuZ2V0Rmlyc3QoYSkpJiZhLmlzKFwiYnJcIikmJmEuZ2V0QXR0cmlidXRlKFwiX21vel9lZGl0b3JfYm9ndXNfbm9kZVwiKSYmYS5yZW1vdmUoKSl9LG51bGwsbnVsbCwxMDApO2Qub24oXCJrZXlcIixmdW5jdGlvbihhKXtpZihcInd5c2l3eWdcIj09ZC5tb2RlKXt2YXIgYj1kLmdldFNlbGVjdGlvbigpO2lmKGIuaXNGYWtlKXt2YXIgYz16W2EuZGF0YS5rZXlDb2RlXTtpZihjKXJldHVybiBjKHtlZGl0b3I6ZCxzZWxlY3RlZDpiLmdldFNlbGVjdGVkRWxlbWVudCgpLHNlbGVjdGlvbjpiLGtleUV2ZW50OmF9KX19fSl9KTtpZihDS0VESVRPUi5lbnYud2Via2l0KUNLRURJVE9SLm9uKFwiaW5zdGFuY2VSZWFkeVwiLFxuZnVuY3Rpb24oYSl7dmFyIGI9YS5lZGl0b3I7Yi5vbihcInNlbGVjdGlvbkNoYW5nZVwiLGZ1bmN0aW9uKCl7dmFyIGE9Yi5lZGl0YWJsZSgpLGM9YS5nZXRDdXN0b21EYXRhKFwiY2tlLWZpbGxpbmdDaGFyXCIpO2MmJihjLmdldEN1c3RvbURhdGEoXCJyZWFkeVwiKT9tKGEpOmMuc2V0Q3VzdG9tRGF0YShcInJlYWR5XCIsMSkpfSxudWxsLG51bGwsLTEpO2Iub24oXCJiZWZvcmVTZXRNb2RlXCIsZnVuY3Rpb24oKXttKGIuZWRpdGFibGUoKSl9LG51bGwsbnVsbCwtMSk7Yi5vbihcImdldFNuYXBzaG90XCIsZnVuY3Rpb24oYSl7YS5kYXRhJiYoYS5kYXRhPWYoYS5kYXRhKSl9LGIsbnVsbCwyMCk7Yi5vbihcInRvRGF0YUZvcm1hdFwiLGZ1bmN0aW9uKGEpe2EuZGF0YS5kYXRhVmFsdWU9ZihhLmRhdGEuZGF0YVZhbHVlKX0sbnVsbCxudWxsLDApfSk7Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5zZWxlY3Rpb25DaGFuZ2U9ZnVuY3Rpb24oYil7KGI/YTplKS5jYWxsKHRoaXMpfTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLmdldFNlbGVjdGlvbj1cbmZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLl8uc2F2ZWRTZWxlY3Rpb24mJiF0aGlzLl8uZmFrZVNlbGVjdGlvbnx8YT8oYT10aGlzLmVkaXRhYmxlKCkpJiZcInd5c2l3eWdcIj09dGhpcy5tb2RlP25ldyBDS0VESVRPUi5kb20uc2VsZWN0aW9uKGEpOm51bGw6dGhpcy5fLnNhdmVkU2VsZWN0aW9ufHx0aGlzLl8uZmFrZVNlbGVjdGlvbn07Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5sb2NrU2VsZWN0aW9uPWZ1bmN0aW9uKGEpe2E9YXx8dGhpcy5nZXRTZWxlY3Rpb24oMSk7cmV0dXJuIGEuZ2V0VHlwZSgpIT1DS0VESVRPUi5TRUxFQ1RJT05fTk9ORT8oIWEuaXNMb2NrZWQmJmEubG9jaygpLHRoaXMuXy5zYXZlZFNlbGVjdGlvbj1hLCEwKTohMX07Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS51bmxvY2tTZWxlY3Rpb249ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fLnNhdmVkU2VsZWN0aW9uO3JldHVybiBiPyhiLnVubG9jayhhKSxkZWxldGUgdGhpcy5fLnNhdmVkU2VsZWN0aW9uLCEwKTpcbiExfTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLmZvcmNlTmV4dFNlbGVjdGlvbkNoZWNrPWZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuXy5zZWxlY3Rpb25QcmV2aW91c1BhdGh9O0NLRURJVE9SLmRvbS5kb2N1bWVudC5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBDS0VESVRPUi5kb20uc2VsZWN0aW9uKHRoaXMpfTtDS0VESVRPUi5kb20ucmFuZ2UucHJvdG90eXBlLnNlbGVjdD1mdW5jdGlvbigpe3ZhciBhPXRoaXMucm9vdCBpbnN0YW5jZW9mIENLRURJVE9SLmVkaXRhYmxlP3RoaXMucm9vdC5lZGl0b3IuZ2V0U2VsZWN0aW9uKCk6bmV3IENLRURJVE9SLmRvbS5zZWxlY3Rpb24odGhpcy5yb290KTthLnNlbGVjdFJhbmdlcyhbdGhpc10pO3JldHVybiBhfTtDS0VESVRPUi5TRUxFQ1RJT05fTk9ORT0xO0NLRURJVE9SLlNFTEVDVElPTl9URVhUPTI7Q0tFRElUT1IuU0VMRUNUSU9OX0VMRU1FTlQ9MztDS0VESVRPUi5kb20uc2VsZWN0aW9uPWZ1bmN0aW9uKGEpe2lmKGEgaW5zdGFuY2VvZlxuQ0tFRElUT1IuZG9tLnNlbGVjdGlvbil7dmFyIGI9YTthPWEucm9vdH12YXIgYz1hIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLmVsZW1lbnQ7dGhpcy5yZXY9Yj9iLnJldjp2Kys7dGhpcy5kb2N1bWVudD1hIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLmRvY3VtZW50P2E6YS5nZXREb2N1bWVudCgpO3RoaXMucm9vdD1jP2E6dGhpcy5kb2N1bWVudC5nZXRCb2R5KCk7dGhpcy5pc0xvY2tlZD0wO3RoaXMuXz17Y2FjaGU6e319O2lmKGIpcmV0dXJuIENLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLl8uY2FjaGUsYi5fLmNhY2hlKSx0aGlzLmlzRmFrZT1iLmlzRmFrZSx0aGlzLmlzTG9ja2VkPWIuaXNMb2NrZWQsdGhpczthPXRoaXMuZ2V0TmF0aXZlKCk7dmFyIGQsZjtpZihhKWlmKGEuZ2V0UmFuZ2VBdClkPShmPWEucmFuZ2VDb3VudCYmYS5nZXRSYW5nZUF0KDApKSYmbmV3IENLRURJVE9SLmRvbS5ub2RlKGYuY29tbW9uQW5jZXN0b3JDb250YWluZXIpO2Vsc2V7dHJ5e2Y9YS5jcmVhdGVSYW5nZSgpfWNhdGNoKGcpe31kPVxuZiYmQ0tFRElUT1IuZG9tLmVsZW1lbnQuZ2V0KGYuaXRlbSYmZi5pdGVtKDApfHxmLnBhcmVudEVsZW1lbnQoKSl9aWYoIWR8fGQudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZkLnR5cGUhPUNLRURJVE9SLk5PREVfVEVYVHx8IXRoaXMucm9vdC5lcXVhbHMoZCkmJiF0aGlzLnJvb3QuY29udGFpbnMoZCkpdGhpcy5fLmNhY2hlLnR5cGU9Q0tFRElUT1IuU0VMRUNUSU9OX05PTkUsdGhpcy5fLmNhY2hlLnN0YXJ0RWxlbWVudD1udWxsLHRoaXMuXy5jYWNoZS5zZWxlY3RlZEVsZW1lbnQ9bnVsbCx0aGlzLl8uY2FjaGUuc2VsZWN0ZWRUZXh0PVwiXCIsdGhpcy5fLmNhY2hlLnJhbmdlcz1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlTGlzdDtyZXR1cm4gdGhpc307dmFyIEE9e2ltZzoxLGhyOjEsbGk6MSx0YWJsZToxLHRyOjEsdGQ6MSx0aDoxLGVtYmVkOjEsb2JqZWN0OjEsb2w6MSx1bDoxLGE6MSxpbnB1dDoxLGZvcm06MSxzZWxlY3Q6MSx0ZXh0YXJlYToxLGJ1dHRvbjoxLGZpZWxkc2V0OjEsXG50aGVhZDoxLHRmb290OjF9O0NLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5kb20uc2VsZWN0aW9uLHtfcmVtb3ZlRmlsbGluZ0NoYXJTZXF1ZW5jZVN0cmluZzpmLF9jcmVhdGVGaWxsaW5nQ2hhclNlcXVlbmNlTm9kZTpsLEZJTExJTkdfQ0hBUl9TRVFVRU5DRTpyfSk7Q0tFRElUT1IuZG9tLnNlbGVjdGlvbi5wcm90b3R5cGU9e2dldE5hdGl2ZTpmdW5jdGlvbigpe3JldHVybiB2b2lkIDAhPT10aGlzLl8uY2FjaGUubmF0aXZlU2VsP3RoaXMuXy5jYWNoZS5uYXRpdmVTZWw6dGhpcy5fLmNhY2hlLm5hdGl2ZVNlbD1uP3RoaXMuZG9jdW1lbnQuJC5zZWxlY3Rpb246dGhpcy5kb2N1bWVudC5nZXRXaW5kb3coKS4kLmdldFNlbGVjdGlvbigpfSxnZXRUeXBlOm4/ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8uY2FjaGU7aWYoYS50eXBlKXJldHVybiBhLnR5cGU7dmFyIGI9Q0tFRElUT1IuU0VMRUNUSU9OX05PTkU7dHJ5e3ZhciBjPXRoaXMuZ2V0TmF0aXZlKCksZD1jLnR5cGU7XCJUZXh0XCI9PVxuZCYmKGI9Q0tFRElUT1IuU0VMRUNUSU9OX1RFWFQpO1wiQ29udHJvbFwiPT1kJiYoYj1DS0VESVRPUi5TRUxFQ1RJT05fRUxFTUVOVCk7Yy5jcmVhdGVSYW5nZSgpLnBhcmVudEVsZW1lbnQoKSYmKGI9Q0tFRElUT1IuU0VMRUNUSU9OX1RFWFQpfWNhdGNoKGYpe31yZXR1cm4gYS50eXBlPWJ9OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLmNhY2hlO2lmKGEudHlwZSlyZXR1cm4gYS50eXBlO3ZhciBiPUNLRURJVE9SLlNFTEVDVElPTl9URVhULGM9dGhpcy5nZXROYXRpdmUoKTtpZighY3x8IWMucmFuZ2VDb3VudCliPUNLRURJVE9SLlNFTEVDVElPTl9OT05FO2Vsc2UgaWYoMT09Yy5yYW5nZUNvdW50KXt2YXIgYz1jLmdldFJhbmdlQXQoMCksZD1jLnN0YXJ0Q29udGFpbmVyO2Q9PWMuZW5kQ29udGFpbmVyJiYxPT1kLm5vZGVUeXBlJiYxPT1jLmVuZE9mZnNldC1jLnN0YXJ0T2Zmc2V0JiZBW2QuY2hpbGROb2Rlc1tjLnN0YXJ0T2Zmc2V0XS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSYmKGI9XG5DS0VESVRPUi5TRUxFQ1RJT05fRUxFTUVOVCl9cmV0dXJuIGEudHlwZT1ifSxnZXRSYW5nZXM6ZnVuY3Rpb24oKXt2YXIgYT1uP2Z1bmN0aW9uKCl7ZnVuY3Rpb24gYShiKXtyZXR1cm4obmV3IENLRURJVE9SLmRvbS5ub2RlKGIpKS5nZXRJbmRleCgpfXZhciBiPWZ1bmN0aW9uKGIsYyl7Yj1iLmR1cGxpY2F0ZSgpO2IuY29sbGFwc2UoYyk7dmFyIGQ9Yi5wYXJlbnRFbGVtZW50KCk7aWYoIWQuaGFzQ2hpbGROb2RlcygpKXJldHVybntjb250YWluZXI6ZCxvZmZzZXQ6MH07Zm9yKHZhciBmPWQuY2hpbGRyZW4sZyxlLGg9Yi5kdXBsaWNhdGUoKSxrPTAsbD1mLmxlbmd0aC0xLG09LTEsbixxO2s8PWw7KWlmKG09TWF0aC5mbG9vcigoaytsKS8yKSxnPWZbbV0saC5tb3ZlVG9FbGVtZW50VGV4dChnKSxuPWguY29tcGFyZUVuZFBvaW50cyhcIlN0YXJ0VG9TdGFydFwiLGIpLDA8bilsPW0tMTtlbHNlIGlmKDA+bilrPW0rMTtlbHNlIHJldHVybntjb250YWluZXI6ZCxvZmZzZXQ6YShnKX07aWYoLTE9PVxubXx8bT09Zi5sZW5ndGgtMSYmMD5uKXtoLm1vdmVUb0VsZW1lbnRUZXh0KGQpO2guc2V0RW5kUG9pbnQoXCJTdGFydFRvU3RhcnRcIixiKTtoPWgudGV4dC5yZXBsYWNlKC8oXFxyXFxufFxccikvZyxcIlxcblwiKS5sZW5ndGg7Zj1kLmNoaWxkTm9kZXM7aWYoIWgpcmV0dXJuIGc9ZltmLmxlbmd0aC0xXSxnLm5vZGVUeXBlIT1DS0VESVRPUi5OT0RFX1RFWFQ/e2NvbnRhaW5lcjpkLG9mZnNldDpmLmxlbmd0aH06e2NvbnRhaW5lcjpnLG9mZnNldDpnLm5vZGVWYWx1ZS5sZW5ndGh9O2ZvcihkPWYubGVuZ3RoOzA8aCYmMDxkOyllPWZbLS1kXSxlLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihxPWUsaC09ZS5ub2RlVmFsdWUubGVuZ3RoKTtyZXR1cm57Y29udGFpbmVyOnEsb2Zmc2V0Oi1ofX1oLmNvbGxhcHNlKDA8bj8hMDohMSk7aC5zZXRFbmRQb2ludCgwPG4/XCJTdGFydFRvU3RhcnRcIjpcIkVuZFRvU3RhcnRcIixiKTtoPWgudGV4dC5yZXBsYWNlKC8oXFxyXFxufFxccikvZyxcIlxcblwiKS5sZW5ndGg7XG5pZighaClyZXR1cm57Y29udGFpbmVyOmQsb2Zmc2V0OmEoZykrKDA8bj8wOjEpfTtmb3IoOzA8aDspdHJ5e2U9Z1swPG4/XCJwcmV2aW91c1NpYmxpbmdcIjpcIm5leHRTaWJsaW5nXCJdLGUubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGgtPWUubm9kZVZhbHVlLmxlbmd0aCxxPWUpLGc9ZX1jYXRjaChwKXtyZXR1cm57Y29udGFpbmVyOmQsb2Zmc2V0OmEoZyl9fXJldHVybntjb250YWluZXI6cSxvZmZzZXQ6MDxuPy1oOnEubm9kZVZhbHVlLmxlbmd0aCtofX07cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXROYXRpdmUoKSxjPWEmJmEuY3JlYXRlUmFuZ2UoKSxkPXRoaXMuZ2V0VHlwZSgpO2lmKCFhKXJldHVybltdO2lmKGQ9PUNLRURJVE9SLlNFTEVDVElPTl9URVhUKXJldHVybiBhPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UodGhpcy5yb290KSxkPWIoYywhMCksYS5zZXRTdGFydChuZXcgQ0tFRElUT1IuZG9tLm5vZGUoZC5jb250YWluZXIpLGQub2Zmc2V0KSxkPWIoYyksXG5hLnNldEVuZChuZXcgQ0tFRElUT1IuZG9tLm5vZGUoZC5jb250YWluZXIpLGQub2Zmc2V0KSxhLmVuZENvbnRhaW5lci5nZXRQb3NpdGlvbihhLnN0YXJ0Q29udGFpbmVyKSZDS0VESVRPUi5QT1NJVElPTl9QUkVDRURJTkcmJmEuZW5kT2Zmc2V0PD1hLnN0YXJ0Q29udGFpbmVyLmdldEluZGV4KCkmJmEuY29sbGFwc2UoKSxbYV07aWYoZD09Q0tFRElUT1IuU0VMRUNUSU9OX0VMRU1FTlQpe2Zvcih2YXIgZD1bXSxmPTA7ZjxjLmxlbmd0aDtmKyspe2Zvcih2YXIgZz1jLml0ZW0oZiksZT1nLnBhcmVudE5vZGUsaD0wLGE9bmV3IENLRURJVE9SLmRvbS5yYW5nZSh0aGlzLnJvb3QpO2g8ZS5jaGlsZE5vZGVzLmxlbmd0aCYmZS5jaGlsZE5vZGVzW2hdIT1nO2grKyk7YS5zZXRTdGFydChuZXcgQ0tFRElUT1IuZG9tLm5vZGUoZSksaCk7YS5zZXRFbmQobmV3IENLRURJVE9SLmRvbS5ub2RlKGUpLGgrMSk7ZC5wdXNoKGEpfXJldHVybiBkfXJldHVybltdfX0oKTpmdW5jdGlvbigpe3ZhciBhPVxuW10sYixjPXRoaXMuZ2V0TmF0aXZlKCk7aWYoIWMpcmV0dXJuIGE7Zm9yKHZhciBkPTA7ZDxjLnJhbmdlQ291bnQ7ZCsrKXt2YXIgZj1jLmdldFJhbmdlQXQoZCk7Yj1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKHRoaXMucm9vdCk7Yi5zZXRTdGFydChuZXcgQ0tFRElUT1IuZG9tLm5vZGUoZi5zdGFydENvbnRhaW5lciksZi5zdGFydE9mZnNldCk7Yi5zZXRFbmQobmV3IENLRURJVE9SLmRvbS5ub2RlKGYuZW5kQ29udGFpbmVyKSxmLmVuZE9mZnNldCk7YS5wdXNoKGIpfXJldHVybiBhfTtyZXR1cm4gZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5fLmNhY2hlLGQ9Yy5yYW5nZXM7ZHx8KGMucmFuZ2VzPWQ9bmV3IENLRURJVE9SLmRvbS5yYW5nZUxpc3QoYS5jYWxsKHRoaXMpKSk7cmV0dXJuIGI/ZyhuZXcgQ0tFRElUT1IuZG9tLnJhbmdlTGlzdChkLnNsaWNlKCkpKTpkfX0oKSxnZXRTdGFydEVsZW1lbnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8uY2FjaGU7aWYodm9pZCAwIT09YS5zdGFydEVsZW1lbnQpcmV0dXJuIGEuc3RhcnRFbGVtZW50O1xudmFyIGI7c3dpdGNoKHRoaXMuZ2V0VHlwZSgpKXtjYXNlIENLRURJVE9SLlNFTEVDVElPTl9FTEVNRU5UOnJldHVybiB0aGlzLmdldFNlbGVjdGVkRWxlbWVudCgpO2Nhc2UgQ0tFRElUT1IuU0VMRUNUSU9OX1RFWFQ6dmFyIGM9dGhpcy5nZXRSYW5nZXMoKVswXTtpZihjKXtpZihjLmNvbGxhcHNlZCliPWMuc3RhcnRDb250YWluZXIsYi50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihiPWIuZ2V0UGFyZW50KCkpO2Vsc2V7Zm9yKGMub3B0aW1pemUoKTtiPWMuc3RhcnRDb250YWluZXIsYy5zdGFydE9mZnNldD09KGIuZ2V0Q2hpbGRDb3VudD9iLmdldENoaWxkQ291bnQoKTpiLmdldExlbmd0aCgpKSYmIWIuaXNCbG9ja0JvdW5kYXJ5KCk7KWMuc2V0U3RhcnRBZnRlcihiKTtiPWMuc3RhcnRDb250YWluZXI7aWYoYi50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpcmV0dXJuIGIuZ2V0UGFyZW50KCk7aWYoKGI9Yi5nZXRDaGlsZChjLnN0YXJ0T2Zmc2V0KSkmJmIudHlwZT09XG5DS0VESVRPUi5OT0RFX0VMRU1FTlQpZm9yKGM9Yi5nZXRGaXJzdCgpO2MmJmMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UOyliPWMsYz1jLmdldEZpcnN0KCk7ZWxzZSBiPWMuc3RhcnRDb250YWluZXJ9Yj1iLiR9fXJldHVybiBhLnN0YXJ0RWxlbWVudD1iP25ldyBDS0VESVRPUi5kb20uZWxlbWVudChiKTpudWxsfSxnZXRTZWxlY3RlZEVsZW1lbnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8uY2FjaGU7aWYodm9pZCAwIT09YS5zZWxlY3RlZEVsZW1lbnQpcmV0dXJuIGEuc2VsZWN0ZWRFbGVtZW50O3ZhciBiPXRoaXMsYz1DS0VESVRPUi50b29scy50cnlUaGVzZShmdW5jdGlvbigpe3JldHVybiBiLmdldE5hdGl2ZSgpLmNyZWF0ZVJhbmdlKCkuaXRlbSgwKX0sZnVuY3Rpb24oKXtmb3IodmFyIGE9Yi5nZXRSYW5nZXMoKVswXS5jbG9uZSgpLGMsZCxmPTI7ZiYmISgoYz1hLmdldEVuY2xvc2VkTm9kZSgpKSYmYy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJkFbYy5nZXROYW1lKCldJiZcbihkPWMpKTtmLS0pYS5zaHJpbmsoQ0tFRElUT1IuU0hSSU5LX0VMRU1FTlQpO3JldHVybiBkJiZkLiR9KTtyZXR1cm4gYS5zZWxlY3RlZEVsZW1lbnQ9Yz9uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYyk6bnVsbH0sZ2V0U2VsZWN0ZWRUZXh0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLmNhY2hlO2lmKHZvaWQgMCE9PWEuc2VsZWN0ZWRUZXh0KXJldHVybiBhLnNlbGVjdGVkVGV4dDt2YXIgYj10aGlzLmdldE5hdGl2ZSgpLGI9bj9cIkNvbnRyb2xcIj09Yi50eXBlP1wiXCI6Yi5jcmVhdGVSYW5nZSgpLnRleHQ6Yi50b1N0cmluZygpO3JldHVybiBhLnNlbGVjdGVkVGV4dD1ifSxsb2NrOmZ1bmN0aW9uKCl7dGhpcy5nZXRSYW5nZXMoKTt0aGlzLmdldFN0YXJ0RWxlbWVudCgpO3RoaXMuZ2V0U2VsZWN0ZWRFbGVtZW50KCk7dGhpcy5nZXRTZWxlY3RlZFRleHQoKTt0aGlzLl8uY2FjaGUubmF0aXZlU2VsPW51bGw7dGhpcy5pc0xvY2tlZD0xfSx1bmxvY2s6ZnVuY3Rpb24oYSl7aWYodGhpcy5pc0xvY2tlZCl7aWYoYSl2YXIgYj1cbnRoaXMuZ2V0U2VsZWN0ZWRFbGVtZW50KCksYz0hYiYmdGhpcy5nZXRSYW5nZXMoKSxkPXRoaXMuaXNGYWtlO3RoaXMuaXNMb2NrZWQ9MDt0aGlzLnJlc2V0KCk7YSYmKGE9Ynx8Y1swXSYmY1swXS5nZXRDb21tb25BbmNlc3RvcigpKSYmYS5nZXRBc2NlbmRhbnQoXCJib2R5XCIsMSkmJihkP3RoaXMuZmFrZShiKTpiP3RoaXMuc2VsZWN0RWxlbWVudChiKTp0aGlzLnNlbGVjdFJhbmdlcyhjKSl9fSxyZXNldDpmdW5jdGlvbigpe3RoaXMuXy5jYWNoZT17fTt0aGlzLmlzRmFrZT0wO3ZhciBhPXRoaXMucm9vdC5lZGl0b3I7aWYoYSYmYS5fLmZha2VTZWxlY3Rpb24paWYodGhpcy5yZXY9PWEuXy5mYWtlU2VsZWN0aW9uLnJldil7ZGVsZXRlIGEuXy5mYWtlU2VsZWN0aW9uO3ZhciBiPWEuXy5oaWRkZW5TZWxlY3Rpb25Db250YWluZXI7aWYoYil7dmFyIGM9YS5jaGVja0RpcnR5KCk7YS5maXJlKFwibG9ja1NuYXBzaG90XCIpO2IucmVtb3ZlKCk7YS5maXJlKFwidW5sb2NrU25hcHNob3RcIik7IWMmJlxuYS5yZXNldERpcnR5KCl9ZGVsZXRlIGEuXy5oaWRkZW5TZWxlY3Rpb25Db250YWluZXJ9ZWxzZSBDS0VESVRPUi53YXJuKFwic2VsZWN0aW9uLWZha2UtcmVzZXRcIik7dGhpcy5yZXY9disrfSxzZWxlY3RFbGVtZW50OmZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UodGhpcy5yb290KTtiLnNldFN0YXJ0QmVmb3JlKGEpO2Iuc2V0RW5kQWZ0ZXIoYSk7dGhpcy5zZWxlY3RSYW5nZXMoW2JdKX0sc2VsZWN0UmFuZ2VzOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMucm9vdC5lZGl0b3IsYj1iJiZiLl8uaGlkZGVuU2VsZWN0aW9uQ29udGFpbmVyO3RoaXMucmVzZXQoKTtpZihiKWZvcih2YXIgYj10aGlzLnJvb3QsYyxmPTA7ZjxhLmxlbmd0aDsrK2YpYz1hW2ZdLGMuZW5kQ29udGFpbmVyLmVxdWFscyhiKSYmKGMuZW5kT2Zmc2V0PU1hdGgubWluKGMuZW5kT2Zmc2V0LGIuZ2V0Q2hpbGRDb3VudCgpKSk7aWYoYS5sZW5ndGgpaWYodGhpcy5pc0xvY2tlZCl7dmFyIGc9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QWN0aXZlKCk7XG50aGlzLnVubG9jaygpO3RoaXMuc2VsZWN0UmFuZ2VzKGEpO3RoaXMubG9jaygpO2cmJiFnLmVxdWFscyh0aGlzLnJvb3QpJiZnLmZvY3VzKCl9ZWxzZXt2YXIgZTthOnt2YXIgaCxrO2lmKDE9PWEubGVuZ3RoJiYhKGs9YVswXSkuY29sbGFwc2VkJiYoZT1rLmdldEVuY2xvc2VkTm9kZSgpKSYmZS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihrPWsuY2xvbmUoKSxrLnNocmluayhDS0VESVRPUi5TSFJJTktfRUxFTUVOVCwhMCksKGg9ay5nZXRFbmNsb3NlZE5vZGUoKSkmJmgudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoZT1oKSxcImZhbHNlXCI9PWUuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKSlicmVhayBhO2U9dm9pZCAwfWlmKGUpdGhpcy5mYWtlKGUpO2Vsc2V7aWYobil7az1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCEwKTtoPS9cXHVmZWZmfFxcdTAwYTAvO2I9e3RhYmxlOjEsdGJvZHk6MSx0cjoxfTsxPGEubGVuZ3RoJiYoZT1hW2EubGVuZ3RoLVxuMV0sYVswXS5zZXRFbmQoZS5lbmRDb250YWluZXIsZS5lbmRPZmZzZXQpKTtlPWFbMF07YT1lLmNvbGxhcHNlZDt2YXIgcSxwLHc7aWYoKGM9ZS5nZXRFbmNsb3NlZE5vZGUoKSkmJmMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZjLmdldE5hbWUoKWluIEEmJighYy5pcyhcImFcIil8fCFjLmdldFRleHQoKSkpdHJ5e3c9Yy4kLmNyZWF0ZUNvbnRyb2xSYW5nZSgpO3cuYWRkRWxlbWVudChjLiQpO3cuc2VsZWN0KCk7cmV0dXJufWNhdGNoKHQpe31pZihlLnN0YXJ0Q29udGFpbmVyLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZS5zdGFydENvbnRhaW5lci5nZXROYW1lKClpbiBifHxlLmVuZENvbnRhaW5lci50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmUuZW5kQ29udGFpbmVyLmdldE5hbWUoKWluIGIpZS5zaHJpbmsoQ0tFRElUT1IuTk9ERV9FTEVNRU5ULCEwKSxhPWUuY29sbGFwc2VkO3c9ZS5jcmVhdGVCb29rbWFyaygpO2I9dy5zdGFydE5vZGU7YXx8KGc9dy5lbmROb2RlKTtcbnc9ZS5kb2N1bWVudC4kLmJvZHkuY3JlYXRlVGV4dFJhbmdlKCk7dy5tb3ZlVG9FbGVtZW50VGV4dChiLiQpO3cubW92ZVN0YXJ0KFwiY2hhcmFjdGVyXCIsMSk7Zz8oaD1lLmRvY3VtZW50LiQuYm9keS5jcmVhdGVUZXh0UmFuZ2UoKSxoLm1vdmVUb0VsZW1lbnRUZXh0KGcuJCksdy5zZXRFbmRQb2ludChcIkVuZFRvRW5kXCIsaCksdy5tb3ZlRW5kKFwiY2hhcmFjdGVyXCIsLTEpKToocT1iLmdldE5leHQoaykscD1iLmhhc0FzY2VuZGFudChcInByZVwiKSxxPSEocSYmcS5nZXRUZXh0JiZxLmdldFRleHQoKS5tYXRjaChoKSkmJihwfHwhYi5oYXNQcmV2aW91cygpfHxiLmdldFByZXZpb3VzKCkuaXMmJmIuZ2V0UHJldmlvdXMoKS5pcyhcImJyXCIpKSxwPWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIikscC5zZXRIdG1sKFwiXFx4MjYjNjUyNzk7XCIpLHAuaW5zZXJ0QmVmb3JlKGIpLHEmJmUuZG9jdW1lbnQuY3JlYXRlVGV4dChcIu+7v1wiKS5pbnNlcnRCZWZvcmUoYikpO2Uuc2V0U3RhcnRCZWZvcmUoYik7XG5iLnJlbW92ZSgpO2E/KHE/KHcubW92ZVN0YXJ0KFwiY2hhcmFjdGVyXCIsLTEpLHcuc2VsZWN0KCksZS5kb2N1bWVudC4kLnNlbGVjdGlvbi5jbGVhcigpKTp3LnNlbGVjdCgpLGUubW92ZVRvUG9zaXRpb24ocCxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpLHAucmVtb3ZlKCkpOihlLnNldEVuZEJlZm9yZShnKSxnLnJlbW92ZSgpLHcuc2VsZWN0KCkpfWVsc2V7Zz10aGlzLmdldE5hdGl2ZSgpO2lmKCFnKXJldHVybjt0aGlzLnJlbW92ZUFsbFJhbmdlcygpO2Zvcih3PTA7dzxhLmxlbmd0aDt3Kyspe2lmKHc8YS5sZW5ndGgtMSYmKHE9YVt3XSxwPWFbdysxXSxoPXEuY2xvbmUoKSxoLnNldFN0YXJ0KHEuZW5kQ29udGFpbmVyLHEuZW5kT2Zmc2V0KSxoLnNldEVuZChwLnN0YXJ0Q29udGFpbmVyLHAuc3RhcnRPZmZzZXQpLCFoLmNvbGxhcHNlZCYmKGguc2hyaW5rKENLRURJVE9SLk5PREVfRUxFTUVOVCwhMCksZT1oLmdldENvbW1vbkFuY2VzdG9yKCksaD1oLmdldEVuY2xvc2VkTm9kZSgpLFxuZS5pc1JlYWRPbmx5KCl8fGgmJmguaXNSZWFkT25seSgpKSkpe3Auc2V0U3RhcnQocS5zdGFydENvbnRhaW5lcixxLnN0YXJ0T2Zmc2V0KTthLnNwbGljZSh3LS0sMSk7Y29udGludWV9ZT1hW3ddO3A9dGhpcy5kb2N1bWVudC4kLmNyZWF0ZVJhbmdlKCk7ZS5jb2xsYXBzZWQmJkNLRURJVE9SLmVudi53ZWJraXQmJmQoZSkmJihoPWwodGhpcy5yb290KSxlLmluc2VydE5vZGUoaCksKHE9aC5nZXROZXh0KCkpJiYhaC5nZXRQcmV2aW91cygpJiZxLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmXCJiclwiPT1xLmdldE5hbWUoKT8obSh0aGlzLnJvb3QpLGUubW92ZVRvUG9zaXRpb24ocSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpKTplLm1vdmVUb1Bvc2l0aW9uKGgsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSk7cC5zZXRTdGFydChlLnN0YXJ0Q29udGFpbmVyLiQsZS5zdGFydE9mZnNldCk7dHJ5e3Auc2V0RW5kKGUuZW5kQ29udGFpbmVyLiQsZS5lbmRPZmZzZXQpfWNhdGNoKEgpe2lmKDA8PVxuSC50b1N0cmluZygpLmluZGV4T2YoXCJOU19FUlJPUl9JTExFR0FMX1ZBTFVFXCIpKWUuY29sbGFwc2UoMSkscC5zZXRFbmQoZS5lbmRDb250YWluZXIuJCxlLmVuZE9mZnNldCk7ZWxzZSB0aHJvdyBIO31nLmFkZFJhbmdlKHApfX10aGlzLnJlc2V0KCk7dGhpcy5yb290LmZpcmUoXCJzZWxlY3Rpb25jaGFuZ2VcIil9fX0sZmFrZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMucm9vdC5lZGl0b3I7dm9pZCAwPT09YiYmYS5oYXNBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIpJiYoYj1hLmdldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIikpO3RoaXMucmVzZXQoKTtoKGMsYik7dmFyIGQ9dGhpcy5fLmNhY2hlLGY9bmV3IENLRURJVE9SLmRvbS5yYW5nZSh0aGlzLnJvb3QpO2Yuc2V0U3RhcnRCZWZvcmUoYSk7Zi5zZXRFbmRBZnRlcihhKTtkLnJhbmdlcz1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlTGlzdChmKTtkLnNlbGVjdGVkRWxlbWVudD1kLnN0YXJ0RWxlbWVudD1hO2QudHlwZT1DS0VESVRPUi5TRUxFQ1RJT05fRUxFTUVOVDtcbmQuc2VsZWN0ZWRUZXh0PWQubmF0aXZlU2VsPW51bGw7dGhpcy5pc0Zha2U9MTt0aGlzLnJldj12Kys7Yy5fLmZha2VTZWxlY3Rpb249dGhpczt0aGlzLnJvb3QuZmlyZShcInNlbGVjdGlvbmNoYW5nZVwiKX0saXNIaWRkZW46ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldENvbW1vbkFuY2VzdG9yKCk7YSYmYS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihhPWEuZ2V0UGFyZW50KCkpO3JldHVybiEoIWF8fCFhLmRhdGEoXCJja2UtaGlkZGVuLXNlbFwiKSl9LGNyZWF0ZUJvb2ttYXJrczpmdW5jdGlvbihhKXthPXRoaXMuZ2V0UmFuZ2VzKCkuY3JlYXRlQm9va21hcmtzKGEpO3RoaXMuaXNGYWtlJiYoYS5pc0Zha2U9MSk7cmV0dXJuIGF9LGNyZWF0ZUJvb2ttYXJrczI6ZnVuY3Rpb24oYSl7YT10aGlzLmdldFJhbmdlcygpLmNyZWF0ZUJvb2ttYXJrczIoYSk7dGhpcy5pc0Zha2UmJihhLmlzRmFrZT0xKTtyZXR1cm4gYX0sc2VsZWN0Qm9va21hcmtzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1cbltdLGMsZD0wO2Q8YS5sZW5ndGg7ZCsrKXt2YXIgZj1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKHRoaXMucm9vdCk7Zi5tb3ZlVG9Cb29rbWFyayhhW2RdKTtiLnB1c2goZil9YS5pc0Zha2UmJihjPWJbMF0uZ2V0RW5jbG9zZWROb2RlKCksYyYmYy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fChDS0VESVRPUi53YXJuKFwic2VsZWN0aW9uLW5vdC1mYWtlXCIpLGEuaXNGYWtlPTApKTthLmlzRmFrZT90aGlzLmZha2UoYyk6dGhpcy5zZWxlY3RSYW5nZXMoYik7cmV0dXJuIHRoaXN9LGdldENvbW1vbkFuY2VzdG9yOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRSYW5nZXMoKTtyZXR1cm4gYS5sZW5ndGg/YVswXS5zdGFydENvbnRhaW5lci5nZXRDb21tb25BbmNlc3RvcihhW2EubGVuZ3RoLTFdLmVuZENvbnRhaW5lcik6bnVsbH0sc2Nyb2xsSW50b1ZpZXc6ZnVuY3Rpb24oKXt0aGlzLnR5cGUhPUNLRURJVE9SLlNFTEVDVElPTl9OT05FJiZ0aGlzLmdldFJhbmdlcygpWzBdLnNjcm9sbEludG9WaWV3KCl9LFxucmVtb3ZlQWxsUmFuZ2VzOmZ1bmN0aW9uKCl7aWYodGhpcy5nZXRUeXBlKCkhPUNLRURJVE9SLlNFTEVDVElPTl9OT05FKXt2YXIgYT10aGlzLmdldE5hdGl2ZSgpO3RyeXthJiZhW24/XCJlbXB0eVwiOlwicmVtb3ZlQWxsUmFuZ2VzXCJdKCl9Y2F0Y2goYil7fXRoaXMucmVzZXQoKX19fX0oKSxcInVzZSBzdHJpY3RcIixDS0VESVRPUi5TVFlMRV9CTE9DSz0xLENLRURJVE9SLlNUWUxFX0lOTElORT0yLENLRURJVE9SLlNUWUxFX09CSkVDVD0zLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIpe2Zvcih2YXIgYyxkOyhhPWEuZ2V0UGFyZW50KCkpJiYhYS5lcXVhbHMoYik7KWlmKGEuZ2V0QXR0cmlidXRlKFwiZGF0YS1ub3N0eWxlXCIpKWM9YTtlbHNlIGlmKCFkKXt2YXIgZj1hLmdldEF0dHJpYnV0ZShcImNvbnRlbnRFZGl0YWJsZVwiKTtcImZhbHNlXCI9PWY/Yz1hOlwidHJ1ZVwiPT1mJiYoZD0xKX1yZXR1cm4gY31mdW5jdGlvbiBlKGEsYixjLGQpe3JldHVybihhLmdldFBvc2l0aW9uKGIpfGQpPT1kJiZcbighYy5jaGlsZFJ1bGV8fGMuY2hpbGRSdWxlKGEpKX1mdW5jdGlvbiBiKGMpe3ZhciBmPWMuZG9jdW1lbnQ7aWYoYy5jb2xsYXBzZWQpZj13KHRoaXMsZiksYy5pbnNlcnROb2RlKGYpLGMubW92ZVRvUG9zaXRpb24oZixDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtlbHNle3ZhciBnPXRoaXMuZWxlbWVudCxoPXRoaXMuXy5kZWZpbml0aW9uLGssbD1oLmlnbm9yZVJlYWRvbmx5LG09bHx8aC5pbmNsdWRlUmVhZG9ubHk7bnVsbD09bSYmKG09Yy5yb290LmdldEN1c3RvbURhdGEoXCJja2VfaW5jbHVkZVJlYWRvbmx5XCIpKTt2YXIgbj1DS0VESVRPUi5kdGRbZ107bnx8KGs9ITAsbj1DS0VESVRPUi5kdGQuc3Bhbik7Yy5lbmxhcmdlKENLRURJVE9SLkVOTEFSR0VfSU5MSU5FLDEpO2MudHJpbSgpO3ZhciBwPWMuY3JlYXRlQm9va21hcmsoKSx0PXAuc3RhcnROb2RlLHI9cC5lbmROb2RlLHo9dCx1O2lmKCFsKXt2YXIgdj1jLmdldENvbW1vbkFuY2VzdG9yKCksbD1hKHQsdiksdj1hKHIsXG52KTtsJiYoej1sLmdldE5leHRTb3VyY2VOb2RlKCEwKSk7diYmKHI9dil9Zm9yKHouZ2V0UG9zaXRpb24ocik9PUNLRURJVE9SLlBPU0lUSU9OX0ZPTExPV0lORyYmKHo9MCk7ejspe2w9ITE7aWYoei5lcXVhbHMocikpej1udWxsLGw9ITA7ZWxzZXt2YXIgQT16LnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVD96LmdldE5hbWUoKTpudWxsLHY9QSYmXCJmYWxzZVwiPT16LmdldEF0dHJpYnV0ZShcImNvbnRlbnRFZGl0YWJsZVwiKSx4PUEmJnouZ2V0QXR0cmlidXRlKFwiZGF0YS1ub3N0eWxlXCIpO2lmKEEmJnouZGF0YShcImNrZS1ib29rbWFya1wiKSl7ej16LmdldE5leHRTb3VyY2VOb2RlKCEwKTtjb250aW51ZX1pZih2JiZtJiZDS0VESVRPUi5kdGQuJGJsb2NrW0FdKWZvcih2YXIgRD16LHk9ZChEKSxCPXZvaWQgMCxDPXkubGVuZ3RoLGVhPTAsRD1DJiZuZXcgQ0tFRElUT1IuZG9tLnJhbmdlKEQuZ2V0RG9jdW1lbnQoKSk7ZWE8QzsrK2VhKXt2YXIgQj15W2VhXSxoYT1DS0VESVRPUi5maWx0ZXIuaW5zdGFuY2VzW0IuZGF0YShcImNrZS1maWx0ZXJcIildO1xuaWYoaGE/aGEuY2hlY2sodGhpcyk6MSlELnNlbGVjdE5vZGVDb250ZW50cyhCKSxiLmNhbGwodGhpcyxEKX15PUE/IW5bQV18fHg/MDp2JiYhbT8wOmUoeixyLGgsTSk6MTtpZih5KWlmKEI9ei5nZXRQYXJlbnQoKSx5PWgsQz1nLGVhPWssIUJ8fCEoQi5nZXREdGQoKXx8Q0tFRElUT1IuZHRkLnNwYW4pW0NdJiYhZWF8fHkucGFyZW50UnVsZSYmIXkucGFyZW50UnVsZShCKSlsPSEwO2Vsc2V7aWYodXx8QSYmQ0tFRElUT1IuZHRkLiRyZW1vdmVFbXB0eVtBXSYmKHouZ2V0UG9zaXRpb24ocil8TSkhPU18fCh1PWMuY2xvbmUoKSx1LnNldFN0YXJ0QmVmb3JlKHopKSxBPXoudHlwZSxBPT1DS0VESVRPUi5OT0RFX1RFWFR8fHZ8fEE9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmIXouZ2V0Q2hpbGRDb3VudCgpKXtmb3IodmFyIEE9eixFOyhsPSFBLmdldE5leHQoSikpJiYoRT1BLmdldFBhcmVudCgpLG5bRS5nZXROYW1lKCldKSYmZShFLHQsaCxJKTspQT1FO3Uuc2V0RW5kQWZ0ZXIoQSl9fWVsc2UgbD1cbiEwO3o9ei5nZXROZXh0U291cmNlTm9kZSh4fHx2KX1pZihsJiZ1JiYhdS5jb2xsYXBzZWQpe2Zvcih2YXIgbD13KHRoaXMsZiksdj1sLmhhc0F0dHJpYnV0ZXMoKSx4PXUuZ2V0Q29tbW9uQW5jZXN0b3IoKSxBPXt9LHk9e30sQj17fSxDPXt9LGFhLGZhLEY7bCYmeDspe2lmKHguZ2V0TmFtZSgpPT1nKXtmb3IoYWEgaW4gaC5hdHRyaWJ1dGVzKSFDW2FhXSYmKEY9eC5nZXRBdHRyaWJ1dGUoZmEpKSYmKGwuZ2V0QXR0cmlidXRlKGFhKT09Rj95W2FhXT0xOkNbYWFdPTEpO2ZvcihmYSBpbiBoLnN0eWxlcykhQltmYV0mJihGPXguZ2V0U3R5bGUoZmEpKSYmKGwuZ2V0U3R5bGUoZmEpPT1GP0FbZmFdPTE6QltmYV09MSl9eD14LmdldFBhcmVudCgpfWZvcihhYSBpbiB5KWwucmVtb3ZlQXR0cmlidXRlKGFhKTtmb3IoZmEgaW4gQSlsLnJlbW92ZVN0eWxlKGZhKTt2JiYhbC5oYXNBdHRyaWJ1dGVzKCkmJihsPW51bGwpO2w/KHUuZXh0cmFjdENvbnRlbnRzKCkuYXBwZW5kVG8obCksdS5pbnNlcnROb2RlKGwpLFxucS5jYWxsKHRoaXMsbCksbC5tZXJnZVNpYmxpbmdzKCksQ0tFRElUT1IuZW52LmllfHxsLiQubm9ybWFsaXplKCkpOihsPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcInNwYW5cIiksdS5leHRyYWN0Q29udGVudHMoKS5hcHBlbmRUbyhsKSx1Lmluc2VydE5vZGUobCkscS5jYWxsKHRoaXMsbCksbC5yZW1vdmUoITApKTt1PW51bGx9fWMubW92ZVRvQm9va21hcmsocCk7Yy5zaHJpbmsoQ0tFRElUT1IuU0hSSU5LX1RFWFQpO2Muc2hyaW5rKENLRURJVE9SLk5PREVfRUxFTUVOVCwhMCl9fWZ1bmN0aW9uIGMoYSl7ZnVuY3Rpb24gYigpe2Zvcih2YXIgYT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGQuZ2V0UGFyZW50KCkpLGM9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChsLmdldFBhcmVudCgpKSxmPW51bGwsZz1udWxsLGU9MDtlPGEuZWxlbWVudHMubGVuZ3RoO2UrKyl7dmFyIGg9YS5lbGVtZW50c1tlXTtpZihoPT1hLmJsb2NrfHxoPT1hLmJsb2NrTGltaXQpYnJlYWs7XG5tLmNoZWNrRWxlbWVudFJlbW92YWJsZShoLCEwKSYmKGY9aCl9Zm9yKGU9MDtlPGMuZWxlbWVudHMubGVuZ3RoO2UrKyl7aD1jLmVsZW1lbnRzW2VdO2lmKGg9PWMuYmxvY2t8fGg9PWMuYmxvY2tMaW1pdClicmVhazttLmNoZWNrRWxlbWVudFJlbW92YWJsZShoLCEwKSYmKGc9aCl9ZyYmbC5icmVha1BhcmVudChnKTtmJiZkLmJyZWFrUGFyZW50KGYpfWEuZW5sYXJnZShDS0VESVRPUi5FTkxBUkdFX0lOTElORSwxKTt2YXIgYz1hLmNyZWF0ZUJvb2ttYXJrKCksZD1jLnN0YXJ0Tm9kZTtpZihhLmNvbGxhcHNlZCl7Zm9yKHZhciBmPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoZC5nZXRQYXJlbnQoKSxhLnJvb3QpLGcsZT0wLGg7ZTxmLmVsZW1lbnRzLmxlbmd0aCYmKGg9Zi5lbGVtZW50c1tlXSkmJmghPWYuYmxvY2smJmghPWYuYmxvY2tMaW1pdDtlKyspaWYodGhpcy5jaGVja0VsZW1lbnRSZW1vdmFibGUoaCkpe3ZhciBrO2EuY29sbGFwc2VkJiYoYS5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KGgsXG5DS0VESVRPUi5FTkQpfHwoaz1hLmNoZWNrQm91bmRhcnlPZkVsZW1lbnQoaCxDS0VESVRPUi5TVEFSVCkpKT8oZz1oLGcubWF0Y2g9az9cInN0YXJ0XCI6XCJlbmRcIik6KGgubWVyZ2VTaWJsaW5ncygpLGguaXModGhpcy5lbGVtZW50KT9yLmNhbGwodGhpcyxoKTp0KGgsdSh0aGlzKVtoLmdldE5hbWUoKV0pKX1pZihnKXtoPWQ7Zm9yKGU9MDs7ZSsrKXtrPWYuZWxlbWVudHNbZV07aWYoay5lcXVhbHMoZykpYnJlYWs7ZWxzZSBpZihrLm1hdGNoKWNvbnRpbnVlO2Vsc2Ugaz1rLmNsb25lKCk7ay5hcHBlbmQoaCk7aD1rfWhbXCJzdGFydFwiPT1nLm1hdGNoP1wiaW5zZXJ0QmVmb3JlXCI6XCJpbnNlcnRBZnRlclwiXShnKX19ZWxzZXt2YXIgbD1jLmVuZE5vZGUsbT10aGlzO2IoKTtmb3IoZj1kOyFmLmVxdWFscyhsKTspZz1mLmdldE5leHRTb3VyY2VOb2RlKCksZi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJnRoaXMuY2hlY2tFbGVtZW50UmVtb3ZhYmxlKGYpJiYoZi5nZXROYW1lKCk9PXRoaXMuZWxlbWVudD9cbnIuY2FsbCh0aGlzLGYpOnQoZix1KHRoaXMpW2YuZ2V0TmFtZSgpXSksZy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmcuY29udGFpbnMoZCkmJihiKCksZz1kLmdldE5leHQoKSkpLGY9Z31hLm1vdmVUb0Jvb2ttYXJrKGMpO2Euc2hyaW5rKENLRURJVE9SLk5PREVfRUxFTUVOVCwhMCl9ZnVuY3Rpb24gZChhKXt2YXIgYj1bXTthLmZvckVhY2goZnVuY3Rpb24oYSl7aWYoXCJ0cnVlXCI9PWEuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKXJldHVybiBiLnB1c2goYSksITF9LENLRURJVE9SLk5PREVfRUxFTUVOVCwhMCk7cmV0dXJuIGJ9ZnVuY3Rpb24gbChhKXt2YXIgYj1hLmdldEVuY2xvc2VkTm9kZSgpfHxhLmdldENvbW1vbkFuY2VzdG9yKCExLCEwKTsoYT0obmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChiLGEucm9vdCkpLmNvbnRhaW5zKHRoaXMuZWxlbWVudCwxKSkmJiFhLmlzUmVhZE9ubHkoKSYmeihhLHRoaXMpfWZ1bmN0aW9uIG0oYSl7dmFyIGI9YS5nZXRDb21tb25BbmNlc3RvcighMCxcbiEwKTtpZihhPShuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGIsYS5yb290KSkuY29udGFpbnModGhpcy5lbGVtZW50LDEpKXt2YXIgYj10aGlzLl8uZGVmaW5pdGlvbixjPWIuYXR0cmlidXRlcztpZihjKWZvcih2YXIgZCBpbiBjKWEucmVtb3ZlQXR0cmlidXRlKGQsY1tkXSk7aWYoYi5zdHlsZXMpZm9yKHZhciBmIGluIGIuc3R5bGVzKWIuc3R5bGVzLmhhc093blByb3BlcnR5KGYpJiZhLnJlbW92ZVN0eWxlKGYpfX1mdW5jdGlvbiBmKGEpe3ZhciBiPWEuY3JlYXRlQm9va21hcmsoITApLGM9YS5jcmVhdGVJdGVyYXRvcigpO2MuZW5mb3JjZVJlYWxCbG9ja3M9ITA7dGhpcy5fLmVudGVyTW9kZSYmKGMuZW5sYXJnZUJyPXRoaXMuXy5lbnRlck1vZGUhPUNLRURJVE9SLkVOVEVSX0JSKTtmb3IodmFyIGQsZj1hLmRvY3VtZW50LGc7ZD1jLmdldE5leHRQYXJhZ3JhcGgoKTspIWQuaXNSZWFkT25seSgpJiYoYy5hY3RpdmVGaWx0ZXI/Yy5hY3RpdmVGaWx0ZXIuY2hlY2sodGhpcyk6XG4xKSYmKGc9dyh0aGlzLGYsZCksayhkLGcpKTthLm1vdmVUb0Jvb2ttYXJrKGIpfWZ1bmN0aW9uIGgoYSl7dmFyIGI9YS5jcmVhdGVCb29rbWFyaygxKSxjPWEuY3JlYXRlSXRlcmF0b3IoKTtjLmVuZm9yY2VSZWFsQmxvY2tzPSEwO2MuZW5sYXJnZUJyPXRoaXMuXy5lbnRlck1vZGUhPUNLRURJVE9SLkVOVEVSX0JSO2Zvcih2YXIgZCxmO2Q9Yy5nZXROZXh0UGFyYWdyYXBoKCk7KXRoaXMuY2hlY2tFbGVtZW50UmVtb3ZhYmxlKGQpJiYoZC5pcyhcInByZVwiKT8oKGY9dGhpcy5fLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfQlI/bnVsbDphLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGhpcy5fLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfUD9cInBcIjpcImRpdlwiKSkmJmQuY29weUF0dHJpYnV0ZXMoZiksayhkLGYpKTpyLmNhbGwodGhpcyxkKSk7YS5tb3ZlVG9Cb29rbWFyayhiKX1mdW5jdGlvbiBrKGEsYil7dmFyIGM9IWI7YyYmKGI9YS5nZXREb2N1bWVudCgpLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXG5hLmNvcHlBdHRyaWJ1dGVzKGIpKTt2YXIgZD1iJiZiLmlzKFwicHJlXCIpLGY9YS5pcyhcInByZVwiKSxlPSFkJiZmO2lmKGQmJiFmKXtmPWI7KGU9YS5nZXRCb2d1cygpKSYmZS5yZW1vdmUoKTtlPWEuZ2V0SHRtbCgpO2U9bihlLC8oPzpeWyBcXHRcXG5cXHJdKyl8KD86WyBcXHRcXG5cXHJdKyQpL2csXCJcIik7ZT1lLnJlcGxhY2UoL1sgXFx0XFxyXFxuXSooPGJyW14+XSo+KVsgXFx0XFxyXFxuXSovZ2ksXCIkMVwiKTtlPWUucmVwbGFjZSgvKFsgXFx0XFxuXFxyXSt8Jm5ic3A7KS9nLFwiIFwiKTtlPWUucmVwbGFjZSgvPGJyXFxiW14+XSo+L2dpLFwiXFxuXCIpO2lmKENLRURJVE9SLmVudi5pZSl7dmFyIGg9YS5nZXREb2N1bWVudCgpLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aC5hcHBlbmQoZik7Zi4kLm91dGVySFRNTD1cIlxceDNjcHJlXFx4M2VcIitlK1wiXFx4M2MvcHJlXFx4M2VcIjtmLmNvcHlBdHRyaWJ1dGVzKGguZ2V0Rmlyc3QoKSk7Zj1oLmdldEZpcnN0KCkucmVtb3ZlKCl9ZWxzZSBmLnNldEh0bWwoZSk7Yj1mfWVsc2UgZT9iPXYoYz9cblthLmdldEh0bWwoKV06ZyhhKSxiKTphLm1vdmVDaGlsZHJlbihiKTtiLnJlcGxhY2UoYSk7aWYoZCl7dmFyIGM9YixrOyhrPWMuZ2V0UHJldmlvdXMoRykpJiZrLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmay5pcyhcInByZVwiKSYmKGQ9bihrLmdldEh0bWwoKSwvXFxuJC8sXCJcIikrXCJcXG5cXG5cIituKGMuZ2V0SHRtbCgpLC9eXFxuLyxcIlwiKSxDS0VESVRPUi5lbnYuaWU/Yy4kLm91dGVySFRNTD1cIlxceDNjcHJlXFx4M2VcIitkK1wiXFx4M2MvcHJlXFx4M2VcIjpjLnNldEh0bWwoZCksay5yZW1vdmUoKSl9ZWxzZSBjJiZwKGIpfWZ1bmN0aW9uIGcoYSl7dmFyIGI9W107bihhLmdldE91dGVySHRtbCgpLC8oXFxTXFxzKilcXG4oPzpcXHN8KDxzcGFuW14+XStkYXRhLWNrZS1ib29rbWFyay4qP1xcL3NwYW4+KSkqXFxuKD8hJCkvZ2ksZnVuY3Rpb24oYSxiLGMpe3JldHVybiBiK1wiXFx4M2MvcHJlXFx4M2VcIitjK1wiXFx4M2NwcmVcXHgzZVwifSkucmVwbGFjZSgvPHByZVxcYi4qPz4oW1xcc1xcU10qPyk8XFwvcHJlPi9naSxmdW5jdGlvbihhLFxuYyl7Yi5wdXNoKGMpfSk7cmV0dXJuIGJ9ZnVuY3Rpb24gbihhLGIsYyl7dmFyIGQ9XCJcIixmPVwiXCI7YT1hLnJlcGxhY2UoLyhePHNwYW5bXj5dK2RhdGEtY2tlLWJvb2ttYXJrLio/XFwvc3Bhbj4pfCg8c3BhbltePl0rZGF0YS1ja2UtYm9va21hcmsuKj9cXC9zcGFuPiQpL2dpLGZ1bmN0aW9uKGEsYixjKXtiJiYoZD1iKTtjJiYoZj1jKTtyZXR1cm5cIlwifSk7cmV0dXJuIGQrYS5yZXBsYWNlKGIsYykrZn1mdW5jdGlvbiB2KGEsYil7dmFyIGM7MTxhLmxlbmd0aCYmKGM9bmV3IENLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50KGIuZ2V0RG9jdW1lbnQoKSkpO2Zvcih2YXIgZD0wO2Q8YS5sZW5ndGg7ZCsrKXt2YXIgZj1hW2RdLGY9Zi5yZXBsYWNlKC8oXFxyXFxufFxccikvZyxcIlxcblwiKSxmPW4oZiwvXlsgXFx0XSpcXG4vLFwiXCIpLGY9bihmLC9cXG4kLyxcIlwiKSxmPW4oZiwvXlsgXFx0XSt8WyBcXHRdKyQvZyxmdW5jdGlvbihhLGIpe3JldHVybiAxPT1hLmxlbmd0aD9cIlxceDI2bmJzcDtcIjpiP1wiIFwiK0NLRURJVE9SLnRvb2xzLnJlcGVhdChcIlxceDI2bmJzcDtcIixcbmEubGVuZ3RoLTEpOkNLRURJVE9SLnRvb2xzLnJlcGVhdChcIlxceDI2bmJzcDtcIixhLmxlbmd0aC0xKStcIiBcIn0pLGY9Zi5yZXBsYWNlKC9cXG4vZyxcIlxceDNjYnJcXHgzZVwiKSxmPWYucmVwbGFjZSgvWyBcXHRdezIsfS9nLGZ1bmN0aW9uKGEpe3JldHVybiBDS0VESVRPUi50b29scy5yZXBlYXQoXCJcXHgyNm5ic3A7XCIsYS5sZW5ndGgtMSkrXCIgXCJ9KTtpZihjKXt2YXIgZz1iLmNsb25lKCk7Zy5zZXRIdG1sKGYpO2MuYXBwZW5kKGcpfWVsc2UgYi5zZXRIdG1sKGYpfXJldHVybiBjfHxifWZ1bmN0aW9uIHIoYSxiKXt2YXIgYz10aGlzLl8uZGVmaW5pdGlvbixkPWMuYXR0cmlidXRlcyxjPWMuc3R5bGVzLGY9dSh0aGlzKVthLmdldE5hbWUoKV0sZz1DS0VESVRPUi50b29scy5pc0VtcHR5KGQpJiZDS0VESVRPUi50b29scy5pc0VtcHR5KGMpLGU7Zm9yKGUgaW4gZClpZihcImNsYXNzXCIhPWUmJiF0aGlzLl8uZGVmaW5pdGlvbi5mdWxsTWF0Y2h8fGEuZ2V0QXR0cmlidXRlKGUpPT14KGUsZFtlXSkpYiYmXG5cImRhdGEtXCI9PWUuc2xpY2UoMCw1KXx8KGc9YS5oYXNBdHRyaWJ1dGUoZSksYS5yZW1vdmVBdHRyaWJ1dGUoZSkpO2Zvcih2YXIgaCBpbiBjKXRoaXMuXy5kZWZpbml0aW9uLmZ1bGxNYXRjaCYmYS5nZXRTdHlsZShoKSE9eChoLGNbaF0sITApfHwoZz1nfHwhIWEuZ2V0U3R5bGUoaCksYS5yZW1vdmVTdHlsZShoKSk7dChhLGYsQlthLmdldE5hbWUoKV0pO2cmJih0aGlzLl8uZGVmaW5pdGlvbi5hbHdheXNSZW1vdmVFbGVtZW50P3AoYSwxKTohQ0tFRElUT1IuZHRkLiRibG9ja1thLmdldE5hbWUoKV18fHRoaXMuXy5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX0JSJiYhYS5oYXNBdHRyaWJ1dGVzKCk/cChhKTphLnJlbmFtZU5vZGUodGhpcy5fLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfUD9cInBcIjpcImRpdlwiKSl9ZnVuY3Rpb24gcShhKXtmb3IodmFyIGI9dSh0aGlzKSxjPWEuZ2V0RWxlbWVudHNCeVRhZyh0aGlzLmVsZW1lbnQpLGQsZj1jLmNvdW50KCk7MDw9LS1mOylkPWMuZ2V0SXRlbShmKSxcbmQuaXNSZWFkT25seSgpfHxyLmNhbGwodGhpcyxkLCEwKTtmb3IodmFyIGcgaW4gYilpZihnIT10aGlzLmVsZW1lbnQpZm9yKGM9YS5nZXRFbGVtZW50c0J5VGFnKGcpLGY9Yy5jb3VudCgpLTE7MDw9ZjtmLS0pZD1jLmdldEl0ZW0oZiksZC5pc1JlYWRPbmx5KCl8fHQoZCxiW2ddKX1mdW5jdGlvbiB0KGEsYixjKXtpZihiPWImJmIuYXR0cmlidXRlcylmb3IodmFyIGQ9MDtkPGIubGVuZ3RoO2QrKyl7dmFyIGY9YltkXVswXSxnO2lmKGc9YS5nZXRBdHRyaWJ1dGUoZikpe3ZhciBlPWJbZF1bMV07KG51bGw9PT1lfHxlLnRlc3QmJmUudGVzdChnKXx8XCJzdHJpbmdcIj09dHlwZW9mIGUmJmc9PWUpJiZhLnJlbW92ZUF0dHJpYnV0ZShmKX19Y3x8cChhKX1mdW5jdGlvbiBwKGEsYil7aWYoIWEuaGFzQXR0cmlidXRlcygpfHxiKWlmKENLRURJVE9SLmR0ZC4kYmxvY2tbYS5nZXROYW1lKCldKXt2YXIgYz1hLmdldFByZXZpb3VzKEcpLGQ9YS5nZXROZXh0KEcpOyFjfHxjLnR5cGUhPUNLRURJVE9SLk5PREVfVEVYVCYmXG5jLmlzQmxvY2tCb3VuZGFyeSh7YnI6MX0pfHxhLmFwcGVuZChcImJyXCIsMSk7IWR8fGQudHlwZSE9Q0tFRElUT1IuTk9ERV9URVhUJiZkLmlzQmxvY2tCb3VuZGFyeSh7YnI6MX0pfHxhLmFwcGVuZChcImJyXCIpO2EucmVtb3ZlKCEwKX1lbHNlIGM9YS5nZXRGaXJzdCgpLGQ9YS5nZXRMYXN0KCksYS5yZW1vdmUoITApLGMmJihjLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYy5tZXJnZVNpYmxpbmdzKCksZCYmIWMuZXF1YWxzKGQpJiZkLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZC5tZXJnZVNpYmxpbmdzKCkpfWZ1bmN0aW9uIHcoYSxiLGMpe3ZhciBkO2Q9YS5lbGVtZW50O1wiKlwiPT1kJiYoZD1cInNwYW5cIik7ZD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZCxiKTtjJiZjLmNvcHlBdHRyaWJ1dGVzKGQpO2Q9eihkLGEpO2IuZ2V0Q3VzdG9tRGF0YShcImRvY19wcm9jZXNzaW5nX3N0eWxlXCIpJiZkLmhhc0F0dHJpYnV0ZShcImlkXCIpP2QucmVtb3ZlQXR0cmlidXRlKFwiaWRcIik6XG5iLnNldEN1c3RvbURhdGEoXCJkb2NfcHJvY2Vzc2luZ19zdHlsZVwiLDEpO3JldHVybiBkfWZ1bmN0aW9uIHooYSxiKXt2YXIgYz1iLl8uZGVmaW5pdGlvbixkPWMuYXR0cmlidXRlcyxjPUNLRURJVE9SLnN0eWxlLmdldFN0eWxlVGV4dChjKTtpZihkKWZvcih2YXIgZiBpbiBkKWEuc2V0QXR0cmlidXRlKGYsZFtmXSk7YyYmYS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLGMpO3JldHVybiBhfWZ1bmN0aW9uIEEoYSxiKXtmb3IodmFyIGMgaW4gYSlhW2NdPWFbY10ucmVwbGFjZShFLGZ1bmN0aW9uKGEsYyl7cmV0dXJuIGJbY119KX1mdW5jdGlvbiB1KGEpe2lmKGEuXy5vdmVycmlkZXMpcmV0dXJuIGEuXy5vdmVycmlkZXM7dmFyIGI9YS5fLm92ZXJyaWRlcz17fSxjPWEuXy5kZWZpbml0aW9uLm92ZXJyaWRlcztpZihjKXtDS0VESVRPUi50b29scy5pc0FycmF5KGMpfHwoYz1bY10pO2Zvcih2YXIgZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZj1jW2RdLGcsZTtcInN0cmluZ1wiPT10eXBlb2YgZj9cbmc9Zi50b0xvd2VyQ2FzZSgpOihnPWYuZWxlbWVudD9mLmVsZW1lbnQudG9Mb3dlckNhc2UoKTphLmVsZW1lbnQsZT1mLmF0dHJpYnV0ZXMpO2Y9YltnXXx8KGJbZ109e30pO2lmKGUpe3ZhciBmPWYuYXR0cmlidXRlcz1mLmF0dHJpYnV0ZXN8fFtdLGg7Zm9yKGggaW4gZSlmLnB1c2goW2gudG9Mb3dlckNhc2UoKSxlW2hdXSl9fX1yZXR1cm4gYn1mdW5jdGlvbiB4KGEsYixjKXt2YXIgZD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJzcGFuXCIpO2RbYz9cInNldFN0eWxlXCI6XCJzZXRBdHRyaWJ1dGVcIl0oYSxiKTtyZXR1cm4gZFtjP1wiZ2V0U3R5bGVcIjpcImdldEF0dHJpYnV0ZVwiXShhKX1mdW5jdGlvbiBEKGEsYil7ZnVuY3Rpb24gYyhhLGIpe3JldHVyblwiZm9udC1mYW1pbHlcIj09Yi50b0xvd2VyQ2FzZSgpP2EucmVwbGFjZSgvW1wiJ10vZyxcIlwiKTphfVwic3RyaW5nXCI9PXR5cGVvZiBhJiYoYT1DS0VESVRPUi50b29scy5wYXJzZUNzc1RleHQoYSkpO1wic3RyaW5nXCI9PXR5cGVvZiBiJiYoYj1cbkNLRURJVE9SLnRvb2xzLnBhcnNlQ3NzVGV4dChiLCEwKSk7Zm9yKHZhciBkIGluIGEpaWYoIShkIGluIGIpfHxjKGJbZF0sZCkhPWMoYVtkXSxkKSYmXCJpbmhlcml0XCIhPWFbZF0mJlwiaW5oZXJpdFwiIT1iW2RdKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIHkoYSxiLGMpe3ZhciBkPWEuZG9jdW1lbnQsZj1hLmdldFJhbmdlcygpO2I9Yj90aGlzLnJlbW92ZUZyb21SYW5nZTp0aGlzLmFwcGx5VG9SYW5nZTtmb3IodmFyIGcsZT1mLmNyZWF0ZUl0ZXJhdG9yKCk7Zz1lLmdldE5leHRSYW5nZSgpOyliLmNhbGwodGhpcyxnLGMpO2Euc2VsZWN0UmFuZ2VzKGYpO2QucmVtb3ZlQ3VzdG9tRGF0YShcImRvY19wcm9jZXNzaW5nX3N0eWxlXCIpfXZhciBCPXthZGRyZXNzOjEsZGl2OjEsaDE6MSxoMjoxLGgzOjEsaDQ6MSxoNToxLGg2OjEscDoxLHByZToxLHNlY3Rpb246MSxoZWFkZXI6MSxmb290ZXI6MSxuYXY6MSxhcnRpY2xlOjEsYXNpZGU6MSxmaWd1cmU6MSxkaWFsb2c6MSxoZ3JvdXA6MSxcbnRpbWU6MSxtZXRlcjoxLG1lbnU6MSxjb21tYW5kOjEsa2V5Z2VuOjEsb3V0cHV0OjEscHJvZ3Jlc3M6MSxkZXRhaWxzOjEsZGF0YWdyaWQ6MSxkYXRhbGlzdDoxfSxDPXthOjEsYmxvY2txdW90ZToxLGVtYmVkOjEsaHI6MSxpbWc6MSxsaToxLG9iamVjdDoxLG9sOjEsdGFibGU6MSx0ZDoxLHRyOjEsdGg6MSx1bDoxLGRsOjEsZHQ6MSxkZDoxLGZvcm06MSxhdWRpbzoxLHZpZGVvOjF9LEY9L1xccyooPzo7XFxzKnwkKS8sRT0vI1xcKCguKz8pXFwpL2csSj1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKDAsMSksRz1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKDEpO0NLRURJVE9SLnN0eWxlPWZ1bmN0aW9uKGEsYil7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGEudHlwZSlyZXR1cm4gbmV3IENLRURJVE9SLnN0eWxlLmN1c3RvbUhhbmRsZXJzW2EudHlwZV0oYSk7dmFyIGM9YS5hdHRyaWJ1dGVzO2MmJmMuc3R5bGUmJihhLnN0eWxlcz1DS0VESVRPUi50b29scy5leHRlbmQoe30sYS5zdHlsZXMsXG5DS0VESVRPUi50b29scy5wYXJzZUNzc1RleHQoYy5zdHlsZSkpLGRlbGV0ZSBjLnN0eWxlKTtiJiYoYT1DS0VESVRPUi50b29scy5jbG9uZShhKSxBKGEuYXR0cmlidXRlcyxiKSxBKGEuc3R5bGVzLGIpKTtjPXRoaXMuZWxlbWVudD1hLmVsZW1lbnQ/XCJzdHJpbmdcIj09dHlwZW9mIGEuZWxlbWVudD9hLmVsZW1lbnQudG9Mb3dlckNhc2UoKTphLmVsZW1lbnQ6XCIqXCI7dGhpcy50eXBlPWEudHlwZXx8KEJbY10/Q0tFRElUT1IuU1RZTEVfQkxPQ0s6Q1tjXT9DS0VESVRPUi5TVFlMRV9PQkpFQ1Q6Q0tFRElUT1IuU1RZTEVfSU5MSU5FKTtcIm9iamVjdFwiPT10eXBlb2YgdGhpcy5lbGVtZW50JiYodGhpcy50eXBlPUNLRURJVE9SLlNUWUxFX09CSkVDVCk7dGhpcy5fPXtkZWZpbml0aW9uOmF9fTtDS0VESVRPUi5zdHlsZS5wcm90b3R5cGU9e2FwcGx5OmZ1bmN0aW9uKGEpe2lmKGEgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20uZG9jdW1lbnQpcmV0dXJuIHkuY2FsbCh0aGlzLGEuZ2V0U2VsZWN0aW9uKCkpO1xuaWYodGhpcy5jaGVja0FwcGxpY2FibGUoYS5lbGVtZW50UGF0aCgpLGEpKXt2YXIgYj10aGlzLl8uZW50ZXJNb2RlO2J8fCh0aGlzLl8uZW50ZXJNb2RlPWEuYWN0aXZlRW50ZXJNb2RlKTt5LmNhbGwodGhpcyxhLmdldFNlbGVjdGlvbigpLDAsYSk7dGhpcy5fLmVudGVyTW9kZT1ifX0scmVtb3ZlOmZ1bmN0aW9uKGEpe2lmKGEgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20uZG9jdW1lbnQpcmV0dXJuIHkuY2FsbCh0aGlzLGEuZ2V0U2VsZWN0aW9uKCksMSk7aWYodGhpcy5jaGVja0FwcGxpY2FibGUoYS5lbGVtZW50UGF0aCgpLGEpKXt2YXIgYj10aGlzLl8uZW50ZXJNb2RlO2J8fCh0aGlzLl8uZW50ZXJNb2RlPWEuYWN0aXZlRW50ZXJNb2RlKTt5LmNhbGwodGhpcyxhLmdldFNlbGVjdGlvbigpLDEsYSk7dGhpcy5fLmVudGVyTW9kZT1ifX0sYXBwbHlUb1JhbmdlOmZ1bmN0aW9uKGEpe3RoaXMuYXBwbHlUb1JhbmdlPXRoaXMudHlwZT09Q0tFRElUT1IuU1RZTEVfSU5MSU5FP2I6dGhpcy50eXBlPT1cbkNLRURJVE9SLlNUWUxFX0JMT0NLP2Y6dGhpcy50eXBlPT1DS0VESVRPUi5TVFlMRV9PQkpFQ1Q/bDpudWxsO3JldHVybiB0aGlzLmFwcGx5VG9SYW5nZShhKX0scmVtb3ZlRnJvbVJhbmdlOmZ1bmN0aW9uKGEpe3RoaXMucmVtb3ZlRnJvbVJhbmdlPXRoaXMudHlwZT09Q0tFRElUT1IuU1RZTEVfSU5MSU5FP2M6dGhpcy50eXBlPT1DS0VESVRPUi5TVFlMRV9CTE9DSz9oOnRoaXMudHlwZT09Q0tFRElUT1IuU1RZTEVfT0JKRUNUP206bnVsbDtyZXR1cm4gdGhpcy5yZW1vdmVGcm9tUmFuZ2UoYSl9LGFwcGx5VG9PYmplY3Q6ZnVuY3Rpb24oYSl7eihhLHRoaXMpfSxjaGVja0FjdGl2ZTpmdW5jdGlvbihhLGIpe3N3aXRjaCh0aGlzLnR5cGUpe2Nhc2UgQ0tFRElUT1IuU1RZTEVfQkxPQ0s6cmV0dXJuIHRoaXMuY2hlY2tFbGVtZW50UmVtb3ZhYmxlKGEuYmxvY2t8fGEuYmxvY2tMaW1pdCwhMCxiKTtjYXNlIENLRURJVE9SLlNUWUxFX09CSkVDVDpjYXNlIENLRURJVE9SLlNUWUxFX0lOTElORTpmb3IodmFyIGM9XG5hLmVsZW1lbnRzLGQ9MCxmO2Q8Yy5sZW5ndGg7ZCsrKWlmKGY9Y1tkXSx0aGlzLnR5cGUhPUNLRURJVE9SLlNUWUxFX0lOTElORXx8ZiE9YS5ibG9jayYmZiE9YS5ibG9ja0xpbWl0KXtpZih0aGlzLnR5cGU9PUNLRURJVE9SLlNUWUxFX09CSkVDVCl7dmFyIGc9Zi5nZXROYW1lKCk7aWYoIShcInN0cmluZ1wiPT10eXBlb2YgdGhpcy5lbGVtZW50P2c9PXRoaXMuZWxlbWVudDpnIGluIHRoaXMuZWxlbWVudCkpY29udGludWV9aWYodGhpcy5jaGVja0VsZW1lbnRSZW1vdmFibGUoZiwhMCxiKSlyZXR1cm4hMH19cmV0dXJuITF9LGNoZWNrQXBwbGljYWJsZTpmdW5jdGlvbihhLGIsYyl7YiYmYiBpbnN0YW5jZW9mIENLRURJVE9SLmZpbHRlciYmKGM9Yik7aWYoYyYmIWMuY2hlY2sodGhpcykpcmV0dXJuITE7c3dpdGNoKHRoaXMudHlwZSl7Y2FzZSBDS0VESVRPUi5TVFlMRV9PQkpFQ1Q6cmV0dXJuISFhLmNvbnRhaW5zKHRoaXMuZWxlbWVudCk7Y2FzZSBDS0VESVRPUi5TVFlMRV9CTE9DSzpyZXR1cm4hIWEuYmxvY2tMaW1pdC5nZXREdGQoKVt0aGlzLmVsZW1lbnRdfXJldHVybiEwfSxcbmNoZWNrRWxlbWVudE1hdGNoOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5fLmRlZmluaXRpb247aWYoIWF8fCFjLmlnbm9yZVJlYWRvbmx5JiZhLmlzUmVhZE9ubHkoKSlyZXR1cm4hMTt2YXIgZD1hLmdldE5hbWUoKTtpZihcInN0cmluZ1wiPT10eXBlb2YgdGhpcy5lbGVtZW50P2Q9PXRoaXMuZWxlbWVudDpkIGluIHRoaXMuZWxlbWVudCl7aWYoIWImJiFhLmhhc0F0dHJpYnV0ZXMoKSlyZXR1cm4hMDtpZihkPWMuX0FDKWM9ZDtlbHNle3ZhciBkPXt9LGY9MCxnPWMuYXR0cmlidXRlcztpZihnKWZvcih2YXIgZSBpbiBnKWYrKyxkW2VdPWdbZV07aWYoZT1DS0VESVRPUi5zdHlsZS5nZXRTdHlsZVRleHQoYykpZC5zdHlsZXx8ZisrLGQuc3R5bGU9ZTtkLl9sZW5ndGg9ZjtjPWMuX0FDPWR9aWYoYy5fbGVuZ3RoKXtmb3IodmFyIGggaW4gYylpZihcIl9sZW5ndGhcIiE9aClpZihkPWEuZ2V0QXR0cmlidXRlKGgpfHxcIlwiLFwic3R5bGVcIj09aD9EKGNbaF0sZCk6Y1toXT09ZCl7aWYoIWIpcmV0dXJuITB9ZWxzZSBpZihiKXJldHVybiExO1xuaWYoYilyZXR1cm4hMH1lbHNlIHJldHVybiEwfXJldHVybiExfSxjaGVja0VsZW1lbnRSZW1vdmFibGU6ZnVuY3Rpb24oYSxiLGMpe2lmKHRoaXMuY2hlY2tFbGVtZW50TWF0Y2goYSxiLGMpKXJldHVybiEwO2lmKGI9dSh0aGlzKVthLmdldE5hbWUoKV0pe3ZhciBkO2lmKCEoYj1iLmF0dHJpYnV0ZXMpKXJldHVybiEwO2ZvcihjPTA7YzxiLmxlbmd0aDtjKyspaWYoZD1iW2NdWzBdLGQ9YS5nZXRBdHRyaWJ1dGUoZCkpe3ZhciBmPWJbY11bMV07aWYobnVsbD09PWYpcmV0dXJuITA7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGYpe2lmKGQ9PWYpcmV0dXJuITB9ZWxzZSBpZihmLnRlc3QoZCkpcmV0dXJuITB9fXJldHVybiExfSxidWlsZFByZXZpZXc6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fLmRlZmluaXRpb24sYz1bXSxkPWIuZWxlbWVudDtcImJkb1wiPT1kJiYoZD1cInNwYW5cIik7dmFyIGM9W1wiXFx4M2NcIixkXSxmPWIuYXR0cmlidXRlcztpZihmKWZvcih2YXIgZyBpbiBmKWMucHVzaChcIiBcIixcbmcsJ1xceDNkXCInLGZbZ10sJ1wiJyk7KGY9Q0tFRElUT1Iuc3R5bGUuZ2V0U3R5bGVUZXh0KGIpKSYmYy5wdXNoKCcgc3R5bGVcXHgzZFwiJyxmLCdcIicpO2MucHVzaChcIlxceDNlXCIsYXx8Yi5uYW1lLFwiXFx4M2MvXCIsZCxcIlxceDNlXCIpO3JldHVybiBjLmpvaW4oXCJcIil9LGdldERlZmluaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLmRlZmluaXRpb259fTtDS0VESVRPUi5zdHlsZS5nZXRTdHlsZVRleHQ9ZnVuY3Rpb24oYSl7dmFyIGI9YS5fU1Q7aWYoYilyZXR1cm4gYjt2YXIgYj1hLnN0eWxlcyxjPWEuYXR0cmlidXRlcyYmYS5hdHRyaWJ1dGVzLnN0eWxlfHxcIlwiLGQ9XCJcIjtjLmxlbmd0aCYmKGM9Yy5yZXBsYWNlKEYsXCI7XCIpKTtmb3IodmFyIGYgaW4gYil7dmFyIGc9YltmXSxlPShmK1wiOlwiK2cpLnJlcGxhY2UoRixcIjtcIik7XCJpbmhlcml0XCI9PWc/ZCs9ZTpjKz1lfWMubGVuZ3RoJiYoYz1DS0VESVRPUi50b29scy5ub3JtYWxpemVDc3NUZXh0KGMsITApKTtyZXR1cm4gYS5fU1Q9YytkfTtDS0VESVRPUi5zdHlsZS5jdXN0b21IYW5kbGVycz1cbnt9O0NLRURJVE9SLnN0eWxlLmFkZEN1c3RvbUhhbmRsZXI9ZnVuY3Rpb24oYSl7dmFyIGI9ZnVuY3Rpb24oYSl7dGhpcy5fPXtkZWZpbml0aW9uOmF9O3RoaXMuc2V0dXAmJnRoaXMuc2V0dXAoYSl9O2IucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi50b29scy5wcm90b3R5cGVkQ29weShDS0VESVRPUi5zdHlsZS5wcm90b3R5cGUpLHthc3NpZ25lZFRvOkNLRURJVE9SLlNUWUxFX09CSkVDVH0sYSwhMCk7cmV0dXJuIHRoaXMuY3VzdG9tSGFuZGxlcnNbYS50eXBlXT1ifTt2YXIgTT1DS0VESVRPUi5QT1NJVElPTl9QUkVDRURJTkd8Q0tFRElUT1IuUE9TSVRJT05fSURFTlRJQ0FMfENLRURJVE9SLlBPU0lUSU9OX0lTX0NPTlRBSU5FRCxJPUNLRURJVE9SLlBPU0lUSU9OX0ZPTExPV0lOR3xDS0VESVRPUi5QT1NJVElPTl9JREVOVElDQUx8Q0tFRElUT1IuUE9TSVRJT05fSVNfQ09OVEFJTkVEfSgpLENLRURJVE9SLnN0eWxlQ29tbWFuZD1mdW5jdGlvbihhLFxuZSl7dGhpcy5yZXF1aXJlZENvbnRlbnQ9dGhpcy5hbGxvd2VkQ29udGVudD10aGlzLnN0eWxlPWE7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsZSwhMCl9LENLRURJVE9SLnN0eWxlQ29tbWFuZC5wcm90b3R5cGUuZXhlYz1mdW5jdGlvbihhKXthLmZvY3VzKCk7dGhpcy5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfT0ZGP2EuYXBwbHlTdHlsZSh0aGlzLnN0eWxlKTp0aGlzLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9PTiYmYS5yZW1vdmVTdHlsZSh0aGlzLnN0eWxlKX0sQ0tFRElUT1Iuc3R5bGVzU2V0PW5ldyBDS0VESVRPUi5yZXNvdXJjZU1hbmFnZXIoXCJcIixcInN0eWxlc1NldFwiKSxDS0VESVRPUi5hZGRTdHlsZXNTZXQ9Q0tFRElUT1IudG9vbHMuYmluZChDS0VESVRPUi5zdHlsZXNTZXQuYWRkLENLRURJVE9SLnN0eWxlc1NldCksQ0tFRElUT1IubG9hZFN0eWxlc1NldD1mdW5jdGlvbihhLGUsYil7Q0tFRElUT1Iuc3R5bGVzU2V0LmFkZEV4dGVybmFsKGEsZSxcIlwiKTtDS0VESVRPUi5zdHlsZXNTZXQubG9hZChhLFxuYil9LENLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLHthdHRhY2hTdHlsZVN0YXRlQ2hhbmdlOmZ1bmN0aW9uKGEsZSl7dmFyIGI9dGhpcy5fLnN0eWxlU3RhdGVDaGFuZ2VDYWxsYmFja3M7Ynx8KGI9dGhpcy5fLnN0eWxlU3RhdGVDaGFuZ2VDYWxsYmFja3M9W10sdGhpcy5vbihcInNlbGVjdGlvbkNoYW5nZVwiLGZ1bmN0aW9uKGEpe2Zvcih2YXIgZD0wO2Q8Yi5sZW5ndGg7ZCsrKXt2YXIgZT1iW2RdLG09ZS5zdHlsZS5jaGVja0FjdGl2ZShhLmRhdGEucGF0aCx0aGlzKT9DS0VESVRPUi5UUklTVEFURV9PTjpDS0VESVRPUi5UUklTVEFURV9PRkY7ZS5mbi5jYWxsKHRoaXMsbSl9fSkpO2IucHVzaCh7c3R5bGU6YSxmbjplfSl9LGFwcGx5U3R5bGU6ZnVuY3Rpb24oYSl7YS5hcHBseSh0aGlzKX0scmVtb3ZlU3R5bGU6ZnVuY3Rpb24oYSl7YS5yZW1vdmUodGhpcyl9LGdldFN0eWxlc1NldDpmdW5jdGlvbihhKXtpZih0aGlzLl8uc3R5bGVzRGVmaW5pdGlvbnMpYSh0aGlzLl8uc3R5bGVzRGVmaW5pdGlvbnMpO1xuZWxzZXt2YXIgZT10aGlzLGI9ZS5jb25maWcuc3R5bGVzQ29tYm9fc3R5bGVzU2V0fHxlLmNvbmZpZy5zdHlsZXNTZXQ7aWYoITE9PT1iKWEobnVsbCk7ZWxzZSBpZihiIGluc3RhbmNlb2YgQXJyYXkpZS5fLnN0eWxlc0RlZmluaXRpb25zPWIsYShiKTtlbHNle2J8fChiPVwiZGVmYXVsdFwiKTt2YXIgYj1iLnNwbGl0KFwiOlwiKSxjPWJbMF07Q0tFRElUT1Iuc3R5bGVzU2V0LmFkZEV4dGVybmFsKGMsYlsxXT9iLnNsaWNlKDEpLmpvaW4oXCI6XCIpOkNLRURJVE9SLmdldFVybChcInN0eWxlcy5qc1wiKSxcIlwiKTtDS0VESVRPUi5zdHlsZXNTZXQubG9hZChjLGZ1bmN0aW9uKGIpe2UuXy5zdHlsZXNEZWZpbml0aW9ucz1iW2NdO2EoZS5fLnN0eWxlc0RlZmluaXRpb25zKX0pfX19fSksQ0tFRElUT1IuZG9tLmNvbW1lbnQ9ZnVuY3Rpb24oYSxlKXtcInN0cmluZ1wiPT10eXBlb2YgYSYmKGE9KGU/ZS4kOmRvY3VtZW50KS5jcmVhdGVDb21tZW50KGEpKTtDS0VESVRPUi5kb20uZG9tT2JqZWN0LmNhbGwodGhpcyxcbmEpfSxDS0VESVRPUi5kb20uY29tbWVudC5wcm90b3R5cGU9bmV3IENLRURJVE9SLmRvbS5ub2RlLENLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5kb20uY29tbWVudC5wcm90b3R5cGUse3R5cGU6Q0tFRElUT1IuTk9ERV9DT01NRU5ULGdldE91dGVySHRtbDpmdW5jdGlvbigpe3JldHVyblwiXFx4M2MhLS1cIit0aGlzLiQubm9kZVZhbHVlK1wiLS1cXHgzZVwifX0pLFwidXNlIHN0cmljdFwiLGZ1bmN0aW9uKCl7dmFyIGE9e30sZT17fSxiO2ZvcihiIGluIENLRURJVE9SLmR0ZC4kYmxvY2tMaW1pdCliIGluIENLRURJVE9SLmR0ZC4kbGlzdHx8KGFbYl09MSk7Zm9yKGIgaW4gQ0tFRElUT1IuZHRkLiRibG9jayliIGluIENLRURJVE9SLmR0ZC4kYmxvY2tMaW1pdHx8YiBpbiBDS0VESVRPUi5kdGQuJGVtcHR5fHwoZVtiXT0xKTtDS0VESVRPUi5kb20uZWxlbWVudFBhdGg9ZnVuY3Rpb24oYixkKXt2YXIgbD1udWxsLG09bnVsbCxmPVtdLGg9YixrO2Q9ZHx8Yi5nZXREb2N1bWVudCgpLmdldEJvZHkoKTtcbmRvIGlmKGgudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKXtmLnB1c2goaCk7aWYoIXRoaXMubGFzdEVsZW1lbnQmJih0aGlzLmxhc3RFbGVtZW50PWgsaC5pcyhDS0VESVRPUi5kdGQuJG9iamVjdCl8fFwiZmFsc2VcIj09aC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpKWNvbnRpbnVlO2lmKGguZXF1YWxzKGQpKWJyZWFrO2lmKCFtJiYoaz1oLmdldE5hbWUoKSxcInRydWVcIj09aC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIik/bT1oOiFsJiZlW2tdJiYobD1oKSxhW2tdKSl7aWYoaz0hbCYmXCJkaXZcIj09ayl7YTp7az1oLmdldENoaWxkcmVuKCk7Zm9yKHZhciBnPTAsbj1rLmNvdW50KCk7ZzxuO2crKyl7dmFyIHY9ay5nZXRJdGVtKGcpO2lmKHYudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZDS0VESVRPUi5kdGQuJGJsb2NrW3YuZ2V0TmFtZSgpXSl7az0hMDticmVhayBhfX1rPSExfWs9IWt9az9sPWg6bT1ofX13aGlsZShoPWguZ2V0UGFyZW50KCkpO218fFxuKG09ZCk7dGhpcy5ibG9jaz1sO3RoaXMuYmxvY2tMaW1pdD1tO3RoaXMucm9vdD1kO3RoaXMuZWxlbWVudHM9Zn19KCksQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoLnByb3RvdHlwZT17Y29tcGFyZTpmdW5jdGlvbihhKXt2YXIgZT10aGlzLmVsZW1lbnRzO2E9YSYmYS5lbGVtZW50cztpZighYXx8ZS5sZW5ndGghPWEubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgYj0wO2I8ZS5sZW5ndGg7YisrKWlmKCFlW2JdLmVxdWFscyhhW2JdKSlyZXR1cm4hMTtyZXR1cm4hMH0sY29udGFpbnM6ZnVuY3Rpb24oYSxlLGIpe3ZhciBjO1wic3RyaW5nXCI9PXR5cGVvZiBhJiYoYz1mdW5jdGlvbihiKXtyZXR1cm4gYi5nZXROYW1lKCk9PWF9KTthIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLmVsZW1lbnQ/Yz1mdW5jdGlvbihiKXtyZXR1cm4gYi5lcXVhbHMoYSl9OkNLRURJVE9SLnRvb2xzLmlzQXJyYXkoYSk/Yz1mdW5jdGlvbihiKXtyZXR1cm4tMTxDS0VESVRPUi50b29scy5pbmRleE9mKGEsYi5nZXROYW1lKCkpfTpcblwiZnVuY3Rpb25cIj09dHlwZW9mIGE/Yz1hOlwib2JqZWN0XCI9PXR5cGVvZiBhJiYoYz1mdW5jdGlvbihiKXtyZXR1cm4gYi5nZXROYW1lKClpbiBhfSk7dmFyIGQ9dGhpcy5lbGVtZW50cyxsPWQubGVuZ3RoO2UmJmwtLTtiJiYoZD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChkLDApLGQucmV2ZXJzZSgpKTtmb3IoZT0wO2U8bDtlKyspaWYoYyhkW2VdKSlyZXR1cm4gZFtlXTtyZXR1cm4gbnVsbH0saXNDb250ZXh0Rm9yOmZ1bmN0aW9uKGEpe3ZhciBlO3JldHVybiBhIGluIENLRURJVE9SLmR0ZC4kYmxvY2s/KGU9dGhpcy5jb250YWlucyhDS0VESVRPUi5kdGQuJGludGVybWVkaWF0ZSl8fHRoaXMucm9vdC5lcXVhbHModGhpcy5ibG9jaykmJnRoaXMuYmxvY2t8fHRoaXMuYmxvY2tMaW1pdCwhIWUuZ2V0RHRkKClbYV0pOiEwfSxkaXJlY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5ibG9ja3x8dGhpcy5ibG9ja0xpbWl0fHx0aGlzLnJvb3QpLmdldERpcmVjdGlvbigxKX19LENLRURJVE9SLmRvbS50ZXh0PVxuZnVuY3Rpb24oYSxlKXtcInN0cmluZ1wiPT10eXBlb2YgYSYmKGE9KGU/ZS4kOmRvY3VtZW50KS5jcmVhdGVUZXh0Tm9kZShhKSk7dGhpcy4kPWF9LENLRURJVE9SLmRvbS50ZXh0LnByb3RvdHlwZT1uZXcgQ0tFRElUT1IuZG9tLm5vZGUsQ0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLmRvbS50ZXh0LnByb3RvdHlwZSx7dHlwZTpDS0VESVRPUi5OT0RFX1RFWFQsZ2V0TGVuZ3RoOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC5ub2RlVmFsdWUubGVuZ3RofSxnZXRUZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC5ub2RlVmFsdWV9LHNldFRleHQ6ZnVuY3Rpb24oYSl7dGhpcy4kLm5vZGVWYWx1ZT1hfSxzcGxpdDpmdW5jdGlvbihhKXt2YXIgZT10aGlzLiQucGFyZW50Tm9kZSxiPWUuY2hpbGROb2Rlcy5sZW5ndGgsYz10aGlzLmdldExlbmd0aCgpLGQ9dGhpcy5nZXREb2N1bWVudCgpLGw9bmV3IENLRURJVE9SLmRvbS50ZXh0KHRoaXMuJC5zcGxpdFRleHQoYSksZCk7ZS5jaGlsZE5vZGVzLmxlbmd0aD09XG5iJiYoYT49Yz8obD1kLmNyZWF0ZVRleHQoXCJcIiksbC5pbnNlcnRBZnRlcih0aGlzKSk6KGE9ZC5jcmVhdGVUZXh0KFwiXCIpLGEuaW5zZXJ0QWZ0ZXIobCksYS5yZW1vdmUoKSkpO3JldHVybiBsfSxzdWJzdHJpbmc6ZnVuY3Rpb24oYSxlKXtyZXR1cm5cIm51bWJlclwiIT10eXBlb2YgZT90aGlzLiQubm9kZVZhbHVlLnN1YnN0cihhKTp0aGlzLiQubm9kZVZhbHVlLnN1YnN0cmluZyhhLGUpfX0pLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGMsZCl7dmFyIGU9YS5zZXJpYWxpemFibGUsbT1jW2Q/XCJlbmRDb250YWluZXJcIjpcInN0YXJ0Q29udGFpbmVyXCJdLGY9ZD9cImVuZE9mZnNldFwiOlwic3RhcnRPZmZzZXRcIixoPWU/Yy5kb2N1bWVudC5nZXRCeUlkKGEuc3RhcnROb2RlKTphLnN0YXJ0Tm9kZTthPWU/Yy5kb2N1bWVudC5nZXRCeUlkKGEuZW5kTm9kZSk6YS5lbmROb2RlO20uZXF1YWxzKGguZ2V0UHJldmlvdXMoKSk/KGMuc3RhcnRPZmZzZXQ9Yy5zdGFydE9mZnNldC1tLmdldExlbmd0aCgpLVxuYS5nZXRQcmV2aW91cygpLmdldExlbmd0aCgpLG09YS5nZXROZXh0KCkpOm0uZXF1YWxzKGEuZ2V0UHJldmlvdXMoKSkmJihjLnN0YXJ0T2Zmc2V0LT1tLmdldExlbmd0aCgpLG09YS5nZXROZXh0KCkpO20uZXF1YWxzKGguZ2V0UGFyZW50KCkpJiZjW2ZdKys7bS5lcXVhbHMoYS5nZXRQYXJlbnQoKSkmJmNbZl0rKztjW2Q/XCJlbmRDb250YWluZXJcIjpcInN0YXJ0Q29udGFpbmVyXCJdPW07cmV0dXJuIGN9Q0tFRElUT1IuZG9tLnJhbmdlTGlzdD1mdW5jdGlvbihhKXtpZihhIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLnJhbmdlTGlzdClyZXR1cm4gYTthP2EgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20ucmFuZ2UmJihhPVthXSk6YT1bXTtyZXR1cm4gQ0tFRElUT1IudG9vbHMuZXh0ZW5kKGEsZSl9O3ZhciBlPXtjcmVhdGVJdGVyYXRvcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYz1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKCksZD1bXSxlO3JldHVybntnZXROZXh0UmFuZ2U6ZnVuY3Rpb24obSl7ZT1cbnZvaWQgMD09PWU/MDplKzE7dmFyIGY9YVtlXTtpZihmJiYxPGEubGVuZ3RoKXtpZighZSlmb3IodmFyIGg9YS5sZW5ndGgtMTswPD1oO2gtLSlkLnVuc2hpZnQoYVtoXS5jcmVhdGVCb29rbWFyayghMCkpO2lmKG0pZm9yKHZhciBrPTA7YVtlK2srMV07KXt2YXIgZz1mLmRvY3VtZW50O209MDtoPWcuZ2V0QnlJZChkW2tdLmVuZE5vZGUpO2ZvcihnPWcuZ2V0QnlJZChkW2srMV0uc3RhcnROb2RlKTs7KXtoPWguZ2V0TmV4dFNvdXJjZU5vZGUoITEpO2lmKGcuZXF1YWxzKGgpKW09MTtlbHNlIGlmKGMoaCl8fGgudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZoLmlzQmxvY2tCb3VuZGFyeSgpKWNvbnRpbnVlO2JyZWFrfWlmKCFtKWJyZWFrO2srK31mb3IoZi5tb3ZlVG9Cb29rbWFyayhkLnNoaWZ0KCkpO2stLTspaD1hWysrZV0saC5tb3ZlVG9Cb29rbWFyayhkLnNoaWZ0KCkpLGYuc2V0RW5kKGguZW5kQ29udGFpbmVyLGguZW5kT2Zmc2V0KX1yZXR1cm4gZn19fSxjcmVhdGVCb29rbWFya3M6ZnVuY3Rpb24oYil7Zm9yKHZhciBjPVxuW10sZCxlPTA7ZTx0aGlzLmxlbmd0aDtlKyspe2MucHVzaChkPXRoaXNbZV0uY3JlYXRlQm9va21hcmsoYiwhMCkpO2Zvcih2YXIgbT1lKzE7bTx0aGlzLmxlbmd0aDttKyspdGhpc1ttXT1hKGQsdGhpc1ttXSksdGhpc1ttXT1hKGQsdGhpc1ttXSwhMCl9cmV0dXJuIGN9LGNyZWF0ZUJvb2ttYXJrczI6ZnVuY3Rpb24oYSl7Zm9yKHZhciBjPVtdLGQ9MDtkPHRoaXMubGVuZ3RoO2QrKyljLnB1c2godGhpc1tkXS5jcmVhdGVCb29rbWFyazIoYSkpO3JldHVybiBjfSxtb3ZlVG9Cb29rbWFya3M6ZnVuY3Rpb24oYSl7Zm9yKHZhciBjPTA7Yzx0aGlzLmxlbmd0aDtjKyspdGhpc1tjXS5tb3ZlVG9Cb29rbWFyayhhW2NdKX19fSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe3JldHVybiBDS0VESVRPUi5nZXRVcmwoQ0tFRElUT1Iuc2tpbk5hbWUuc3BsaXQoXCIsXCIpWzFdfHxcInNraW5zL1wiK0NLRURJVE9SLnNraW5OYW1lLnNwbGl0KFwiLFwiKVswXStcIi9cIil9ZnVuY3Rpb24gZShiKXt2YXIgYz1cbkNLRURJVE9SLnNraW5bXCJ1YV9cIitiXSxkPUNLRURJVE9SLmVudjtpZihjKWZvcih2YXIgYz1jLnNwbGl0KFwiLFwiKS5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGE+Yj8tMToxfSksZj0wLGU7ZjxjLmxlbmd0aDtmKyspaWYoZT1jW2ZdLGQuaWUmJihlLnJlcGxhY2UoL15pZS8sXCJcIik9PWQudmVyc2lvbnx8ZC5xdWlya3MmJlwiaWVxdWlya3NcIj09ZSkmJihlPVwiaWVcIiksZFtlXSl7Yis9XCJfXCIrY1tmXTticmVha31yZXR1cm4gQ0tFRElUT1IuZ2V0VXJsKGEoKStiK1wiLmNzc1wiKX1mdW5jdGlvbiBiKGEsYil7bFthXXx8KENLRURJVE9SLmRvY3VtZW50LmFwcGVuZFN0eWxlU2hlZXQoZShhKSksbFthXT0xKTtiJiZiKCl9ZnVuY3Rpb24gYyhhKXt2YXIgYj1hLmdldEJ5SWQobSk7Ynx8KGI9YS5nZXRIZWFkKCkuYXBwZW5kKFwic3R5bGVcIiksYi5zZXRBdHRyaWJ1dGUoXCJpZFwiLG0pLGIuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwidGV4dC9jc3NcIikpO3JldHVybiBifWZ1bmN0aW9uIGQoYSxiLGMpe3ZhciBkLFxuZixlO2lmKENLRURJVE9SLmVudi53ZWJraXQpZm9yKGI9Yi5zcGxpdChcIn1cIikuc2xpY2UoMCwtMSksZj0wO2Y8Yi5sZW5ndGg7ZisrKWJbZl09YltmXS5zcGxpdChcIntcIik7Zm9yKHZhciBoPTA7aDxhLmxlbmd0aDtoKyspaWYoQ0tFRElUT1IuZW52LndlYmtpdClmb3IoZj0wO2Y8Yi5sZW5ndGg7ZisrKXtlPWJbZl1bMV07Zm9yKGQ9MDtkPGMubGVuZ3RoO2QrKyllPWUucmVwbGFjZShjW2RdWzBdLGNbZF1bMV0pO2FbaF0uJC5zaGVldC5hZGRSdWxlKGJbZl1bMF0sZSl9ZWxzZXtlPWI7Zm9yKGQ9MDtkPGMubGVuZ3RoO2QrKyllPWUucmVwbGFjZShjW2RdWzBdLGNbZF1bMV0pO0NLRURJVE9SLmVudi5pZSYmMTE+Q0tFRElUT1IuZW52LnZlcnNpb24/YVtoXS4kLnN0eWxlU2hlZXQuY3NzVGV4dCs9ZTphW2hdLiQuaW5uZXJIVE1MKz1lfX12YXIgbD17fTtDS0VESVRPUi5za2luPXtwYXRoOmEsbG9hZFBhcnQ6ZnVuY3Rpb24oYyxkKXtDS0VESVRPUi5za2luLm5hbWUhPUNLRURJVE9SLnNraW5OYW1lLnNwbGl0KFwiLFwiKVswXT9cbkNLRURJVE9SLnNjcmlwdExvYWRlci5sb2FkKENLRURJVE9SLmdldFVybChhKCkrXCJza2luLmpzXCIpLGZ1bmN0aW9uKCl7YihjLGQpfSk6YihjLGQpfSxnZXRQYXRoOmZ1bmN0aW9uKGEpe3JldHVybiBDS0VESVRPUi5nZXRVcmwoZShhKSl9LGljb25zOnt9LGFkZEljb246ZnVuY3Rpb24oYSxiLGMsZCl7YT1hLnRvTG93ZXJDYXNlKCk7dGhpcy5pY29uc1thXXx8KHRoaXMuaWNvbnNbYV09e3BhdGg6YixvZmZzZXQ6Y3x8MCxiZ3NpemU6ZHx8XCIxNnB4XCJ9KX0sZ2V0SWNvblN0eWxlOmZ1bmN0aW9uKGEsYixjLGQsZil7dmFyIGU7YSYmKGE9YS50b0xvd2VyQ2FzZSgpLGImJihlPXRoaXMuaWNvbnNbYStcIi1ydGxcIl0pLGV8fChlPXRoaXMuaWNvbnNbYV0pKTthPWN8fGUmJmUucGF0aHx8XCJcIjtkPWR8fGUmJmUub2Zmc2V0O2Y9Znx8ZSYmZS5iZ3NpemV8fFwiMTZweFwiO2EmJihhPWEucmVwbGFjZSgvJy9nLFwiXFxcXCdcIikpO3JldHVybiBhJiZcImJhY2tncm91bmQtaW1hZ2U6dXJsKCdcIitDS0VESVRPUi5nZXRVcmwoYSkrXG5cIicpO2JhY2tncm91bmQtcG9zaXRpb246MCBcIitkK1wicHg7YmFja2dyb3VuZC1zaXplOlwiK2YrXCI7XCJ9fTtDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZSx7Z2V0VWlDb2xvcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnVpQ29sb3J9LHNldFVpQ29sb3I6ZnVuY3Rpb24oYSl7dmFyIGI9YyhDS0VESVRPUi5kb2N1bWVudCk7cmV0dXJuKHRoaXMuc2V0VWlDb2xvcj1mdW5jdGlvbihhKXt0aGlzLnVpQ29sb3I9YTt2YXIgYz1DS0VESVRPUi5za2luLmNoYW1lbGVvbixlPVwiXCIsaz1cIlwiO1wiZnVuY3Rpb25cIj09dHlwZW9mIGMmJihlPWModGhpcyxcImVkaXRvclwiKSxrPWModGhpcyxcInBhbmVsXCIpKTthPVtbaCxhXV07ZChbYl0sZSxhKTtkKGYsayxhKX0pLmNhbGwodGhpcyxhKX19KTt2YXIgbT1cImNrZV91aV9jb2xvclwiLGY9W10saD0vXFwkY29sb3IvZztDS0VESVRPUi5vbihcImluc3RhbmNlTG9hZGVkXCIsZnVuY3Rpb24oYSl7aWYoIUNLRURJVE9SLmVudi5pZXx8XG4hQ0tFRElUT1IuZW52LnF1aXJrcyl7dmFyIGI9YS5lZGl0b3I7YT1mdW5jdGlvbihhKXthPShhLmRhdGFbMF18fGEuZGF0YSkuZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnKFwiaWZyYW1lXCIpLmdldEl0ZW0oMCkuZ2V0RnJhbWVEb2N1bWVudCgpO2lmKCFhLmdldEJ5SWQoXCJja2VfdWlfY29sb3JcIikpe2E9YyhhKTtmLnB1c2goYSk7dmFyIGU9Yi5nZXRVaUNvbG9yKCk7ZSYmZChbYV0sQ0tFRElUT1Iuc2tpbi5jaGFtZWxlb24oYixcInBhbmVsXCIpLFtbaCxlXV0pfX07Yi5vbihcInBhbmVsU2hvd1wiLGEpO2Iub24oXCJtZW51U2hvd1wiLGEpO2IuY29uZmlnLnVpQ29sb3ImJmIuc2V0VWlDb2xvcihiLmNvbmZpZy51aUNvbG9yKX19KX0oKSxmdW5jdGlvbigpe2lmKENLRURJVE9SLmVudi53ZWJraXQpQ0tFRElUT1IuZW52LmhjPSExO2Vsc2V7dmFyIGE9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoJ1xceDNjZGl2IHN0eWxlXFx4M2RcIndpZHRoOjA7aGVpZ2h0OjA7cG9zaXRpb246YWJzb2x1dGU7bGVmdDotMTAwMDBweDtib3JkZXI6MXB4IHNvbGlkO2JvcmRlci1jb2xvcjpyZWQgYmx1ZVwiXFx4M2VcXHgzYy9kaXZcXHgzZScsXG5DS0VESVRPUi5kb2N1bWVudCk7YS5hcHBlbmRUbyhDS0VESVRPUi5kb2N1bWVudC5nZXRIZWFkKCkpO3RyeXt2YXIgZT1hLmdldENvbXB1dGVkU3R5bGUoXCJib3JkZXItdG9wLWNvbG9yXCIpLGI9YS5nZXRDb21wdXRlZFN0eWxlKFwiYm9yZGVyLXJpZ2h0LWNvbG9yXCIpO0NLRURJVE9SLmVudi5oYz0hKCFlfHxlIT1iKX1jYXRjaChjKXtDS0VESVRPUi5lbnYuaGM9ITF9YS5yZW1vdmUoKX1DS0VESVRPUi5lbnYuaGMmJihDS0VESVRPUi5lbnYuY3NzQ2xhc3MrPVwiIGNrZV9oY1wiKTtDS0VESVRPUi5kb2N1bWVudC5hcHBlbmRTdHlsZVRleHQoXCIuY2tle3Zpc2liaWxpdHk6aGlkZGVuO31cIik7Q0tFRElUT1Iuc3RhdHVzPVwibG9hZGVkXCI7Q0tFRElUT1IuZmlyZU9uY2UoXCJsb2FkZWRcIik7aWYoYT1DS0VESVRPUi5fLnBlbmRpbmcpZm9yKGRlbGV0ZSBDS0VESVRPUi5fLnBlbmRpbmcsZT0wO2U8YS5sZW5ndGg7ZSsrKUNLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuY29uc3RydWN0b3IuYXBwbHkoYVtlXVswXSxcbmFbZV1bMV0pLENLRURJVE9SLmFkZChhW2VdWzBdKX0oKSxDS0VESVRPUi5za2luLm5hbWU9XCJtb29ub1wiLENLRURJVE9SLnNraW4udWFfZWRpdG9yPVwiaWUsaWVxdWlya3MsaWU3LGllOCxnZWNrb1wiLENLRURJVE9SLnNraW4udWFfZGlhbG9nPVwiaWUsaWVxdWlya3MsaWU3LGllOFwiLENLRURJVE9SLnNraW4uY2hhbWVsZW9uPWZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSxiKXtmb3IodmFyIGU9YS5tYXRjaCgvW14jXS4vZyksbT0wOzM+bTttKyspe3ZhciBmPW0saDtoPXBhcnNlSW50KGVbbV0sMTYpO2g9KFwiMFwiKygwPmI/MHxoKigxK2IpOjB8aCsoMjU1LWgpKmIpLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpO2VbZl09aH1yZXR1cm5cIiNcIitlLmpvaW4oXCJcIil9fSgpLGU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQ0tFRElUT1IudGVtcGxhdGUoXCJiYWNrZ3JvdW5kOiN7dG99O2JhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSx7ZnJvbX0se3RvfSk7ZmlsdGVyOnByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5ncmFkaWVudChncmFkaWVudFR5cGVcXHgzZDAsc3RhcnRDb2xvcnN0clxceDNkJ3tmcm9tfScsZW5kQ29sb3JzdHJcXHgzZCd7dG99Jyk7XCIpO1xucmV0dXJuIGZ1bmN0aW9uKGIsZSl7cmV0dXJuIGEub3V0cHV0KHtmcm9tOmIsdG86ZX0pfX0oKSxiPXtlZGl0b3I6bmV3IENLRURJVE9SLnRlbXBsYXRlKFwie2lkfS5ja2VfY2hyb21lIFtib3JkZXItY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10ge2lkfSAuY2tlX3RvcCBbIHtkZWZhdWx0R3JhZGllbnR9Ym9yZGVyLWJvdHRvbS1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07XSB7aWR9IC5ja2VfYm90dG9tIFt7ZGVmYXVsdEdyYWRpZW50fWJvcmRlci10b3AtY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10ge2lkfSAuY2tlX3Jlc2l6ZXIgW2JvcmRlci1yaWdodC1jb2xvcjp7Y2tlUmVzaXplcn1dIHtpZH0gLmNrZV9kaWFsb2dfdGl0bGUgW3tkZWZhdWx0R3JhZGllbnR9Ym9yZGVyLWJvdHRvbS1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07XSB7aWR9IC5ja2VfZGlhbG9nX2Zvb3RlciBbe2RlZmF1bHRHcmFkaWVudH1vdXRsaW5lLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtib3JkZXItdG9wLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtdIHtpZH0gLmNrZV9kaWFsb2dfdGFiIFt7bGlnaHRHcmFkaWVudH1ib3JkZXItY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10ge2lkfSAuY2tlX2RpYWxvZ190YWI6aG92ZXIgW3ttZWRpdW1HcmFkaWVudH1dIHtpZH0gLmNrZV9kaWFsb2dfY29udGVudHMgW2JvcmRlci10b3AtY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10ge2lkfSAuY2tlX2RpYWxvZ190YWJfc2VsZWN0ZWQsIHtpZH0gLmNrZV9kaWFsb2dfdGFiX3NlbGVjdGVkOmhvdmVyIFtiYWNrZ3JvdW5kOntkaWFsb2dUYWJTZWxlY3RlZH07Ym9yZGVyLWJvdHRvbS1jb2xvcjp7ZGlhbG9nVGFiU2VsZWN0ZWRCb3JkZXJ9O10ge2lkfSAuY2tlX2RpYWxvZ19ib2R5IFtiYWNrZ3JvdW5kOntkaWFsb2dCb2R5fTtib3JkZXItY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10ge2lkfSAuY2tlX3Rvb2xncm91cCBbe2xpZ2h0R3JhZGllbnR9Ym9yZGVyLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtdIHtpZH0gYS5ja2VfYnV0dG9uX29mZjpob3Zlciwge2lkfSBhLmNrZV9idXR0b25fb2ZmOmZvY3VzLCB7aWR9IGEuY2tlX2J1dHRvbl9vZmY6YWN0aXZlIFt7bWVkaXVtR3JhZGllbnR9XSB7aWR9IC5ja2VfYnV0dG9uX29uIFt7Y2tlQnV0dG9uT259XSB7aWR9IC5ja2VfdG9vbGJhcl9zZXBhcmF0b3IgW2JhY2tncm91bmQtY29sb3I6IHtja2VUb29sYmFyU2VwYXJhdG9yfTtdIHtpZH0gLmNrZV9jb21ib19idXR0b24gW2JvcmRlci1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07e2xpZ2h0R3JhZGllbnR9XSB7aWR9IGEuY2tlX2NvbWJvX2J1dHRvbjpob3Zlciwge2lkfSBhLmNrZV9jb21ib19idXR0b246Zm9jdXMsIHtpZH0gLmNrZV9jb21ib19vbiBhLmNrZV9jb21ib19idXR0b24gW2JvcmRlci1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07e21lZGl1bUdyYWRpZW50fV0ge2lkfSAuY2tlX3BhdGhfaXRlbSBbY29sb3I6e2VsZW1lbnRzUGF0aENvbG9yfTtdIHtpZH0gYS5ja2VfcGF0aF9pdGVtOmhvdmVyLCB7aWR9IGEuY2tlX3BhdGhfaXRlbTpmb2N1cywge2lkfSBhLmNrZV9wYXRoX2l0ZW06YWN0aXZlIFtiYWNrZ3JvdW5kLWNvbG9yOntlbGVtZW50c1BhdGhCZ307XSB7aWR9LmNrZV9wYW5lbCBbYm9yZGVyLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtdIFwiKSxcbnBhbmVsOm5ldyBDS0VESVRPUi50ZW1wbGF0ZShcIi5ja2VfcGFuZWxfZ3JvdXB0aXRsZSBbe2xpZ2h0R3JhZGllbnR9Ym9yZGVyLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtdIC5ja2VfbWVudWJ1dHRvbl9pY29uIFtiYWNrZ3JvdW5kLWNvbG9yOnttZW51YnV0dG9uSWNvbn07XSAuY2tlX21lbnVidXR0b246aG92ZXIgLmNrZV9tZW51YnV0dG9uX2ljb24sIC5ja2VfbWVudWJ1dHRvbjpmb2N1cyAuY2tlX21lbnVidXR0b25faWNvbiwgLmNrZV9tZW51YnV0dG9uOmFjdGl2ZSAuY2tlX21lbnVidXR0b25faWNvbiBbYmFja2dyb3VuZC1jb2xvcjp7bWVudWJ1dHRvbkljb25Ib3Zlcn07XSAuY2tlX21lbnVzZXBhcmF0b3IgW2JhY2tncm91bmQtY29sb3I6e21lbnVidXR0b25JY29ufTtdIGE6aG92ZXIuY2tlX2NvbG9yYm94LCBhOmZvY3VzLmNrZV9jb2xvcmJveCwgYTphY3RpdmUuY2tlX2NvbG9yYm94IFtib3JkZXItY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10gYTpob3Zlci5ja2VfY29sb3JhdXRvLCBhOmhvdmVyLmNrZV9jb2xvcm1vcmUsIGE6Zm9jdXMuY2tlX2NvbG9yYXV0bywgYTpmb2N1cy5ja2VfY29sb3Jtb3JlLCBhOmFjdGl2ZS5ja2VfY29sb3JhdXRvLCBhOmFjdGl2ZS5ja2VfY29sb3Jtb3JlIFtiYWNrZ3JvdW5kLWNvbG9yOntja2VDb2xvcmF1dG99O2JvcmRlci1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07XSBcIil9O1xucmV0dXJuIGZ1bmN0aW9uKGMsZCl7dmFyIGw9Yy51aUNvbG9yLGw9e2lkOlwiLlwiK2MuaWQsZGVmYXVsdEJvcmRlcjphKGwsLS4xKSxkZWZhdWx0R3JhZGllbnQ6ZShhKGwsLjkpLGwpLGxpZ2h0R3JhZGllbnQ6ZShhKGwsMSksYShsLC43KSksbWVkaXVtR3JhZGllbnQ6ZShhKGwsLjgpLGEobCwuNSkpLGNrZUJ1dHRvbk9uOmUoYShsLC42KSxhKGwsLjcpKSxja2VSZXNpemVyOmEobCwtLjQpLGNrZVRvb2xiYXJTZXBhcmF0b3I6YShsLC41KSxja2VDb2xvcmF1dG86YShsLC44KSxkaWFsb2dCb2R5OmEobCwuNyksZGlhbG9nVGFiU2VsZWN0ZWQ6ZShcIiNGRkZGRkZcIixcIiNGRkZGRkZcIiksZGlhbG9nVGFiU2VsZWN0ZWRCb3JkZXI6XCIjRkZGXCIsZWxlbWVudHNQYXRoQ29sb3I6YShsLC0uNiksZWxlbWVudHNQYXRoQmc6bCxtZW51YnV0dG9uSWNvbjphKGwsLjUpLG1lbnVidXR0b25JY29uSG92ZXI6YShsLC4zKX07cmV0dXJuIGJbZF0ub3V0cHV0KGwpLnJlcGxhY2UoL1xcWy9nLFwie1wiKS5yZXBsYWNlKC9cXF0vZyxcblwifVwiKX19KCksQ0tFRElUT1IucGx1Z2lucy5hZGQoXCJkaWFsb2d1aVwiLHtvbkxvYWQ6ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbihhKXt0aGlzLl98fCh0aGlzLl89e30pO3RoaXMuX1tcImRlZmF1bHRcIl09dGhpcy5fLmluaXRWYWx1ZT1hW1wiZGVmYXVsdFwiXXx8XCJcIjt0aGlzLl8ucmVxdWlyZWQ9YS5yZXF1aXJlZHx8ITE7Zm9yKHZhciBiPVt0aGlzLl9dLGM9MTtjPGFyZ3VtZW50cy5sZW5ndGg7YysrKWIucHVzaChhcmd1bWVudHNbY10pO2IucHVzaCghMCk7Q0tFRElUT1IudG9vbHMuZXh0ZW5kLmFwcGx5KENLRURJVE9SLnRvb2xzLGIpO3JldHVybiB0aGlzLl99LGU9e2J1aWxkOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbmV3IENLRURJVE9SLnVpLmRpYWxvZy50ZXh0SW5wdXQoYSxiLGMpfX0sYj17YnVpbGQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBuZXcgQ0tFRElUT1IudWkuZGlhbG9nW2IudHlwZV0oYSxiLGMpfX0sYz17aXNDaGFuZ2VkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VmFsdWUoKSE9XG50aGlzLmdldEluaXRWYWx1ZSgpfSxyZXNldDpmdW5jdGlvbihhKXt0aGlzLnNldFZhbHVlKHRoaXMuZ2V0SW5pdFZhbHVlKCksYSl9LHNldEluaXRWYWx1ZTpmdW5jdGlvbigpe3RoaXMuXy5pbml0VmFsdWU9dGhpcy5nZXRWYWx1ZSgpfSxyZXNldEluaXRWYWx1ZTpmdW5jdGlvbigpe3RoaXMuXy5pbml0VmFsdWU9dGhpcy5fW1wiZGVmYXVsdFwiXX0sZ2V0SW5pdFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5pbml0VmFsdWV9fSxkPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LnByb3RvdHlwZS5ldmVudFByb2Nlc3NvcnMse29uQ2hhbmdlOmZ1bmN0aW9uKGEsYil7dGhpcy5fLmRvbU9uQ2hhbmdlUmVnaXN0ZXJlZHx8KGEub24oXCJsb2FkXCIsZnVuY3Rpb24oKXt0aGlzLmdldElucHV0RWxlbWVudCgpLm9uKFwiY2hhbmdlXCIsZnVuY3Rpb24oKXthLnBhcnRzLmRpYWxvZy5pc1Zpc2libGUoKSYmdGhpcy5maXJlKFwiY2hhbmdlXCIse3ZhbHVlOnRoaXMuZ2V0VmFsdWUoKX0pfSxcbnRoaXMpfSx0aGlzKSx0aGlzLl8uZG9tT25DaGFuZ2VSZWdpc3RlcmVkPSEwKTt0aGlzLm9uKFwiY2hhbmdlXCIsYil9fSwhMCksbD0vXm9uKFtBLVpdXFx3KykvLG09ZnVuY3Rpb24oYSl7Zm9yKHZhciBiIGluIGEpKGwudGVzdChiKXx8XCJ0aXRsZVwiPT1ifHxcInR5cGVcIj09YikmJmRlbGV0ZSBhW2JdO3JldHVybiBhfSxmPWZ1bmN0aW9uKGEpe2E9YS5kYXRhLmdldEtleXN0cm9rZSgpO2E9PUNLRURJVE9SLlNISUZUK0NLRURJVE9SLkFMVCszNj90aGlzLnNldERpcmVjdGlvbk1hcmtlcihcImx0clwiKTphPT1DS0VESVRPUi5TSElGVCtDS0VESVRPUi5BTFQrMzUmJnRoaXMuc2V0RGlyZWN0aW9uTWFya2VyKFwicnRsXCIpfTtDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IudWkuZGlhbG9nLHtsYWJlbGVkRWxlbWVudDpmdW5jdGlvbihiLGMsZCxmKXtpZighKDQ+YXJndW1lbnRzLmxlbmd0aCkpe3ZhciBlPWEuY2FsbCh0aGlzLGMpO2UubGFiZWxJZD1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKStcblwiX2xhYmVsXCI7dGhpcy5fLmNoaWxkcmVuPVtdO3ZhciBsPXtyb2xlOmMucm9sZXx8XCJwcmVzZW50YXRpb25cIn07Yy5pbmNsdWRlTGFiZWwmJihsW1wiYXJpYS1sYWJlbGxlZGJ5XCJdPWUubGFiZWxJZCk7Q0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudC5jYWxsKHRoaXMsYixjLGQsXCJkaXZcIixudWxsLGwsZnVuY3Rpb24oKXt2YXIgYT1bXSxkPWMucmVxdWlyZWQ/XCIgY2tlX3JlcXVpcmVkXCI6XCJcIjtcImhvcml6b250YWxcIiE9Yy5sYWJlbExheW91dD9hLnB1c2goJ1xceDNjbGFiZWwgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ191aV9sYWJlbGVkX2xhYmVsJytkKydcIiAnLCcgaWRcXHgzZFwiJytlLmxhYmVsSWQrJ1wiJyxlLmlucHV0SWQ/JyBmb3JcXHgzZFwiJytlLmlucHV0SWQrJ1wiJzpcIlwiLChjLmxhYmVsU3R5bGU/JyBzdHlsZVxceDNkXCInK2MubGFiZWxTdHlsZSsnXCInOlwiXCIpK1wiXFx4M2VcIixjLmxhYmVsLFwiXFx4M2MvbGFiZWxcXHgzZVwiLCdcXHgzY2RpdiBjbGFzc1xceDNkXCJja2VfZGlhbG9nX3VpX2xhYmVsZWRfY29udGVudFwiJyxcbmMuY29udHJvbFN0eWxlPycgc3R5bGVcXHgzZFwiJytjLmNvbnRyb2xTdHlsZSsnXCInOlwiXCIsJyByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiXFx4M2UnLGYuY2FsbCh0aGlzLGIsYyksXCJcXHgzYy9kaXZcXHgzZVwiKTooZD17dHlwZTpcImhib3hcIix3aWR0aHM6Yy53aWR0aHMscGFkZGluZzowLGNoaWxkcmVuOlt7dHlwZTpcImh0bWxcIixodG1sOidcXHgzY2xhYmVsIGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfdWlfbGFiZWxlZF9sYWJlbCcrZCsnXCIgaWRcXHgzZFwiJytlLmxhYmVsSWQrJ1wiIGZvclxceDNkXCInK2UuaW5wdXRJZCsnXCInKyhjLmxhYmVsU3R5bGU/JyBzdHlsZVxceDNkXCInK2MubGFiZWxTdHlsZSsnXCInOlwiXCIpK1wiXFx4M2VcIitDS0VESVRPUi50b29scy5odG1sRW5jb2RlKGMubGFiZWwpK1wiXFx4M2MvbGFiZWxcXHgzZVwifSx7dHlwZTpcImh0bWxcIixodG1sOidcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ191aV9sYWJlbGVkX2NvbnRlbnRcIicrKGMuY29udHJvbFN0eWxlPycgc3R5bGVcXHgzZFwiJytjLmNvbnRyb2xTdHlsZStcbidcIic6XCJcIikrXCJcXHgzZVwiK2YuY2FsbCh0aGlzLGIsYykrXCJcXHgzYy9zcGFuXFx4M2VcIn1dfSxDS0VESVRPUi5kaWFsb2cuXy51aUVsZW1lbnRCdWlsZGVycy5oYm94LmJ1aWxkKGIsZCxhKSk7cmV0dXJuIGEuam9pbihcIlwiKX0pfX0sdGV4dElucHV0OmZ1bmN0aW9uKGIsYyxkKXtpZighKDM+YXJndW1lbnRzLmxlbmd0aCkpe2EuY2FsbCh0aGlzLGMpO3ZhciBlPXRoaXMuXy5pbnB1dElkPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpK1wiX3RleHRJbnB1dFwiLGw9e1wiY2xhc3NcIjpcImNrZV9kaWFsb2dfdWlfaW5wdXRfXCIrYy50eXBlLGlkOmUsdHlwZTpjLnR5cGV9O2MudmFsaWRhdGUmJih0aGlzLnZhbGlkYXRlPWMudmFsaWRhdGUpO2MubWF4TGVuZ3RoJiYobC5tYXhsZW5ndGg9Yy5tYXhMZW5ndGgpO2Muc2l6ZSYmKGwuc2l6ZT1jLnNpemUpO2MuaW5wdXRTdHlsZSYmKGwuc3R5bGU9Yy5pbnB1dFN0eWxlKTt2YXIgbT10aGlzLHE9ITE7Yi5vbihcImxvYWRcIixmdW5jdGlvbigpe20uZ2V0SW5wdXRFbGVtZW50KCkub24oXCJrZXlkb3duXCIsXG5mdW5jdGlvbihhKXsxMz09YS5kYXRhLmdldEtleXN0cm9rZSgpJiYocT0hMCl9KTttLmdldElucHV0RWxlbWVudCgpLm9uKFwia2V5dXBcIixmdW5jdGlvbihhKXsxMz09YS5kYXRhLmdldEtleXN0cm9rZSgpJiZxJiYoYi5nZXRCdXR0b24oXCJva1wiKSYmc2V0VGltZW91dChmdW5jdGlvbigpe2IuZ2V0QnV0dG9uKFwib2tcIikuY2xpY2soKX0sMCkscT0hMSk7bS5iaWRpJiZmLmNhbGwobSxhKX0sbnVsbCxudWxsLDFFMyl9KTtDS0VESVRPUi51aS5kaWFsb2cubGFiZWxlZEVsZW1lbnQuY2FsbCh0aGlzLGIsYyxkLGZ1bmN0aW9uKCl7dmFyIGE9WydcXHgzY2RpdiBjbGFzc1xceDNkXCJja2VfZGlhbG9nX3VpX2lucHV0XycsYy50eXBlLCdcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiJ107Yy53aWR0aCYmYS5wdXNoKCdzdHlsZVxceDNkXCJ3aWR0aDonK2Mud2lkdGgrJ1wiICcpO2EucHVzaChcIlxceDNlXFx4M2NpbnB1dCBcIik7bFtcImFyaWEtbGFiZWxsZWRieVwiXT10aGlzLl8ubGFiZWxJZDt0aGlzLl8ucmVxdWlyZWQmJlxuKGxbXCJhcmlhLXJlcXVpcmVkXCJdPXRoaXMuXy5yZXF1aXJlZCk7Zm9yKHZhciBiIGluIGwpYS5wdXNoKGIrJ1xceDNkXCInK2xbYl0rJ1wiICcpO2EucHVzaChcIiAvXFx4M2VcXHgzYy9kaXZcXHgzZVwiKTtyZXR1cm4gYS5qb2luKFwiXCIpfSl9fSx0ZXh0YXJlYTpmdW5jdGlvbihiLGMsZCl7aWYoISgzPmFyZ3VtZW50cy5sZW5ndGgpKXthLmNhbGwodGhpcyxjKTt2YXIgZT10aGlzLGw9dGhpcy5fLmlucHV0SWQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCkrXCJfdGV4dGFyZWFcIixtPXt9O2MudmFsaWRhdGUmJih0aGlzLnZhbGlkYXRlPWMudmFsaWRhdGUpO20ucm93cz1jLnJvd3N8fDU7bS5jb2xzPWMuY29sc3x8MjA7bVtcImNsYXNzXCJdPVwiY2tlX2RpYWxvZ191aV9pbnB1dF90ZXh0YXJlYSBcIisoY1tcImNsYXNzXCJdfHxcIlwiKTtcInVuZGVmaW5lZFwiIT10eXBlb2YgYy5pbnB1dFN0eWxlJiYobS5zdHlsZT1jLmlucHV0U3R5bGUpO2MuZGlyJiYobS5kaXI9Yy5kaXIpO2lmKGUuYmlkaSliLm9uKFwibG9hZFwiLFxuZnVuY3Rpb24oKXtlLmdldElucHV0RWxlbWVudCgpLm9uKFwia2V5dXBcIixmKX0sZSk7Q0tFRElUT1IudWkuZGlhbG9nLmxhYmVsZWRFbGVtZW50LmNhbGwodGhpcyxiLGMsZCxmdW5jdGlvbigpe21bXCJhcmlhLWxhYmVsbGVkYnlcIl09dGhpcy5fLmxhYmVsSWQ7dGhpcy5fLnJlcXVpcmVkJiYobVtcImFyaWEtcmVxdWlyZWRcIl09dGhpcy5fLnJlcXVpcmVkKTt2YXIgYT1bJ1xceDNjZGl2IGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfdWlfaW5wdXRfdGV4dGFyZWFcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiXFx4M2VcXHgzY3RleHRhcmVhIGlkXFx4M2RcIicsbCwnXCIgJ10sYjtmb3IoYiBpbiBtKWEucHVzaChiKydcXHgzZFwiJytDS0VESVRPUi50b29scy5odG1sRW5jb2RlKG1bYl0pKydcIiAnKTthLnB1c2goXCJcXHgzZVwiLENLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoZS5fW1wiZGVmYXVsdFwiXSksXCJcXHgzYy90ZXh0YXJlYVxceDNlXFx4M2MvZGl2XFx4M2VcIik7cmV0dXJuIGEuam9pbihcIlwiKX0pfX0sY2hlY2tib3g6ZnVuY3Rpb24oYixcbmMsZCl7aWYoISgzPmFyZ3VtZW50cy5sZW5ndGgpKXt2YXIgZj1hLmNhbGwodGhpcyxjLHtcImRlZmF1bHRcIjohIWNbXCJkZWZhdWx0XCJdfSk7Yy52YWxpZGF0ZSYmKHRoaXMudmFsaWRhdGU9Yy52YWxpZGF0ZSk7Q0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudC5jYWxsKHRoaXMsYixjLGQsXCJzcGFuXCIsbnVsbCxudWxsLGZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LGMse2lkOmMuaWQ/Yy5pZCtcIl9jaGVja2JveFwiOkNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpK1wiX2NoZWNrYm94XCJ9LCEwKSxkPVtdLGU9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCkrXCJfbGFiZWxcIixnPXtcImNsYXNzXCI6XCJja2VfZGlhbG9nX3VpX2NoZWNrYm94X2lucHV0XCIsdHlwZTpcImNoZWNrYm94XCIsXCJhcmlhLWxhYmVsbGVkYnlcIjplfTttKGEpO2NbXCJkZWZhdWx0XCJdJiYoZy5jaGVja2VkPVwiY2hlY2tlZFwiKTtcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5pbnB1dFN0eWxlJiYoYS5zdHlsZT1hLmlucHV0U3R5bGUpO1xuZi5jaGVja2JveD1uZXcgQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudChiLGEsZCxcImlucHV0XCIsbnVsbCxnKTtkLnB1c2goJyBcXHgzY2xhYmVsIGlkXFx4M2RcIicsZSwnXCIgZm9yXFx4M2RcIicsZy5pZCwnXCInKyhjLmxhYmVsU3R5bGU/JyBzdHlsZVxceDNkXCInK2MubGFiZWxTdHlsZSsnXCInOlwiXCIpK1wiXFx4M2VcIixDS0VESVRPUi50b29scy5odG1sRW5jb2RlKGMubGFiZWwpLFwiXFx4M2MvbGFiZWxcXHgzZVwiKTtyZXR1cm4gZC5qb2luKFwiXCIpfSl9fSxyYWRpbzpmdW5jdGlvbihiLGMsZCl7aWYoISgzPmFyZ3VtZW50cy5sZW5ndGgpKXthLmNhbGwodGhpcyxjKTt0aGlzLl9bXCJkZWZhdWx0XCJdfHwodGhpcy5fW1wiZGVmYXVsdFwiXT10aGlzLl8uaW5pdFZhbHVlPWMuaXRlbXNbMF1bMV0pO2MudmFsaWRhdGUmJih0aGlzLnZhbGlkYXRlPWMudmFsaWRhdGUpO3ZhciBmPVtdLGU9dGhpcztjLnJvbGU9XCJyYWRpb2dyb3VwXCI7Yy5pbmNsdWRlTGFiZWw9ITA7Q0tFRElUT1IudWkuZGlhbG9nLmxhYmVsZWRFbGVtZW50LmNhbGwodGhpcyxcbmIsYyxkLGZ1bmN0aW9uKCl7Zm9yKHZhciBhPVtdLGQ9W10sZz0oYy5pZD9jLmlkOkNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpKStcIl9yYWRpb1wiLGw9MDtsPGMuaXRlbXMubGVuZ3RoO2wrKyl7dmFyIHc9Yy5pdGVtc1tsXSx6PXZvaWQgMCE9PXdbMl0/d1syXTp3WzBdLEE9dm9pZCAwIT09d1sxXT93WzFdOndbMF0sdT1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKStcIl9yYWRpb19pbnB1dFwiLHg9dStcIl9sYWJlbFwiLHU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LGMse2lkOnUsdGl0bGU6bnVsbCx0eXBlOm51bGx9LCEwKSx6PUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSx1LHt0aXRsZTp6fSwhMCksRD17dHlwZTpcInJhZGlvXCIsXCJjbGFzc1wiOlwiY2tlX2RpYWxvZ191aV9yYWRpb19pbnB1dFwiLG5hbWU6Zyx2YWx1ZTpBLFwiYXJpYS1sYWJlbGxlZGJ5XCI6eH0seT1bXTtlLl9bXCJkZWZhdWx0XCJdPT1BJiYoRC5jaGVja2VkPVwiY2hlY2tlZFwiKTttKHUpO20oeik7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHUuaW5wdXRTdHlsZSYmXG4odS5zdHlsZT11LmlucHV0U3R5bGUpO3Uua2V5Ym9hcmRGb2N1c2FibGU9ITA7Zi5wdXNoKG5ldyBDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50KGIsdSx5LFwiaW5wdXRcIixudWxsLEQpKTt5LnB1c2goXCIgXCIpO25ldyBDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50KGIseix5LFwibGFiZWxcIixudWxsLHtpZDp4LFwiZm9yXCI6RC5pZH0sd1swXSk7YS5wdXNoKHkuam9pbihcIlwiKSl9bmV3IENLRURJVE9SLnVpLmRpYWxvZy5oYm94KGIsZixhLGQpO3JldHVybiBkLmpvaW4oXCJcIil9KTt0aGlzLl8uY2hpbGRyZW49Zn19LGJ1dHRvbjpmdW5jdGlvbihiLGMsZCl7aWYoYXJndW1lbnRzLmxlbmd0aCl7XCJmdW5jdGlvblwiPT10eXBlb2YgYyYmKGM9YyhiLmdldFBhcmVudEVkaXRvcigpKSk7YS5jYWxsKHRoaXMsYyx7ZGlzYWJsZWQ6Yy5kaXNhYmxlZHx8ITF9KTtDS0VESVRPUi5ldmVudC5pbXBsZW1lbnRPbih0aGlzKTt2YXIgZj10aGlzO2Iub24oXCJsb2FkXCIsZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEVsZW1lbnQoKTtcbihmdW5jdGlvbigpe2Eub24oXCJjbGlja1wiLGZ1bmN0aW9uKGEpe2YuY2xpY2soKTthLmRhdGEucHJldmVudERlZmF1bHQoKX0pO2Eub24oXCJrZXlkb3duXCIsZnVuY3Rpb24oYSl7YS5kYXRhLmdldEtleXN0cm9rZSgpaW57MzI6MX0mJihmLmNsaWNrKCksYS5kYXRhLnByZXZlbnREZWZhdWx0KCkpfSl9KSgpO2EudW5zZWxlY3RhYmxlKCl9LHRoaXMpO3ZhciBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxjKTtkZWxldGUgZS5zdHlsZTt2YXIgbD1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKStcIl9sYWJlbFwiO0NLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQuY2FsbCh0aGlzLGIsZSxkLFwiYVwiLG51bGwse3N0eWxlOmMuc3R5bGUsaHJlZjpcImphdmFzY3JpcHQ6dm9pZCgwKVwiLHRpdGxlOmMubGFiZWwsaGlkZWZvY3VzOlwidHJ1ZVwiLFwiY2xhc3NcIjpjW1wiY2xhc3NcIl0scm9sZTpcImJ1dHRvblwiLFwiYXJpYS1sYWJlbGxlZGJ5XCI6bH0sJ1xceDNjc3BhbiBpZFxceDNkXCInK2wrJ1wiIGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfdWlfYnV0dG9uXCJcXHgzZScrXG5DS0VESVRPUi50b29scy5odG1sRW5jb2RlKGMubGFiZWwpK1wiXFx4M2Mvc3BhblxceDNlXCIpfX0sc2VsZWN0OmZ1bmN0aW9uKGIsYyxkKXtpZighKDM+YXJndW1lbnRzLmxlbmd0aCkpe3ZhciBmPWEuY2FsbCh0aGlzLGMpO2MudmFsaWRhdGUmJih0aGlzLnZhbGlkYXRlPWMudmFsaWRhdGUpO2YuaW5wdXRJZD1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKStcIl9zZWxlY3RcIjtDS0VESVRPUi51aS5kaWFsb2cubGFiZWxlZEVsZW1lbnQuY2FsbCh0aGlzLGIsYyxkLGZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LGMse2lkOmMuaWQ/Yy5pZCtcIl9zZWxlY3RcIjpDS0VESVRPUi50b29scy5nZXROZXh0SWQoKStcIl9zZWxlY3RcIn0sITApLGQ9W10sZT1bXSxnPXtpZDpmLmlucHV0SWQsXCJjbGFzc1wiOlwiY2tlX2RpYWxvZ191aV9pbnB1dF9zZWxlY3RcIixcImFyaWEtbGFiZWxsZWRieVwiOnRoaXMuXy5sYWJlbElkfTtkLnB1c2goJ1xceDNjZGl2IGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfdWlfaW5wdXRfJyxcbmMudHlwZSwnXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIicpO2Mud2lkdGgmJmQucHVzaCgnc3R5bGVcXHgzZFwid2lkdGg6JytjLndpZHRoKydcIiAnKTtkLnB1c2goXCJcXHgzZVwiKTt2b2lkIDAhPT1jLnNpemUmJihnLnNpemU9Yy5zaXplKTt2b2lkIDAhPT1jLm11bHRpcGxlJiYoZy5tdWx0aXBsZT1jLm11bHRpcGxlKTttKGEpO2Zvcih2YXIgbD0wLHc7bDxjLml0ZW1zLmxlbmd0aCYmKHc9Yy5pdGVtc1tsXSk7bCsrKWUucHVzaCgnXFx4M2NvcHRpb24gdmFsdWVcXHgzZFwiJyxDS0VESVRPUi50b29scy5odG1sRW5jb2RlKHZvaWQgMCE9PXdbMV0/d1sxXTp3WzBdKS5yZXBsYWNlKC9cIi9nLFwiXFx4MjZxdW90O1wiKSwnXCIgL1xceDNlICcsQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZSh3WzBdKSk7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuaW5wdXRTdHlsZSYmKGEuc3R5bGU9YS5pbnB1dFN0eWxlKTtmLnNlbGVjdD1uZXcgQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudChiLGEsZCxcInNlbGVjdFwiLG51bGwsXG5nLGUuam9pbihcIlwiKSk7ZC5wdXNoKFwiXFx4M2MvZGl2XFx4M2VcIik7cmV0dXJuIGQuam9pbihcIlwiKX0pfX0sZmlsZTpmdW5jdGlvbihiLGMsZCl7aWYoISgzPmFyZ3VtZW50cy5sZW5ndGgpKXt2b2lkIDA9PT1jW1wiZGVmYXVsdFwiXSYmKGNbXCJkZWZhdWx0XCJdPVwiXCIpO3ZhciBmPUNLRURJVE9SLnRvb2xzLmV4dGVuZChhLmNhbGwodGhpcyxjKSx7ZGVmaW5pdGlvbjpjLGJ1dHRvbnM6W119KTtjLnZhbGlkYXRlJiYodGhpcy52YWxpZGF0ZT1jLnZhbGlkYXRlKTtiLm9uKFwibG9hZFwiLGZ1bmN0aW9uKCl7Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZChmLmZyYW1lSWQpLmdldFBhcmVudCgpLmFkZENsYXNzKFwiY2tlX2RpYWxvZ191aV9pbnB1dF9maWxlXCIpfSk7Q0tFRElUT1IudWkuZGlhbG9nLmxhYmVsZWRFbGVtZW50LmNhbGwodGhpcyxiLGMsZCxmdW5jdGlvbigpe2YuZnJhbWVJZD1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKStcIl9maWxlSW5wdXRcIjt2YXIgYT1bJ1xceDNjaWZyYW1lIGZyYW1lYm9yZGVyXFx4M2RcIjBcIiBhbGxvd3RyYW5zcGFyZW5jeVxceDNkXCIwXCIgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ191aV9pbnB1dF9maWxlXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIiBpZFxceDNkXCInLFxuZi5mcmFtZUlkLCdcIiB0aXRsZVxceDNkXCInLGMubGFiZWwsJ1wiIHNyY1xceDNkXCJqYXZhc2NyaXB0OnZvaWQoJ107YS5wdXNoKENLRURJVE9SLmVudi5pZT9cIihmdW5jdGlvbigpe1wiK2VuY29kZVVSSUNvbXBvbmVudChcImRvY3VtZW50Lm9wZW4oKTsoXCIrQ0tFRElUT1IudG9vbHMuZml4RG9tYWluK1wiKSgpO2RvY3VtZW50LmNsb3NlKCk7XCIpK1wifSkoKVwiOlwiMFwiKTthLnB1c2goJylcIlxceDNlXFx4M2MvaWZyYW1lXFx4M2UnKTtyZXR1cm4gYS5qb2luKFwiXCIpfSl9fSxmaWxlQnV0dG9uOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZj10aGlzO2lmKCEoMz5hcmd1bWVudHMubGVuZ3RoKSl7YS5jYWxsKHRoaXMsYyk7Yy52YWxpZGF0ZSYmKHRoaXMudmFsaWRhdGU9Yy52YWxpZGF0ZSk7dmFyIGU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LGMpLGw9ZS5vbkNsaWNrO2UuY2xhc3NOYW1lPShlLmNsYXNzTmFtZT9lLmNsYXNzTmFtZStcIiBcIjpcIlwiKStcImNrZV9kaWFsb2dfdWlfYnV0dG9uXCI7ZS5vbkNsaWNrPWZ1bmN0aW9uKGEpe3ZhciBkPVxuY1tcImZvclwiXTtsJiYhMT09PWwuY2FsbCh0aGlzLGEpfHwoYi5nZXRDb250ZW50RWxlbWVudChkWzBdLGRbMV0pLnN1Ym1pdCgpLHRoaXMuZGlzYWJsZSgpKX07Yi5vbihcImxvYWRcIixmdW5jdGlvbigpe2IuZ2V0Q29udGVudEVsZW1lbnQoY1tcImZvclwiXVswXSxjW1wiZm9yXCJdWzFdKS5fLmJ1dHRvbnMucHVzaChmKX0pO0NLRURJVE9SLnVpLmRpYWxvZy5idXR0b24uY2FsbCh0aGlzLGIsZSxkKX19LGh0bWw6ZnVuY3Rpb24oKXt2YXIgYT0vXlxccyo8W1xcdzpdK1xccysoW14+XSopPz4vLGI9L14oXFxzKjxbXFx3Ol0rKD86XFxzK1tePl0qKT8pKCg/Oi58XFxyfFxcbikrKSQvLGM9L1xcLyQvO3JldHVybiBmdW5jdGlvbihkLGYsZSl7aWYoISgzPmFyZ3VtZW50cy5sZW5ndGgpKXt2YXIgbD1bXSxtPWYuaHRtbDtcIlxceDNjXCIhPW0uY2hhckF0KDApJiYobT1cIlxceDNjc3BhblxceDNlXCIrbStcIlxceDNjL3NwYW5cXHgzZVwiKTt2YXIgcD1mLmZvY3VzO2lmKHApe3ZhciB3PXRoaXMuZm9jdXM7dGhpcy5mb2N1cz1mdW5jdGlvbigpeyhcImZ1bmN0aW9uXCI9PVxudHlwZW9mIHA/cDp3KS5jYWxsKHRoaXMpO3RoaXMuZmlyZShcImZvY3VzXCIpfTtmLmlzRm9jdXNhYmxlJiYodGhpcy5pc0ZvY3VzYWJsZT10aGlzLmlzRm9jdXNhYmxlKTt0aGlzLmtleWJvYXJkRm9jdXNhYmxlPSEwfUNLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQuY2FsbCh0aGlzLGQsZixsLFwic3BhblwiLG51bGwsbnVsbCxcIlwiKTtsPWwuam9pbihcIlwiKS5tYXRjaChhKTttPW0ubWF0Y2goYil8fFtcIlwiLFwiXCIsXCJcIl07Yy50ZXN0KG1bMV0pJiYobVsxXT1tWzFdLnNsaWNlKDAsLTEpLG1bMl09XCIvXCIrbVsyXSk7ZS5wdXNoKFttWzFdLFwiIFwiLGxbMV18fFwiXCIsbVsyXV0uam9pbihcIlwiKSl9fX0oKSxmaWVsZHNldDpmdW5jdGlvbihhLGIsYyxkLGYpe3ZhciBlPWYubGFiZWw7dGhpcy5fPXtjaGlsZHJlbjpifTtDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LmNhbGwodGhpcyxhLGYsZCxcImZpZWxkc2V0XCIsbnVsbCxudWxsLGZ1bmN0aW9uKCl7dmFyIGE9W107ZSYmYS5wdXNoKFwiXFx4M2NsZWdlbmRcIitcbihmLmxhYmVsU3R5bGU/JyBzdHlsZVxceDNkXCInK2YubGFiZWxTdHlsZSsnXCInOlwiXCIpK1wiXFx4M2VcIitlK1wiXFx4M2MvbGVnZW5kXFx4M2VcIik7Zm9yKHZhciBiPTA7YjxjLmxlbmd0aDtiKyspYS5wdXNoKGNbYl0pO3JldHVybiBhLmpvaW4oXCJcIil9KX19LCEwKTtDS0VESVRPUi51aS5kaWFsb2cuaHRtbC5wcm90b3R5cGU9bmV3IENLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQ7Q0tFRElUT1IudWkuZGlhbG9nLmxhYmVsZWRFbGVtZW50LnByb3RvdHlwZT1DS0VESVRPUi50b29scy5leHRlbmQobmV3IENLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQse3NldExhYmVsOmZ1bmN0aW9uKGEpe3ZhciBiPUNLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQodGhpcy5fLmxhYmVsSWQpOzE+Yi5nZXRDaGlsZENvdW50KCk/KG5ldyBDS0VESVRPUi5kb20udGV4dChhLENLRURJVE9SLmRvY3VtZW50KSkuYXBwZW5kVG8oYik6Yi5nZXRDaGlsZCgwKS4kLm5vZGVWYWx1ZT1hO3JldHVybiB0aGlzfSxnZXRMYWJlbDpmdW5jdGlvbigpe3ZhciBhPVxuQ0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZCh0aGlzLl8ubGFiZWxJZCk7cmV0dXJuIWF8fDE+YS5nZXRDaGlsZENvdW50KCk/XCJcIjphLmdldENoaWxkKDApLmdldFRleHQoKX0sZXZlbnRQcm9jZXNzb3JzOmR9LCEwKTtDS0VESVRPUi51aS5kaWFsb2cuYnV0dG9uLnByb3RvdHlwZT1DS0VESVRPUi50b29scy5leHRlbmQobmV3IENLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQse2NsaWNrOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5kaXNhYmxlZD8hMTp0aGlzLmZpcmUoXCJjbGlja1wiLHtkaWFsb2c6dGhpcy5fLmRpYWxvZ30pfSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLl8uZGlzYWJsZWQ9ITE7dmFyIGE9dGhpcy5nZXRFbGVtZW50KCk7YSYmYS5yZW1vdmVDbGFzcyhcImNrZV9kaXNhYmxlZFwiKX0sZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuXy5kaXNhYmxlZD0hMDt0aGlzLmdldEVsZW1lbnQoKS5hZGRDbGFzcyhcImNrZV9kaXNhYmxlZFwiKX0saXNWaXNpYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RWxlbWVudCgpLmdldEZpcnN0KCkuaXNWaXNpYmxlKCl9LFxuaXNFbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuXy5kaXNhYmxlZH0sZXZlbnRQcm9jZXNzb3JzOkNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LnByb3RvdHlwZS5ldmVudFByb2Nlc3NvcnMse29uQ2xpY2s6ZnVuY3Rpb24oYSxiKXt0aGlzLm9uKFwiY2xpY2tcIixmdW5jdGlvbigpe2IuYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9fSwhMCksYWNjZXNzS2V5VXA6ZnVuY3Rpb24oKXt0aGlzLmNsaWNrKCl9LGFjY2Vzc0tleURvd246ZnVuY3Rpb24oKXt0aGlzLmZvY3VzKCl9LGtleWJvYXJkRm9jdXNhYmxlOiEwfSwhMCk7Q0tFRElUT1IudWkuZGlhbG9nLnRleHRJbnB1dC5wcm90b3R5cGU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKG5ldyBDS0VESVRPUi51aS5kaWFsb2cubGFiZWxlZEVsZW1lbnQse2dldElucHV0RWxlbWVudDpmdW5jdGlvbigpe3JldHVybiBDS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKHRoaXMuXy5pbnB1dElkKX0sXG5mb2N1czpmdW5jdGlvbigpe3ZhciBhPXRoaXMuc2VsZWN0UGFyZW50VGFiKCk7c2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBiPWEuZ2V0SW5wdXRFbGVtZW50KCk7YiYmYi4kLmZvY3VzKCl9LDApfSxzZWxlY3Q6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnNlbGVjdFBhcmVudFRhYigpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgYj1hLmdldElucHV0RWxlbWVudCgpO2ImJihiLiQuZm9jdXMoKSxiLiQuc2VsZWN0KCkpfSwwKX0sYWNjZXNzS2V5VXA6ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdCgpfSxzZXRWYWx1ZTpmdW5jdGlvbihhKXtpZih0aGlzLmJpZGkpe3ZhciBiPWEmJmEuY2hhckF0KDApOyhiPVwi4oCqXCI9PWI/XCJsdHJcIjpcIuKAq1wiPT1iP1wicnRsXCI6bnVsbCkmJihhPWEuc2xpY2UoMSkpO3RoaXMuc2V0RGlyZWN0aW9uTWFya2VyKGIpfWF8fChhPVwiXCIpO3JldHVybiBDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LnByb3RvdHlwZS5zZXRWYWx1ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LFxuZ2V0VmFsdWU6ZnVuY3Rpb24oKXt2YXIgYT1DS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LnByb3RvdHlwZS5nZXRWYWx1ZS5jYWxsKHRoaXMpO2lmKHRoaXMuYmlkaSYmYSl7dmFyIGI9dGhpcy5nZXREaXJlY3Rpb25NYXJrZXIoKTtiJiYoYT0oXCJsdHJcIj09Yj9cIuKAqlwiOlwi4oCrXCIpK2EpfXJldHVybiBhfSxzZXREaXJlY3Rpb25NYXJrZXI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRJbnB1dEVsZW1lbnQoKTthP2Iuc2V0QXR0cmlidXRlcyh7ZGlyOmEsXCJkYXRhLWNrZS1kaXItbWFya2VyXCI6YX0pOnRoaXMuZ2V0RGlyZWN0aW9uTWFya2VyKCkmJmIucmVtb3ZlQXR0cmlidXRlcyhbXCJkaXJcIixcImRhdGEtY2tlLWRpci1tYXJrZXJcIl0pfSxnZXREaXJlY3Rpb25NYXJrZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5kYXRhKFwiY2tlLWRpci1tYXJrZXJcIil9LGtleWJvYXJkRm9jdXNhYmxlOiEwfSxjLCEwKTtDS0VESVRPUi51aS5kaWFsb2cudGV4dGFyZWEucHJvdG90eXBlPVxubmV3IENLRURJVE9SLnVpLmRpYWxvZy50ZXh0SW5wdXQ7Q0tFRElUT1IudWkuZGlhbG9nLnNlbGVjdC5wcm90b3R5cGU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKG5ldyBDS0VESVRPUi51aS5kaWFsb2cubGFiZWxlZEVsZW1lbnQse2dldElucHV0RWxlbWVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uc2VsZWN0LmdldEVsZW1lbnQoKX0sYWRkOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJvcHRpb25cIix0aGlzLmdldERpYWxvZygpLmdldFBhcmVudEVkaXRvcigpLmRvY3VtZW50KSxmPXRoaXMuZ2V0SW5wdXRFbGVtZW50KCkuJDtkLiQudGV4dD1hO2QuJC52YWx1ZT12b2lkIDA9PT1ifHxudWxsPT09Yj9hOmI7dm9pZCAwPT09Y3x8bnVsbD09PWM/Q0tFRElUT1IuZW52LmllP2YuYWRkKGQuJCk6Zi5hZGQoZC4kLG51bGwpOmYuYWRkKGQuJCxjKTtyZXR1cm4gdGhpc30scmVtb3ZlOmZ1bmN0aW9uKGEpe3RoaXMuZ2V0SW5wdXRFbGVtZW50KCkuJC5yZW1vdmUoYSk7XG5yZXR1cm4gdGhpc30sY2xlYXI6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS4kOzA8YS5sZW5ndGg7KWEucmVtb3ZlKDApO3JldHVybiB0aGlzfSxrZXlib2FyZEZvY3VzYWJsZTohMH0sYywhMCk7Q0tFRElUT1IudWkuZGlhbG9nLmNoZWNrYm94LnByb3RvdHlwZT1DS0VESVRPUi50b29scy5leHRlbmQobmV3IENLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQse2dldElucHV0RWxlbWVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uY2hlY2tib3guZ2V0RWxlbWVudCgpfSxzZXRWYWx1ZTpmdW5jdGlvbihhLGIpe3RoaXMuZ2V0SW5wdXRFbGVtZW50KCkuJC5jaGVja2VkPWE7IWImJnRoaXMuZmlyZShcImNoYW5nZVwiLHt2YWx1ZTphfSl9LGdldFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SW5wdXRFbGVtZW50KCkuJC5jaGVja2VkfSxhY2Nlc3NLZXlVcDpmdW5jdGlvbigpe3RoaXMuc2V0VmFsdWUoIXRoaXMuZ2V0VmFsdWUoKSl9LGV2ZW50UHJvY2Vzc29yczp7b25DaGFuZ2U6ZnVuY3Rpb24oYSxcbmIpe2lmKCFDS0VESVRPUi5lbnYuaWV8fDg8Q0tFRElUT1IuZW52LnZlcnNpb24pcmV0dXJuIGQub25DaGFuZ2UuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Eub24oXCJsb2FkXCIsZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8uY2hlY2tib3guZ2V0RWxlbWVudCgpO2Eub24oXCJwcm9wZXJ0eWNoYW5nZVwiLGZ1bmN0aW9uKGIpe2I9Yi5kYXRhLiQ7XCJjaGVja2VkXCI9PWIucHJvcGVydHlOYW1lJiZ0aGlzLmZpcmUoXCJjaGFuZ2VcIix7dmFsdWU6YS4kLmNoZWNrZWR9KX0sdGhpcyl9LHRoaXMpO3RoaXMub24oXCJjaGFuZ2VcIixiKTtyZXR1cm4gbnVsbH19LGtleWJvYXJkRm9jdXNhYmxlOiEwfSxjLCEwKTtDS0VESVRPUi51aS5kaWFsb2cucmFkaW8ucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChuZXcgQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudCx7c2V0VmFsdWU6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9dGhpcy5fLmNoaWxkcmVuLGQsZj0wO2Y8Yy5sZW5ndGgmJihkPWNbZl0pO2YrKylkLmdldEVsZW1lbnQoKS4kLmNoZWNrZWQ9XG5kLmdldFZhbHVlKCk9PWE7IWImJnRoaXMuZmlyZShcImNoYW5nZVwiLHt2YWx1ZTphfSl9LGdldFZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuXy5jaGlsZHJlbixiPTA7YjxhLmxlbmd0aDtiKyspaWYoYVtiXS5nZXRFbGVtZW50KCkuJC5jaGVja2VkKXJldHVybiBhW2JdLmdldFZhbHVlKCk7cmV0dXJuIG51bGx9LGFjY2Vzc0tleVVwOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLmNoaWxkcmVuLGI7Zm9yKGI9MDtiPGEubGVuZ3RoO2IrKylpZihhW2JdLmdldEVsZW1lbnQoKS4kLmNoZWNrZWQpe2FbYl0uZ2V0RWxlbWVudCgpLmZvY3VzKCk7cmV0dXJufWFbMF0uZ2V0RWxlbWVudCgpLmZvY3VzKCl9LGV2ZW50UHJvY2Vzc29yczp7b25DaGFuZ2U6ZnVuY3Rpb24oYSxiKXtpZighQ0tFRElUT1IuZW52LmllfHw4PENLRURJVE9SLmVudi52ZXJzaW9uKXJldHVybiBkLm9uQ2hhbmdlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTthLm9uKFwibG9hZFwiLGZ1bmN0aW9uKCl7Zm9yKHZhciBhPVxudGhpcy5fLmNoaWxkcmVuLGI9dGhpcyxjPTA7YzxhLmxlbmd0aDtjKyspYVtjXS5nZXRFbGVtZW50KCkub24oXCJwcm9wZXJ0eWNoYW5nZVwiLGZ1bmN0aW9uKGEpe2E9YS5kYXRhLiQ7XCJjaGVja2VkXCI9PWEucHJvcGVydHlOYW1lJiZ0aGlzLiQuY2hlY2tlZCYmYi5maXJlKFwiY2hhbmdlXCIse3ZhbHVlOnRoaXMuZ2V0QXR0cmlidXRlKFwidmFsdWVcIil9KX0pfSx0aGlzKTt0aGlzLm9uKFwiY2hhbmdlXCIsYik7cmV0dXJuIG51bGx9fX0sYywhMCk7Q0tFRElUT1IudWkuZGlhbG9nLmZpbGUucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChuZXcgQ0tFRElUT1IudWkuZGlhbG9nLmxhYmVsZWRFbGVtZW50LGMse2dldElucHV0RWxlbWVudDpmdW5jdGlvbigpe3ZhciBhPUNLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQodGhpcy5fLmZyYW1lSWQpLmdldEZyYW1lRG9jdW1lbnQoKTtyZXR1cm4gMDxhLiQuZm9ybXMubGVuZ3RoP25ldyBDS0VESVRPUi5kb20uZWxlbWVudChhLiQuZm9ybXNbMF0uZWxlbWVudHNbMF0pOlxudGhpcy5nZXRFbGVtZW50KCl9LHN1Ym1pdDpmdW5jdGlvbigpe3RoaXMuZ2V0SW5wdXRFbGVtZW50KCkuZ2V0UGFyZW50KCkuJC5zdWJtaXQoKTtyZXR1cm4gdGhpc30sZ2V0QWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SW5wdXRFbGVtZW50KCkuZ2V0UGFyZW50KCkuJC5hY3Rpb259LHJlZ2lzdGVyRXZlbnRzOmZ1bmN0aW9uKGEpe3ZhciBiPS9eb24oW0EtWl1cXHcrKS8sYyxkPWZ1bmN0aW9uKGEsYixjLGQpe2Eub24oXCJmb3JtTG9hZGVkXCIsZnVuY3Rpb24oKXthLmdldElucHV0RWxlbWVudCgpLm9uKGMsZCxhKX0pfSxmO2ZvcihmIGluIGEpaWYoYz1mLm1hdGNoKGIpKXRoaXMuZXZlbnRQcm9jZXNzb3JzW2ZdP3RoaXMuZXZlbnRQcm9jZXNzb3JzW2ZdLmNhbGwodGhpcyx0aGlzLl8uZGlhbG9nLGFbZl0pOmQodGhpcyx0aGlzLl8uZGlhbG9nLGNbMV0udG9Mb3dlckNhc2UoKSxhW2ZdKTtyZXR1cm4gdGhpc30scmVzZXQ6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7Yy4kLm9wZW4oKTtcbnZhciBoPVwiXCI7ZC5zaXplJiYoaD1kLnNpemUtKENLRURJVE9SLmVudi5pZT83OjApKTt2YXIgej1iLmZyYW1lSWQrXCJfaW5wdXRcIjtjLiQud3JpdGUoWydcXHgzY2h0bWwgZGlyXFx4M2RcIicrbSsnXCIgbGFuZ1xceDNkXCInK3ArJ1wiXFx4M2VcXHgzY2hlYWRcXHgzZVxceDNjdGl0bGVcXHgzZVxceDNjL3RpdGxlXFx4M2VcXHgzYy9oZWFkXFx4M2VcXHgzY2JvZHkgc3R5bGVcXHgzZFwibWFyZ2luOiAwOyBvdmVyZmxvdzogaGlkZGVuOyBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcIlxceDNlJywnXFx4M2Nmb3JtIGVuY3R5cGVcXHgzZFwibXVsdGlwYXJ0L2Zvcm0tZGF0YVwiIG1ldGhvZFxceDNkXCJQT1NUXCIgZGlyXFx4M2RcIicrbSsnXCIgbGFuZ1xceDNkXCInK3ArJ1wiIGFjdGlvblxceDNkXCInLENLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoZC5hY3Rpb24pLCdcIlxceDNlXFx4M2NsYWJlbCBpZFxceDNkXCInLGIubGFiZWxJZCwnXCIgZm9yXFx4M2RcIicseiwnXCIgc3R5bGVcXHgzZFwiZGlzcGxheTpub25lXCJcXHgzZScsQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShkLmxhYmVsKSxcbidcXHgzYy9sYWJlbFxceDNlXFx4M2NpbnB1dCBzdHlsZVxceDNkXCJ3aWR0aDoxMDAlXCIgaWRcXHgzZFwiJyx6LCdcIiBhcmlhLWxhYmVsbGVkYnlcXHgzZFwiJyxiLmxhYmVsSWQsJ1wiIHR5cGVcXHgzZFwiZmlsZVwiIG5hbWVcXHgzZFwiJyxDS0VESVRPUi50b29scy5odG1sRW5jb2RlKGQuaWR8fFwiY2tlX3VwbG9hZFwiKSwnXCIgc2l6ZVxceDNkXCInLENLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoMDxoP2g6XCJcIiksJ1wiIC9cXHgzZVxceDNjL2Zvcm1cXHgzZVxceDNjL2JvZHlcXHgzZVxceDNjL2h0bWxcXHgzZVxceDNjc2NyaXB0XFx4M2UnLENLRURJVE9SLmVudi5pZT9cIihcIitDS0VESVRPUi50b29scy5maXhEb21haW4rXCIpKCk7XCI6XCJcIixcIndpbmRvdy5wYXJlbnQuQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKFwiK2UrXCIpO1wiLFwid2luZG93Lm9uYmVmb3JldW5sb2FkIFxceDNkIGZ1bmN0aW9uKCkge3dpbmRvdy5wYXJlbnQuQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKFwiK2wrXCIpfVwiLFwiXFx4M2Mvc2NyaXB0XFx4M2VcIl0uam9pbihcIlwiKSk7XG5jLiQuY2xvc2UoKTtmb3IoaD0wO2g8Zi5sZW5ndGg7aCsrKWZbaF0uZW5hYmxlKCl9dmFyIGI9dGhpcy5fLGM9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZChiLmZyYW1lSWQpLmdldEZyYW1lRG9jdW1lbnQoKSxkPWIuZGVmaW5pdGlvbixmPWIuYnV0dG9ucyxlPXRoaXMuZm9ybUxvYWRlZE51bWJlcixsPXRoaXMuZm9ybVVubG9hZE51bWJlcixtPWIuZGlhbG9nLl8uZWRpdG9yLmxhbmcuZGlyLHA9Yi5kaWFsb2cuXy5lZGl0b3IubGFuZ0NvZGU7ZXx8KGU9dGhpcy5mb3JtTG9hZGVkTnVtYmVyPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKCl7dGhpcy5maXJlKFwiZm9ybUxvYWRlZFwiKX0sdGhpcyksbD10aGlzLmZvcm1VbmxvYWROdW1iZXI9Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oKXt0aGlzLmdldElucHV0RWxlbWVudCgpLmNsZWFyQ3VzdG9tRGF0YSgpfSx0aGlzKSx0aGlzLmdldERpYWxvZygpLl8uZWRpdG9yLm9uKFwiZGVzdHJveVwiLGZ1bmN0aW9uKCl7Q0tFRElUT1IudG9vbHMucmVtb3ZlRnVuY3Rpb24oZSk7XG5DS0VESVRPUi50b29scy5yZW1vdmVGdW5jdGlvbihsKX0pKTtDS0VESVRPUi5lbnYuZ2Vja28/c2V0VGltZW91dChhLDUwMCk6YSgpfSxnZXRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldElucHV0RWxlbWVudCgpLiQudmFsdWV8fFwiXCJ9LHNldEluaXRWYWx1ZTpmdW5jdGlvbigpe3RoaXMuXy5pbml0VmFsdWU9XCJcIn0sZXZlbnRQcm9jZXNzb3JzOntvbkNoYW5nZTpmdW5jdGlvbihhLGIpe3RoaXMuXy5kb21PbkNoYW5nZVJlZ2lzdGVyZWR8fCh0aGlzLm9uKFwiZm9ybUxvYWRlZFwiLGZ1bmN0aW9uKCl7dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5vbihcImNoYW5nZVwiLGZ1bmN0aW9uKCl7dGhpcy5maXJlKFwiY2hhbmdlXCIse3ZhbHVlOnRoaXMuZ2V0VmFsdWUoKX0pfSx0aGlzKX0sdGhpcyksdGhpcy5fLmRvbU9uQ2hhbmdlUmVnaXN0ZXJlZD0hMCk7dGhpcy5vbihcImNoYW5nZVwiLGIpfX0sa2V5Ym9hcmRGb2N1c2FibGU6ITB9LCEwKTtDS0VESVRPUi51aS5kaWFsb2cuZmlsZUJ1dHRvbi5wcm90b3R5cGU9XG5uZXcgQ0tFRElUT1IudWkuZGlhbG9nLmJ1dHRvbjtDS0VESVRPUi51aS5kaWFsb2cuZmllbGRzZXQucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmNsb25lKENLRURJVE9SLnVpLmRpYWxvZy5oYm94LnByb3RvdHlwZSk7Q0tFRElUT1IuZGlhbG9nLmFkZFVJRWxlbWVudChcInRleHRcIixlKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KFwicGFzc3dvcmRcIixlKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KFwidGV4dGFyZWFcIixiKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KFwiY2hlY2tib3hcIixiKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KFwicmFkaW9cIixiKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KFwiYnV0dG9uXCIsYik7Q0tFRElUT1IuZGlhbG9nLmFkZFVJRWxlbWVudChcInNlbGVjdFwiLGIpO0NLRURJVE9SLmRpYWxvZy5hZGRVSUVsZW1lbnQoXCJmaWxlXCIsYik7Q0tFRElUT1IuZGlhbG9nLmFkZFVJRWxlbWVudChcImZpbGVCdXR0b25cIixiKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KFwiaHRtbFwiLFxuYik7Q0tFRElUT1IuZGlhbG9nLmFkZFVJRWxlbWVudChcImZpZWxkc2V0XCIse2J1aWxkOmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9Yi5jaGlsZHJlbixmLGU9W10sbD1bXSxtPTA7bTxkLmxlbmd0aCYmKGY9ZFttXSk7bSsrKXt2YXIgcD1bXTtlLnB1c2gocCk7bC5wdXNoKENLRURJVE9SLmRpYWxvZy5fLnVpRWxlbWVudEJ1aWxkZXJzW2YudHlwZV0uYnVpbGQoYSxmLHApKX1yZXR1cm4gbmV3IENLRURJVE9SLnVpLmRpYWxvZ1tiLnR5cGVdKGEsbCxlLGMsYil9fSl9fSksQ0tFRElUT1IuRElBTE9HX1JFU0laRV9OT05FPTAsQ0tFRElUT1IuRElBTE9HX1JFU0laRV9XSURUSD0xLENLRURJVE9SLkRJQUxPR19SRVNJWkVfSEVJR0hUPTIsQ0tFRElUT1IuRElBTE9HX1JFU0laRV9CT1RIPTMsQ0tFRElUT1IuRElBTE9HX1NUQVRFX0lETEU9MSxDS0VESVRPUi5ESUFMT0dfU1RBVEVfQlVTWT0yLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe2Zvcih2YXIgYT10aGlzLl8udGFiSWRMaXN0Lmxlbmd0aCxcbmI9Q0tFRElUT1IudG9vbHMuaW5kZXhPZih0aGlzLl8udGFiSWRMaXN0LHRoaXMuXy5jdXJyZW50VGFiSWQpK2EsYz1iLTE7Yz5iLWE7Yy0tKWlmKHRoaXMuXy50YWJzW3RoaXMuXy50YWJJZExpc3RbYyVhXV1bMF0uJC5vZmZzZXRIZWlnaHQpcmV0dXJuIHRoaXMuXy50YWJJZExpc3RbYyVhXTtyZXR1cm4gbnVsbH1mdW5jdGlvbiBlKCl7Zm9yKHZhciBhPXRoaXMuXy50YWJJZExpc3QubGVuZ3RoLGI9Q0tFRElUT1IudG9vbHMuaW5kZXhPZih0aGlzLl8udGFiSWRMaXN0LHRoaXMuXy5jdXJyZW50VGFiSWQpLGM9YisxO2M8YithO2MrKylpZih0aGlzLl8udGFic1t0aGlzLl8udGFiSWRMaXN0W2MlYV1dWzBdLiQub2Zmc2V0SGVpZ2h0KXJldHVybiB0aGlzLl8udGFiSWRMaXN0W2MlYV07cmV0dXJuIG51bGx9ZnVuY3Rpb24gYihhLGIpe2Zvcih2YXIgYz1hLiQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJpbnB1dFwiKSxkPTAsZj1jLmxlbmd0aDtkPGY7ZCsrKXt2YXIgZT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoY1tkXSk7XG5cInRleHRcIj09ZS5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpLnRvTG93ZXJDYXNlKCkmJihiPyhlLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsZS5nZXRDdXN0b21EYXRhKFwiZmFrZV92YWx1ZVwiKXx8XCJcIiksZS5yZW1vdmVDdXN0b21EYXRhKFwiZmFrZV92YWx1ZVwiKSk6KGUuc2V0Q3VzdG9tRGF0YShcImZha2VfdmFsdWVcIixlLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpKSxlLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsXCJcIikpKX19ZnVuY3Rpb24gYyhhLGIpe3ZhciBjPXRoaXMuZ2V0SW5wdXRFbGVtZW50KCk7YyYmKGE/Yy5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLWludmFsaWRcIik6Yy5zZXRBdHRyaWJ1dGUoXCJhcmlhLWludmFsaWRcIiwhMCkpO2F8fCh0aGlzLnNlbGVjdD90aGlzLnNlbGVjdCgpOnRoaXMuZm9jdXMoKSk7YiYmYWxlcnQoYik7dGhpcy5maXJlKFwidmFsaWRhdGVkXCIse3ZhbGlkOmEsbXNnOmJ9KX1mdW5jdGlvbiBkKCl7dmFyIGE9dGhpcy5nZXRJbnB1dEVsZW1lbnQoKTthJiZhLnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtaW52YWxpZFwiKX1cbmZ1bmN0aW9uIGwoYSl7dmFyIGI9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoQ0tFRElUT1IuYWRkVGVtcGxhdGUoXCJkaWFsb2dcIix0KS5vdXRwdXQoe2lkOkNLRURJVE9SLnRvb2xzLmdldE5leHROdW1iZXIoKSxlZGl0b3JJZDphLmlkLGxhbmdEaXI6YS5sYW5nLmRpcixsYW5nQ29kZTphLmxhbmdDb2RlLGVkaXRvckRpYWxvZ0NsYXNzOlwiY2tlX2VkaXRvcl9cIithLm5hbWUucmVwbGFjZSgvXFwuL2csXCJcXFxcLlwiKStcIl9kaWFsb2dcIixjbG9zZVRpdGxlOmEubGFuZy5jb21tb24uY2xvc2UsaGlkcGk6Q0tFRElUT1IuZW52LmhpZHBpP1wiY2tlX2hpZHBpXCI6XCJcIn0pKSxjPWIuZ2V0Q2hpbGQoWzAsMCwwLDAsMF0pLGQ9Yy5nZXRDaGlsZCgwKSxmPWMuZ2V0Q2hpbGQoMSk7YS5wbHVnaW5zLmNsaXBib2FyZCYmQ0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQucHJldmVudERlZmF1bHREcm9wT25FbGVtZW50KGMpOyFDS0VESVRPUi5lbnYuaWV8fENLRURJVE9SLmVudi5xdWlya3N8fFxuQ0tFRElUT1IuZW52LmVkZ2V8fChhPVwiamF2YXNjcmlwdDp2b2lkKGZ1bmN0aW9uKCl7XCIrZW5jb2RlVVJJQ29tcG9uZW50KFwiZG9jdW1lbnQub3BlbigpOyhcIitDS0VESVRPUi50b29scy5maXhEb21haW4rXCIpKCk7ZG9jdW1lbnQuY2xvc2UoKTtcIikrXCJ9KCkpXCIsQ0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoJ1xceDNjaWZyYW1lIGZyYW1lQm9yZGVyXFx4M2RcIjBcIiBjbGFzc1xceDNkXCJja2VfaWZyYW1lX3NoaW1cIiBzcmNcXHgzZFwiJythKydcIiB0YWJJbmRleFxceDNkXCItMVwiXFx4M2VcXHgzYy9pZnJhbWVcXHgzZScpLmFwcGVuZFRvKGMuZ2V0UGFyZW50KCkpKTtkLnVuc2VsZWN0YWJsZSgpO2YudW5zZWxlY3RhYmxlKCk7cmV0dXJue2VsZW1lbnQ6YixwYXJ0czp7ZGlhbG9nOmIuZ2V0Q2hpbGQoMCksdGl0bGU6ZCxjbG9zZTpmLHRhYnM6Yy5nZXRDaGlsZCgyKSxjb250ZW50czpjLmdldENoaWxkKFszLDAsMCwwXSksZm9vdGVyOmMuZ2V0Q2hpbGQoWzMsMCwxLDBdKX19fWZ1bmN0aW9uIG0oYSxcbmIsYyl7dGhpcy5lbGVtZW50PWI7dGhpcy5mb2N1c0luZGV4PWM7dGhpcy50YWJJbmRleD0wO3RoaXMuaXNGb2N1c2FibGU9ZnVuY3Rpb24oKXtyZXR1cm4hYi5nZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKSYmYi5pc1Zpc2libGUoKX07dGhpcy5mb2N1cz1mdW5jdGlvbigpe2EuXy5jdXJyZW50Rm9jdXNJbmRleD10aGlzLmZvY3VzSW5kZXg7dGhpcy5lbGVtZW50LmZvY3VzKCl9O2Iub24oXCJrZXlkb3duXCIsZnVuY3Rpb24oYSl7YS5kYXRhLmdldEtleXN0cm9rZSgpaW57MzI6MSwxMzoxfSYmdGhpcy5maXJlKFwiY2xpY2tcIil9KTtiLm9uKFwiZm9jdXNcIixmdW5jdGlvbigpe3RoaXMuZmlyZShcIm1vdXNlb3ZlclwiKX0pO2Iub24oXCJibHVyXCIsZnVuY3Rpb24oKXt0aGlzLmZpcmUoXCJtb3VzZW91dFwiKX0pfWZ1bmN0aW9uIGYoYSl7ZnVuY3Rpb24gYigpe2EubGF5b3V0KCl9dmFyIGM9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCk7Yy5vbihcInJlc2l6ZVwiLGIpO2Eub24oXCJoaWRlXCIsZnVuY3Rpb24oKXtjLnJlbW92ZUxpc3RlbmVyKFwicmVzaXplXCIsXG5iKX0pfWZ1bmN0aW9uIGgoYSxiKXt0aGlzLl89e2RpYWxvZzphfTtDS0VESVRPUi50b29scy5leHRlbmQodGhpcyxiKX1mdW5jdGlvbiBrKGEpe2Z1bmN0aW9uIGIoYyl7dmFyIGs9YS5nZXRTaXplKCksbD1DS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKS5nZXRWaWV3UGFuZVNpemUoKSxtPWMuZGF0YS4kLnNjcmVlblgsbj1jLmRhdGEuJC5zY3JlZW5ZLHc9bS1kLngscD1uLWQueTtkPXt4Om0seTpufTtmLngrPXc7Zi55Kz1wO2EubW92ZShmLngraFszXTxnPy1oWzNdOmYueC1oWzFdPmwud2lkdGgtay53aWR0aC1nP2wud2lkdGgtay53aWR0aCsoXCJydGxcIj09ZS5sYW5nLmRpcj8wOmhbMV0pOmYueCxmLnkraFswXTxnPy1oWzBdOmYueS1oWzJdPmwuaGVpZ2h0LWsuaGVpZ2h0LWc/bC5oZWlnaHQtay5oZWlnaHQraFsyXTpmLnksMSk7Yy5kYXRhLnByZXZlbnREZWZhdWx0KCl9ZnVuY3Rpb24gYygpe0NLRURJVE9SLmRvY3VtZW50LnJlbW92ZUxpc3RlbmVyKFwibW91c2Vtb3ZlXCIsXG5iKTtDS0VESVRPUi5kb2N1bWVudC5yZW1vdmVMaXN0ZW5lcihcIm1vdXNldXBcIixjKTtpZihDS0VESVRPUi5lbnYuaWU2Q29tcGF0KXt2YXIgYT15LmdldENoaWxkKDApLmdldEZyYW1lRG9jdW1lbnQoKTthLnJlbW92ZUxpc3RlbmVyKFwibW91c2Vtb3ZlXCIsYik7YS5yZW1vdmVMaXN0ZW5lcihcIm1vdXNldXBcIixjKX19dmFyIGQ9bnVsbCxmPW51bGwsZT1hLmdldFBhcmVudEVkaXRvcigpLGc9ZS5jb25maWcuZGlhbG9nX21hZ25ldERpc3RhbmNlLGg9Q0tFRElUT1Iuc2tpbi5tYXJnaW5zfHxbMCwwLDAsMF07XCJ1bmRlZmluZWRcIj09dHlwZW9mIGcmJihnPTIwKTthLnBhcnRzLnRpdGxlLm9uKFwibW91c2Vkb3duXCIsZnVuY3Rpb24oZSl7ZD17eDplLmRhdGEuJC5zY3JlZW5YLHk6ZS5kYXRhLiQuc2NyZWVuWX07Q0tFRElUT1IuZG9jdW1lbnQub24oXCJtb3VzZW1vdmVcIixiKTtDS0VESVRPUi5kb2N1bWVudC5vbihcIm1vdXNldXBcIixjKTtmPWEuZ2V0UG9zaXRpb24oKTtpZihDS0VESVRPUi5lbnYuaWU2Q29tcGF0KXt2YXIgZz1cbnkuZ2V0Q2hpbGQoMCkuZ2V0RnJhbWVEb2N1bWVudCgpO2cub24oXCJtb3VzZW1vdmVcIixiKTtnLm9uKFwibW91c2V1cFwiLGMpfWUuZGF0YS5wcmV2ZW50RGVmYXVsdCgpfSxhKX1mdW5jdGlvbiBnKGEpe2Z1bmN0aW9uIGIoYyl7dmFyIG49XCJydGxcIj09ZS5sYW5nLmRpcix3PW0ud2lkdGgscD1tLmhlaWdodCxxPXcrKGMuZGF0YS4kLnNjcmVlblgtbC54KSoobj8tMToxKSooYS5fLm1vdmVkPzE6Miksej1wKyhjLmRhdGEuJC5zY3JlZW5ZLWwueSkqKGEuXy5tb3ZlZD8xOjIpLHU9YS5fLmVsZW1lbnQuZ2V0Rmlyc3QoKSx1PW4mJnUuZ2V0Q29tcHV0ZWRTdHlsZShcInJpZ2h0XCIpLHQ9YS5nZXRQb3NpdGlvbigpO3QueSt6PmsuaGVpZ2h0JiYoej1rLmhlaWdodC10LnkpOyhuP3U6dC54KStxPmsud2lkdGgmJihxPWsud2lkdGgtKG4/dTp0LngpKTtpZihmPT1DS0VESVRPUi5ESUFMT0dfUkVTSVpFX1dJRFRIfHxmPT1DS0VESVRPUi5ESUFMT0dfUkVTSVpFX0JPVEgpdz1NYXRoLm1heChkLm1pbldpZHRofHxcbjAscS1nKTtpZihmPT1DS0VESVRPUi5ESUFMT0dfUkVTSVpFX0hFSUdIVHx8Zj09Q0tFRElUT1IuRElBTE9HX1JFU0laRV9CT1RIKXA9TWF0aC5tYXgoZC5taW5IZWlnaHR8fDAsei1oKTthLnJlc2l6ZSh3LHApO2EuXy5tb3ZlZHx8YS5sYXlvdXQoKTtjLmRhdGEucHJldmVudERlZmF1bHQoKX1mdW5jdGlvbiBjKCl7Q0tFRElUT1IuZG9jdW1lbnQucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZXVwXCIsYyk7Q0tFRElUT1IuZG9jdW1lbnQucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZW1vdmVcIixiKTtuJiYobi5yZW1vdmUoKSxuPW51bGwpO2lmKENLRURJVE9SLmVudi5pZTZDb21wYXQpe3ZhciBhPXkuZ2V0Q2hpbGQoMCkuZ2V0RnJhbWVEb2N1bWVudCgpO2EucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZXVwXCIsYyk7YS5yZW1vdmVMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLGIpfX12YXIgZD1hLmRlZmluaXRpb24sZj1kLnJlc2l6YWJsZTtpZihmIT1DS0VESVRPUi5ESUFMT0dfUkVTSVpFX05PTkUpe3ZhciBlPWEuZ2V0UGFyZW50RWRpdG9yKCksXG5nLGgsayxsLG0sbix3PUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKGQpe209YS5nZXRTaXplKCk7dmFyIGY9YS5wYXJ0cy5jb250ZW50cztmLiQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJpZnJhbWVcIikubGVuZ3RoJiYobj1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCgnXFx4M2NkaXYgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ19yZXNpemVfY292ZXJcIiBzdHlsZVxceDNkXCJoZWlnaHQ6IDEwMCU7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgd2lkdGg6IDEwMCU7XCJcXHgzZVxceDNjL2RpdlxceDNlJyksZi5hcHBlbmQobikpO2g9bS5oZWlnaHQtYS5wYXJ0cy5jb250ZW50cy5nZXRTaXplKFwiaGVpZ2h0XCIsIShDS0VESVRPUi5lbnYuZ2Vja298fENLRURJVE9SLmVudi5pZSYmQ0tFRElUT1IuZW52LnF1aXJrcykpO2c9bS53aWR0aC1hLnBhcnRzLmNvbnRlbnRzLmdldFNpemUoXCJ3aWR0aFwiLDEpO2w9e3g6ZC5zY3JlZW5YLHk6ZC5zY3JlZW5ZfTtrPUNLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpLmdldFZpZXdQYW5lU2l6ZSgpO1xuQ0tFRElUT1IuZG9jdW1lbnQub24oXCJtb3VzZW1vdmVcIixiKTtDS0VESVRPUi5kb2N1bWVudC5vbihcIm1vdXNldXBcIixjKTtDS0VESVRPUi5lbnYuaWU2Q29tcGF0JiYoZj15LmdldENoaWxkKDApLmdldEZyYW1lRG9jdW1lbnQoKSxmLm9uKFwibW91c2Vtb3ZlXCIsYiksZi5vbihcIm1vdXNldXBcIixjKSk7ZC5wcmV2ZW50RGVmYXVsdCYmZC5wcmV2ZW50RGVmYXVsdCgpfSk7YS5vbihcImxvYWRcIixmdW5jdGlvbigpe3ZhciBiPVwiXCI7Zj09Q0tFRElUT1IuRElBTE9HX1JFU0laRV9XSURUSD9iPVwiIGNrZV9yZXNpemVyX2hvcml6b250YWxcIjpmPT1DS0VESVRPUi5ESUFMT0dfUkVTSVpFX0hFSUdIVCYmKGI9XCIgY2tlX3Jlc2l6ZXJfdmVydGljYWxcIik7Yj1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCgnXFx4M2NkaXYgY2xhc3NcXHgzZFwiY2tlX3Jlc2l6ZXInK2IrXCIgY2tlX3Jlc2l6ZXJfXCIrZS5sYW5nLmRpcisnXCIgdGl0bGVcXHgzZFwiJytDS0VESVRPUi50b29scy5odG1sRW5jb2RlKGUubGFuZy5jb21tb24ucmVzaXplKStcbidcIiBvbm1vdXNlZG93blxceDNkXCJDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oJyt3KycsIGV2ZW50IClcIlxceDNlJysoXCJsdHJcIj09ZS5sYW5nLmRpcj9cIuKXolwiOlwi4pejXCIpK1wiXFx4M2MvZGl2XFx4M2VcIik7YS5wYXJ0cy5mb290ZXIuYXBwZW5kKGIsMSl9KTtlLm9uKFwiZGVzdHJveVwiLGZ1bmN0aW9uKCl7Q0tFRElUT1IudG9vbHMucmVtb3ZlRnVuY3Rpb24odyl9KX19ZnVuY3Rpb24gbihhKXthLmRhdGEucHJldmVudERlZmF1bHQoMSl9ZnVuY3Rpb24gdihhKXt2YXIgYj1DS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKSxjPWEuY29uZmlnLGQ9Yy5kaWFsb2dfYmFja2dyb3VuZENvdmVyQ29sb3J8fFwid2hpdGVcIixmPWMuZGlhbG9nX2JhY2tncm91bmRDb3Zlck9wYWNpdHksZT1jLmJhc2VGbG9hdFpJbmRleCxjPUNLRURJVE9SLnRvb2xzLmdlbktleShkLGYsZSksZz1EW2NdO2c/Zy5zaG93KCk6KGU9WydcXHgzY2RpdiB0YWJJbmRleFxceDNkXCItMVwiIHN0eWxlXFx4M2RcInBvc2l0aW9uOiAnLENLRURJVE9SLmVudi5pZTZDb21wYXQ/XG5cImFic29sdXRlXCI6XCJmaXhlZFwiLFwiOyB6LWluZGV4OiBcIixlLFwiOyB0b3A6IDBweDsgbGVmdDogMHB4OyBcIixDS0VESVRPUi5lbnYuaWU2Q29tcGF0P1wiXCI6XCJiYWNrZ3JvdW5kLWNvbG9yOiBcIitkLCdcIiBjbGFzc1xceDNkXCJja2VfZGlhbG9nX2JhY2tncm91bmRfY292ZXJcIlxceDNlJ10sQ0tFRElUT1IuZW52LmllNkNvbXBhdCYmKGQ9XCJcXHgzY2h0bWxcXHgzZVxceDNjYm9keSBzdHlsZVxceDNkXFxcXCdiYWNrZ3JvdW5kLWNvbG9yOlwiK2QrXCI7XFxcXCdcXHgzZVxceDNjL2JvZHlcXHgzZVxceDNjL2h0bWxcXHgzZVwiLGUucHVzaCgnXFx4M2NpZnJhbWUgaGlkZWZvY3VzXFx4M2RcInRydWVcIiBmcmFtZWJvcmRlclxceDNkXCIwXCIgaWRcXHgzZFwiY2tlX2RpYWxvZ19iYWNrZ3JvdW5kX2lmcmFtZVwiIHNyY1xceDNkXCJqYXZhc2NyaXB0OicpLGUucHVzaChcInZvaWQoKGZ1bmN0aW9uKCl7XCIrZW5jb2RlVVJJQ29tcG9uZW50KFwiZG9jdW1lbnQub3BlbigpOyhcIitDS0VESVRPUi50b29scy5maXhEb21haW4rXCIpKCk7ZG9jdW1lbnQud3JpdGUoICdcIitcbmQrXCInICk7ZG9jdW1lbnQuY2xvc2UoKTtcIikrXCJ9KSgpKVwiKSxlLnB1c2goJ1wiIHN0eWxlXFx4M2RcInBvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt0b3A6MDt3aWR0aDoxMDAlO2hlaWdodDogMTAwJTtmaWx0ZXI6IHByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5BbHBoYShvcGFjaXR5XFx4M2QwKVwiXFx4M2VcXHgzYy9pZnJhbWVcXHgzZScpKSxlLnB1c2goXCJcXHgzYy9kaXZcXHgzZVwiKSxnPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKGUuam9pbihcIlwiKSksZy5zZXRPcGFjaXR5KHZvaWQgMCE9PWY/ZjouNSksZy5vbihcImtleWRvd25cIixuKSxnLm9uKFwia2V5cHJlc3NcIixuKSxnLm9uKFwia2V5dXBcIixuKSxnLmFwcGVuZFRvKENLRURJVE9SLmRvY3VtZW50LmdldEJvZHkoKSksRFtjXT1nKTthLmZvY3VzTWFuYWdlci5hZGQoZyk7eT1nO2E9ZnVuY3Rpb24oKXt2YXIgYT1iLmdldFZpZXdQYW5lU2l6ZSgpO2cuc2V0U3R5bGVzKHt3aWR0aDphLndpZHRoK1wicHhcIixoZWlnaHQ6YS5oZWlnaHQrXG5cInB4XCJ9KX07dmFyIGg9ZnVuY3Rpb24oKXt2YXIgYT1iLmdldFNjcm9sbFBvc2l0aW9uKCksYz1DS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50VG9wO2cuc2V0U3R5bGVzKHtsZWZ0OmEueCtcInB4XCIsdG9wOmEueStcInB4XCJ9KTtpZihjKXtkbyBhPWMuZ2V0UG9zaXRpb24oKSxjLm1vdmUoYS54LGEueSk7d2hpbGUoYz1jLl8ucGFyZW50RGlhbG9nKX19O3g9YTtiLm9uKFwicmVzaXplXCIsYSk7YSgpO0NLRURJVE9SLmVudi5tYWMmJkNLRURJVE9SLmVudi53ZWJraXR8fGcuZm9jdXMoKTtpZihDS0VESVRPUi5lbnYuaWU2Q29tcGF0KXt2YXIgaz1mdW5jdGlvbigpe2goKTthcmd1bWVudHMuY2FsbGVlLnByZXZTY3JvbGxIYW5kbGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07Yi4kLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtrLnByZXZTY3JvbGxIYW5kbGVyPXdpbmRvdy5vbnNjcm9sbHx8ZnVuY3Rpb24oKXt9O3dpbmRvdy5vbnNjcm9sbD1rfSwwKTtoKCl9fWZ1bmN0aW9uIHIoYSl7eSYmKGEuZm9jdXNNYW5hZ2VyLnJlbW92ZSh5KSxcbmE9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCkseS5oaWRlKCksYS5yZW1vdmVMaXN0ZW5lcihcInJlc2l6ZVwiLHgpLENLRURJVE9SLmVudi5pZTZDb21wYXQmJmEuJC5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7d2luZG93Lm9uc2Nyb2xsPXdpbmRvdy5vbnNjcm9sbCYmd2luZG93Lm9uc2Nyb2xsLnByZXZTY3JvbGxIYW5kbGVyfHxudWxsfSwwKSx4PW51bGwpfXZhciBxPUNLRURJVE9SLnRvb2xzLmNzc0xlbmd0aCx0PSdcXHgzY2RpdiBjbGFzc1xceDNkXCJja2VfcmVzZXRfYWxsIHtlZGl0b3JJZH0ge2VkaXRvckRpYWxvZ0NsYXNzfSB7aGlkcGl9XCIgZGlyXFx4M2RcIntsYW5nRGlyfVwiIGxhbmdcXHgzZFwie2xhbmdDb2RlfVwiIHJvbGVcXHgzZFwiZGlhbG9nXCIgYXJpYS1sYWJlbGxlZGJ5XFx4M2RcImNrZV9kaWFsb2dfdGl0bGVfe2lkfVwiXFx4M2VcXHgzY3RhYmxlIGNsYXNzXFx4M2RcImNrZV9kaWFsb2cgJytDS0VESVRPUi5lbnYuY3NzQ2xhc3MrJyBja2Vfe2xhbmdEaXJ9XCIgc3R5bGVcXHgzZFwicG9zaXRpb246YWJzb2x1dGVcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiXFx4M2VcXHgzY3RyXFx4M2VcXHgzY3RkIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCJcXHgzZVxceDNjZGl2IGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfYm9keVwiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCJcXHgzZVxceDNjZGl2IGlkXFx4M2RcImNrZV9kaWFsb2dfdGl0bGVfe2lkfVwiIGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfdGl0bGVcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiXFx4M2VcXHgzYy9kaXZcXHgzZVxceDNjYSBpZFxceDNkXCJja2VfZGlhbG9nX2Nsb3NlX2J1dHRvbl97aWR9XCIgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ19jbG9zZV9idXR0b25cIiBocmVmXFx4M2RcImphdmFzY3JpcHQ6dm9pZCgwKVwiIHRpdGxlXFx4M2RcIntjbG9zZVRpdGxlfVwiIHJvbGVcXHgzZFwiYnV0dG9uXCJcXHgzZVxceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfbGFiZWxcIlxceDNlWFxceDNjL3NwYW5cXHgzZVxceDNjL2FcXHgzZVxceDNjZGl2IGlkXFx4M2RcImNrZV9kaWFsb2dfdGFic197aWR9XCIgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ190YWJzXCIgcm9sZVxceDNkXCJ0YWJsaXN0XCJcXHgzZVxceDNjL2RpdlxceDNlXFx4M2N0YWJsZSBjbGFzc1xceDNkXCJja2VfZGlhbG9nX2NvbnRlbnRzXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNlXFx4M2N0clxceDNlXFx4M2N0ZCBpZFxceDNkXCJja2VfZGlhbG9nX2NvbnRlbnRzX3tpZH1cIiBjbGFzc1xceDNkXCJja2VfZGlhbG9nX2NvbnRlbnRzX2JvZHlcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiXFx4M2VcXHgzYy90ZFxceDNlXFx4M2MvdHJcXHgzZVxceDNjdHJcXHgzZVxceDNjdGQgaWRcXHgzZFwiY2tlX2RpYWxvZ19mb290ZXJfe2lkfVwiIGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfZm9vdGVyXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNlXFx4M2MvdGRcXHgzZVxceDNjL3RyXFx4M2VcXHgzYy90YWJsZVxceDNlXFx4M2MvZGl2XFx4M2VcXHgzYy90ZFxceDNlXFx4M2MvdHJcXHgzZVxceDNjL3RhYmxlXFx4M2VcXHgzYy9kaXZcXHgzZSc7XG5DS0VESVRPUi5kaWFsb2c9ZnVuY3Rpb24oYixmKXtmdW5jdGlvbiBoKCl7dmFyIGE9eS5fLmZvY3VzTGlzdDthLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS50YWJJbmRleCE9Yi50YWJJbmRleD9iLnRhYkluZGV4LWEudGFiSW5kZXg6YS5mb2N1c0luZGV4LWIuZm9jdXNJbmRleH0pO2Zvcih2YXIgYj1hLmxlbmd0aCxjPTA7YzxiO2MrKylhW2NdLmZvY3VzSW5kZXg9Y31mdW5jdGlvbiBtKGEpe3ZhciBiPXkuXy5mb2N1c0xpc3Q7YT1hfHwwO2lmKCEoMT5iLmxlbmd0aCkpe3ZhciBjPXkuXy5jdXJyZW50Rm9jdXNJbmRleDt5Ll8udGFiQmFyTW9kZSYmMD5hJiYoYz0wKTt0cnl7YltjXS5nZXRJbnB1dEVsZW1lbnQoKS4kLmJsdXIoKX1jYXRjaChkKXt9dmFyIGY9YyxlPTE8eS5fLnBhZ2VDb3VudDtkb3tmKz1hO2lmKGUmJiF5Ll8udGFiQmFyTW9kZSYmKGY9PWIubGVuZ3RofHwtMT09Zikpe3kuXy50YWJCYXJNb2RlPSEwO3kuXy50YWJzW3kuXy5jdXJyZW50VGFiSWRdWzBdLmZvY3VzKCk7XG55Ll8uY3VycmVudEZvY3VzSW5kZXg9LTE7cmV0dXJufWY9KGYrYi5sZW5ndGgpJWIubGVuZ3RoO2lmKGY9PWMpYnJlYWt9d2hpbGUoYSYmIWJbZl0uaXNGb2N1c2FibGUoKSk7YltmXS5mb2N1cygpO1widGV4dFwiPT1iW2ZdLnR5cGUmJmJbZl0uc2VsZWN0KCl9fWZ1bmN0aW9uIG4oYyl7aWYoeT09Q0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFRvcCl7dmFyIGQ9Yy5kYXRhLmdldEtleXN0cm9rZSgpLGY9XCJydGxcIj09Yi5sYW5nLmRpcixnPVszNywzOCwzOSw0MF07eD12PTA7aWYoOT09ZHx8ZD09Q0tFRElUT1IuU0hJRlQrOSltKGQ9PUNLRURJVE9SLlNISUZUKzk/LTE6MSkseD0xO2Vsc2UgaWYoZD09Q0tFRElUT1IuQUxUKzEyMSYmIXkuXy50YWJCYXJNb2RlJiYxPHkuZ2V0UGFnZUNvdW50KCkpeS5fLnRhYkJhck1vZGU9ITAseS5fLnRhYnNbeS5fLmN1cnJlbnRUYWJJZF1bMF0uZm9jdXMoKSx5Ll8uY3VycmVudEZvY3VzSW5kZXg9LTEseD0xO2Vsc2UgaWYoLTEhPUNLRURJVE9SLnRvb2xzLmluZGV4T2YoZyxcbmQpJiZ5Ll8udGFiQmFyTW9kZSlkPS0xIT1DS0VESVRPUi50b29scy5pbmRleE9mKFtmPzM5OjM3LDM4XSxkKT9hLmNhbGwoeSk6ZS5jYWxsKHkpLHkuc2VsZWN0UGFnZShkKSx5Ll8udGFic1tkXVswXS5mb2N1cygpLHg9MTtlbHNlIGlmKDEzIT1kJiYzMiE9ZHx8IXkuXy50YWJCYXJNb2RlKWlmKDEzPT1kKWQ9Yy5kYXRhLmdldFRhcmdldCgpLGQuaXMoXCJhXCIsXCJidXR0b25cIixcInNlbGVjdFwiLFwidGV4dGFyZWFcIil8fGQuaXMoXCJpbnB1dFwiKSYmXCJidXR0b25cIj09ZC4kLnR5cGV8fCgoZD10aGlzLmdldEJ1dHRvbihcIm9rXCIpKSYmQ0tFRElUT1IudG9vbHMuc2V0VGltZW91dChkLmNsaWNrLDAsZCkseD0xKSx2PTE7ZWxzZSBpZigyNz09ZCkoZD10aGlzLmdldEJ1dHRvbihcImNhbmNlbFwiKSk/Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChkLmNsaWNrLDAsZCk6ITEhPT10aGlzLmZpcmUoXCJjYW5jZWxcIix7aGlkZTohMH0pLmhpZGUmJnRoaXMuaGlkZSgpLHY9MTtlbHNlIHJldHVybjtlbHNlIHRoaXMuc2VsZWN0UGFnZSh0aGlzLl8uY3VycmVudFRhYklkKSxcbnRoaXMuXy50YWJCYXJNb2RlPSExLHRoaXMuXy5jdXJyZW50Rm9jdXNJbmRleD0tMSxtKDEpLHg9MTt3KGMpfX1mdW5jdGlvbiB3KGEpe3g/YS5kYXRhLnByZXZlbnREZWZhdWx0KDEpOnYmJmEuZGF0YS5zdG9wUHJvcGFnYXRpb24oKX12YXIgcT1DS0VESVRPUi5kaWFsb2cuXy5kaWFsb2dEZWZpbml0aW9uc1tmXSx6PUNLRURJVE9SLnRvb2xzLmNsb25lKHApLHQ9Yi5jb25maWcuZGlhbG9nX2J1dHRvbnNPcmRlcnx8XCJPU1wiLHI9Yi5sYW5nLmRpcixBPXt9LHgsdjsoXCJPU1wiPT10JiZDS0VESVRPUi5lbnYubWFjfHxcInJ0bFwiPT10JiZcImx0clwiPT1yfHxcImx0clwiPT10JiZcInJ0bFwiPT1yKSYmei5idXR0b25zLnJldmVyc2UoKTtxPUNLRURJVE9SLnRvb2xzLmV4dGVuZChxKGIpLHopO3E9Q0tFRElUT1IudG9vbHMuY2xvbmUocSk7cT1uZXcgdSh0aGlzLHEpO3o9bChiKTt0aGlzLl89e2VkaXRvcjpiLGVsZW1lbnQ6ei5lbGVtZW50LG5hbWU6Zixjb250ZW50U2l6ZTp7d2lkdGg6MCxoZWlnaHQ6MH0sXG5zaXplOnt3aWR0aDowLGhlaWdodDowfSxjb250ZW50czp7fSxidXR0b25zOnt9LGFjY2Vzc0tleU1hcDp7fSx0YWJzOnt9LHRhYklkTGlzdDpbXSxjdXJyZW50VGFiSWQ6bnVsbCxjdXJyZW50VGFiSW5kZXg6bnVsbCxwYWdlQ291bnQ6MCxsYXN0VGFiOm51bGwsdGFiQmFyTW9kZTohMSxmb2N1c0xpc3Q6W10sY3VycmVudEZvY3VzSW5kZXg6MCxoYXNGb2N1czohMX07dGhpcy5wYXJ0cz16LnBhcnRzO0NLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLmZpcmUoXCJhcmlhV2lkZ2V0XCIsdGhpcy5wYXJ0cy5jb250ZW50cyl9LDAsdGhpcyk7ej17cG9zaXRpb246Q0tFRElUT1IuZW52LmllNkNvbXBhdD9cImFic29sdXRlXCI6XCJmaXhlZFwiLHRvcDowLHZpc2liaWxpdHk6XCJoaWRkZW5cIn07eltcInJ0bFwiPT1yP1wicmlnaHRcIjpcImxlZnRcIl09MDt0aGlzLnBhcnRzLmRpYWxvZy5zZXRTdHlsZXMoeik7Q0tFRElUT1IuZXZlbnQuY2FsbCh0aGlzKTt0aGlzLmRlZmluaXRpb249cT1DS0VESVRPUi5maXJlKFwiZGlhbG9nRGVmaW5pdGlvblwiLFxue25hbWU6ZixkZWZpbml0aW9uOnF9LGIpLmRlZmluaXRpb247aWYoIShcInJlbW92ZURpYWxvZ1RhYnNcImluIGIuXykmJmIuY29uZmlnLnJlbW92ZURpYWxvZ1RhYnMpe3o9Yi5jb25maWcucmVtb3ZlRGlhbG9nVGFicy5zcGxpdChcIjtcIik7Zm9yKHI9MDtyPHoubGVuZ3RoO3IrKylpZih0PXpbcl0uc3BsaXQoXCI6XCIpLDI9PXQubGVuZ3RoKXt2YXIgRD10WzBdO0FbRF18fChBW0RdPVtdKTtBW0RdLnB1c2godFsxXSl9Yi5fLnJlbW92ZURpYWxvZ1RhYnM9QX1pZihiLl8ucmVtb3ZlRGlhbG9nVGFicyYmKEE9Yi5fLnJlbW92ZURpYWxvZ1RhYnNbZl0pKWZvcihyPTA7cjxBLmxlbmd0aDtyKyspcS5yZW1vdmVDb250ZW50cyhBW3JdKTtpZihxLm9uTG9hZCl0aGlzLm9uKFwibG9hZFwiLHEub25Mb2FkKTtpZihxLm9uU2hvdyl0aGlzLm9uKFwic2hvd1wiLHEub25TaG93KTtpZihxLm9uSGlkZSl0aGlzLm9uKFwiaGlkZVwiLHEub25IaWRlKTtpZihxLm9uT2spdGhpcy5vbihcIm9rXCIsZnVuY3Rpb24oYSl7Yi5maXJlKFwic2F2ZVNuYXBzaG90XCIpO1xuc2V0VGltZW91dChmdW5jdGlvbigpe2IuZmlyZShcInNhdmVTbmFwc2hvdFwiKX0sMCk7ITE9PT1xLm9uT2suY2FsbCh0aGlzLGEpJiYoYS5kYXRhLmhpZGU9ITEpfSk7dGhpcy5zdGF0ZT1DS0VESVRPUi5ESUFMT0dfU1RBVEVfSURMRTtpZihxLm9uQ2FuY2VsKXRoaXMub24oXCJjYW5jZWxcIixmdW5jdGlvbihhKXshMT09PXEub25DYW5jZWwuY2FsbCh0aGlzLGEpJiYoYS5kYXRhLmhpZGU9ITEpfSk7dmFyIHk9dGhpcyxCPWZ1bmN0aW9uKGEpe3ZhciBiPXkuXy5jb250ZW50cyxjPSExLGQ7Zm9yKGQgaW4gYilmb3IodmFyIGYgaW4gYltkXSlpZihjPWEuY2FsbCh0aGlzLGJbZF1bZl0pKXJldHVybn07dGhpcy5vbihcIm9rXCIsZnVuY3Rpb24oYSl7QihmdW5jdGlvbihiKXtpZihiLnZhbGlkYXRlKXt2YXIgZD1iLnZhbGlkYXRlKHRoaXMpLGY9XCJzdHJpbmdcIj09dHlwZW9mIGR8fCExPT09ZDtmJiYoYS5kYXRhLmhpZGU9ITEsYS5zdG9wKCkpO2MuY2FsbChiLCFmLFwic3RyaW5nXCI9PXR5cGVvZiBkP1xuZDp2b2lkIDApO3JldHVybiBmfX0pfSx0aGlzLG51bGwsMCk7dGhpcy5vbihcImNhbmNlbFwiLGZ1bmN0aW9uKGEpe0IoZnVuY3Rpb24oYyl7aWYoYy5pc0NoYW5nZWQoKSlyZXR1cm4gYi5jb25maWcuZGlhbG9nX25vQ29uZmlybUNhbmNlbHx8Y29uZmlybShiLmxhbmcuY29tbW9uLmNvbmZpcm1DYW5jZWwpfHwoYS5kYXRhLmhpZGU9ITEpLCEwfSl9LHRoaXMsbnVsbCwwKTt0aGlzLnBhcnRzLmNsb3NlLm9uKFwiY2xpY2tcIixmdW5jdGlvbihhKXshMSE9PXRoaXMuZmlyZShcImNhbmNlbFwiLHtoaWRlOiEwfSkuaGlkZSYmdGhpcy5oaWRlKCk7YS5kYXRhLnByZXZlbnREZWZhdWx0KCl9LHRoaXMpO3RoaXMuY2hhbmdlRm9jdXM9bTt2YXIgQz10aGlzLl8uZWxlbWVudDtiLmZvY3VzTWFuYWdlci5hZGQoQywxKTt0aGlzLm9uKFwic2hvd1wiLGZ1bmN0aW9uKCl7Qy5vbihcImtleWRvd25cIixuLHRoaXMpO2lmKENLRURJVE9SLmVudi5nZWNrbylDLm9uKFwia2V5cHJlc3NcIix3LHRoaXMpfSk7dGhpcy5vbihcImhpZGVcIixcbmZ1bmN0aW9uKCl7Qy5yZW1vdmVMaXN0ZW5lcihcImtleWRvd25cIixuKTtDS0VESVRPUi5lbnYuZ2Vja28mJkMucmVtb3ZlTGlzdGVuZXIoXCJrZXlwcmVzc1wiLHcpO0IoZnVuY3Rpb24oYSl7ZC5hcHBseShhKX0pfSk7dGhpcy5vbihcImlmcmFtZUFkZGVkXCIsZnVuY3Rpb24oYSl7KG5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnQoYS5kYXRhLmlmcmFtZS4kLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQpKS5vbihcImtleWRvd25cIixuLHRoaXMsbnVsbCwwKX0pO3RoaXMub24oXCJzaG93XCIsZnVuY3Rpb24oKXtoKCk7dmFyIGE9MTx5Ll8ucGFnZUNvdW50O2IuY29uZmlnLmRpYWxvZ19zdGFydHVwRm9jdXNUYWImJmE/KHkuXy50YWJCYXJNb2RlPSEwLHkuXy50YWJzW3kuXy5jdXJyZW50VGFiSWRdWzBdLmZvY3VzKCkseS5fLmN1cnJlbnRGb2N1c0luZGV4PS0xKTp0aGlzLl8uaGFzRm9jdXN8fCh0aGlzLl8uY3VycmVudEZvY3VzSW5kZXg9YT8tMTp0aGlzLl8uZm9jdXNMaXN0Lmxlbmd0aC0xLHEub25Gb2N1cz9cbihhPXEub25Gb2N1cy5jYWxsKHRoaXMpKSYmYS5mb2N1cygpOm0oMSkpfSx0aGlzLG51bGwsNDI5NDk2NzI5NSk7aWYoQ0tFRElUT1IuZW52LmllNkNvbXBhdCl0aGlzLm9uKFwibG9hZFwiLGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRFbGVtZW50KCksYj1hLmdldEZpcnN0KCk7Yi5yZW1vdmUoKTtiLmFwcGVuZFRvKGEpfSx0aGlzKTtrKHRoaXMpO2codGhpcyk7KG5ldyBDS0VESVRPUi5kb20udGV4dChxLnRpdGxlLENLRURJVE9SLmRvY3VtZW50KSkuYXBwZW5kVG8odGhpcy5wYXJ0cy50aXRsZSk7Zm9yKHI9MDtyPHEuY29udGVudHMubGVuZ3RoO3IrKykoQT1xLmNvbnRlbnRzW3JdKSYmdGhpcy5hZGRQYWdlKEEpO3RoaXMucGFydHMudGFicy5vbihcImNsaWNrXCIsZnVuY3Rpb24oYSl7dmFyIGI9YS5kYXRhLmdldFRhcmdldCgpO2IuaGFzQ2xhc3MoXCJja2VfZGlhbG9nX3RhYlwiKSYmKGI9Yi4kLmlkLHRoaXMuc2VsZWN0UGFnZShiLnN1YnN0cmluZyg0LGIubGFzdEluZGV4T2YoXCJfXCIpKSksXG50aGlzLl8udGFiQmFyTW9kZSYmKHRoaXMuXy50YWJCYXJNb2RlPSExLHRoaXMuXy5jdXJyZW50Rm9jdXNJbmRleD0tMSxtKDEpKSxhLmRhdGEucHJldmVudERlZmF1bHQoKSl9LHRoaXMpO3I9W107QT1DS0VESVRPUi5kaWFsb2cuXy51aUVsZW1lbnRCdWlsZGVycy5oYm94LmJ1aWxkKHRoaXMse3R5cGU6XCJoYm94XCIsY2xhc3NOYW1lOlwiY2tlX2RpYWxvZ19mb290ZXJfYnV0dG9uc1wiLHdpZHRoczpbXSxjaGlsZHJlbjpxLmJ1dHRvbnN9LHIpLmdldENoaWxkKCk7dGhpcy5wYXJ0cy5mb290ZXIuc2V0SHRtbChyLmpvaW4oXCJcIikpO2ZvcihyPTA7cjxBLmxlbmd0aDtyKyspdGhpcy5fLmJ1dHRvbnNbQVtyXS5pZF09QVtyXX07Q0tFRElUT1IuZGlhbG9nLnByb3RvdHlwZT17ZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuaGlkZSgpO3RoaXMuXy5lbGVtZW50LnJlbW92ZSgpfSxyZXNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSxiKXt0aGlzLl8uY29udGVudFNpemUmJnRoaXMuXy5jb250ZW50U2l6ZS53aWR0aD09XG5hJiZ0aGlzLl8uY29udGVudFNpemUuaGVpZ2h0PT1ifHwoQ0tFRElUT1IuZGlhbG9nLmZpcmUoXCJyZXNpemVcIix7ZGlhbG9nOnRoaXMsd2lkdGg6YSxoZWlnaHQ6Yn0sdGhpcy5fLmVkaXRvciksdGhpcy5maXJlKFwicmVzaXplXCIse3dpZHRoOmEsaGVpZ2h0OmJ9LHRoaXMuXy5lZGl0b3IpLHRoaXMucGFydHMuY29udGVudHMuc2V0U3R5bGVzKHt3aWR0aDphK1wicHhcIixoZWlnaHQ6YitcInB4XCJ9KSxcInJ0bFwiPT10aGlzLl8uZWRpdG9yLmxhbmcuZGlyJiZ0aGlzLl8ucG9zaXRpb24mJih0aGlzLl8ucG9zaXRpb24ueD1DS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKS5nZXRWaWV3UGFuZVNpemUoKS53aWR0aC10aGlzLl8uY29udGVudFNpemUud2lkdGgtcGFyc2VJbnQodGhpcy5fLmVsZW1lbnQuZ2V0Rmlyc3QoKS5nZXRTdHlsZShcInJpZ2h0XCIpLDEwKSksdGhpcy5fLmNvbnRlbnRTaXplPXt3aWR0aDphLGhlaWdodDpifSl9fSgpLGdldFNpemU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8uZWxlbWVudC5nZXRGaXJzdCgpO1xucmV0dXJue3dpZHRoOmEuJC5vZmZzZXRXaWR0aHx8MCxoZWlnaHQ6YS4kLm9mZnNldEhlaWdodHx8MH19LG1vdmU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuXy5lbGVtZW50LmdldEZpcnN0KCksZj1cInJ0bFwiPT10aGlzLl8uZWRpdG9yLmxhbmcuZGlyLGU9XCJmaXhlZFwiPT1kLmdldENvbXB1dGVkU3R5bGUoXCJwb3NpdGlvblwiKTtDS0VESVRPUi5lbnYuaWUmJmQuc2V0U3R5bGUoXCJ6b29tXCIsXCIxMDAlXCIpO2UmJnRoaXMuXy5wb3NpdGlvbiYmdGhpcy5fLnBvc2l0aW9uLng9PWEmJnRoaXMuXy5wb3NpdGlvbi55PT1ifHwodGhpcy5fLnBvc2l0aW9uPXt4OmEseTpifSxlfHwoZT1DS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKS5nZXRTY3JvbGxQb3NpdGlvbigpLGErPWUueCxiKz1lLnkpLGYmJihlPXRoaXMuZ2V0U2l6ZSgpLGE9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCkuZ2V0Vmlld1BhbmVTaXplKCkud2lkdGgtZS53aWR0aC1hKSxiPXt0b3A6KDA8Yj9iOjApK1wicHhcIn0sXG5iW2Y/XCJyaWdodFwiOlwibGVmdFwiXT0oMDxhP2E6MCkrXCJweFwiLGQuc2V0U3R5bGVzKGIpLGMmJih0aGlzLl8ubW92ZWQ9MSkpfSxnZXRQb3NpdGlvbjpmdW5jdGlvbigpe3JldHVybiBDS0VESVRPUi50b29scy5leHRlbmQoe30sdGhpcy5fLnBvc2l0aW9uKX0sc2hvdzpmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5lbGVtZW50LGI9dGhpcy5kZWZpbml0aW9uO2EuZ2V0UGFyZW50KCkmJmEuZ2V0UGFyZW50KCkuZXF1YWxzKENLRURJVE9SLmRvY3VtZW50LmdldEJvZHkoKSk/YS5zZXRTdHlsZShcImRpc3BsYXlcIixcImJsb2NrXCIpOmEuYXBwZW5kVG8oQ0tFRElUT1IuZG9jdW1lbnQuZ2V0Qm9keSgpKTt0aGlzLnJlc2l6ZSh0aGlzLl8uY29udGVudFNpemUmJnRoaXMuXy5jb250ZW50U2l6ZS53aWR0aHx8Yi53aWR0aHx8Yi5taW5XaWR0aCx0aGlzLl8uY29udGVudFNpemUmJnRoaXMuXy5jb250ZW50U2l6ZS5oZWlnaHR8fGIuaGVpZ2h0fHxiLm1pbkhlaWdodCk7dGhpcy5yZXNldCgpO3RoaXMuc2VsZWN0UGFnZSh0aGlzLmRlZmluaXRpb24uY29udGVudHNbMF0uaWQpO1xubnVsbD09PUNLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRaSW5kZXgmJihDS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50WkluZGV4PXRoaXMuXy5lZGl0b3IuY29uZmlnLmJhc2VGbG9hdFpJbmRleCk7dGhpcy5fLmVsZW1lbnQuZ2V0Rmlyc3QoKS5zZXRTdHlsZShcInotaW5kZXhcIixDS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50WkluZGV4Kz0xMCk7bnVsbD09PUNLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRUb3A/KENLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRUb3A9dGhpcyx0aGlzLl8ucGFyZW50RGlhbG9nPW51bGwsdih0aGlzLl8uZWRpdG9yKSk6KHRoaXMuXy5wYXJlbnREaWFsb2c9Q0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFRvcCx0aGlzLl8ucGFyZW50RGlhbG9nLmdldEVsZW1lbnQoKS5nZXRGaXJzdCgpLiQuc3R5bGUuekluZGV4LT1NYXRoLmZsb29yKHRoaXMuXy5lZGl0b3IuY29uZmlnLmJhc2VGbG9hdFpJbmRleC8yKSxDS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50VG9wPXRoaXMpO1xuYS5vbihcImtleWRvd25cIixDKTthLm9uKFwia2V5dXBcIixGKTt0aGlzLl8uaGFzRm9jdXM9ITE7Zm9yKHZhciBjIGluIGIuY29udGVudHMpaWYoYi5jb250ZW50c1tjXSl7dmFyIGE9Yi5jb250ZW50c1tjXSxkPXRoaXMuXy50YWJzW2EuaWRdLGU9YS5yZXF1aXJlZENvbnRlbnQsZz0wO2lmKGQpe2Zvcih2YXIgaCBpbiB0aGlzLl8uY29udGVudHNbYS5pZF0pe3ZhciBrPXRoaXMuXy5jb250ZW50c1thLmlkXVtoXTtcImhib3hcIiE9ay50eXBlJiZcInZib3hcIiE9ay50eXBlJiZrLmdldElucHV0RWxlbWVudCgpJiYoay5yZXF1aXJlZENvbnRlbnQmJiF0aGlzLl8uZWRpdG9yLmFjdGl2ZUZpbHRlci5jaGVjayhrLnJlcXVpcmVkQ29udGVudCk/ay5kaXNhYmxlKCk6KGsuZW5hYmxlKCksZysrKSl9IWd8fGUmJiF0aGlzLl8uZWRpdG9yLmFjdGl2ZUZpbHRlci5jaGVjayhlKT9kWzBdLmFkZENsYXNzKFwiY2tlX2RpYWxvZ190YWJfZGlzYWJsZWRcIik6ZFswXS5yZW1vdmVDbGFzcyhcImNrZV9kaWFsb2dfdGFiX2Rpc2FibGVkXCIpfX1DS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5sYXlvdXQoKTtcbmYodGhpcyk7dGhpcy5wYXJ0cy5kaWFsb2cuc2V0U3R5bGUoXCJ2aXNpYmlsaXR5XCIsXCJcIik7dGhpcy5maXJlT25jZShcImxvYWRcIix7fSk7Q0tFRElUT1IudWkuZmlyZShcInJlYWR5XCIsdGhpcyk7dGhpcy5maXJlKFwic2hvd1wiLHt9KTt0aGlzLl8uZWRpdG9yLmZpcmUoXCJkaWFsb2dTaG93XCIsdGhpcyk7dGhpcy5fLnBhcmVudERpYWxvZ3x8dGhpcy5fLmVkaXRvci5mb2N1c01hbmFnZXIubG9jaygpO3RoaXMuZm9yZWFjaChmdW5jdGlvbihhKXthLnNldEluaXRWYWx1ZSYmYS5zZXRJbml0VmFsdWUoKX0pfSwxMDAsdGhpcyl9LGxheW91dDpmdW5jdGlvbigpe3ZhciBhPXRoaXMucGFydHMuZGlhbG9nLGI9dGhpcy5nZXRTaXplKCksYz1DS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKS5nZXRWaWV3UGFuZVNpemUoKSxkPShjLndpZHRoLWIud2lkdGgpLzIsZj0oYy5oZWlnaHQtYi5oZWlnaHQpLzI7Q0tFRElUT1IuZW52LmllNkNvbXBhdHx8KGIuaGVpZ2h0KygwPGY/ZjowKT5jLmhlaWdodHx8XG5iLndpZHRoKygwPGQ/ZDowKT5jLndpZHRoP2Euc2V0U3R5bGUoXCJwb3NpdGlvblwiLFwiYWJzb2x1dGVcIik6YS5zZXRTdHlsZShcInBvc2l0aW9uXCIsXCJmaXhlZFwiKSk7dGhpcy5tb3ZlKHRoaXMuXy5tb3ZlZD90aGlzLl8ucG9zaXRpb24ueDpkLHRoaXMuXy5tb3ZlZD90aGlzLl8ucG9zaXRpb24ueTpmKX0sZm9yZWFjaDpmdW5jdGlvbihhKXtmb3IodmFyIGIgaW4gdGhpcy5fLmNvbnRlbnRzKWZvcih2YXIgYyBpbiB0aGlzLl8uY29udGVudHNbYl0pYS5jYWxsKHRoaXMsdGhpcy5fLmNvbnRlbnRzW2JdW2NdKTtyZXR1cm4gdGhpc30scmVzZXQ6ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbihhKXthLnJlc2V0JiZhLnJlc2V0KDEpfTtyZXR1cm4gZnVuY3Rpb24oKXt0aGlzLmZvcmVhY2goYSk7cmV0dXJuIHRoaXN9fSgpLHNldHVwQ29udGVudDpmdW5jdGlvbigpe3ZhciBhPWFyZ3VtZW50czt0aGlzLmZvcmVhY2goZnVuY3Rpb24oYil7Yi5zZXR1cCYmYi5zZXR1cC5hcHBseShiLGEpfSl9LFxuY29tbWl0Q29udGVudDpmdW5jdGlvbigpe3ZhciBhPWFyZ3VtZW50czt0aGlzLmZvcmVhY2goZnVuY3Rpb24oYil7Q0tFRElUT1IuZW52LmllJiZ0aGlzLl8uY3VycmVudEZvY3VzSW5kZXg9PWIuZm9jdXNJbmRleCYmYi5nZXRJbnB1dEVsZW1lbnQoKS4kLmJsdXIoKTtiLmNvbW1pdCYmYi5jb21taXQuYXBwbHkoYixhKX0pfSxoaWRlOmZ1bmN0aW9uKCl7aWYodGhpcy5wYXJ0cy5kaWFsb2cuaXNWaXNpYmxlKCkpe3RoaXMuZmlyZShcImhpZGVcIix7fSk7dGhpcy5fLmVkaXRvci5maXJlKFwiZGlhbG9nSGlkZVwiLHRoaXMpO3RoaXMuc2VsZWN0UGFnZSh0aGlzLl8udGFiSWRMaXN0WzBdKTt2YXIgYT10aGlzLl8uZWxlbWVudDthLnNldFN0eWxlKFwiZGlzcGxheVwiLFwibm9uZVwiKTt0aGlzLnBhcnRzLmRpYWxvZy5zZXRTdHlsZShcInZpc2liaWxpdHlcIixcImhpZGRlblwiKTtmb3IoSih0aGlzKTtDS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50VG9wIT10aGlzOylDS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50VG9wLmhpZGUoKTtcbmlmKHRoaXMuXy5wYXJlbnREaWFsb2cpe3ZhciBiPXRoaXMuXy5wYXJlbnREaWFsb2cuZ2V0RWxlbWVudCgpLmdldEZpcnN0KCk7Yi5zZXRTdHlsZShcInotaW5kZXhcIixwYXJzZUludChiLiQuc3R5bGUuekluZGV4LDEwKStNYXRoLmZsb29yKHRoaXMuXy5lZGl0b3IuY29uZmlnLmJhc2VGbG9hdFpJbmRleC8yKSl9ZWxzZSByKHRoaXMuXy5lZGl0b3IpO2lmKENLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRUb3A9dGhpcy5fLnBhcmVudERpYWxvZylDS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50WkluZGV4LT0xMDtlbHNle0NLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRaSW5kZXg9bnVsbDthLnJlbW92ZUxpc3RlbmVyKFwia2V5ZG93blwiLEMpO2EucmVtb3ZlTGlzdGVuZXIoXCJrZXl1cFwiLEYpO3ZhciBjPXRoaXMuXy5lZGl0b3I7Yy5mb2N1cygpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtjLmZvY3VzTWFuYWdlci51bmxvY2soKTtDS0VESVRPUi5lbnYuaU9TJiZjLndpbmRvdy5mb2N1cygpfSwwKX1kZWxldGUgdGhpcy5fLnBhcmVudERpYWxvZztcbnRoaXMuZm9yZWFjaChmdW5jdGlvbihhKXthLnJlc2V0SW5pdFZhbHVlJiZhLnJlc2V0SW5pdFZhbHVlKCl9KTt0aGlzLnNldFN0YXRlKENLRURJVE9SLkRJQUxPR19TVEFURV9JRExFKX19LGFkZFBhZ2U6ZnVuY3Rpb24oYSl7aWYoIWEucmVxdWlyZWRDb250ZW50fHx0aGlzLl8uZWRpdG9yLmZpbHRlci5jaGVjayhhLnJlcXVpcmVkQ29udGVudCkpe2Zvcih2YXIgYj1bXSxjPWEubGFiZWw/JyB0aXRsZVxceDNkXCInK0NLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoYS5sYWJlbCkrJ1wiJzpcIlwiLGQ9Q0tFRElUT1IuZGlhbG9nLl8udWlFbGVtZW50QnVpbGRlcnMudmJveC5idWlsZCh0aGlzLHt0eXBlOlwidmJveFwiLGNsYXNzTmFtZTpcImNrZV9kaWFsb2dfcGFnZV9jb250ZW50c1wiLGNoaWxkcmVuOmEuZWxlbWVudHMsZXhwYW5kOiEhYS5leHBhbmQscGFkZGluZzphLnBhZGRpbmcsc3R5bGU6YS5zdHlsZXx8XCJ3aWR0aDogMTAwJTtcIn0sYiksZj10aGlzLl8uY29udGVudHNbYS5pZF09e30sZT1kLmdldENoaWxkKCksXG5nPTA7ZD1lLnNoaWZ0KCk7KWQubm90QWxsb3dlZHx8XCJoYm94XCI9PWQudHlwZXx8XCJ2Ym94XCI9PWQudHlwZXx8ZysrLGZbZC5pZF09ZCxcImZ1bmN0aW9uXCI9PXR5cGVvZiBkLmdldENoaWxkJiZlLnB1c2guYXBwbHkoZSxkLmdldENoaWxkKCkpO2d8fChhLmhpZGRlbj0hMCk7Yj1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbChiLmpvaW4oXCJcIikpO2Iuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwidGFicGFuZWxcIik7ZD1DS0VESVRPUi5lbnY7Zj1cImNrZV9cIithLmlkK1wiX1wiK0NLRURJVE9SLnRvb2xzLmdldE5leHROdW1iZXIoKTtjPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKFsnXFx4M2NhIGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfdGFiXCInLDA8dGhpcy5fLnBhZ2VDb3VudD9cIiBja2VfbGFzdFwiOlwiY2tlX2ZpcnN0XCIsYyxhLmhpZGRlbj8nIHN0eWxlXFx4M2RcImRpc3BsYXk6bm9uZVwiJzpcIlwiLCcgaWRcXHgzZFwiJyxmLCdcIicsZC5nZWNrbyYmIWQuaGM/XCJcIjonIGhyZWZcXHgzZFwiamF2YXNjcmlwdDp2b2lkKDApXCInLFxuJyB0YWJJbmRleFxceDNkXCItMVwiIGhpZGVmb2N1c1xceDNkXCJ0cnVlXCIgcm9sZVxceDNkXCJ0YWJcIlxceDNlJyxhLmxhYmVsLFwiXFx4M2MvYVxceDNlXCJdLmpvaW4oXCJcIikpO2Iuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbGxlZGJ5XCIsZik7dGhpcy5fLnRhYnNbYS5pZF09W2MsYl07dGhpcy5fLnRhYklkTGlzdC5wdXNoKGEuaWQpOyFhLmhpZGRlbiYmdGhpcy5fLnBhZ2VDb3VudCsrO3RoaXMuXy5sYXN0VGFiPWM7dGhpcy51cGRhdGVTdHlsZSgpO2Iuc2V0QXR0cmlidXRlKFwibmFtZVwiLGEuaWQpO2IuYXBwZW5kVG8odGhpcy5wYXJ0cy5jb250ZW50cyk7Yy51bnNlbGVjdGFibGUoKTt0aGlzLnBhcnRzLnRhYnMuYXBwZW5kKGMpO2EuYWNjZXNzS2V5JiYoRSh0aGlzLHRoaXMsXCJDVFJMK1wiK2EuYWNjZXNzS2V5LE0sRyksdGhpcy5fLmFjY2Vzc0tleU1hcFtcIkNUUkwrXCIrYS5hY2Nlc3NLZXldPWEuaWQpfX0sc2VsZWN0UGFnZTpmdW5jdGlvbihhKXtpZih0aGlzLl8uY3VycmVudFRhYklkIT1hJiYhdGhpcy5fLnRhYnNbYV1bMF0uaGFzQ2xhc3MoXCJja2VfZGlhbG9nX3RhYl9kaXNhYmxlZFwiKSYmXG4hMSE9PXRoaXMuZmlyZShcInNlbGVjdFBhZ2VcIix7cGFnZTphLGN1cnJlbnRQYWdlOnRoaXMuXy5jdXJyZW50VGFiSWR9KSl7Zm9yKHZhciBjIGluIHRoaXMuXy50YWJzKXt2YXIgZD10aGlzLl8udGFic1tjXVswXSxmPXRoaXMuXy50YWJzW2NdWzFdO2MhPWEmJihkLnJlbW92ZUNsYXNzKFwiY2tlX2RpYWxvZ190YWJfc2VsZWN0ZWRcIiksZi5oaWRlKCkpO2Yuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIixjIT1hKX12YXIgZT10aGlzLl8udGFic1thXTtlWzBdLmFkZENsYXNzKFwiY2tlX2RpYWxvZ190YWJfc2VsZWN0ZWRcIik7Q0tFRElUT1IuZW52LmllNkNvbXBhdHx8Q0tFRElUT1IuZW52LmllN0NvbXBhdD8oYihlWzFdKSxlWzFdLnNob3coKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YihlWzFdLDEpfSwwKSk6ZVsxXS5zaG93KCk7dGhpcy5fLmN1cnJlbnRUYWJJZD1hO3RoaXMuXy5jdXJyZW50VGFiSW5kZXg9Q0tFRElUT1IudG9vbHMuaW5kZXhPZih0aGlzLl8udGFiSWRMaXN0LGEpfX0sXG51cGRhdGVTdHlsZTpmdW5jdGlvbigpe3RoaXMucGFydHMuZGlhbG9nWygxPT09dGhpcy5fLnBhZ2VDb3VudD9cImFkZFwiOlwicmVtb3ZlXCIpK1wiQ2xhc3NcIl0oXCJja2Vfc2luZ2xlX3BhZ2VcIil9LGhpZGVQYWdlOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuXy50YWJzW2JdJiZ0aGlzLl8udGFic1tiXVswXTtjJiYxIT10aGlzLl8ucGFnZUNvdW50JiZjLmlzVmlzaWJsZSgpJiYoYj09dGhpcy5fLmN1cnJlbnRUYWJJZCYmdGhpcy5zZWxlY3RQYWdlKGEuY2FsbCh0aGlzKSksYy5oaWRlKCksdGhpcy5fLnBhZ2VDb3VudC0tLHRoaXMudXBkYXRlU3R5bGUoKSl9LHNob3dQYWdlOmZ1bmN0aW9uKGEpe2lmKGE9dGhpcy5fLnRhYnNbYV0mJnRoaXMuXy50YWJzW2FdWzBdKWEuc2hvdygpLHRoaXMuXy5wYWdlQ291bnQrKyx0aGlzLnVwZGF0ZVN0eWxlKCl9LGdldEVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLmVsZW1lbnR9LGdldE5hbWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLm5hbWV9LFxuZ2V0Q29udGVudEVsZW1lbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLl8uY29udGVudHNbYV07cmV0dXJuIGMmJmNbYl19LGdldFZhbHVlT2Y6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5nZXRDb250ZW50RWxlbWVudChhLGIpLmdldFZhbHVlKCl9LHNldFZhbHVlT2Y6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLmdldENvbnRlbnRFbGVtZW50KGEsYikuc2V0VmFsdWUoYyl9LGdldEJ1dHRvbjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fLmJ1dHRvbnNbYV19LGNsaWNrOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl8uYnV0dG9uc1thXS5jbGljaygpfSxkaXNhYmxlQnV0dG9uOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl8uYnV0dG9uc1thXS5kaXNhYmxlKCl9LGVuYWJsZUJ1dHRvbjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fLmJ1dHRvbnNbYV0uZW5hYmxlKCl9LGdldFBhZ2VDb3VudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8ucGFnZUNvdW50fSxnZXRQYXJlbnRFZGl0b3I6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLmVkaXRvcn0sXG5nZXRTZWxlY3RlZEVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQYXJlbnRFZGl0b3IoKS5nZXRTZWxlY3Rpb24oKS5nZXRTZWxlY3RlZEVsZW1lbnQoKX0sYWRkRm9jdXNhYmxlOmZ1bmN0aW9uKGEsYil7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGIpYj10aGlzLl8uZm9jdXNMaXN0Lmxlbmd0aCx0aGlzLl8uZm9jdXNMaXN0LnB1c2gobmV3IG0odGhpcyxhLGIpKTtlbHNle3RoaXMuXy5mb2N1c0xpc3Quc3BsaWNlKGIsMCxuZXcgbSh0aGlzLGEsYikpO2Zvcih2YXIgYz1iKzE7Yzx0aGlzLl8uZm9jdXNMaXN0Lmxlbmd0aDtjKyspdGhpcy5fLmZvY3VzTGlzdFtjXS5mb2N1c0luZGV4Kyt9fSxzZXRTdGF0ZTpmdW5jdGlvbihhKXtpZih0aGlzLnN0YXRlIT1hKXt0aGlzLnN0YXRlPWE7aWYoYT09Q0tFRElUT1IuRElBTE9HX1NUQVRFX0JVU1kpe2lmKCF0aGlzLnBhcnRzLnNwaW5uZXIpe3ZhciBiPXRoaXMuZ2V0UGFyZW50RWRpdG9yKCkubGFuZy5kaXIsYz17YXR0cmlidXRlczp7XCJjbGFzc1wiOlwiY2tlX2RpYWxvZ19zcGlubmVyXCJ9LFxuc3R5bGVzOntcImZsb2F0XCI6XCJydGxcIj09Yj9cInJpZ2h0XCI6XCJsZWZ0XCJ9fTtjLnN0eWxlc1tcIm1hcmdpbi1cIisoXCJydGxcIj09Yj9cImxlZnRcIjpcInJpZ2h0XCIpXT1cIjhweFwiO3RoaXMucGFydHMuc3Bpbm5lcj1DS0VESVRPUi5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsYyk7dGhpcy5wYXJ0cy5zcGlubmVyLnNldEh0bWwoXCJcXHgyNiM4OTg3O1wiKTt0aGlzLnBhcnRzLnNwaW5uZXIuYXBwZW5kVG8odGhpcy5wYXJ0cy50aXRsZSwxKX10aGlzLnBhcnRzLnNwaW5uZXIuc2hvdygpO3RoaXMuZ2V0QnV0dG9uKFwib2tcIikuZGlzYWJsZSgpfWVsc2UgYT09Q0tFRElUT1IuRElBTE9HX1NUQVRFX0lETEUmJih0aGlzLnBhcnRzLnNwaW5uZXImJnRoaXMucGFydHMuc3Bpbm5lci5oaWRlKCksdGhpcy5nZXRCdXR0b24oXCJva1wiKS5lbmFibGUoKSk7dGhpcy5maXJlKFwic3RhdGVcIixhKX19fTtDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZGlhbG9nLHthZGQ6ZnVuY3Rpb24oYSxiKXt0aGlzLl8uZGlhbG9nRGVmaW5pdGlvbnNbYV0mJlxuXCJmdW5jdGlvblwiIT10eXBlb2YgYnx8KHRoaXMuXy5kaWFsb2dEZWZpbml0aW9uc1thXT1iKX0sZXhpc3RzOmZ1bmN0aW9uKGEpe3JldHVybiEhdGhpcy5fLmRpYWxvZ0RlZmluaXRpb25zW2FdfSxnZXRDdXJyZW50OmZ1bmN0aW9uKCl7cmV0dXJuIENLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRUb3B9LGlzVGFiRW5hYmxlZDpmdW5jdGlvbihhLGIsYyl7YT1hLmNvbmZpZy5yZW1vdmVEaWFsb2dUYWJzO3JldHVybiEoYSYmYS5tYXRjaChuZXcgUmVnRXhwKFwiKD86Xnw7KVwiK2IrXCI6XCIrYytcIig/OiR8OylcIixcImlcIikpKX0sb2tCdXR0b246ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbihhLGIpe2I9Ynx8e307cmV0dXJuIENLRURJVE9SLnRvb2xzLmV4dGVuZCh7aWQ6XCJva1wiLHR5cGU6XCJidXR0b25cIixsYWJlbDphLmxhbmcuY29tbW9uLm9rLFwiY2xhc3NcIjpcImNrZV9kaWFsb2dfdWlfYnV0dG9uX29rXCIsb25DbGljazpmdW5jdGlvbihhKXthPWEuZGF0YS5kaWFsb2c7ITEhPT1hLmZpcmUoXCJva1wiLFxue2hpZGU6ITB9KS5oaWRlJiZhLmhpZGUoKX19LGIsITApfTthLnR5cGU9XCJidXR0b25cIjthLm92ZXJyaWRlPWZ1bmN0aW9uKGIpe3JldHVybiBDS0VESVRPUi50b29scy5leHRlbmQoZnVuY3Rpb24oYyl7cmV0dXJuIGEoYyxiKX0se3R5cGU6XCJidXR0b25cIn0sITApfTtyZXR1cm4gYX0oKSxjYW5jZWxCdXR0b246ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbihhLGIpe2I9Ynx8e307cmV0dXJuIENLRURJVE9SLnRvb2xzLmV4dGVuZCh7aWQ6XCJjYW5jZWxcIix0eXBlOlwiYnV0dG9uXCIsbGFiZWw6YS5sYW5nLmNvbW1vbi5jYW5jZWwsXCJjbGFzc1wiOlwiY2tlX2RpYWxvZ191aV9idXR0b25fY2FuY2VsXCIsb25DbGljazpmdW5jdGlvbihhKXthPWEuZGF0YS5kaWFsb2c7ITEhPT1hLmZpcmUoXCJjYW5jZWxcIix7aGlkZTohMH0pLmhpZGUmJmEuaGlkZSgpfX0sYiwhMCl9O2EudHlwZT1cImJ1dHRvblwiO2Eub3ZlcnJpZGU9ZnVuY3Rpb24oYil7cmV0dXJuIENLRURJVE9SLnRvb2xzLmV4dGVuZChmdW5jdGlvbihjKXtyZXR1cm4gYShjLFxuYil9LHt0eXBlOlwiYnV0dG9uXCJ9LCEwKX07cmV0dXJuIGF9KCksYWRkVUlFbGVtZW50OmZ1bmN0aW9uKGEsYil7dGhpcy5fLnVpRWxlbWVudEJ1aWxkZXJzW2FdPWJ9fSk7Q0tFRElUT1IuZGlhbG9nLl89e3VpRWxlbWVudEJ1aWxkZXJzOnt9LGRpYWxvZ0RlZmluaXRpb25zOnt9LGN1cnJlbnRUb3A6bnVsbCxjdXJyZW50WkluZGV4Om51bGx9O0NLRURJVE9SLmV2ZW50LmltcGxlbWVudE9uKENLRURJVE9SLmRpYWxvZyk7Q0tFRElUT1IuZXZlbnQuaW1wbGVtZW50T24oQ0tFRElUT1IuZGlhbG9nLnByb3RvdHlwZSk7dmFyIHA9e3Jlc2l6YWJsZTpDS0VESVRPUi5ESUFMT0dfUkVTSVpFX0JPVEgsbWluV2lkdGg6NjAwLG1pbkhlaWdodDo0MDAsYnV0dG9uczpbQ0tFRElUT1IuZGlhbG9nLm9rQnV0dG9uLENLRURJVE9SLmRpYWxvZy5jYW5jZWxCdXR0b25dfSx3PWZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9MCxmO2Y9YVtkXTtkKyspaWYoZi5pZD09Ynx8YyYmZltjXSYmKGY9dyhmW2NdLFxuYixjKSkpcmV0dXJuIGY7cmV0dXJuIG51bGx9LHo9ZnVuY3Rpb24oYSxiLGMsZCxmKXtpZihjKXtmb3IodmFyIGU9MCxnO2c9YVtlXTtlKyspe2lmKGcuaWQ9PWMpcmV0dXJuIGEuc3BsaWNlKGUsMCxiKSxiO2lmKGQmJmdbZF0mJihnPXooZ1tkXSxiLGMsZCwhMCkpKXJldHVybiBnfWlmKGYpcmV0dXJuIG51bGx9YS5wdXNoKGIpO3JldHVybiBifSxBPWZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9MCxmO2Y9YVtkXTtkKyspe2lmKGYuaWQ9PWIpcmV0dXJuIGEuc3BsaWNlKGQsMSk7aWYoYyYmZltjXSYmKGY9QShmW2NdLGIsYykpKXJldHVybiBmfXJldHVybiBudWxsfSx1PWZ1bmN0aW9uKGEsYil7dGhpcy5kaWFsb2c9YTtmb3IodmFyIGM9Yi5jb250ZW50cyxkPTAsZjtmPWNbZF07ZCsrKWNbZF09ZiYmbmV3IGgoYSxmKTtDS0VESVRPUi50b29scy5leHRlbmQodGhpcyxiKX07dS5wcm90b3R5cGU9e2dldENvbnRlbnRzOmZ1bmN0aW9uKGEpe3JldHVybiB3KHRoaXMuY29udGVudHMsXG5hKX0sZ2V0QnV0dG9uOmZ1bmN0aW9uKGEpe3JldHVybiB3KHRoaXMuYnV0dG9ucyxhKX0sYWRkQ29udGVudHM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4geih0aGlzLmNvbnRlbnRzLGEsYil9LGFkZEJ1dHRvbjpmdW5jdGlvbihhLGIpe3JldHVybiB6KHRoaXMuYnV0dG9ucyxhLGIpfSxyZW1vdmVDb250ZW50czpmdW5jdGlvbihhKXtBKHRoaXMuY29udGVudHMsYSl9LHJlbW92ZUJ1dHRvbjpmdW5jdGlvbihhKXtBKHRoaXMuYnV0dG9ucyxhKX19O2gucHJvdG90eXBlPXtnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHcodGhpcy5lbGVtZW50cyxhLFwiY2hpbGRyZW5cIil9LGFkZDpmdW5jdGlvbihhLGIpe3JldHVybiB6KHRoaXMuZWxlbWVudHMsYSxiLFwiY2hpbGRyZW5cIil9LHJlbW92ZTpmdW5jdGlvbihhKXtBKHRoaXMuZWxlbWVudHMsYSxcImNoaWxkcmVuXCIpfX07dmFyIHgsRD17fSx5LEI9e30sQz1mdW5jdGlvbihhKXt2YXIgYj1hLmRhdGEuJC5jdHJsS2V5fHxhLmRhdGEuJC5tZXRhS2V5LGM9XG5hLmRhdGEuJC5hbHRLZXksZD1hLmRhdGEuJC5zaGlmdEtleSxmPVN0cmluZy5mcm9tQ2hhckNvZGUoYS5kYXRhLiQua2V5Q29kZSk7KGI9QlsoYj9cIkNUUkwrXCI6XCJcIikrKGM/XCJBTFQrXCI6XCJcIikrKGQ/XCJTSElGVCtcIjpcIlwiKStmXSkmJmIubGVuZ3RoJiYoYj1iW2IubGVuZ3RoLTFdLGIua2V5ZG93biYmYi5rZXlkb3duLmNhbGwoYi51aUVsZW1lbnQsYi5kaWFsb2csYi5rZXkpLGEuZGF0YS5wcmV2ZW50RGVmYXVsdCgpKX0sRj1mdW5jdGlvbihhKXt2YXIgYj1hLmRhdGEuJC5jdHJsS2V5fHxhLmRhdGEuJC5tZXRhS2V5LGM9YS5kYXRhLiQuYWx0S2V5LGQ9YS5kYXRhLiQuc2hpZnRLZXksZj1TdHJpbmcuZnJvbUNoYXJDb2RlKGEuZGF0YS4kLmtleUNvZGUpOyhiPUJbKGI/XCJDVFJMK1wiOlwiXCIpKyhjP1wiQUxUK1wiOlwiXCIpKyhkP1wiU0hJRlQrXCI6XCJcIikrZl0pJiZiLmxlbmd0aCYmKGI9YltiLmxlbmd0aC0xXSxiLmtleXVwJiYoYi5rZXl1cC5jYWxsKGIudWlFbGVtZW50LGIuZGlhbG9nLGIua2V5KSxcbmEuZGF0YS5wcmV2ZW50RGVmYXVsdCgpKSl9LEU9ZnVuY3Rpb24oYSxiLGMsZCxmKXsoQltjXXx8KEJbY109W10pKS5wdXNoKHt1aUVsZW1lbnQ6YSxkaWFsb2c6YixrZXk6YyxrZXl1cDpmfHxhLmFjY2Vzc0tleVVwLGtleWRvd246ZHx8YS5hY2Nlc3NLZXlEb3dufSl9LEo9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiIGluIEIpe2Zvcih2YXIgYz1CW2JdLGQ9Yy5sZW5ndGgtMTswPD1kO2QtLSljW2RdLmRpYWxvZyE9YSYmY1tkXS51aUVsZW1lbnQhPWF8fGMuc3BsaWNlKGQsMSk7MD09PWMubGVuZ3RoJiZkZWxldGUgQltiXX19LEc9ZnVuY3Rpb24oYSxiKXthLl8uYWNjZXNzS2V5TWFwW2JdJiZhLnNlbGVjdFBhZ2UoYS5fLmFjY2Vzc0tleU1hcFtiXSl9LE09ZnVuY3Rpb24oKXt9OyhmdW5jdGlvbigpe0NLRURJVE9SLnVpLmRpYWxvZz17dWlFbGVtZW50OmZ1bmN0aW9uKGEsYixjLGQsZixlLGcpe2lmKCEoND5hcmd1bWVudHMubGVuZ3RoKSl7dmFyIGg9KGQuY2FsbD9kKGIpOmQpfHxcImRpdlwiLFxuaz1bXCJcXHgzY1wiLGgsXCIgXCJdLGw9KGYmJmYuY2FsbD9mKGIpOmYpfHx7fSxtPShlJiZlLmNhbGw/ZShiKTplKXx8e30sbj0oZyYmZy5jYWxsP2cuY2FsbCh0aGlzLGEsYik6Zyl8fFwiXCIsdz10aGlzLmRvbUlkPW0uaWR8fENLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpK1wiX3VpRWxlbWVudFwiO2IucmVxdWlyZWRDb250ZW50JiYhYS5nZXRQYXJlbnRFZGl0b3IoKS5maWx0ZXIuY2hlY2soYi5yZXF1aXJlZENvbnRlbnQpJiYobC5kaXNwbGF5PVwibm9uZVwiLHRoaXMubm90QWxsb3dlZD0hMCk7bS5pZD13O3ZhciBwPXt9O2IudHlwZSYmKHBbXCJja2VfZGlhbG9nX3VpX1wiK2IudHlwZV09MSk7Yi5jbGFzc05hbWUmJihwW2IuY2xhc3NOYW1lXT0xKTtiLmRpc2FibGVkJiYocC5ja2VfZGlzYWJsZWQ9MSk7Zm9yKHZhciBxPW1bXCJjbGFzc1wiXSYmbVtcImNsYXNzXCJdLnNwbGl0P21bXCJjbGFzc1wiXS5zcGxpdChcIiBcIik6W10sdz0wO3c8cS5sZW5ndGg7dysrKXFbd10mJihwW3Fbd11dPTEpO3E9W107Zm9yKHcgaW4gcClxLnB1c2godyk7XG5tW1wiY2xhc3NcIl09cS5qb2luKFwiIFwiKTtiLnRpdGxlJiYobS50aXRsZT1iLnRpdGxlKTtwPShiLnN0eWxlfHxcIlwiKS5zcGxpdChcIjtcIik7Yi5hbGlnbiYmKHE9Yi5hbGlnbixsW1wibWFyZ2luLWxlZnRcIl09XCJsZWZ0XCI9PXE/MDpcImF1dG9cIixsW1wibWFyZ2luLXJpZ2h0XCJdPVwicmlnaHRcIj09cT8wOlwiYXV0b1wiKTtmb3IodyBpbiBsKXAucHVzaCh3K1wiOlwiK2xbd10pO2IuaGlkZGVuJiZwLnB1c2goXCJkaXNwbGF5Om5vbmVcIik7Zm9yKHc9cC5sZW5ndGgtMTswPD13O3ctLSlcIlwiPT09cFt3XSYmcC5zcGxpY2UodywxKTswPHAubGVuZ3RoJiYobS5zdHlsZT0obS5zdHlsZT9tLnN0eWxlK1wiOyBcIjpcIlwiKStwLmpvaW4oXCI7IFwiKSk7Zm9yKHcgaW4gbSlrLnB1c2godysnXFx4M2RcIicrQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShtW3ddKSsnXCIgJyk7ay5wdXNoKFwiXFx4M2VcIixuLFwiXFx4M2MvXCIsaCxcIlxceDNlXCIpO2MucHVzaChrLmpvaW4oXCJcIikpOyh0aGlzLl98fCh0aGlzLl89e30pKS5kaWFsb2c9YTtcImJvb2xlYW5cIj09XG50eXBlb2YgYi5pc0NoYW5nZWQmJih0aGlzLmlzQ2hhbmdlZD1mdW5jdGlvbigpe3JldHVybiBiLmlzQ2hhbmdlZH0pO1wiZnVuY3Rpb25cIj09dHlwZW9mIGIuaXNDaGFuZ2VkJiYodGhpcy5pc0NoYW5nZWQ9Yi5pc0NoYW5nZWQpO1wiZnVuY3Rpb25cIj09dHlwZW9mIGIuc2V0VmFsdWUmJih0aGlzLnNldFZhbHVlPUNLRURJVE9SLnRvb2xzLm92ZXJyaWRlKHRoaXMuc2V0VmFsdWUsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGMpe2EuY2FsbCh0aGlzLGIuc2V0VmFsdWUuY2FsbCh0aGlzLGMpKX19KSk7XCJmdW5jdGlvblwiPT10eXBlb2YgYi5nZXRWYWx1ZSYmKHRoaXMuZ2V0VmFsdWU9Q0tFRElUT1IudG9vbHMub3ZlcnJpZGUodGhpcy5nZXRWYWx1ZSxmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYi5nZXRWYWx1ZS5jYWxsKHRoaXMsYS5jYWxsKHRoaXMpKX19KSk7Q0tFRElUT1IuZXZlbnQuaW1wbGVtZW50T24odGhpcyk7dGhpcy5yZWdpc3RlckV2ZW50cyhiKTtcbnRoaXMuYWNjZXNzS2V5VXAmJnRoaXMuYWNjZXNzS2V5RG93biYmYi5hY2Nlc3NLZXkmJkUodGhpcyxhLFwiQ1RSTCtcIitiLmFjY2Vzc0tleSk7dmFyIHo9dGhpczthLm9uKFwibG9hZFwiLGZ1bmN0aW9uKCl7dmFyIGI9ei5nZXRJbnB1dEVsZW1lbnQoKTtpZihiKXt2YXIgYz16LnR5cGUgaW57Y2hlY2tib3g6MSxyYXRpbzoxfSYmQ0tFRElUT1IuZW52LmllJiY4PkNLRURJVE9SLmVudi52ZXJzaW9uP1wiY2tlX2RpYWxvZ191aV9mb2N1c2VkXCI6XCJcIjtiLm9uKFwiZm9jdXNcIixmdW5jdGlvbigpe2EuXy50YWJCYXJNb2RlPSExO2EuXy5oYXNGb2N1cz0hMDt6LmZpcmUoXCJmb2N1c1wiKTtjJiZ0aGlzLmFkZENsYXNzKGMpfSk7Yi5vbihcImJsdXJcIixmdW5jdGlvbigpe3ouZmlyZShcImJsdXJcIik7YyYmdGhpcy5yZW1vdmVDbGFzcyhjKX0pfX0pO0NLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLGIpO3RoaXMua2V5Ym9hcmRGb2N1c2FibGUmJih0aGlzLnRhYkluZGV4PWIudGFiSW5kZXh8fDAsdGhpcy5mb2N1c0luZGV4PVxuYS5fLmZvY3VzTGlzdC5wdXNoKHRoaXMpLTEsdGhpcy5vbihcImZvY3VzXCIsZnVuY3Rpb24oKXthLl8uY3VycmVudEZvY3VzSW5kZXg9ei5mb2N1c0luZGV4fSkpfX0saGJveDpmdW5jdGlvbihhLGIsYyxkLGYpe2lmKCEoND5hcmd1bWVudHMubGVuZ3RoKSl7dGhpcy5ffHwodGhpcy5fPXt9KTt2YXIgZT10aGlzLl8uY2hpbGRyZW49YixnPWYmJmYud2lkdGhzfHxudWxsLGg9ZiYmZi5oZWlnaHR8fG51bGwsayxsPXtyb2xlOlwicHJlc2VudGF0aW9uXCJ9O2YmJmYuYWxpZ24mJihsLmFsaWduPWYuYWxpZ24pO0NLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQuY2FsbCh0aGlzLGEsZnx8e3R5cGU6XCJoYm94XCJ9LGQsXCJ0YWJsZVwiLHt9LGwsZnVuY3Rpb24oKXt2YXIgYT1bJ1xceDNjdGJvZHlcXHgzZVxceDNjdHIgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ191aV9oYm94XCJcXHgzZSddO2ZvcihrPTA7azxjLmxlbmd0aDtrKyspe3ZhciBiPVwiY2tlX2RpYWxvZ191aV9oYm94X2NoaWxkXCIsZD1bXTswPT09ayYmXG4oYj1cImNrZV9kaWFsb2dfdWlfaGJveF9maXJzdFwiKTtrPT1jLmxlbmd0aC0xJiYoYj1cImNrZV9kaWFsb2dfdWlfaGJveF9sYXN0XCIpO2EucHVzaCgnXFx4M2N0ZCBjbGFzc1xceDNkXCInLGIsJ1wiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCIgJyk7Zz9nW2tdJiZkLnB1c2goXCJ3aWR0aDpcIitxKGdba10pKTpkLnB1c2goXCJ3aWR0aDpcIitNYXRoLmZsb29yKDEwMC9jLmxlbmd0aCkrXCIlXCIpO2gmJmQucHVzaChcImhlaWdodDpcIitxKGgpKTtmJiZ2b2lkIDAhPT1mLnBhZGRpbmcmJmQucHVzaChcInBhZGRpbmc6XCIrcShmLnBhZGRpbmcpKTtDS0VESVRPUi5lbnYuaWUmJkNLRURJVE9SLmVudi5xdWlya3MmJmVba10uYWxpZ24mJmQucHVzaChcInRleHQtYWxpZ246XCIrZVtrXS5hbGlnbik7MDxkLmxlbmd0aCYmYS5wdXNoKCdzdHlsZVxceDNkXCInK2Quam9pbihcIjsgXCIpKydcIiAnKTthLnB1c2goXCJcXHgzZVwiLGNba10sXCJcXHgzYy90ZFxceDNlXCIpfWEucHVzaChcIlxceDNjL3RyXFx4M2VcXHgzYy90Ym9keVxceDNlXCIpO3JldHVybiBhLmpvaW4oXCJcIil9KX19LFxudmJveDpmdW5jdGlvbihhLGIsYyxkLGYpe2lmKCEoMz5hcmd1bWVudHMubGVuZ3RoKSl7dGhpcy5ffHwodGhpcy5fPXt9KTt2YXIgZT10aGlzLl8uY2hpbGRyZW49YixnPWYmJmYud2lkdGh8fG51bGwsaD1mJiZmLmhlaWdodHN8fG51bGw7Q0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudC5jYWxsKHRoaXMsYSxmfHx7dHlwZTpcInZib3hcIn0sZCxcImRpdlwiLG51bGwse3JvbGU6XCJwcmVzZW50YXRpb25cIn0sZnVuY3Rpb24oKXt2YXIgYj1bJ1xceDNjdGFibGUgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIiBjZWxsc3BhY2luZ1xceDNkXCIwXCIgYm9yZGVyXFx4M2RcIjBcIiAnXTtiLnB1c2goJ3N0eWxlXFx4M2RcIicpO2YmJmYuZXhwYW5kJiZiLnB1c2goXCJoZWlnaHQ6MTAwJTtcIik7Yi5wdXNoKFwid2lkdGg6XCIrcShnfHxcIjEwMCVcIiksXCI7XCIpO0NLRURJVE9SLmVudi53ZWJraXQmJmIucHVzaChcImZsb2F0Om5vbmU7XCIpO2IucHVzaCgnXCInKTtiLnB1c2goJ2FsaWduXFx4M2RcIicsQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShmJiZcbmYuYWxpZ258fChcImx0clwiPT1hLmdldFBhcmVudEVkaXRvcigpLmxhbmcuZGlyP1wibGVmdFwiOlwicmlnaHRcIikpLCdcIiAnKTtiLnB1c2goXCJcXHgzZVxceDNjdGJvZHlcXHgzZVwiKTtmb3IodmFyIGQ9MDtkPGMubGVuZ3RoO2QrKyl7dmFyIGs9W107Yi5wdXNoKCdcXHgzY3RyXFx4M2VcXHgzY3RkIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCIgJyk7ZyYmay5wdXNoKFwid2lkdGg6XCIrcShnfHxcIjEwMCVcIikpO2g/ay5wdXNoKFwiaGVpZ2h0OlwiK3EoaFtkXSkpOmYmJmYuZXhwYW5kJiZrLnB1c2goXCJoZWlnaHQ6XCIrTWF0aC5mbG9vcigxMDAvYy5sZW5ndGgpK1wiJVwiKTtmJiZ2b2lkIDAhPT1mLnBhZGRpbmcmJmsucHVzaChcInBhZGRpbmc6XCIrcShmLnBhZGRpbmcpKTtDS0VESVRPUi5lbnYuaWUmJkNLRURJVE9SLmVudi5xdWlya3MmJmVbZF0uYWxpZ24mJmsucHVzaChcInRleHQtYWxpZ246XCIrZVtkXS5hbGlnbik7MDxrLmxlbmd0aCYmYi5wdXNoKCdzdHlsZVxceDNkXCInLGsuam9pbihcIjsgXCIpLCdcIiAnKTtiLnB1c2goJyBjbGFzc1xceDNkXCJja2VfZGlhbG9nX3VpX3Zib3hfY2hpbGRcIlxceDNlJyxcbmNbZF0sXCJcXHgzYy90ZFxceDNlXFx4M2MvdHJcXHgzZVwiKX1iLnB1c2goXCJcXHgzYy90Ym9keVxceDNlXFx4M2MvdGFibGVcXHgzZVwiKTtyZXR1cm4gYi5qb2luKFwiXCIpfSl9fX19KSgpO0NLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQucHJvdG90eXBlPXtnZXRFbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIENLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQodGhpcy5kb21JZCl9LGdldElucHV0RWxlbWVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEVsZW1lbnQoKX0sZ2V0RGlhbG9nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5kaWFsb2d9LHNldFZhbHVlOmZ1bmN0aW9uKGEsYil7dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5zZXRWYWx1ZShhKTshYiYmdGhpcy5maXJlKFwiY2hhbmdlXCIse3ZhbHVlOmF9KTtyZXR1cm4gdGhpc30sZ2V0VmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5nZXRWYWx1ZSgpfSxpc0NoYW5nZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hMX0sc2VsZWN0UGFyZW50VGFiOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPVxudGhpcy5nZXRJbnB1dEVsZW1lbnQoKTsoYT1hLmdldFBhcmVudCgpKSYmLTE9PWEuJC5jbGFzc05hbWUuc2VhcmNoKFwiY2tlX2RpYWxvZ19wYWdlX2NvbnRlbnRzXCIpOyk7aWYoIWEpcmV0dXJuIHRoaXM7YT1hLmdldEF0dHJpYnV0ZShcIm5hbWVcIik7dGhpcy5fLmRpYWxvZy5fLmN1cnJlbnRUYWJJZCE9YSYmdGhpcy5fLmRpYWxvZy5zZWxlY3RQYWdlKGEpO3JldHVybiB0aGlzfSxmb2N1czpmdW5jdGlvbigpe3RoaXMuc2VsZWN0UGFyZW50VGFiKCkuZ2V0SW5wdXRFbGVtZW50KCkuZm9jdXMoKTtyZXR1cm4gdGhpc30scmVnaXN0ZXJFdmVudHM6ZnVuY3Rpb24oYSl7dmFyIGI9L15vbihbQS1aXVxcdyspLyxjLGQ9ZnVuY3Rpb24oYSxiLGMsZCl7Yi5vbihcImxvYWRcIixmdW5jdGlvbigpe2EuZ2V0SW5wdXRFbGVtZW50KCkub24oYyxkLGEpfSl9LGY7Zm9yKGYgaW4gYSlpZihjPWYubWF0Y2goYikpdGhpcy5ldmVudFByb2Nlc3NvcnNbZl0/dGhpcy5ldmVudFByb2Nlc3NvcnNbZl0uY2FsbCh0aGlzLFxudGhpcy5fLmRpYWxvZyxhW2ZdKTpkKHRoaXMsdGhpcy5fLmRpYWxvZyxjWzFdLnRvTG93ZXJDYXNlKCksYVtmXSk7cmV0dXJuIHRoaXN9LGV2ZW50UHJvY2Vzc29yczp7b25Mb2FkOmZ1bmN0aW9uKGEsYil7YS5vbihcImxvYWRcIixiLHRoaXMpfSxvblNob3c6ZnVuY3Rpb24oYSxiKXthLm9uKFwic2hvd1wiLGIsdGhpcyl9LG9uSGlkZTpmdW5jdGlvbihhLGIpe2Eub24oXCJoaWRlXCIsYix0aGlzKX19LGFjY2Vzc0tleURvd246ZnVuY3Rpb24oKXt0aGlzLmZvY3VzKCl9LGFjY2Vzc0tleVVwOmZ1bmN0aW9uKCl7fSxkaXNhYmxlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRFbGVtZW50KCk7dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLFwidHJ1ZVwiKTthLmFkZENsYXNzKFwiY2tlX2Rpc2FibGVkXCIpfSxlbmFibGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEVsZW1lbnQoKTt0aGlzLmdldElucHV0RWxlbWVudCgpLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO1xuYS5yZW1vdmVDbGFzcyhcImNrZV9kaXNhYmxlZFwiKX0saXNFbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuZ2V0RWxlbWVudCgpLmhhc0NsYXNzKFwiY2tlX2Rpc2FibGVkXCIpfSxpc1Zpc2libGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5pc1Zpc2libGUoKX0saXNGb2N1c2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0VuYWJsZWQoKSYmdGhpcy5pc1Zpc2libGUoKT8hMDohMX19O0NLRURJVE9SLnVpLmRpYWxvZy5oYm94LnByb3RvdHlwZT1DS0VESVRPUi50b29scy5leHRlbmQobmV3IENLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQse2dldENoaWxkOmZ1bmN0aW9uKGEpe2lmKDE+YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5fLmNoaWxkcmVuLmNvbmNhdCgpO2Euc3BsaWNlfHwoYT1bYV0pO3JldHVybiAyPmEubGVuZ3RoP3RoaXMuXy5jaGlsZHJlblthWzBdXTp0aGlzLl8uY2hpbGRyZW5bYVswXV0mJnRoaXMuXy5jaGlsZHJlblthWzBdXS5nZXRDaGlsZD9cbnRoaXMuXy5jaGlsZHJlblthWzBdXS5nZXRDaGlsZChhLnNsaWNlKDEsYS5sZW5ndGgpKTpudWxsfX0sITApO0NLRURJVE9SLnVpLmRpYWxvZy52Ym94LnByb3RvdHlwZT1uZXcgQ0tFRElUT1IudWkuZGlhbG9nLmhib3g7KGZ1bmN0aW9uKCl7dmFyIGE9e2J1aWxkOmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9Yi5jaGlsZHJlbixmLGU9W10sZz1bXSxoPTA7aDxkLmxlbmd0aCYmKGY9ZFtoXSk7aCsrKXt2YXIgaz1bXTtlLnB1c2goayk7Zy5wdXNoKENLRURJVE9SLmRpYWxvZy5fLnVpRWxlbWVudEJ1aWxkZXJzW2YudHlwZV0uYnVpbGQoYSxmLGspKX1yZXR1cm4gbmV3IENLRURJVE9SLnVpLmRpYWxvZ1tiLnR5cGVdKGEsZyxlLGMsYil9fTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KFwiaGJveFwiLGEpO0NLRURJVE9SLmRpYWxvZy5hZGRVSUVsZW1lbnQoXCJ2Ym94XCIsYSl9KSgpO0NLRURJVE9SLmRpYWxvZ0NvbW1hbmQ9ZnVuY3Rpb24oYSxiKXt0aGlzLmRpYWxvZ05hbWU9YTtcbkNLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLGIsITApfTtDS0VESVRPUi5kaWFsb2dDb21tYW5kLnByb3RvdHlwZT17ZXhlYzpmdW5jdGlvbihhKXthLm9wZW5EaWFsb2codGhpcy5kaWFsb2dOYW1lKX0sY2FuVW5kbzohMSxlZGl0b3JGb2N1czoxfTsoZnVuY3Rpb24oKXt2YXIgYT0vXihbYV18W15hXSkrJC8sYj0vXlxcZCokLyxjPS9eXFxkKig/OlxcLlxcZCspPyQvLGQ9L14oKChcXGQqKFxcLlxcZCspKXwoXFxkKikpKHB4fFxcJSk/KT8kLyxmPS9eKCgoXFxkKihcXC5cXGQrKSl8KFxcZCopKShweHxlbXxleHxpbnxjbXxtbXxwdHxwY3xcXCUpPyk/JC9pLGU9L14oXFxzKltcXHctXStcXHMqOlxccypbXjo7XSsoPzo7fCQpKSokLztDS0VESVRPUi5WQUxJREFURV9PUj0xO0NLRURJVE9SLlZBTElEQVRFX0FORD0yO0NLRURJVE9SLmRpYWxvZy52YWxpZGF0ZT17ZnVuY3Rpb25zOmZ1bmN0aW9uKCl7dmFyIGE9YXJndW1lbnRzO3JldHVybiBmdW5jdGlvbigpe3ZhciBiPXRoaXMmJnRoaXMuZ2V0VmFsdWU/dGhpcy5nZXRWYWx1ZSgpOlxuYVswXSxjLGQ9Q0tFRElUT1IuVkFMSURBVEVfQU5ELGY9W10sZTtmb3IoZT0wO2U8YS5sZW5ndGg7ZSsrKWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGFbZV0pZi5wdXNoKGFbZV0pO2Vsc2UgYnJlYWs7ZTxhLmxlbmd0aCYmXCJzdHJpbmdcIj09dHlwZW9mIGFbZV0mJihjPWFbZV0sZSsrKTtlPGEubGVuZ3RoJiZcIm51bWJlclwiPT10eXBlb2YgYVtlXSYmKGQ9YVtlXSk7dmFyIGc9ZD09Q0tFRElUT1IuVkFMSURBVEVfQU5EPyEwOiExO2ZvcihlPTA7ZTxmLmxlbmd0aDtlKyspZz1kPT1DS0VESVRPUi5WQUxJREFURV9BTkQ/ZyYmZltlXShiKTpnfHxmW2VdKGIpO3JldHVybiBnPyEwOmN9fSxyZWdleDpmdW5jdGlvbihhLGIpe3JldHVybiBmdW5jdGlvbihjKXtjPXRoaXMmJnRoaXMuZ2V0VmFsdWU/dGhpcy5nZXRWYWx1ZSgpOmM7cmV0dXJuIGEudGVzdChjKT8hMDpifX0sbm90RW1wdHk6ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMucmVnZXgoYSxiKX0saW50ZWdlcjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5yZWdleChiLFxuYSl9LG51bWJlcjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5yZWdleChjLGEpfSxjc3NMZW5ndGg6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZnVuY3Rpb25zKGZ1bmN0aW9uKGEpe3JldHVybiBmLnRlc3QoQ0tFRElUT1IudG9vbHMudHJpbShhKSl9LGEpfSxodG1sTGVuZ3RoOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmZ1bmN0aW9ucyhmdW5jdGlvbihhKXtyZXR1cm4gZC50ZXN0KENLRURJVE9SLnRvb2xzLnRyaW0oYSkpfSxhKX0saW5saW5lU3R5bGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZnVuY3Rpb25zKGZ1bmN0aW9uKGEpe3JldHVybiBlLnRlc3QoQ0tFRElUT1IudG9vbHMudHJpbShhKSl9LGEpfSxlcXVhbHM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5mdW5jdGlvbnMoZnVuY3Rpb24oYil7cmV0dXJuIGI9PWF9LGIpfSxub3RFcXVhbDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmZ1bmN0aW9ucyhmdW5jdGlvbihiKXtyZXR1cm4gYiE9YX0sYil9fTtDS0VESVRPUi5vbihcImluc3RhbmNlRGVzdHJveWVkXCIsXG5mdW5jdGlvbihhKXtpZihDS0VESVRPUi50b29scy5pc0VtcHR5KENLRURJVE9SLmluc3RhbmNlcykpe2Zvcih2YXIgYjtiPUNLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRUb3A7KWIuaGlkZSgpO2Zvcih2YXIgYyBpbiBEKURbY10ucmVtb3ZlKCk7RD17fX1hPWEuZWRpdG9yLl8uc3RvcmVkRGlhbG9ncztmb3IodmFyIGQgaW4gYSlhW2RdLmRlc3Ryb3koKX0pfSkoKTtDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZSx7b3BlbkRpYWxvZzpmdW5jdGlvbihhLGIpe3ZhciBjPW51bGwsZD1DS0VESVRPUi5kaWFsb2cuXy5kaWFsb2dEZWZpbml0aW9uc1thXTtudWxsPT09Q0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFRvcCYmdih0aGlzKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBkKWM9dGhpcy5fLnN0b3JlZERpYWxvZ3N8fCh0aGlzLl8uc3RvcmVkRGlhbG9ncz17fSksYz1jW2FdfHwoY1thXT1uZXcgQ0tFRElUT1IuZGlhbG9nKHRoaXMsYSkpLGImJmIuY2FsbChjLFxuYyksYy5zaG93KCk7ZWxzZXtpZihcImZhaWxlZFwiPT1kKXRocm93IHIodGhpcyksRXJyb3IoJ1tDS0VESVRPUi5kaWFsb2cub3BlbkRpYWxvZ10gRGlhbG9nIFwiJythKydcIiBmYWlsZWQgd2hlbiBsb2FkaW5nIGRlZmluaXRpb24uJyk7XCJzdHJpbmdcIj09dHlwZW9mIGQmJkNLRURJVE9SLnNjcmlwdExvYWRlci5sb2FkKENLRURJVE9SLmdldFVybChkKSxmdW5jdGlvbigpe1wiZnVuY3Rpb25cIiE9dHlwZW9mIENLRURJVE9SLmRpYWxvZy5fLmRpYWxvZ0RlZmluaXRpb25zW2FdJiYoQ0tFRElUT1IuZGlhbG9nLl8uZGlhbG9nRGVmaW5pdGlvbnNbYV09XCJmYWlsZWRcIik7dGhpcy5vcGVuRGlhbG9nKGEsYil9LHRoaXMsMCwxKX1DS0VESVRPUi5za2luLmxvYWRQYXJ0KFwiZGlhbG9nXCIpO3JldHVybiBjfX0pfSgpLENLRURJVE9SLnBsdWdpbnMuYWRkKFwiZGlhbG9nXCIse3JlcXVpcmVzOlwiZGlhbG9ndWlcIixpbml0OmZ1bmN0aW9uKGEpe2Eub24oXCJkb3VibGVjbGlja1wiLGZ1bmN0aW9uKGUpe2UuZGF0YS5kaWFsb2cmJlxuYS5vcGVuRGlhbG9nKGUuZGF0YS5kaWFsb2cpfSxudWxsLG51bGwsOTk5KX19KSxmdW5jdGlvbigpe0NLRURJVE9SLnBsdWdpbnMuYWRkKFwiYTExeWhlbHBcIix7cmVxdWlyZXM6XCJkaWFsb2dcIixhdmFpbGFibGVMYW5nczp7YWY6MSxhcjoxLGJnOjEsY2E6MSxjczoxLGN5OjEsZGE6MSxkZToxLFwiZGUtY2hcIjoxLGVsOjEsZW46MSxcImVuLWdiXCI6MSxlbzoxLGVzOjEsZXQ6MSxldToxLGZhOjEsZmk6MSxmbzoxLGZyOjEsXCJmci1jYVwiOjEsZ2w6MSxndToxLGhlOjEsaGk6MSxocjoxLGh1OjEsaWQ6MSxpdDoxLGphOjEsa206MSxrbzoxLGt1OjEsbHQ6MSxsdjoxLG1rOjEsbW46MSxuYjoxLG5sOjEsbm86MSxwbDoxLHB0OjEsXCJwdC1iclwiOjEscm86MSxydToxLHNpOjEsc2s6MSxzbDoxLHNxOjEsc3I6MSxcInNyLWxhdG5cIjoxLHN2OjEsdGg6MSx0cjoxLHR0OjEsdWc6MSx1azoxLHZpOjEsemg6MSxcInpoLWNuXCI6MX0saW5pdDpmdW5jdGlvbihhKXt2YXIgZT10aGlzO2EuYWRkQ29tbWFuZChcImExMXlIZWxwXCIsXG57ZXhlYzpmdW5jdGlvbigpe3ZhciBiPWEubGFuZ0NvZGUsYj1lLmF2YWlsYWJsZUxhbmdzW2JdP2I6ZS5hdmFpbGFibGVMYW5nc1tiLnJlcGxhY2UoLy0uKi8sXCJcIildP2IucmVwbGFjZSgvLS4qLyxcIlwiKTpcImVuXCI7Q0tFRElUT1Iuc2NyaXB0TG9hZGVyLmxvYWQoQ0tFRElUT1IuZ2V0VXJsKGUucGF0aCtcImRpYWxvZ3MvbGFuZy9cIitiK1wiLmpzXCIpLGZ1bmN0aW9uKCl7YS5sYW5nLmExMXloZWxwPWUubGFuZ0VudHJpZXNbYl07YS5vcGVuRGlhbG9nKFwiYTExeUhlbHBcIil9KX0sbW9kZXM6e3d5c2l3eWc6MSxzb3VyY2U6MX0scmVhZE9ubHk6MSxjYW5VbmRvOiExfSk7YS5zZXRLZXlzdHJva2UoQ0tFRElUT1IuQUxUKzQ4LFwiYTExeUhlbHBcIik7Q0tFRElUT1IuZGlhbG9nLmFkZChcImExMXlIZWxwXCIsdGhpcy5wYXRoK1wiZGlhbG9ncy9hMTF5aGVscC5qc1wiKTthLm9uKFwiYXJpYUVkaXRvckhlbHBMYWJlbFwiLGZ1bmN0aW9uKGIpe2IuZGF0YS5sYWJlbD1hLmxhbmcuY29tbW9uLmVkaXRvckhlbHB9KX19KX0oKSxcbkNLRURJVE9SLnBsdWdpbnMuYWRkKFwiYWJvdXRcIix7cmVxdWlyZXM6XCJkaWFsb2dcIixpbml0OmZ1bmN0aW9uKGEpe3ZhciBlPWEuYWRkQ29tbWFuZChcImFib3V0XCIsbmV3IENLRURJVE9SLmRpYWxvZ0NvbW1hbmQoXCJhYm91dFwiKSk7ZS5tb2Rlcz17d3lzaXd5ZzoxLHNvdXJjZToxfTtlLmNhblVuZG89ITE7ZS5yZWFkT25seT0xO2EudWkuYWRkQnV0dG9uJiZhLnVpLmFkZEJ1dHRvbihcIkFib3V0XCIse2xhYmVsOmEubGFuZy5hYm91dC50aXRsZSxjb21tYW5kOlwiYWJvdXRcIix0b29sYmFyOlwiYWJvdXRcIn0pO0NLRURJVE9SLmRpYWxvZy5hZGQoXCJhYm91dFwiLHRoaXMucGF0aCtcImRpYWxvZ3MvYWJvdXQuanNcIil9fSksQ0tFRElUT1IucGx1Z2lucy5hZGQoXCJiYXNpY3N0eWxlc1wiLHtpbml0OmZ1bmN0aW9uKGEpe3ZhciBlPTAsYj1mdW5jdGlvbihiLGQsaCxrKXtpZihrKXtrPW5ldyBDS0VESVRPUi5zdHlsZShrKTt2YXIgZz1jW2hdO2cudW5zaGlmdChrKTthLmF0dGFjaFN0eWxlU3RhdGVDaGFuZ2UoayxcbmZ1bmN0aW9uKGIpeyFhLnJlYWRPbmx5JiZhLmdldENvbW1hbmQoaCkuc2V0U3RhdGUoYil9KTthLmFkZENvbW1hbmQoaCxuZXcgQ0tFRElUT1Iuc3R5bGVDb21tYW5kKGsse2NvbnRlbnRGb3JtczpnfSkpO2EudWkuYWRkQnV0dG9uJiZhLnVpLmFkZEJ1dHRvbihiLHtsYWJlbDpkLGNvbW1hbmQ6aCx0b29sYmFyOlwiYmFzaWNzdHlsZXMsXCIrKGUrPTEwKX0pfX0sYz17Ym9sZDpbXCJzdHJvbmdcIixcImJcIixbXCJzcGFuXCIsZnVuY3Rpb24oYSl7YT1hLnN0eWxlc1tcImZvbnQtd2VpZ2h0XCJdO3JldHVyblwiYm9sZFwiPT1hfHw3MDA8PSthfV1dLGl0YWxpYzpbXCJlbVwiLFwiaVwiLFtcInNwYW5cIixmdW5jdGlvbihhKXtyZXR1cm5cIml0YWxpY1wiPT1hLnN0eWxlc1tcImZvbnQtc3R5bGVcIl19XV0sdW5kZXJsaW5lOltcInVcIixbXCJzcGFuXCIsZnVuY3Rpb24oYSl7cmV0dXJuXCJ1bmRlcmxpbmVcIj09YS5zdHlsZXNbXCJ0ZXh0LWRlY29yYXRpb25cIl19XV0sc3RyaWtlOltcInNcIixcInN0cmlrZVwiLFtcInNwYW5cIixmdW5jdGlvbihhKXtyZXR1cm5cImxpbmUtdGhyb3VnaFwiPT1cbmEuc3R5bGVzW1widGV4dC1kZWNvcmF0aW9uXCJdfV1dLHN1YnNjcmlwdDpbXCJzdWJcIl0sc3VwZXJzY3JpcHQ6W1wic3VwXCJdfSxkPWEuY29uZmlnLGw9YS5sYW5nLmJhc2ljc3R5bGVzO2IoXCJCb2xkXCIsbC5ib2xkLFwiYm9sZFwiLGQuY29yZVN0eWxlc19ib2xkKTtiKFwiSXRhbGljXCIsbC5pdGFsaWMsXCJpdGFsaWNcIixkLmNvcmVTdHlsZXNfaXRhbGljKTtiKFwiVW5kZXJsaW5lXCIsbC51bmRlcmxpbmUsXCJ1bmRlcmxpbmVcIixkLmNvcmVTdHlsZXNfdW5kZXJsaW5lKTtiKFwiU3RyaWtlXCIsbC5zdHJpa2UsXCJzdHJpa2VcIixkLmNvcmVTdHlsZXNfc3RyaWtlKTtiKFwiU3Vic2NyaXB0XCIsbC5zdWJzY3JpcHQsXCJzdWJzY3JpcHRcIixkLmNvcmVTdHlsZXNfc3Vic2NyaXB0KTtiKFwiU3VwZXJzY3JpcHRcIixsLnN1cGVyc2NyaXB0LFwic3VwZXJzY3JpcHRcIixkLmNvcmVTdHlsZXNfc3VwZXJzY3JpcHQpO2Euc2V0S2V5c3Ryb2tlKFtbQ0tFRElUT1IuQ1RSTCs2NixcImJvbGRcIl0sW0NLRURJVE9SLkNUUkwrNzMsXCJpdGFsaWNcIl0sXG5bQ0tFRElUT1IuQ1RSTCs4NSxcInVuZGVybGluZVwiXV0pfX0pLENLRURJVE9SLmNvbmZpZy5jb3JlU3R5bGVzX2JvbGQ9e2VsZW1lbnQ6XCJzdHJvbmdcIixvdmVycmlkZXM6XCJiXCJ9LENLRURJVE9SLmNvbmZpZy5jb3JlU3R5bGVzX2l0YWxpYz17ZWxlbWVudDpcImVtXCIsb3ZlcnJpZGVzOlwiaVwifSxDS0VESVRPUi5jb25maWcuY29yZVN0eWxlc191bmRlcmxpbmU9e2VsZW1lbnQ6XCJ1XCJ9LENLRURJVE9SLmNvbmZpZy5jb3JlU3R5bGVzX3N0cmlrZT17ZWxlbWVudDpcInNcIixvdmVycmlkZXM6XCJzdHJpa2VcIn0sQ0tFRElUT1IuY29uZmlnLmNvcmVTdHlsZXNfc3Vic2NyaXB0PXtlbGVtZW50Olwic3ViXCJ9LENLRURJVE9SLmNvbmZpZy5jb3JlU3R5bGVzX3N1cGVyc2NyaXB0PXtlbGVtZW50Olwic3VwXCJ9LGZ1bmN0aW9uKCl7dmFyIGE9e2V4ZWM6ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRDb21tYW5kKFwiYmxvY2txdW90ZVwiKS5zdGF0ZSxjPWEuZ2V0U2VsZWN0aW9uKCksZD1jJiZjLmdldFJhbmdlcygpWzBdO1xuaWYoZCl7dmFyIGw9Yy5jcmVhdGVCb29rbWFya3MoKTtpZihDS0VESVRPUi5lbnYuaWUpe3ZhciBtPWxbMF0uc3RhcnROb2RlLGY9bFswXS5lbmROb2RlLGg7aWYobSYmXCJibG9ja3F1b3RlXCI9PW0uZ2V0UGFyZW50KCkuZ2V0TmFtZSgpKWZvcihoPW07aD1oLmdldE5leHQoKTspaWYoaC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmguaXNCbG9ja0JvdW5kYXJ5KCkpe20ubW92ZShoLCEwKTticmVha31pZihmJiZcImJsb2NrcXVvdGVcIj09Zi5nZXRQYXJlbnQoKS5nZXROYW1lKCkpZm9yKGg9ZjtoPWguZ2V0UHJldmlvdXMoKTspaWYoaC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmguaXNCbG9ja0JvdW5kYXJ5KCkpe2YubW92ZShoKTticmVha319dmFyIGs9ZC5jcmVhdGVJdGVyYXRvcigpO2suZW5sYXJnZUJyPWEuY29uZmlnLmVudGVyTW9kZSE9Q0tFRElUT1IuRU5URVJfQlI7aWYoYj09Q0tFRElUT1IuVFJJU1RBVEVfT0ZGKXtmb3IobT1bXTtiPWsuZ2V0TmV4dFBhcmFncmFwaCgpOyltLnB1c2goYik7XG4xPm0ubGVuZ3RoJiYoYj1hLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYS5jb25maWcuZW50ZXJNb2RlPT1DS0VESVRPUi5FTlRFUl9QP1wicFwiOlwiZGl2XCIpLGY9bC5zaGlmdCgpLGQuaW5zZXJ0Tm9kZShiKSxiLmFwcGVuZChuZXcgQ0tFRElUT1IuZG9tLnRleHQoXCLvu79cIixhLmRvY3VtZW50KSksZC5tb3ZlVG9Cb29rbWFyayhmKSxkLnNlbGVjdE5vZGVDb250ZW50cyhiKSxkLmNvbGxhcHNlKCEwKSxmPWQuY3JlYXRlQm9va21hcmsoKSxtLnB1c2goYiksbC51bnNoaWZ0KGYpKTtoPW1bMF0uZ2V0UGFyZW50KCk7ZD1bXTtmb3IoZj0wO2Y8bS5sZW5ndGg7ZisrKWI9bVtmXSxoPWguZ2V0Q29tbW9uQW5jZXN0b3IoYi5nZXRQYXJlbnQoKSk7Zm9yKGI9e3RhYmxlOjEsdGJvZHk6MSx0cjoxLG9sOjEsdWw6MX07YltoLmdldE5hbWUoKV07KWg9aC5nZXRQYXJlbnQoKTtmb3IoZj1udWxsOzA8bS5sZW5ndGg7KXtmb3IoYj1tLnNoaWZ0KCk7IWIuZ2V0UGFyZW50KCkuZXF1YWxzKGgpOyliPWIuZ2V0UGFyZW50KCk7XG5iLmVxdWFscyhmKXx8ZC5wdXNoKGIpO2Y9Yn1mb3IoOzA8ZC5sZW5ndGg7KWlmKGI9ZC5zaGlmdCgpLFwiYmxvY2txdW90ZVwiPT1iLmdldE5hbWUoKSl7Zm9yKGY9bmV3IENLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50KGEuZG9jdW1lbnQpO2IuZ2V0Rmlyc3QoKTspZi5hcHBlbmQoYi5nZXRGaXJzdCgpLnJlbW92ZSgpKSxtLnB1c2goZi5nZXRMYXN0KCkpO2YucmVwbGFjZShiKX1lbHNlIG0ucHVzaChiKTtkPWEuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJsb2NrcXVvdGVcIik7Zm9yKGQuaW5zZXJ0QmVmb3JlKG1bMF0pOzA8bS5sZW5ndGg7KWI9bS5zaGlmdCgpLGQuYXBwZW5kKGIpfWVsc2UgaWYoYj09Q0tFRElUT1IuVFJJU1RBVEVfT04pe2Y9W107Zm9yKGg9e307Yj1rLmdldE5leHRQYXJhZ3JhcGgoKTspe2ZvcihtPWQ9bnVsbDtiLmdldFBhcmVudCgpOyl7aWYoXCJibG9ja3F1b3RlXCI9PWIuZ2V0UGFyZW50KCkuZ2V0TmFtZSgpKXtkPWIuZ2V0UGFyZW50KCk7bT1iO2JyZWFrfWI9XG5iLmdldFBhcmVudCgpfWQmJm0mJiFtLmdldEN1c3RvbURhdGEoXCJibG9ja3F1b3RlX21vdmVvdXRcIikmJihmLnB1c2gobSksQ0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyKGgsbSxcImJsb2NrcXVvdGVfbW92ZW91dFwiLCEwKSl9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJBbGxNYXJrZXJzKGgpO2I9W107bT1bXTtmb3IoaD17fTswPGYubGVuZ3RoOylrPWYuc2hpZnQoKSxkPWsuZ2V0UGFyZW50KCksay5nZXRQcmV2aW91cygpP2suZ2V0TmV4dCgpPyhrLmJyZWFrUGFyZW50KGsuZ2V0UGFyZW50KCkpLG0ucHVzaChrLmdldE5leHQoKSkpOmsucmVtb3ZlKCkuaW5zZXJ0QWZ0ZXIoZCk6ay5yZW1vdmUoKS5pbnNlcnRCZWZvcmUoZCksZC5nZXRDdXN0b21EYXRhKFwiYmxvY2txdW90ZV9wcm9jZXNzZWRcIil8fChtLnB1c2goZCksQ0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyKGgsZCxcImJsb2NrcXVvdGVfcHJvY2Vzc2VkXCIsITApKSxiLnB1c2goayk7Q0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJBbGxNYXJrZXJzKGgpO1xuZm9yKGY9bS5sZW5ndGgtMTswPD1mO2YtLSl7ZD1tW2ZdO2E6e2g9ZDtmb3IodmFyIGs9MCxnPWguZ2V0Q2hpbGRDb3VudCgpLG49dm9pZCAwO2s8ZyYmKG49aC5nZXRDaGlsZChrKSk7aysrKWlmKG4udHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZuLmlzQmxvY2tCb3VuZGFyeSgpKXtoPSExO2JyZWFrIGF9aD0hMH1oJiZkLnJlbW92ZSgpfWlmKGEuY29uZmlnLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfQlIpZm9yKGQ9ITA7Yi5sZW5ndGg7KWlmKGs9Yi5zaGlmdCgpLFwiZGl2XCI9PWsuZ2V0TmFtZSgpKXtmPW5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudChhLmRvY3VtZW50KTshZHx8IWsuZ2V0UHJldmlvdXMoKXx8ay5nZXRQcmV2aW91cygpLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmay5nZXRQcmV2aW91cygpLmlzQmxvY2tCb3VuZGFyeSgpfHxmLmFwcGVuZChhLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJiclwiKSk7Zm9yKGQ9ay5nZXROZXh0KCkmJlxuIShrLmdldE5leHQoKS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmsuZ2V0TmV4dCgpLmlzQmxvY2tCb3VuZGFyeSgpKTtrLmdldEZpcnN0KCk7KWsuZ2V0Rmlyc3QoKS5yZW1vdmUoKS5hcHBlbmRUbyhmKTtkJiZmLmFwcGVuZChhLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJiclwiKSk7Zi5yZXBsYWNlKGspO2Q9ITF9fWMuc2VsZWN0Qm9va21hcmtzKGwpO2EuZm9jdXMoKX19LHJlZnJlc2g6ZnVuY3Rpb24oYSxiKXt0aGlzLnNldFN0YXRlKGEuZWxlbWVudFBhdGgoYi5ibG9ja3x8Yi5ibG9ja0xpbWl0KS5jb250YWlucyhcImJsb2NrcXVvdGVcIiwxKT9DS0VESVRPUi5UUklTVEFURV9PTjpDS0VESVRPUi5UUklTVEFURV9PRkYpfSxjb250ZXh0OlwiYmxvY2txdW90ZVwiLGFsbG93ZWRDb250ZW50OlwiYmxvY2txdW90ZVwiLHJlcXVpcmVkQ29udGVudDpcImJsb2NrcXVvdGVcIn07Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJibG9ja3F1b3RlXCIse2luaXQ6ZnVuY3Rpb24oZSl7ZS5ibG9ja2xlc3N8fFxuKGUuYWRkQ29tbWFuZChcImJsb2NrcXVvdGVcIixhKSxlLnVpLmFkZEJ1dHRvbiYmZS51aS5hZGRCdXR0b24oXCJCbG9ja3F1b3RlXCIse2xhYmVsOmUubGFuZy5ibG9ja3F1b3RlLnRvb2xiYXIsY29tbWFuZDpcImJsb2NrcXVvdGVcIix0b29sYmFyOlwiYmxvY2tzLDEwXCJ9KSl9fSl9KCksXCJ1c2Ugc3RyaWN0XCIsZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYixjKXtiLnR5cGV8fChiLnR5cGU9XCJhdXRvXCIpO2lmKGMmJiExPT09YS5maXJlKFwiYmVmb3JlUGFzdGVcIixiKXx8IWIuZGF0YVZhbHVlJiZiLmRhdGFUcmFuc2Zlci5pc0VtcHR5KCkpcmV0dXJuITE7Yi5kYXRhVmFsdWV8fChiLmRhdGFWYWx1ZT1cIlwiKTtpZihDS0VESVRPUi5lbnYuZ2Vja28mJlwiZHJvcFwiPT1iLm1ldGhvZCYmYS50b29sYm94KWEub25jZShcImFmdGVyUGFzdGVcIixmdW5jdGlvbigpe2EudG9vbGJveC5mb2N1cygpfSk7cmV0dXJuIGEuZmlyZShcInBhc3RlXCIsYil9ZnVuY3Rpb24gZShiKXtmdW5jdGlvbiBjKCl7dmFyIGE9Yi5lZGl0YWJsZSgpO1xuaWYoQ0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuaXNDdXN0b21Db3B5Q3V0U3VwcG9ydGVkKXt2YXIgZD1mdW5jdGlvbihhKXtiLnJlYWRPbmx5JiZcImN1dFwiPT1hLm5hbWV8fEIuaW5pdFBhc3RlRGF0YVRyYW5zZmVyKGEsYik7YS5kYXRhLnByZXZlbnREZWZhdWx0KCl9O2Eub24oXCJjb3B5XCIsZCk7YS5vbihcImN1dFwiLGQpO2Eub24oXCJjdXRcIixmdW5jdGlvbigpe2IucmVhZE9ubHl8fGIuZXh0cmFjdFNlbGVjdGVkSHRtbCgpfSxudWxsLG51bGwsOTk5KX1hLm9uKEIubWFpblBhc3RlRXZlbnQsZnVuY3Rpb24oYSl7XCJiZWZvcmVwYXN0ZVwiPT1CLm1haW5QYXN0ZUV2ZW50JiZDfHx4KGEpfSk7XCJiZWZvcmVwYXN0ZVwiPT1CLm1haW5QYXN0ZUV2ZW50JiYoYS5vbihcInBhc3RlXCIsZnVuY3Rpb24oYSl7Rnx8KGUoKSxhLmRhdGEucHJldmVudERlZmF1bHQoKSx4KGEpLGsoXCJwYXN0ZVwiKXx8Yi5vcGVuRGlhbG9nKFwicGFzdGVcIikpfSksYS5vbihcImNvbnRleHRtZW51XCIsaCxudWxsLG51bGwsMCksXG5hLm9uKFwiYmVmb3JlcGFzdGVcIixmdW5jdGlvbihhKXshYS5kYXRhfHxhLmRhdGEuJC5jdHJsS2V5fHxhLmRhdGEuJC5zaGlmdEtleXx8aCgpfSxudWxsLG51bGwsMCkpO2Eub24oXCJiZWZvcmVjdXRcIixmdW5jdGlvbigpeyFDJiZsKGIpfSk7dmFyIGY7YS5hdHRhY2hMaXN0ZW5lcihDS0VESVRPUi5lbnYuaWU/YTpiLmRvY3VtZW50LmdldERvY3VtZW50RWxlbWVudCgpLFwibW91c2V1cFwiLGZ1bmN0aW9uKCl7Zj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7RCgpfSwwKX0pO2Iub24oXCJkZXN0cm95XCIsZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoZil9KTthLm9uKFwia2V5dXBcIixEKX1mdW5jdGlvbiBkKGEpe3JldHVybnt0eXBlOmEsY2FuVW5kbzpcImN1dFwiPT1hLHN0YXJ0RGlzYWJsZWQ6ITAsZXhlYzpmdW5jdGlvbigpe1wiY3V0XCI9PXRoaXMudHlwZSYmbCgpO3ZhciBhO3ZhciBjPXRoaXMudHlwZTtpZihDS0VESVRPUi5lbnYuaWUpYT1rKGMpO2Vsc2UgdHJ5e2E9Yi5kb2N1bWVudC4kLmV4ZWNDb21tYW5kKGMsXG4hMSxudWxsKX1jYXRjaChkKXthPSExfWF8fGIuc2hvd05vdGlmaWNhdGlvbihiLmxhbmcuY2xpcGJvYXJkW3RoaXMudHlwZStcIkVycm9yXCJdKTtyZXR1cm4gYX19fWZ1bmN0aW9uIGYoKXtyZXR1cm57Y2FuVW5kbzohMSxhc3luYzohMCxleGVjOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9dGhpcyxmPWZ1bmN0aW9uKGMsZil7YyYmYShiLGMsISFmKTtiLmZpcmUoXCJhZnRlckNvbW1hbmRFeGVjXCIse25hbWU6XCJwYXN0ZVwiLGNvbW1hbmQ6ZCxyZXR1cm5WYWx1ZTohIWN9KX07XCJzdHJpbmdcIj09dHlwZW9mIGM/Zih7ZGF0YVZhbHVlOmMsbWV0aG9kOlwicGFzdGVcIixkYXRhVHJhbnNmZXI6Qi5pbml0UGFzdGVEYXRhVHJhbnNmZXIoKX0sMSk6Yi5nZXRDbGlwYm9hcmREYXRhKGYpfX19ZnVuY3Rpb24gZSgpe0Y9MTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Rj0wfSwxMDApfWZ1bmN0aW9uIGgoKXtDPTE7c2V0VGltZW91dChmdW5jdGlvbigpe0M9MH0sMTApfWZ1bmN0aW9uIGsoYSl7dmFyIGM9Yi5kb2N1bWVudCxcbmQ9Yy5nZXRCb2R5KCksZj0hMSxlPWZ1bmN0aW9uKCl7Zj0hMH07ZC5vbihhLGUpOzc8Q0tFRElUT1IuZW52LnZlcnNpb24/Yy4kLmV4ZWNDb21tYW5kKGEpOmMuJC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKS5leGVjQ29tbWFuZChhKTtkLnJlbW92ZUxpc3RlbmVyKGEsZSk7cmV0dXJuIGZ9ZnVuY3Rpb24gbCgpe2lmKENLRURJVE9SLmVudi5pZSYmIUNLRURJVE9SLmVudi5xdWlya3Mpe3ZhciBhPWIuZ2V0U2VsZWN0aW9uKCksYyxkLGY7YS5nZXRUeXBlKCk9PUNLRURJVE9SLlNFTEVDVElPTl9FTEVNRU5UJiYoYz1hLmdldFNlbGVjdGVkRWxlbWVudCgpKSYmKGQ9YS5nZXRSYW5nZXMoKVswXSxmPWIuZG9jdW1lbnQuY3JlYXRlVGV4dChcIlwiKSxmLmluc2VydEJlZm9yZShjKSxkLnNldFN0YXJ0QmVmb3JlKGYpLGQuc2V0RW5kQWZ0ZXIoYyksYS5zZWxlY3RSYW5nZXMoW2RdKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5nZXRQYXJlbnQoKSYmKGYucmVtb3ZlKCksYS5zZWxlY3RFbGVtZW50KGMpKX0sXG4wKSl9fWZ1bmN0aW9uIG0oYSxjKXt2YXIgZD1iLmRvY3VtZW50LGY9Yi5lZGl0YWJsZSgpLGU9ZnVuY3Rpb24oYSl7YS5jYW5jZWwoKX0saDtpZighZC5nZXRCeUlkKFwiY2tlX3Bhc3RlYmluXCIpKXt2YXIgaz1iLmdldFNlbGVjdGlvbigpLGw9ay5jcmVhdGVCb29rbWFya3MoKTtDS0VESVRPUi5lbnYuaWUmJmsucm9vdC5maXJlKFwic2VsZWN0aW9uY2hhbmdlXCIpO3ZhciBuPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudCghQ0tFRElUT1IuZW52LndlYmtpdCYmIWYuaXMoXCJib2R5XCIpfHxDS0VESVRPUi5lbnYuaWU/XCJkaXZcIjpcImJvZHlcIixkKTtuLnNldEF0dHJpYnV0ZXMoe2lkOlwiY2tlX3Bhc3RlYmluXCIsXCJkYXRhLWNrZS10ZW1wXCI6XCIxXCJ9KTt2YXIgdz0wLGQ9ZC5nZXRXaW5kb3coKTtDS0VESVRPUi5lbnYud2Via2l0PyhmLmFwcGVuZChuKSxuLmFkZENsYXNzKFwiY2tlX2VkaXRhYmxlXCIpLGYuaXMoXCJib2R5XCIpfHwodz1cInN0YXRpY1wiIT1mLmdldENvbXB1dGVkU3R5bGUoXCJwb3NpdGlvblwiKT9cbmY6Q0tFRElUT1IuZG9tLmVsZW1lbnQuZ2V0KGYuJC5vZmZzZXRQYXJlbnQpLHc9dy5nZXREb2N1bWVudFBvc2l0aW9uKCkueSkpOmYuZ2V0QXNjZW5kYW50KENLRURJVE9SLmVudi5pZT9cImJvZHlcIjpcImh0bWxcIiwxKS5hcHBlbmQobik7bi5zZXRTdHlsZXMoe3Bvc2l0aW9uOlwiYWJzb2x1dGVcIix0b3A6ZC5nZXRTY3JvbGxQb3NpdGlvbigpLnktdysxMCtcInB4XCIsd2lkdGg6XCIxcHhcIixoZWlnaHQ6TWF0aC5tYXgoMSxkLmdldFZpZXdQYW5lU2l6ZSgpLmhlaWdodC0yMCkrXCJweFwiLG92ZXJmbG93OlwiaGlkZGVuXCIsbWFyZ2luOjAscGFkZGluZzowfSk7Q0tFRElUT1IuZW52LnNhZmFyaSYmbi5zZXRTdHlsZXMoQ0tFRElUT1IudG9vbHMuY3NzVmVuZG9yUHJlZml4KFwidXNlci1zZWxlY3RcIixcInRleHRcIikpOyh3PW4uZ2V0UGFyZW50KCkuaXNSZWFkT25seSgpKT8obi5zZXRPcGFjaXR5KDApLG4uc2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIsITApKTpuLnNldFN0eWxlKFwibHRyXCI9PWIuY29uZmlnLmNvbnRlbnRzTGFuZ0RpcmVjdGlvbj9cblwibGVmdFwiOlwicmlnaHRcIixcIi0xMDAwMHB4XCIpO2Iub24oXCJzZWxlY3Rpb25DaGFuZ2VcIixlLG51bGwsbnVsbCwwKTtpZihDS0VESVRPUi5lbnYud2Via2l0fHxDS0VESVRPUi5lbnYuZ2Vja28paD1mLm9uY2UoXCJibHVyXCIsZSxudWxsLG51bGwsLTEwMCk7dyYmbi5mb2N1cygpO3c9bmV3IENLRURJVE9SLmRvbS5yYW5nZShuKTt3LnNlbGVjdE5vZGVDb250ZW50cyhuKTt2YXIgcD13LnNlbGVjdCgpO0NLRURJVE9SLmVudi5pZSYmKGg9Zi5vbmNlKFwiYmx1clwiLGZ1bmN0aW9uKCl7Yi5sb2NrU2VsZWN0aW9uKHApfSkpO3ZhciBxPUNLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpLmdldFNjcm9sbFBvc2l0aW9uKCkueTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Q0tFRElUT1IuZW52LndlYmtpdCYmKENLRURJVE9SLmRvY3VtZW50LmdldEJvZHkoKS4kLnNjcm9sbFRvcD1xKTtoJiZoLnJlbW92ZUxpc3RlbmVyKCk7Q0tFRElUT1IuZW52LmllJiZmLmZvY3VzKCk7ay5zZWxlY3RCb29rbWFya3MobCk7XG5uLnJlbW92ZSgpO3ZhciBhO0NLRURJVE9SLmVudi53ZWJraXQmJihhPW4uZ2V0Rmlyc3QoKSkmJmEuaXMmJmEuaGFzQ2xhc3MoXCJBcHBsZS1zdHlsZS1zcGFuXCIpJiYobj1hKTtiLnJlbW92ZUxpc3RlbmVyKFwic2VsZWN0aW9uQ2hhbmdlXCIsZSk7YyhuLmdldEh0bWwoKSl9LDApfX1mdW5jdGlvbiBBKCl7aWYoXCJwYXN0ZVwiPT1CLm1haW5QYXN0ZUV2ZW50KXJldHVybiBiLmZpcmUoXCJiZWZvcmVQYXN0ZVwiLHt0eXBlOlwiYXV0b1wiLG1ldGhvZDpcInBhc3RlXCJ9KSwhMTtiLmZvY3VzKCk7ZSgpO3ZhciBhPWIuZm9jdXNNYW5hZ2VyO2EubG9jaygpO2lmKGIuZWRpdGFibGUoKS5maXJlKEIubWFpblBhc3RlRXZlbnQpJiYhayhcInBhc3RlXCIpKXJldHVybiBhLnVubG9jaygpLCExO2EudW5sb2NrKCk7cmV0dXJuITB9ZnVuY3Rpb24gdShhKXtpZihcInd5c2l3eWdcIj09Yi5tb2RlKXN3aXRjaChhLmRhdGEua2V5Q29kZSl7Y2FzZSBDS0VESVRPUi5DVFJMKzg2OmNhc2UgQ0tFRElUT1IuU0hJRlQrNDU6YT1cbmIuZWRpdGFibGUoKTtlKCk7XCJwYXN0ZVwiPT1CLm1haW5QYXN0ZUV2ZW50JiZhLmZpcmUoXCJiZWZvcmVwYXN0ZVwiKTticmVhaztjYXNlIENLRURJVE9SLkNUUkwrODg6Y2FzZSBDS0VESVRPUi5TSElGVCs0NjpiLmZpcmUoXCJzYXZlU25hcHNob3RcIiksc2V0VGltZW91dChmdW5jdGlvbigpe2IuZmlyZShcInNhdmVTbmFwc2hvdFwiKX0sNTApfX1mdW5jdGlvbiB4KGMpe3ZhciBkPXt0eXBlOlwiYXV0b1wiLG1ldGhvZDpcInBhc3RlXCIsZGF0YVRyYW5zZmVyOkIuaW5pdFBhc3RlRGF0YVRyYW5zZmVyKGMpfTtkLmRhdGFUcmFuc2Zlci5jYWNoZURhdGEoKTt2YXIgZj0hMSE9PWIuZmlyZShcImJlZm9yZVBhc3RlXCIsZCk7ZiYmQi5jYW5DbGlwYm9hcmRBcGlCZVRydXN0ZWQoZC5kYXRhVHJhbnNmZXIsYik/KGMuZGF0YS5wcmV2ZW50RGVmYXVsdCgpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXthKGIsZCl9LDApKTptKGMsZnVuY3Rpb24oYyl7ZC5kYXRhVmFsdWU9Yy5yZXBsYWNlKC88c3BhbltePl0rZGF0YS1ja2UtYm9va21hcmtbXjxdKj88XFwvc3Bhbj4vaWcsXG5cIlwiKTtmJiZhKGIsZCl9KX1mdW5jdGlvbiBEKCl7aWYoXCJ3eXNpd3lnXCI9PWIubW9kZSl7dmFyIGE9eShcInBhc3RlXCIpO2IuZ2V0Q29tbWFuZChcImN1dFwiKS5zZXRTdGF0ZSh5KFwiY3V0XCIpKTtiLmdldENvbW1hbmQoXCJjb3B5XCIpLnNldFN0YXRlKHkoXCJjb3B5XCIpKTtiLmdldENvbW1hbmQoXCJwYXN0ZVwiKS5zZXRTdGF0ZShhKTtiLmZpcmUoXCJwYXN0ZVN0YXRlXCIsYSl9fWZ1bmN0aW9uIHkoYSl7aWYoRSYmYSBpbntwYXN0ZToxLGN1dDoxfSlyZXR1cm4gQ0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQ7aWYoXCJwYXN0ZVwiPT1hKXJldHVybiBDS0VESVRPUi5UUklTVEFURV9PRkY7YT1iLmdldFNlbGVjdGlvbigpO3ZhciBjPWEuZ2V0UmFuZ2VzKCk7cmV0dXJuIGEuZ2V0VHlwZSgpPT1DS0VESVRPUi5TRUxFQ1RJT05fTk9ORXx8MT09Yy5sZW5ndGgmJmNbMF0uY29sbGFwc2VkP0NLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEOkNLRURJVE9SLlRSSVNUQVRFX09GRn12YXIgQj1DS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZCxcbkM9MCxGPTAsRT0wOyhmdW5jdGlvbigpe2Iub24oXCJrZXlcIix1KTtiLm9uKFwiY29udGVudERvbVwiLGMpO2Iub24oXCJzZWxlY3Rpb25DaGFuZ2VcIixmdW5jdGlvbihhKXtFPWEuZGF0YS5zZWxlY3Rpb24uZ2V0UmFuZ2VzKClbMF0uY2hlY2tSZWFkT25seSgpO0QoKX0pO2IuY29udGV4dE1lbnUmJmIuY29udGV4dE1lbnUuYWRkTGlzdGVuZXIoZnVuY3Rpb24oYSxiKXtFPWIuZ2V0UmFuZ2VzKClbMF0uY2hlY2tSZWFkT25seSgpO3JldHVybntjdXQ6eShcImN1dFwiKSxjb3B5OnkoXCJjb3B5XCIpLHBhc3RlOnkoXCJwYXN0ZVwiKX19KX0pKCk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShjLGQsZixlLGgpe3ZhciBrPWIubGFuZy5jbGlwYm9hcmRbZF07Yi5hZGRDb21tYW5kKGQsZik7Yi51aS5hZGRCdXR0b24mJmIudWkuYWRkQnV0dG9uKGMse2xhYmVsOmssY29tbWFuZDpkLHRvb2xiYXI6XCJjbGlwYm9hcmQsXCIrZX0pO2IuYWRkTWVudUl0ZW1zJiZiLmFkZE1lbnVJdGVtKGQse2xhYmVsOmssY29tbWFuZDpkLFxuZ3JvdXA6XCJjbGlwYm9hcmRcIixvcmRlcjpofSl9YShcIkN1dFwiLFwiY3V0XCIsZChcImN1dFwiKSwxMCwxKTthKFwiQ29weVwiLFwiY29weVwiLGQoXCJjb3B5XCIpLDIwLDQpO2EoXCJQYXN0ZVwiLFwicGFzdGVcIixmKCksMzAsOCl9KSgpO2IuZ2V0Q2xpcGJvYXJkRGF0YT1mdW5jdGlvbihhLGMpe2Z1bmN0aW9uIGQoYSl7YS5yZW1vdmVMaXN0ZW5lcigpO2EuY2FuY2VsKCk7YyhhLmRhdGEpfWZ1bmN0aW9uIGYoYSl7YS5yZW1vdmVMaXN0ZW5lcigpO2EuY2FuY2VsKCk7bD0hMDtjKHt0eXBlOmssZGF0YVZhbHVlOmEuZGF0YS5kYXRhVmFsdWUsZGF0YVRyYW5zZmVyOmEuZGF0YS5kYXRhVHJhbnNmZXIsbWV0aG9kOlwicGFzdGVcIn0pfWZ1bmN0aW9uIGUoKXt0aGlzLmN1c3RvbVRpdGxlPWEmJmEudGl0bGV9dmFyIGg9ITEsaz1cImF1dG9cIixsPSExO2N8fChjPWEsYT1udWxsKTtiLm9uKFwicGFzdGVcIixkLG51bGwsbnVsbCwwKTtiLm9uKFwiYmVmb3JlUGFzdGVcIixmdW5jdGlvbihhKXthLnJlbW92ZUxpc3RlbmVyKCk7XG5oPSEwO2s9YS5kYXRhLnR5cGV9LG51bGwsbnVsbCwxRTMpOyExPT09QSgpJiYoYi5yZW1vdmVMaXN0ZW5lcihcInBhc3RlXCIsZCksaCYmYi5maXJlKFwicGFzdGVEaWFsb2dcIixlKT8oYi5vbihcInBhc3RlRGlhbG9nQ29tbWl0XCIsZiksYi5vbihcImRpYWxvZ0hpZGVcIixmdW5jdGlvbihhKXthLnJlbW92ZUxpc3RlbmVyKCk7YS5kYXRhLnJlbW92ZUxpc3RlbmVyKFwicGFzdGVEaWFsb2dDb21taXRcIixmKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bHx8YyhudWxsKX0sMTApfSkpOmMobnVsbCkpfX1mdW5jdGlvbiBiKGEpe2lmKENLRURJVE9SLmVudi53ZWJraXQpe2lmKCFhLm1hdGNoKC9eW148XSokL2cpJiYhYS5tYXRjaCgvXig8ZGl2PjxiciggP1xcLyk/PjxcXC9kaXY+fDxkaXY+W148XSo8XFwvZGl2PikqJC9naSkpcmV0dXJuXCJodG1sXCJ9ZWxzZSBpZihDS0VESVRPUi5lbnYuaWUpe2lmKCFhLm1hdGNoKC9eKFtePF18PGJyKCA/XFwvKT8+KSokL2dpKSYmIWEubWF0Y2goL14oPHA+KFtePF18PGJyKCA/XFwvKT8+KSo8XFwvcD58KFxcclxcbikpKiQvZ2kpKXJldHVyblwiaHRtbFwifWVsc2UgaWYoQ0tFRElUT1IuZW52LmdlY2tvKXtpZighYS5tYXRjaCgvXihbXjxdfDxiciggP1xcLyk/PikqJC9naSkpcmV0dXJuXCJodG1sXCJ9ZWxzZSByZXR1cm5cImh0bWxcIjtcbnJldHVyblwiaHRtbGlmaWVkdGV4dFwifWZ1bmN0aW9uIGMoYSxiKXtmdW5jdGlvbiBjKGEpe3JldHVybiBDS0VESVRPUi50b29scy5yZXBlYXQoXCJcXHgzYy9wXFx4M2VcXHgzY3BcXHgzZVwiLH5+KGEvMikpKygxPT1hJTI/XCJcXHgzY2JyXFx4M2VcIjpcIlwiKX1iPWIucmVwbGFjZSgvXFxzKy9nLFwiIFwiKS5yZXBsYWNlKC8+ICs8L2csXCJcXHgzZVxceDNjXCIpLnJlcGxhY2UoLzxiciA/XFwvPi9naSxcIlxceDNjYnJcXHgzZVwiKTtiPWIucmVwbGFjZSgvPFxcLz9bQS1aXSs+L2csZnVuY3Rpb24oYSl7cmV0dXJuIGEudG9Mb3dlckNhc2UoKX0pO2lmKGIubWF0Y2goL15bXjxdJC8pKXJldHVybiBiO0NLRURJVE9SLmVudi53ZWJraXQmJi0xPGIuaW5kZXhPZihcIlxceDNjZGl2XFx4M2VcIikmJihiPWIucmVwbGFjZSgvXig8ZGl2Pig8YnI+fCk8XFwvZGl2PikoPyEkfCg8ZGl2Pig8YnI+fCk8XFwvZGl2PikpL2csXCJcXHgzY2JyXFx4M2VcIikucmVwbGFjZSgvXig8ZGl2Pig8YnI+fCk8XFwvZGl2Pil7Mn0oPyEkKS9nLFwiXFx4M2NkaXZcXHgzZVxceDNjL2RpdlxceDNlXCIpLFxuYi5tYXRjaCgvPGRpdj4oPGJyPnwpPFxcL2Rpdj4vKSYmKGI9XCJcXHgzY3BcXHgzZVwiK2IucmVwbGFjZSgvKDxkaXY+KDxicj58KTxcXC9kaXY+KSsvZyxmdW5jdGlvbihhKXtyZXR1cm4gYyhhLnNwbGl0KFwiXFx4M2MvZGl2XFx4M2VcXHgzY2RpdlxceDNlXCIpLmxlbmd0aCsxKX0pK1wiXFx4M2MvcFxceDNlXCIpLGI9Yi5yZXBsYWNlKC88XFwvZGl2PjxkaXY+L2csXCJcXHgzY2JyXFx4M2VcIiksYj1iLnJlcGxhY2UoLzxcXC8/ZGl2Pi9nLFwiXCIpKTtDS0VESVRPUi5lbnYuZ2Vja28mJmEuZW50ZXJNb2RlIT1DS0VESVRPUi5FTlRFUl9CUiYmKENLRURJVE9SLmVudi5nZWNrbyYmKGI9Yi5yZXBsYWNlKC9ePGJyPjxicj4kLyxcIlxceDNjYnJcXHgzZVwiKSksLTE8Yi5pbmRleE9mKFwiXFx4M2NiclxceDNlXFx4M2NiclxceDNlXCIpJiYoYj1cIlxceDNjcFxceDNlXCIrYi5yZXBsYWNlKC8oPGJyPil7Mix9L2csZnVuY3Rpb24oYSl7cmV0dXJuIGMoYS5sZW5ndGgvNCl9KStcIlxceDNjL3BcXHgzZVwiKSk7cmV0dXJuIG0oYSxiKX1mdW5jdGlvbiBkKCl7ZnVuY3Rpb24gYSgpe3ZhciBiPVxue30sYztmb3IoYyBpbiBDS0VESVRPUi5kdGQpXCIkXCIhPWMuY2hhckF0KDApJiZcImRpdlwiIT1jJiZcInNwYW5cIiE9YyYmKGJbY109MSk7cmV0dXJuIGJ9dmFyIGI9e307cmV0dXJue2dldDpmdW5jdGlvbihjKXtyZXR1cm5cInBsYWluLXRleHRcIj09Yz9iLnBsYWluVGV4dHx8KGIucGxhaW5UZXh0PW5ldyBDS0VESVRPUi5maWx0ZXIoXCJiclwiKSk6XCJzZW1hbnRpYy1jb250ZW50XCI9PWM/KChjPWIuc2VtYW50aWNDb250ZW50KXx8KGM9bmV3IENLRURJVE9SLmZpbHRlcixjLmFsbG93KHskMTp7ZWxlbWVudHM6YSgpLGF0dHJpYnV0ZXM6ITAsc3R5bGVzOiExLGNsYXNzZXM6ITF9fSksYz1iLnNlbWFudGljQ29udGVudD1jKSxjKTpjP25ldyBDS0VESVRPUi5maWx0ZXIoYyk6bnVsbH19fWZ1bmN0aW9uIGwoYSxiLGMpe2I9Q0tFRElUT1IuaHRtbFBhcnNlci5mcmFnbWVudC5mcm9tSHRtbChiKTt2YXIgZD1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5iYXNpY1dyaXRlcjtjLmFwcGx5VG8oYiwhMCwhMSxcbmEuYWN0aXZlRW50ZXJNb2RlKTtiLndyaXRlSHRtbChkKTtyZXR1cm4gZC5nZXRIdG1sKCl9ZnVuY3Rpb24gbShhLGIpe2EuZW50ZXJNb2RlPT1DS0VESVRPUi5FTlRFUl9CUj9iPWIucmVwbGFjZSgvKDxcXC9wPjxwPikrL2csZnVuY3Rpb24oYSl7cmV0dXJuIENLRURJVE9SLnRvb2xzLnJlcGVhdChcIlxceDNjYnJcXHgzZVwiLGEubGVuZ3RoLzcqMil9KS5yZXBsYWNlKC88XFwvP3A+L2csXCJcIik6YS5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX0RJViYmKGI9Yi5yZXBsYWNlKC88KFxcLyk/cD4vZyxcIlxceDNjJDFkaXZcXHgzZVwiKSk7cmV0dXJuIGJ9ZnVuY3Rpb24gZihhKXthLmRhdGEucHJldmVudERlZmF1bHQoKTthLmRhdGEuJC5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdD1cIm5vbmVcIn1mdW5jdGlvbiBoKGIpe3ZhciBjPUNLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkO2Iub24oXCJjb250ZW50RG9tXCIsZnVuY3Rpb24oKXtmdW5jdGlvbiBkKGMsZixlKXtmLnNlbGVjdCgpO2EoYix7ZGF0YVRyYW5zZmVyOmUsXG5tZXRob2Q6XCJkcm9wXCJ9LDEpO2Uuc291cmNlRWRpdG9yLmZpcmUoXCJzYXZlU25hcHNob3RcIik7ZS5zb3VyY2VFZGl0b3IuZWRpdGFibGUoKS5leHRyYWN0SHRtbEZyb21SYW5nZShjKTtlLnNvdXJjZUVkaXRvci5nZXRTZWxlY3Rpb24oKS5zZWxlY3RSYW5nZXMoW2NdKTtlLnNvdXJjZUVkaXRvci5maXJlKFwic2F2ZVNuYXBzaG90XCIpfWZ1bmN0aW9uIGYoZCxlKXtkLnNlbGVjdCgpO2EoYix7ZGF0YVRyYW5zZmVyOmUsbWV0aG9kOlwiZHJvcFwifSwxKTtjLnJlc2V0RHJhZ0RhdGFUcmFuc2ZlcigpfWZ1bmN0aW9uIGUoYSxjLGQpe3ZhciBmPXskOmEuZGF0YS4kLHRhcmdldDphLmRhdGEuZ2V0VGFyZ2V0KCl9O2MmJihmLmRyYWdSYW5nZT1jKTtkJiYoZi5kcm9wUmFuZ2U9ZCk7ITE9PT1iLmZpcmUoYS5uYW1lLGYpJiZhLmRhdGEucHJldmVudERlZmF1bHQoKX1mdW5jdGlvbiBoKGEpe2EudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoYT1hLmdldFBhcmVudCgpKTtyZXR1cm4gYS5nZXRDaGlsZENvdW50KCl9XG52YXIgaz1iLmVkaXRhYmxlKCksbD1DS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5nZXREcm9wVGFyZ2V0KGIpLG09Yi51aS5zcGFjZShcInRvcFwiKSxBPWIudWkuc3BhY2UoXCJib3R0b21cIik7Yy5wcmV2ZW50RGVmYXVsdERyb3BPbkVsZW1lbnQobSk7Yy5wcmV2ZW50RGVmYXVsdERyb3BPbkVsZW1lbnQoQSk7ay5hdHRhY2hMaXN0ZW5lcihsLFwiZHJhZ3N0YXJ0XCIsZSk7ay5hdHRhY2hMaXN0ZW5lcihiLFwiZHJhZ3N0YXJ0XCIsYy5yZXNldERyYWdEYXRhVHJhbnNmZXIsYyxudWxsLDEpO2suYXR0YWNoTGlzdGVuZXIoYixcImRyYWdzdGFydFwiLGZ1bmN0aW9uKGEpe2MuaW5pdERyYWdEYXRhVHJhbnNmZXIoYSxiKX0sbnVsbCxudWxsLDIpO2suYXR0YWNoTGlzdGVuZXIoYixcImRyYWdzdGFydFwiLGZ1bmN0aW9uKCl7dmFyIGE9Yy5kcmFnUmFuZ2U9Yi5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoKVswXTtDS0VESVRPUi5lbnYuaWUmJjEwPkNLRURJVE9SLmVudi52ZXJzaW9uJiYoYy5kcmFnU3RhcnRDb250YWluZXJDaGlsZENvdW50PVxuYT9oKGEuc3RhcnRDb250YWluZXIpOm51bGwsYy5kcmFnRW5kQ29udGFpbmVyQ2hpbGRDb3VudD1hP2goYS5lbmRDb250YWluZXIpOm51bGwpfSxudWxsLG51bGwsMTAwKTtrLmF0dGFjaExpc3RlbmVyKGwsXCJkcmFnZW5kXCIsZSk7ay5hdHRhY2hMaXN0ZW5lcihiLFwiZHJhZ2VuZFwiLGMuaW5pdERyYWdEYXRhVHJhbnNmZXIsYyxudWxsLDEpO2suYXR0YWNoTGlzdGVuZXIoYixcImRyYWdlbmRcIixjLnJlc2V0RHJhZ0RhdGFUcmFuc2ZlcixjLG51bGwsMTAwKTtrLmF0dGFjaExpc3RlbmVyKGwsXCJkcmFnb3ZlclwiLGZ1bmN0aW9uKGEpe3ZhciBiPWEuZGF0YS5nZXRUYXJnZXQoKTtiJiZiLmlzJiZiLmlzKFwiaHRtbFwiKT9hLmRhdGEucHJldmVudERlZmF1bHQoKTpDS0VESVRPUi5lbnYuaWUmJkNLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmlzRmlsZUFwaVN1cHBvcnRlZCYmYS5kYXRhLiQuZGF0YVRyYW5zZmVyLnR5cGVzLmNvbnRhaW5zKFwiRmlsZXNcIikmJmEuZGF0YS5wcmV2ZW50RGVmYXVsdCgpfSk7XG5rLmF0dGFjaExpc3RlbmVyKGwsXCJkcm9wXCIsZnVuY3Rpb24oYSl7aWYoIWEuZGF0YS4kLmRlZmF1bHRQcmV2ZW50ZWQpe2EuZGF0YS5wcmV2ZW50RGVmYXVsdCgpO3ZhciBkPWEuZGF0YS5nZXRUYXJnZXQoKTtpZighZC5pc1JlYWRPbmx5KCl8fGQudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZkLmlzKFwiaHRtbFwiKSl7dmFyIGQ9Yy5nZXRSYW5nZUF0RHJvcFBvc2l0aW9uKGEsYiksZj1jLmRyYWdSYW5nZTtkJiZlKGEsZixkKX19fSxudWxsLG51bGwsOTk5OSk7ay5hdHRhY2hMaXN0ZW5lcihiLFwiZHJvcFwiLGMuaW5pdERyYWdEYXRhVHJhbnNmZXIsYyxudWxsLDEpO2suYXR0YWNoTGlzdGVuZXIoYixcImRyb3BcIixmdW5jdGlvbihhKXtpZihhPWEuZGF0YSl7dmFyIGU9YS5kcm9wUmFuZ2UsaD1hLmRyYWdSYW5nZSxrPWEuZGF0YVRyYW5zZmVyO2suZ2V0VHJhbnNmZXJUeXBlKGIpPT1DS0VESVRPUi5EQVRBX1RSQU5TRkVSX0lOVEVSTkFMP3NldFRpbWVvdXQoZnVuY3Rpb24oKXtjLmludGVybmFsRHJvcChoLFxuZSxrLGIpfSwwKTprLmdldFRyYW5zZmVyVHlwZShiKT09Q0tFRElUT1IuREFUQV9UUkFOU0ZFUl9DUk9TU19FRElUT1JTP2QoaCxlLGspOmYoZSxrKX19LG51bGwsbnVsbCw5OTk5KX0pfUNLRURJVE9SLnBsdWdpbnMuYWRkKFwiY2xpcGJvYXJkXCIse3JlcXVpcmVzOlwiZGlhbG9nXCIsaW5pdDpmdW5jdGlvbihhKXt2YXIgZixrPWQoKTthLmNvbmZpZy5mb3JjZVBhc3RlQXNQbGFpblRleHQ/Zj1cInBsYWluLXRleHRcIjphLmNvbmZpZy5wYXN0ZUZpbHRlcj9mPWEuY29uZmlnLnBhc3RlRmlsdGVyOiFDS0VESVRPUi5lbnYud2Via2l0fHxcInBhc3RlRmlsdGVyXCJpbiBhLmNvbmZpZ3x8KGY9XCJzZW1hbnRpYy1jb250ZW50XCIpO2EucGFzdGVGaWx0ZXI9ay5nZXQoZik7ZShhKTtoKGEpO0NLRURJVE9SLmRpYWxvZy5hZGQoXCJwYXN0ZVwiLENLRURJVE9SLmdldFVybCh0aGlzLnBhdGgrXCJkaWFsb2dzL3Bhc3RlLmpzXCIpKTthLm9uKFwicGFzdGVcIixmdW5jdGlvbihiKXtiLmRhdGEuZGF0YVRyYW5zZmVyfHxcbihiLmRhdGEuZGF0YVRyYW5zZmVyPW5ldyBDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5kYXRhVHJhbnNmZXIpO2lmKCFiLmRhdGEuZGF0YVZhbHVlKXt2YXIgYz1iLmRhdGEuZGF0YVRyYW5zZmVyLGQ9Yy5nZXREYXRhKFwidGV4dC9odG1sXCIpO2lmKGQpYi5kYXRhLmRhdGFWYWx1ZT1kLGIuZGF0YS50eXBlPVwiaHRtbFwiO2Vsc2UgaWYoZD1jLmdldERhdGEoXCJ0ZXh0L3BsYWluXCIpKWIuZGF0YS5kYXRhVmFsdWU9YS5lZGl0YWJsZSgpLnRyYW5zZm9ybVBsYWluVGV4dFRvSHRtbChkKSxiLmRhdGEudHlwZT1cInRleHRcIn19LG51bGwsbnVsbCwxKTthLm9uKFwicGFzdGVcIixmdW5jdGlvbihhKXt2YXIgYj1hLmRhdGEuZGF0YVZhbHVlLGM9Q0tFRElUT1IuZHRkLiRibG9jazstMTxiLmluZGV4T2YoXCJBcHBsZS1cIikmJihiPWIucmVwbGFjZSgvPHNwYW4gY2xhc3M9XCJBcHBsZS1jb252ZXJ0ZWQtc3BhY2VcIj4mbmJzcDs8XFwvc3Bhbj4vZ2ksXCIgXCIpLFwiaHRtbFwiIT1hLmRhdGEudHlwZSYmKGI9Yi5yZXBsYWNlKC88c3BhbiBjbGFzcz1cIkFwcGxlLXRhYi1zcGFuXCJbXj5dKj4oW148XSopPFxcL3NwYW4+L2dpLFxuZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi5yZXBsYWNlKC9cXHQvZyxcIlxceDI2bmJzcDtcXHgyNm5ic3A7IFxceDI2bmJzcDtcIil9KSksLTE8Yi5pbmRleE9mKCdcXHgzY2JyIGNsYXNzXFx4M2RcIkFwcGxlLWludGVyY2hhbmdlLW5ld2xpbmVcIlxceDNlJykmJihhLmRhdGEuc3RhcnRzV2l0aEVPTD0xLGEuZGF0YS5wcmVTbmlmZmluZz1cImh0bWxcIixiPWIucmVwbGFjZSgvPGJyIGNsYXNzPVwiQXBwbGUtaW50ZXJjaGFuZ2UtbmV3bGluZVwiPi8sXCJcIikpLGI9Yi5yZXBsYWNlKC8oPFtePl0rKSBjbGFzcz1cIkFwcGxlLVteXCJdKlwiL2dpLFwiJDFcIikpO2lmKGIubWF0Y2goL148W148XStja2VfKGVkaXRhYmxlfGNvbnRlbnRzKS9pKSl7dmFyIGQsZixlPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImRpdlwiKTtmb3IoZS5zZXRIdG1sKGIpOzE9PWUuZ2V0Q2hpbGRDb3VudCgpJiYoZD1lLmdldEZpcnN0KCkpJiZkLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGQuaGFzQ2xhc3MoXCJja2VfZWRpdGFibGVcIil8fFxuZC5oYXNDbGFzcyhcImNrZV9jb250ZW50c1wiKSk7KWU9Zj1kO2YmJihiPWYuZ2V0SHRtbCgpLnJlcGxhY2UoLzxicj4kL2ksXCJcIikpfUNLRURJVE9SLmVudi5pZT9iPWIucmVwbGFjZSgvXiZuYnNwOyg/OiB8XFxyXFxuKT88KFxcdyspL2csZnVuY3Rpb24oYixkKXtyZXR1cm4gZC50b0xvd2VyQ2FzZSgpaW4gYz8oYS5kYXRhLnByZVNuaWZmaW5nPVwiaHRtbFwiLFwiXFx4M2NcIitkKTpifSk6Q0tFRElUT1IuZW52LndlYmtpdD9iPWIucmVwbGFjZSgvPFxcLyhcXHcrKT48ZGl2Pjxicj48XFwvZGl2PiQvLGZ1bmN0aW9uKGIsZCl7cmV0dXJuIGQgaW4gYz8oYS5kYXRhLmVuZHNXaXRoRU9MPTEsXCJcXHgzYy9cIitkK1wiXFx4M2VcIik6Yn0pOkNLRURJVE9SLmVudi5nZWNrbyYmKGI9Yi5yZXBsYWNlKC8oXFxzKTxicj4kLyxcIiQxXCIpKTthLmRhdGEuZGF0YVZhbHVlPWJ9LG51bGwsbnVsbCwzKTthLm9uKFwicGFzdGVcIixmdW5jdGlvbihkKXtkPWQuZGF0YTt2YXIgZj1kLnR5cGUsZT1kLmRhdGFWYWx1ZSxoLG09YS5jb25maWcuY2xpcGJvYXJkX2RlZmF1bHRDb250ZW50VHlwZXx8XG5cImh0bWxcIixuPWQuZGF0YVRyYW5zZmVyLmdldFRyYW5zZmVyVHlwZShhKTtoPVwiaHRtbFwiPT1mfHxcImh0bWxcIj09ZC5wcmVTbmlmZmluZz9cImh0bWxcIjpiKGUpO1wiaHRtbGlmaWVkdGV4dFwiPT1oJiYoZT1jKGEuY29uZmlnLGUpKTtcInRleHRcIj09ZiYmXCJodG1sXCI9PWg/ZT1sKGEsZSxrLmdldChcInBsYWluLXRleHRcIikpOm49PUNLRURJVE9SLkRBVEFfVFJBTlNGRVJfRVhURVJOQUwmJmEucGFzdGVGaWx0ZXImJiFkLmRvbnRGaWx0ZXImJihlPWwoYSxlLGEucGFzdGVGaWx0ZXIpKTtkLnN0YXJ0c1dpdGhFT0wmJihlPSdcXHgzY2JyIGRhdGEtY2tlLWVvbFxceDNkXCIxXCJcXHgzZScrZSk7ZC5lbmRzV2l0aEVPTCYmKGUrPSdcXHgzY2JyIGRhdGEtY2tlLWVvbFxceDNkXCIxXCJcXHgzZScpO1wiYXV0b1wiPT1mJiYoZj1cImh0bWxcIj09aHx8XCJodG1sXCI9PW0/XCJodG1sXCI6XCJ0ZXh0XCIpO2QudHlwZT1mO2QuZGF0YVZhbHVlPWU7ZGVsZXRlIGQucHJlU25pZmZpbmc7ZGVsZXRlIGQuc3RhcnRzV2l0aEVPTDtkZWxldGUgZC5lbmRzV2l0aEVPTH0sXG5udWxsLG51bGwsNik7YS5vbihcInBhc3RlXCIsZnVuY3Rpb24oYil7Yj1iLmRhdGE7Yi5kYXRhVmFsdWUmJihhLmluc2VydEh0bWwoYi5kYXRhVmFsdWUsYi50eXBlLGIucmFuZ2UpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXthLmZpcmUoXCJhZnRlclBhc3RlXCIpfSwwKSl9LG51bGwsbnVsbCwxRTMpO2Eub24oXCJwYXN0ZURpYWxvZ1wiLGZ1bmN0aW9uKGIpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLm9wZW5EaWFsb2coXCJwYXN0ZVwiLGIuZGF0YSl9LDApfSl9fSk7Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQ9e2lzQ3VzdG9tQ29weUN1dFN1cHBvcnRlZDohQ0tFRElUT1IuZW52LmllJiYhQ0tFRElUT1IuZW52LmlPUyxpc0N1c3RvbURhdGFUeXBlc1N1cHBvcnRlZDohQ0tFRElUT1IuZW52LmllLGlzRmlsZUFwaVN1cHBvcnRlZDohQ0tFRElUT1IuZW52LmllfHw5PENLRURJVE9SLmVudi52ZXJzaW9uLG1haW5QYXN0ZUV2ZW50OkNLRURJVE9SLmVudi5pZSYmIUNLRURJVE9SLmVudi5lZGdlP1xuXCJiZWZvcmVwYXN0ZVwiOlwicGFzdGVcIixjYW5DbGlwYm9hcmRBcGlCZVRydXN0ZWQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5nZXRUcmFuc2ZlclR5cGUoYikhPUNLRURJVE9SLkRBVEFfVFJBTlNGRVJfRVhURVJOQUx8fENLRURJVE9SLmVudi5jaHJvbWUmJiFhLmlzRW1wdHkoKXx8Q0tFRElUT1IuZW52LmdlY2tvJiYoYS5nZXREYXRhKFwidGV4dC9odG1sXCIpfHxhLmdldEZpbGVzQ291bnQoKSk/ITA6ITF9LGdldERyb3BUYXJnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5lZGl0YWJsZSgpO3JldHVybiBDS0VESVRPUi5lbnYuaWUmJjk+Q0tFRElUT1IuZW52LnZlcnNpb258fGIuaXNJbmxpbmUoKT9iOmEuZG9jdW1lbnR9LGZpeFNwbGl0Tm9kZXNBZnRlckRyb3A6ZnVuY3Rpb24oYSxiLGMsZCl7ZnVuY3Rpb24gZihhLGMsZCl7dmFyIGU9YTtlLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGU9YS5nZXRQYXJlbnQoKSk7aWYoZS5lcXVhbHMoYykmJmQhPWMuZ2V0Q2hpbGRDb3VudCgpKXJldHVybiBhPVxuYi5zdGFydENvbnRhaW5lci5nZXRDaGlsZChiLnN0YXJ0T2Zmc2V0LTEpLGM9Yi5zdGFydENvbnRhaW5lci5nZXRDaGlsZChiLnN0YXJ0T2Zmc2V0KSxhJiZhLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmYyYmYy50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihkPWEuZ2V0TGVuZ3RoKCksYS5zZXRUZXh0KGEuZ2V0VGV4dCgpK2MuZ2V0VGV4dCgpKSxjLnJlbW92ZSgpLGIuc2V0U3RhcnQoYSxkKSxiLmNvbGxhcHNlKCEwKSksITB9dmFyIGU9Yi5zdGFydENvbnRhaW5lcjtcIm51bWJlclwiPT10eXBlb2YgZCYmXCJudW1iZXJcIj09dHlwZW9mIGMmJmUudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoZihhLnN0YXJ0Q29udGFpbmVyLGUsYyl8fGYoYS5lbmRDb250YWluZXIsZSxkKSl9LGlzRHJvcFJhbmdlQWZmZWN0ZWRCeURyYWdSYW5nZTpmdW5jdGlvbihhLGIpe3ZhciBjPWIuc3RhcnRDb250YWluZXIsZD1iLmVuZE9mZnNldDtyZXR1cm4gYS5lbmRDb250YWluZXIuZXF1YWxzKGMpJiZcbmEuZW5kT2Zmc2V0PD1kfHxhLnN0YXJ0Q29udGFpbmVyLmdldFBhcmVudCgpLmVxdWFscyhjKSYmYS5zdGFydENvbnRhaW5lci5nZXRJbmRleCgpPGR8fGEuZW5kQ29udGFpbmVyLmdldFBhcmVudCgpLmVxdWFscyhjKSYmYS5lbmRDb250YWluZXIuZ2V0SW5kZXgoKTxkPyEwOiExfSxpbnRlcm5hbERyb3A6ZnVuY3Rpb24oYixjLGQsZil7dmFyIGU9Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQsaD1mLmVkaXRhYmxlKCksayxsO2YuZmlyZShcInNhdmVTbmFwc2hvdFwiKTtmLmZpcmUoXCJsb2NrU25hcHNob3RcIix7ZG9udFVwZGF0ZToxfSk7Q0tFRElUT1IuZW52LmllJiYxMD5DS0VESVRPUi5lbnYudmVyc2lvbiYmdGhpcy5maXhTcGxpdE5vZGVzQWZ0ZXJEcm9wKGIsYyxlLmRyYWdTdGFydENvbnRhaW5lckNoaWxkQ291bnQsZS5kcmFnRW5kQ29udGFpbmVyQ2hpbGRDb3VudCk7KGw9dGhpcy5pc0Ryb3BSYW5nZUFmZmVjdGVkQnlEcmFnUmFuZ2UoYixjKSl8fChrPWIuY3JlYXRlQm9va21hcmsoITEpKTtcbmU9Yy5jbG9uZSgpLmNyZWF0ZUJvb2ttYXJrKCExKTtsJiYoaz1iLmNyZWF0ZUJvb2ttYXJrKCExKSk7Yj1rLnN0YXJ0Tm9kZTtjPWsuZW5kTm9kZTtsPWUuc3RhcnROb2RlO2MmJmIuZ2V0UG9zaXRpb24obCkmQ0tFRElUT1IuUE9TSVRJT05fUFJFQ0VESU5HJiZjLmdldFBvc2l0aW9uKGwpJkNLRURJVE9SLlBPU0lUSU9OX0ZPTExPV0lORyYmbC5pbnNlcnRCZWZvcmUoYik7Yj1mLmNyZWF0ZVJhbmdlKCk7Yi5tb3ZlVG9Cb29rbWFyayhrKTtoLmV4dHJhY3RIdG1sRnJvbVJhbmdlKGIsMSk7Yz1mLmNyZWF0ZVJhbmdlKCk7Yy5tb3ZlVG9Cb29rbWFyayhlKTthKGYse2RhdGFUcmFuc2ZlcjpkLG1ldGhvZDpcImRyb3BcIixyYW5nZTpjfSwxKTtmLmZpcmUoXCJ1bmxvY2tTbmFwc2hvdFwiKX0sZ2V0UmFuZ2VBdERyb3BQb3NpdGlvbjpmdW5jdGlvbihhLGIpe3ZhciBjPWEuZGF0YS4kLGQ9Yy5jbGllbnRYLGY9Yy5jbGllbnRZLGU9Yi5nZXRTZWxlY3Rpb24oITApLmdldFJhbmdlcygpWzBdLGg9XG5iLmNyZWF0ZVJhbmdlKCk7aWYoYS5kYXRhLnRlc3RSYW5nZSlyZXR1cm4gYS5kYXRhLnRlc3RSYW5nZTtpZihkb2N1bWVudC5jYXJldFJhbmdlRnJvbVBvaW50KWM9Yi5kb2N1bWVudC4kLmNhcmV0UmFuZ2VGcm9tUG9pbnQoZCxmKSxoLnNldFN0YXJ0KENLRURJVE9SLmRvbS5ub2RlKGMuc3RhcnRDb250YWluZXIpLGMuc3RhcnRPZmZzZXQpLGguY29sbGFwc2UoITApO2Vsc2UgaWYoYy5yYW5nZVBhcmVudCloLnNldFN0YXJ0KENLRURJVE9SLmRvbS5ub2RlKGMucmFuZ2VQYXJlbnQpLGMucmFuZ2VPZmZzZXQpLGguY29sbGFwc2UoITApO2Vsc2V7aWYoQ0tFRElUT1IuZW52LmllJiY4PENLRURJVE9SLmVudi52ZXJzaW9uJiZlJiZiLmVkaXRhYmxlKCkuaGFzRm9jdXMpcmV0dXJuIGU7aWYoZG9jdW1lbnQuYm9keS5jcmVhdGVUZXh0UmFuZ2Upe2IuZm9jdXMoKTtjPWIuZG9jdW1lbnQuZ2V0Qm9keSgpLiQuY3JlYXRlVGV4dFJhbmdlKCk7dHJ5e2Zvcih2YXIgaz0hMSxsPTA7MjA+bCYmXG4haztsKyspe2lmKCFrKXRyeXtjLm1vdmVUb1BvaW50KGQsZi1sKSxrPSEwfWNhdGNoKG0pe31pZighayl0cnl7Yy5tb3ZlVG9Qb2ludChkLGYrbCksaz0hMH1jYXRjaCh1KXt9fWlmKGspe3ZhciB4PVwiY2tlLXRlbXAtXCIrKG5ldyBEYXRlKS5nZXRUaW1lKCk7Yy5wYXN0ZUhUTUwoJ1xceDNjc3BhbiBpZFxceDNkXCInK3grJ1wiXFx4M2XigItcXHgzYy9zcGFuXFx4M2UnKTt2YXIgRD1iLmRvY3VtZW50LmdldEJ5SWQoeCk7aC5tb3ZlVG9Qb3NpdGlvbihELENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk7RC5yZW1vdmUoKX1lbHNle3ZhciB5PWIuZG9jdW1lbnQuJC5lbGVtZW50RnJvbVBvaW50KGQsZiksQj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoeSksQztpZihCLmVxdWFscyhiLmVkaXRhYmxlKCkpfHxcImh0bWxcIj09Qi5nZXROYW1lKCkpcmV0dXJuIGUmJmUuc3RhcnRDb250YWluZXImJiFlLnN0YXJ0Q29udGFpbmVyLmVxdWFscyhiLmVkaXRhYmxlKCkpP2U6bnVsbDtDPUIuZ2V0Q2xpZW50UmVjdCgpO1xuZDxDLmxlZnQ/aC5zZXRTdGFydEF0KEIsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpOmguc2V0U3RhcnRBdChCLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2guY29sbGFwc2UoITApfX1jYXRjaChGKXtyZXR1cm4gbnVsbH19ZWxzZSByZXR1cm4gbnVsbH1yZXR1cm4gaH0saW5pdERyYWdEYXRhVHJhbnNmZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmRhdGEuJD9hLmRhdGEuJC5kYXRhVHJhbnNmZXI6bnVsbCxkPW5ldyB0aGlzLmRhdGFUcmFuc2ZlcihjLGIpO2M/dGhpcy5kcmFnRGF0YSYmZC5pZD09dGhpcy5kcmFnRGF0YS5pZD9kPXRoaXMuZHJhZ0RhdGE6dGhpcy5kcmFnRGF0YT1kOnRoaXMuZHJhZ0RhdGE/ZD10aGlzLmRyYWdEYXRhOnRoaXMuZHJhZ0RhdGE9ZDthLmRhdGEuZGF0YVRyYW5zZmVyPWR9LHJlc2V0RHJhZ0RhdGFUcmFuc2ZlcjpmdW5jdGlvbigpe3RoaXMuZHJhZ0RhdGE9bnVsbH0saW5pdFBhc3RlRGF0YVRyYW5zZmVyOmZ1bmN0aW9uKGEsYil7aWYodGhpcy5pc0N1c3RvbUNvcHlDdXRTdXBwb3J0ZWQpe2lmKGEmJlxuYS5kYXRhJiZhLmRhdGEuJCl7dmFyIGM9bmV3IHRoaXMuZGF0YVRyYW5zZmVyKGEuZGF0YS4kLmNsaXBib2FyZERhdGEsYik7dGhpcy5jb3B5Q3V0RGF0YSYmYy5pZD09dGhpcy5jb3B5Q3V0RGF0YS5pZD8oYz10aGlzLmNvcHlDdXREYXRhLGMuJD1hLmRhdGEuJC5jbGlwYm9hcmREYXRhKTp0aGlzLmNvcHlDdXREYXRhPWM7cmV0dXJuIGN9cmV0dXJuIG5ldyB0aGlzLmRhdGFUcmFuc2ZlcihudWxsLGIpfXJldHVybiBuZXcgdGhpcy5kYXRhVHJhbnNmZXIoQ0tFRElUT1IuZW52LmVkZ2UmJmEmJmEuZGF0YS4kJiZhLmRhdGEuJC5jbGlwYm9hcmREYXRhfHxudWxsLGIpfSxwcmV2ZW50RGVmYXVsdERyb3BPbkVsZW1lbnQ6ZnVuY3Rpb24oYSl7YSYmYS5vbihcImRyYWdvdmVyXCIsZil9fTt2YXIgaz1DS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5pc0N1c3RvbURhdGFUeXBlc1N1cHBvcnRlZD9cImNrZS9pZFwiOlwiVGV4dFwiO0NLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmRhdGFUcmFuc2Zlcj1cbmZ1bmN0aW9uKGEsYil7YSYmKHRoaXMuJD1hKTt0aGlzLl89e21ldGFSZWdFeHA6L148bWV0YS4qPz4vaSxib2R5UmVnRXhwOi88Ym9keSg/OltcXHNcXFNdKj8pPihbXFxzXFxTXSopPFxcL2JvZHk+L2ksZnJhZ21lbnRSZWdFeHA6L1xceDNjIS0tKD86U3RhcnR8RW5kKUZyYWdtZW50LS1cXHgzZS9nLGRhdGE6e30sZmlsZXM6W10sbm9ybWFsaXplVHlwZTpmdW5jdGlvbihhKXthPWEudG9Mb3dlckNhc2UoKTtyZXR1cm5cInRleHRcIj09YXx8XCJ0ZXh0L3BsYWluXCI9PWE/XCJUZXh0XCI6XCJ1cmxcIj09YT9cIlVSTFwiOmF9fTt0aGlzLmlkPXRoaXMuZ2V0RGF0YShrKTt0aGlzLmlkfHwodGhpcy5pZD1cIlRleHRcIj09az9cIlwiOlwiY2tlLVwiK0NLRURJVE9SLnRvb2xzLmdldFVuaXF1ZUlkKCkpO2lmKFwiVGV4dFwiIT1rKXRyeXt0aGlzLiQuc2V0RGF0YShrLHRoaXMuaWQpfWNhdGNoKGMpe31iJiYodGhpcy5zb3VyY2VFZGl0b3I9Yix0aGlzLnNldERhdGEoXCJ0ZXh0L2h0bWxcIixiLmdldFNlbGVjdGVkSHRtbCgxKSksXCJUZXh0XCI9PVxua3x8dGhpcy5nZXREYXRhKFwidGV4dC9wbGFpblwiKXx8dGhpcy5zZXREYXRhKFwidGV4dC9wbGFpblwiLGIuZ2V0U2VsZWN0aW9uKCkuZ2V0U2VsZWN0ZWRUZXh0KCkpKX07Q0tFRElUT1IuREFUQV9UUkFOU0ZFUl9JTlRFUk5BTD0xO0NLRURJVE9SLkRBVEFfVFJBTlNGRVJfQ1JPU1NfRURJVE9SUz0yO0NLRURJVE9SLkRBVEFfVFJBTlNGRVJfRVhURVJOQUw9MztDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5kYXRhVHJhbnNmZXIucHJvdG90eXBlPXtnZXREYXRhOmZ1bmN0aW9uKGEpe2E9dGhpcy5fLm5vcm1hbGl6ZVR5cGUoYSk7dmFyIGI9dGhpcy5fLmRhdGFbYV07aWYodm9pZCAwPT09Ynx8bnVsbD09PWJ8fFwiXCI9PT1iKXRyeXtiPXRoaXMuJC5nZXREYXRhKGEpfWNhdGNoKGMpe31pZih2b2lkIDA9PT1ifHxudWxsPT09Ynx8XCJcIj09PWIpYj1cIlwiO1widGV4dC9odG1sXCI9PWE/KGI9Yi5yZXBsYWNlKHRoaXMuXy5tZXRhUmVnRXhwLFwiXCIpLChhPXRoaXMuXy5ib2R5UmVnRXhwLmV4ZWMoYikpJiZcbmEubGVuZ3RoJiYoYj1hWzFdLGI9Yi5yZXBsYWNlKHRoaXMuXy5mcmFnbWVudFJlZ0V4cCxcIlwiKSkpOlwiVGV4dFwiPT1hJiZDS0VESVRPUi5lbnYuZ2Vja28mJnRoaXMuZ2V0RmlsZXNDb3VudCgpJiZcImZpbGU6Ly9cIj09Yi5zdWJzdHJpbmcoMCw3KSYmKGI9XCJcIik7cmV0dXJuIGJ9LHNldERhdGE6ZnVuY3Rpb24oYSxiKXthPXRoaXMuXy5ub3JtYWxpemVUeXBlKGEpO3RoaXMuXy5kYXRhW2FdPWI7aWYoQ0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuaXNDdXN0b21EYXRhVHlwZXNTdXBwb3J0ZWR8fFwiVVJMXCI9PWF8fFwiVGV4dFwiPT1hKXtcIlRleHRcIj09ayYmXCJUZXh0XCI9PWEmJih0aGlzLmlkPWIpO3RyeXt0aGlzLiQuc2V0RGF0YShhLGIpfWNhdGNoKGMpe319fSxnZXRUcmFuc2ZlclR5cGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuc291cmNlRWRpdG9yP3RoaXMuc291cmNlRWRpdG9yPT1hP0NLRURJVE9SLkRBVEFfVFJBTlNGRVJfSU5URVJOQUw6Q0tFRElUT1IuREFUQV9UUkFOU0ZFUl9DUk9TU19FRElUT1JTOlxuQ0tFRElUT1IuREFUQV9UUkFOU0ZFUl9FWFRFUk5BTH0sY2FjaGVEYXRhOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShjKXtjPWIuXy5ub3JtYWxpemVUeXBlKGMpO3ZhciBkPWIuZ2V0RGF0YShjKTtkJiYoYi5fLmRhdGFbY109ZCl9aWYodGhpcy4kKXt2YXIgYj10aGlzLGMsZDtpZihDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5pc0N1c3RvbURhdGFUeXBlc1N1cHBvcnRlZCl7aWYodGhpcy4kLnR5cGVzKWZvcihjPTA7Yzx0aGlzLiQudHlwZXMubGVuZ3RoO2MrKylhKHRoaXMuJC50eXBlc1tjXSl9ZWxzZSBhKFwiVGV4dFwiKSxhKFwiVVJMXCIpO2Q9dGhpcy5fZ2V0SW1hZ2VGcm9tQ2xpcGJvYXJkKCk7aWYodGhpcy4kJiZ0aGlzLiQuZmlsZXN8fGQpe3RoaXMuXy5maWxlcz1bXTtpZih0aGlzLiQuZmlsZXMmJnRoaXMuJC5maWxlcy5sZW5ndGgpZm9yKGM9MDtjPHRoaXMuJC5maWxlcy5sZW5ndGg7YysrKXRoaXMuXy5maWxlcy5wdXNoKHRoaXMuJC5maWxlc1tjXSk7MD09PXRoaXMuXy5maWxlcy5sZW5ndGgmJlxuZCYmdGhpcy5fLmZpbGVzLnB1c2goZCl9fX0sZ2V0RmlsZXNDb3VudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uZmlsZXMubGVuZ3RoP3RoaXMuXy5maWxlcy5sZW5ndGg6dGhpcy4kJiZ0aGlzLiQuZmlsZXMmJnRoaXMuJC5maWxlcy5sZW5ndGg/dGhpcy4kLmZpbGVzLmxlbmd0aDp0aGlzLl9nZXRJbWFnZUZyb21DbGlwYm9hcmQoKT8xOjB9LGdldEZpbGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuXy5maWxlcy5sZW5ndGg/dGhpcy5fLmZpbGVzW2FdOnRoaXMuJCYmdGhpcy4kLmZpbGVzJiZ0aGlzLiQuZmlsZXMubGVuZ3RoP3RoaXMuJC5maWxlc1thXTowPT09YT90aGlzLl9nZXRJbWFnZUZyb21DbGlwYm9hcmQoKTp2b2lkIDB9LGlzRW1wdHk6ZnVuY3Rpb24oKXt2YXIgYT17fSxiO2lmKHRoaXMuZ2V0RmlsZXNDb3VudCgpKXJldHVybiExO2ZvcihiIGluIHRoaXMuXy5kYXRhKWFbYl09MTtpZih0aGlzLiQpaWYoQ0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuaXNDdXN0b21EYXRhVHlwZXNTdXBwb3J0ZWQpe2lmKHRoaXMuJC50eXBlcylmb3IodmFyIGM9XG4wO2M8dGhpcy4kLnR5cGVzLmxlbmd0aDtjKyspYVt0aGlzLiQudHlwZXNbY11dPTF9ZWxzZSBhLlRleHQ9MSxhLlVSTD0xO1wiVGV4dFwiIT1rJiYoYVtrXT0wKTtmb3IoYiBpbiBhKWlmKGFbYl0mJlwiXCIhPT10aGlzLmdldERhdGEoYikpcmV0dXJuITE7cmV0dXJuITB9LF9nZXRJbWFnZUZyb21DbGlwYm9hcmQ6ZnVuY3Rpb24oKXt2YXIgYTtpZih0aGlzLiQmJnRoaXMuJC5pdGVtcyYmdGhpcy4kLml0ZW1zWzBdKXRyeXtpZigoYT10aGlzLiQuaXRlbXNbMF0uZ2V0QXNGaWxlKCkpJiZhLnR5cGUpcmV0dXJuIGF9Y2F0Y2goYil7fX19fSgpLGZ1bmN0aW9uKCl7Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJwYW5lbFwiLHtiZWZvcmVJbml0OmZ1bmN0aW9uKGEpe2EudWkuYWRkSGFuZGxlcihDS0VESVRPUi5VSV9QQU5FTCxDS0VESVRPUi51aS5wYW5lbC5oYW5kbGVyKX19KTtDS0VESVRPUi5VSV9QQU5FTD1cInBhbmVsXCI7Q0tFRElUT1IudWkucGFuZWw9ZnVuY3Rpb24oYSxiKXtiJiZDS0VESVRPUi50b29scy5leHRlbmQodGhpcyxcbmIpO0NLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLHtjbGFzc05hbWU6XCJcIixjc3M6W119KTt0aGlzLmlkPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpO3RoaXMuZG9jdW1lbnQ9YTt0aGlzLmlzRnJhbWVkPXRoaXMuZm9yY2VJRnJhbWV8fHRoaXMuY3NzLmxlbmd0aDt0aGlzLl89e2Jsb2Nrczp7fX19O0NLRURJVE9SLnVpLnBhbmVsLmhhbmRsZXI9e2NyZWF0ZTpmdW5jdGlvbihhKXtyZXR1cm4gbmV3IENLRURJVE9SLnVpLnBhbmVsKGEpfX07dmFyIGE9Q0tFRElUT1IuYWRkVGVtcGxhdGUoXCJwYW5lbFwiLCdcXHgzY2RpdiBsYW5nXFx4M2RcIntsYW5nQ29kZX1cIiBpZFxceDNkXCJ7aWR9XCIgZGlyXFx4M2R7ZGlyfSBjbGFzc1xceDNkXCJja2UgY2tlX3Jlc2V0X2FsbCB7ZWRpdG9ySWR9IGNrZV9wYW5lbCBja2VfcGFuZWwge2Nsc30gY2tlX3tkaXJ9XCIgc3R5bGVcXHgzZFwiei1pbmRleDp7ei1pbmRleH1cIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiXFx4M2V7ZnJhbWV9XFx4M2MvZGl2XFx4M2UnKSxlPUNLRURJVE9SLmFkZFRlbXBsYXRlKFwicGFuZWwtZnJhbWVcIixcbidcXHgzY2lmcmFtZSBpZFxceDNkXCJ7aWR9XCIgY2xhc3NcXHgzZFwiY2tlX3BhbmVsX2ZyYW1lXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIiBmcmFtZWJvcmRlclxceDNkXCIwXCIgc3JjXFx4M2RcIntzcmN9XCJcXHgzZVxceDNjL2lmcmFtZVxceDNlJyksYj1DS0VESVRPUi5hZGRUZW1wbGF0ZShcInBhbmVsLWZyYW1lLWlubmVyXCIsJ1xceDNjIURPQ1RZUEUgaHRtbFxceDNlXFx4M2NodG1sIGNsYXNzXFx4M2RcImNrZV9wYW5lbF9jb250YWluZXIge2Vudn1cIiBkaXJcXHgzZFwie2Rpcn1cIiBsYW5nXFx4M2RcIntsYW5nQ29kZX1cIlxceDNlXFx4M2NoZWFkXFx4M2V7Y3NzfVxceDNjL2hlYWRcXHgzZVxceDNjYm9keSBjbGFzc1xceDNkXCJja2Vfe2Rpcn1cIiBzdHlsZVxceDNkXCJtYXJnaW46MDtwYWRkaW5nOjBcIiBvbmxvYWRcXHgzZFwie29ubG9hZH1cIlxceDNlXFx4M2MvYm9keVxceDNlXFx4M2MvaHRtbFxceDNlJyk7Q0tFRElUT1IudWkucGFuZWwucHJvdG90eXBlPXtyZW5kZXI6ZnVuY3Rpb24oYyxkKXt0aGlzLmdldEhvbGRlckVsZW1lbnQ9ZnVuY3Rpb24oKXt2YXIgYT1cbnRoaXMuXy5ob2xkZXI7aWYoIWEpe2lmKHRoaXMuaXNGcmFtZWQpe3ZhciBhPXRoaXMuZG9jdW1lbnQuZ2V0QnlJZCh0aGlzLmlkK1wiX2ZyYW1lXCIpLGM9YS5nZXRQYXJlbnQoKSxhPWEuZ2V0RnJhbWVEb2N1bWVudCgpO0NLRURJVE9SLmVudi5pT1MmJmMuc2V0U3R5bGVzKHtvdmVyZmxvdzpcInNjcm9sbFwiLFwiLXdlYmtpdC1vdmVyZmxvdy1zY3JvbGxpbmdcIjpcInRvdWNoXCJ9KTtjPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKENLRURJVE9SLnRvb2xzLmJpbmQoZnVuY3Rpb24oKXt0aGlzLmlzTG9hZGVkPSEwO2lmKHRoaXMub25Mb2FkKXRoaXMub25Mb2FkKCl9LHRoaXMpKTthLndyaXRlKGIub3V0cHV0KENLRURJVE9SLnRvb2xzLmV4dGVuZCh7Y3NzOkNLRURJVE9SLnRvb2xzLmJ1aWxkU3R5bGVIdG1sKHRoaXMuY3NzKSxvbmxvYWQ6XCJ3aW5kb3cucGFyZW50LkNLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbihcIitjK1wiKTtcIn0sbCkpKTthLmdldFdpbmRvdygpLiQuQ0tFRElUT1I9Q0tFRElUT1I7XG5hLm9uKFwia2V5ZG93blwiLGZ1bmN0aW9uKGEpe3ZhciBiPWEuZGF0YS5nZXRLZXlzdHJva2UoKSxjPXRoaXMuZG9jdW1lbnQuZ2V0QnlJZCh0aGlzLmlkKS5nZXRBdHRyaWJ1dGUoXCJkaXJcIik7dGhpcy5fLm9uS2V5RG93biYmITE9PT10aGlzLl8ub25LZXlEb3duKGIpP2EuZGF0YS5wcmV2ZW50RGVmYXVsdCgpOigyNz09Ynx8Yj09KFwicnRsXCI9PWM/Mzk6MzcpKSYmdGhpcy5vbkVzY2FwZSYmITE9PT10aGlzLm9uRXNjYXBlKGIpJiZhLmRhdGEucHJldmVudERlZmF1bHQoKX0sdGhpcyk7YT1hLmdldEJvZHkoKTthLnVuc2VsZWN0YWJsZSgpO0NLRURJVE9SLmVudi5haXImJkNLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbihjKX1lbHNlIGE9dGhpcy5kb2N1bWVudC5nZXRCeUlkKHRoaXMuaWQpO3RoaXMuXy5ob2xkZXI9YX1yZXR1cm4gYX07dmFyIGw9e2VkaXRvcklkOmMuaWQsaWQ6dGhpcy5pZCxsYW5nQ29kZTpjLmxhbmdDb2RlLGRpcjpjLmxhbmcuZGlyLGNsczp0aGlzLmNsYXNzTmFtZSxcbmZyYW1lOlwiXCIsZW52OkNLRURJVE9SLmVudi5jc3NDbGFzcyxcInotaW5kZXhcIjpjLmNvbmZpZy5iYXNlRmxvYXRaSW5kZXgrMX07aWYodGhpcy5pc0ZyYW1lZCl7dmFyIG09Q0tFRElUT1IuZW52LmFpcj9cImphdmFzY3JpcHQ6dm9pZCgwKVwiOkNLRURJVE9SLmVudi5pZT9cImphdmFzY3JpcHQ6dm9pZChmdW5jdGlvbigpe1wiK2VuY29kZVVSSUNvbXBvbmVudChcImRvY3VtZW50Lm9wZW4oKTsoXCIrQ0tFRElUT1IudG9vbHMuZml4RG9tYWluK1wiKSgpO2RvY3VtZW50LmNsb3NlKCk7XCIpK1wifSgpKVwiOlwiXCI7bC5mcmFtZT1lLm91dHB1dCh7aWQ6dGhpcy5pZCtcIl9mcmFtZVwiLHNyYzptfSl9bT1hLm91dHB1dChsKTtkJiZkLnB1c2gobSk7cmV0dXJuIG19LGFkZEJsb2NrOmZ1bmN0aW9uKGEsYil7Yj10aGlzLl8uYmxvY2tzW2FdPWIgaW5zdGFuY2VvZiBDS0VESVRPUi51aS5wYW5lbC5ibG9jaz9iOm5ldyBDS0VESVRPUi51aS5wYW5lbC5ibG9jayh0aGlzLmdldEhvbGRlckVsZW1lbnQoKSxiKTt0aGlzLl8uY3VycmVudEJsb2NrfHxcbnRoaXMuc2hvd0Jsb2NrKGEpO3JldHVybiBifSxnZXRCbG9jazpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fLmJsb2Nrc1thXX0sc2hvd0Jsb2NrOmZ1bmN0aW9uKGEpe2E9dGhpcy5fLmJsb2Nrc1thXTt2YXIgYj10aGlzLl8uY3VycmVudEJsb2NrLGU9IXRoaXMuZm9yY2VJRnJhbWV8fENLRURJVE9SLmVudi5pZT90aGlzLl8uaG9sZGVyOnRoaXMuZG9jdW1lbnQuZ2V0QnlJZCh0aGlzLmlkK1wiX2ZyYW1lXCIpO2ImJmIuaGlkZSgpO3RoaXMuXy5jdXJyZW50QmxvY2s9YTtDS0VESVRPUi5maXJlKFwiYXJpYVdpZGdldFwiLGUpO2EuXy5mb2N1c0luZGV4PS0xO3RoaXMuXy5vbktleURvd249YS5vbktleURvd24mJkNLRURJVE9SLnRvb2xzLmJpbmQoYS5vbktleURvd24sYSk7YS5zaG93KCk7cmV0dXJuIGF9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQmJnRoaXMuZWxlbWVudC5yZW1vdmUoKX19O0NLRURJVE9SLnVpLnBhbmVsLmJsb2NrPUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHskOmZ1bmN0aW9uKGEsXG5iKXt0aGlzLmVsZW1lbnQ9YS5hcHBlbmQoYS5nZXREb2N1bWVudCgpLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7YXR0cmlidXRlczp7dGFiaW5kZXg6LTEsXCJjbGFzc1wiOlwiY2tlX3BhbmVsX2Jsb2NrXCJ9LHN0eWxlczp7ZGlzcGxheTpcIm5vbmVcIn19KSk7YiYmQ0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsYik7dGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZXMoe3JvbGU6dGhpcy5hdHRyaWJ1dGVzLnJvbGV8fFwicHJlc2VudGF0aW9uXCIsXCJhcmlhLWxhYmVsXCI6dGhpcy5hdHRyaWJ1dGVzW1wiYXJpYS1sYWJlbFwiXSx0aXRsZTp0aGlzLmF0dHJpYnV0ZXMudGl0bGV8fHRoaXMuYXR0cmlidXRlc1tcImFyaWEtbGFiZWxcIl19KTt0aGlzLmtleXM9e307dGhpcy5fLmZvY3VzSW5kZXg9LTE7dGhpcy5lbGVtZW50LmRpc2FibGVDb250ZXh0TWVudSgpfSxfOnttYXJrSXRlbTpmdW5jdGlvbihhKXstMSE9YSYmKGE9dGhpcy5lbGVtZW50LmdldEVsZW1lbnRzQnlUYWcoXCJhXCIpLmdldEl0ZW0odGhpcy5fLmZvY3VzSW5kZXg9XG5hKSxDS0VESVRPUi5lbnYud2Via2l0JiZhLmdldERvY3VtZW50KCkuZ2V0V2luZG93KCkuZm9jdXMoKSxhLmZvY3VzKCksdGhpcy5vbk1hcmsmJnRoaXMub25NYXJrKGEpKX19LHByb3RvOntzaG93OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnNldFN0eWxlKFwiZGlzcGxheVwiLFwiXCIpfSxoaWRlOmZ1bmN0aW9uKCl7dGhpcy5vbkhpZGUmJiEwPT09dGhpcy5vbkhpZGUuY2FsbCh0aGlzKXx8dGhpcy5lbGVtZW50LnNldFN0eWxlKFwiZGlzcGxheVwiLFwibm9uZVwiKX0sb25LZXlEb3duOmZ1bmN0aW9uKGEsYil7dmFyIGU9dGhpcy5rZXlzW2FdO3N3aXRjaChlKXtjYXNlIFwibmV4dFwiOmZvcih2YXIgbT10aGlzLl8uZm9jdXNJbmRleCxlPXRoaXMuZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnKFwiYVwiKSxmO2Y9ZS5nZXRJdGVtKCsrbSk7KWlmKGYuZ2V0QXR0cmlidXRlKFwiX2NrZV9mb2N1c1wiKSYmZi4kLm9mZnNldFdpZHRoKXt0aGlzLl8uZm9jdXNJbmRleD1tO2YuZm9jdXMoKTticmVha31yZXR1cm4gZnx8XG5iPyExOih0aGlzLl8uZm9jdXNJbmRleD0tMSx0aGlzLm9uS2V5RG93bihhLDEpKTtjYXNlIFwicHJldlwiOm09dGhpcy5fLmZvY3VzSW5kZXg7Zm9yKGU9dGhpcy5lbGVtZW50LmdldEVsZW1lbnRzQnlUYWcoXCJhXCIpOzA8bSYmKGY9ZS5nZXRJdGVtKC0tbSkpOyl7aWYoZi5nZXRBdHRyaWJ1dGUoXCJfY2tlX2ZvY3VzXCIpJiZmLiQub2Zmc2V0V2lkdGgpe3RoaXMuXy5mb2N1c0luZGV4PW07Zi5mb2N1cygpO2JyZWFrfWY9bnVsbH1yZXR1cm4gZnx8Yj8hMToodGhpcy5fLmZvY3VzSW5kZXg9ZS5jb3VudCgpLHRoaXMub25LZXlEb3duKGEsMSkpO2Nhc2UgXCJjbGlja1wiOmNhc2UgXCJtb3VzZXVwXCI6cmV0dXJuIG09dGhpcy5fLmZvY3VzSW5kZXgsKGY9MDw9bSYmdGhpcy5lbGVtZW50LmdldEVsZW1lbnRzQnlUYWcoXCJhXCIpLmdldEl0ZW0obSkpJiYoZi4kW2VdP2YuJFtlXSgpOmYuJFtcIm9uXCIrZV0oKSksITF9cmV0dXJuITB9fX0pfSgpLENLRURJVE9SLnBsdWdpbnMuYWRkKFwiZmxvYXRwYW5lbFwiLFxue3JlcXVpcmVzOlwicGFuZWxcIn0pLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGMsZCxsLG0pe209Q0tFRElUT1IudG9vbHMuZ2VuS2V5KGMuZ2V0VW5pcXVlSWQoKSxkLmdldFVuaXF1ZUlkKCksYS5sYW5nLmRpcixhLnVpQ29sb3J8fFwiXCIsbC5jc3N8fFwiXCIsbXx8XCJcIik7dmFyIGY9ZVttXTtmfHwoZj1lW21dPW5ldyBDS0VESVRPUi51aS5wYW5lbChjLGwpLGYuZWxlbWVudD1kLmFwcGVuZChDS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbChmLnJlbmRlcihhKSxjKSksZi5lbGVtZW50LnNldFN0eWxlcyh7ZGlzcGxheTpcIm5vbmVcIixwb3NpdGlvbjpcImFic29sdXRlXCJ9KSk7cmV0dXJuIGZ9dmFyIGU9e307Q0tFRElUT1IudWkuZmxvYXRQYW5lbD1DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7JDpmdW5jdGlvbihiLGMsZCxlKXtmdW5jdGlvbiBtKCl7Zy5oaWRlKCl9ZC5mb3JjZUlGcmFtZT0xO2QudG9vbGJhclJlbGF0ZWQmJmIuZWxlbWVudE1vZGU9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkUmJlxuKGM9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZChcImNrZV9cIitiLm5hbWUpKTt2YXIgZj1jLmdldERvY3VtZW50KCk7ZT1hKGIsZixjLGQsZXx8MCk7dmFyIGg9ZS5lbGVtZW50LGs9aC5nZXRGaXJzdCgpLGc9dGhpcztoLmRpc2FibGVDb250ZXh0TWVudSgpO3RoaXMuZWxlbWVudD1oO3RoaXMuXz17ZWRpdG9yOmIscGFuZWw6ZSxwYXJlbnRFbGVtZW50OmMsZGVmaW5pdGlvbjpkLGRvY3VtZW50OmYsaWZyYW1lOmssY2hpbGRyZW46W10sZGlyOmIubGFuZy5kaXIsc2hvd0Jsb2NrUGFyYW1zOm51bGx9O2Iub24oXCJtb2RlXCIsbSk7Yi5vbihcInJlc2l6ZVwiLG0pO2YuZ2V0V2luZG93KCkub24oXCJyZXNpemVcIixmdW5jdGlvbigpe3RoaXMucmVwb3NpdGlvbigpfSx0aGlzKX0scHJvdG86e2FkZEJsb2NrOmZ1bmN0aW9uKGEsYyl7cmV0dXJuIHRoaXMuXy5wYW5lbC5hZGRCbG9jayhhLGMpfSxhZGRMaXN0QmxvY2s6ZnVuY3Rpb24oYSxjKXtyZXR1cm4gdGhpcy5fLnBhbmVsLmFkZExpc3RCbG9jayhhLFxuYyl9LGdldEJsb2NrOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl8ucGFuZWwuZ2V0QmxvY2soYSl9LHNob3dCbG9jazpmdW5jdGlvbihhLGMsZCxlLG0sZil7dmFyIGg9dGhpcy5fLnBhbmVsLGs9aC5zaG93QmxvY2soYSk7dGhpcy5fLnNob3dCbG9ja1BhcmFtcz1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7dGhpcy5hbGxvd0JsdXIoITEpO3ZhciBnPXRoaXMuXy5lZGl0b3IuZWRpdGFibGUoKTt0aGlzLl8ucmV0dXJuRm9jdXM9Zy5oYXNGb2N1cz9nOm5ldyBDS0VESVRPUi5kb20uZWxlbWVudChDS0VESVRPUi5kb2N1bWVudC4kLmFjdGl2ZUVsZW1lbnQpO3RoaXMuXy5oaWRlVGltZW91dD0wO3ZhciBuPXRoaXMuZWxlbWVudCxnPXRoaXMuXy5pZnJhbWUsZz1DS0VESVRPUi5lbnYuaWUmJiFDS0VESVRPUi5lbnYuZWRnZT9nOm5ldyBDS0VESVRPUi5kb20ud2luZG93KGcuJC5jb250ZW50V2luZG93KSx2PW4uZ2V0RG9jdW1lbnQoKSxyPXRoaXMuXy5wYXJlbnRFbGVtZW50LmdldFBvc2l0aW9uZWRBbmNlc3RvcigpLFxucT1jLmdldERvY3VtZW50UG9zaXRpb24odiksdj1yP3IuZ2V0RG9jdW1lbnRQb3NpdGlvbih2KTp7eDowLHk6MH0sdD1cInJ0bFwiPT10aGlzLl8uZGlyLHA9cS54KyhlfHwwKS12Lngsdz1xLnkrKG18fDApLXYueTshdHx8MSE9ZCYmNCE9ZD90fHwyIT1kJiYzIT1kfHwocCs9Yy4kLm9mZnNldFdpZHRoLTEpOnArPWMuJC5vZmZzZXRXaWR0aDtpZigzPT1kfHw0PT1kKXcrPWMuJC5vZmZzZXRIZWlnaHQtMTt0aGlzLl8ucGFuZWwuXy5vZmZzZXRQYXJlbnRJZD1jLmdldElkKCk7bi5zZXRTdHlsZXMoe3RvcDp3K1wicHhcIixsZWZ0OjAsZGlzcGxheTpcIlwifSk7bi5zZXRPcGFjaXR5KDApO24uZ2V0Rmlyc3QoKS5yZW1vdmVTdHlsZShcIndpZHRoXCIpO3RoaXMuXy5lZGl0b3IuZm9jdXNNYW5hZ2VyLmFkZChnKTt0aGlzLl8uYmx1clNldHx8KENLRURJVE9SLmV2ZW50LnVzZUNhcHR1cmU9ITAsZy5vbihcImJsdXJcIixmdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7ZGVsZXRlIHRoaXMuXy5yZXR1cm5Gb2N1cztcbnRoaXMuaGlkZSgpfXRoaXMuYWxsb3dCbHVyKCkmJmEuZGF0YS5nZXRQaGFzZSgpPT1DS0VESVRPUi5FVkVOVF9QSEFTRV9BVF9UQVJHRVQmJnRoaXMudmlzaWJsZSYmIXRoaXMuXy5hY3RpdmVDaGlsZCYmKENLRURJVE9SLmVudi5pT1M/dGhpcy5fLmhpZGVUaW1lb3V0fHwodGhpcy5fLmhpZGVUaW1lb3V0PUNLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoYiwwLHRoaXMpKTpiLmNhbGwodGhpcykpfSx0aGlzKSxnLm9uKFwiZm9jdXNcIixmdW5jdGlvbigpe3RoaXMuXy5mb2N1c2VkPSEwO3RoaXMuaGlkZUNoaWxkKCk7dGhpcy5hbGxvd0JsdXIoITApfSx0aGlzKSxDS0VESVRPUi5lbnYuaU9TJiYoZy5vbihcInRvdWNoc3RhcnRcIixmdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLl8uaGlkZVRpbWVvdXQpfSx0aGlzKSxnLm9uKFwidG91Y2hlbmRcIixmdW5jdGlvbigpe3RoaXMuXy5oaWRlVGltZW91dD0wO3RoaXMuZm9jdXMoKX0sdGhpcykpLENLRURJVE9SLmV2ZW50LnVzZUNhcHR1cmU9ITEsXG50aGlzLl8uYmx1clNldD0xKTtoLm9uRXNjYXBlPUNLRURJVE9SLnRvb2xzLmJpbmQoZnVuY3Rpb24oYSl7aWYodGhpcy5vbkVzY2FwZSYmITE9PT10aGlzLm9uRXNjYXBlKGEpKXJldHVybiExfSx0aGlzKTtDS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IudG9vbHMuYmluZChmdW5jdGlvbigpe3ZhciBhPW47YS5yZW1vdmVTdHlsZShcIndpZHRoXCIpO2lmKGsuYXV0b1NpemUpe3ZhciBiPWsuZWxlbWVudC5nZXREb2N1bWVudCgpLGI9KENLRURJVE9SLmVudi53ZWJraXR8fENLRURJVE9SLmVudi5lZGdlP2suZWxlbWVudDpiLmdldEJvZHkoKSkuJC5zY3JvbGxXaWR0aDtDS0VESVRPUi5lbnYuaWUmJkNLRURJVE9SLmVudi5xdWlya3MmJjA8YiYmKGIrPShhLiQub2Zmc2V0V2lkdGh8fDApLShhLiQuY2xpZW50V2lkdGh8fDApKzMpO2Euc2V0U3R5bGUoXCJ3aWR0aFwiLGIrMTArXCJweFwiKTtiPWsuZWxlbWVudC4kLnNjcm9sbEhlaWdodDtDS0VESVRPUi5lbnYuaWUmJlxuQ0tFRElUT1IuZW52LnF1aXJrcyYmMDxiJiYoYis9KGEuJC5vZmZzZXRIZWlnaHR8fDApLShhLiQuY2xpZW50SGVpZ2h0fHwwKSszKTthLnNldFN0eWxlKFwiaGVpZ2h0XCIsYitcInB4XCIpO2guXy5jdXJyZW50QmxvY2suZWxlbWVudC5zZXRTdHlsZShcImRpc3BsYXlcIixcIm5vbmVcIikucmVtb3ZlU3R5bGUoXCJkaXNwbGF5XCIpfWVsc2UgYS5yZW1vdmVTdHlsZShcImhlaWdodFwiKTt0JiYocC09bi4kLm9mZnNldFdpZHRoKTtuLnNldFN0eWxlKFwibGVmdFwiLHArXCJweFwiKTt2YXIgYj1oLmVsZW1lbnQuZ2V0V2luZG93KCksYT1uLiQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksYj1iLmdldFZpZXdQYW5lU2l6ZSgpLGM9YS53aWR0aHx8YS5yaWdodC1hLmxlZnQsZD1hLmhlaWdodHx8YS5ib3R0b20tYS50b3AsZT10P2EucmlnaHQ6Yi53aWR0aC1hLmxlZnQsZz10P2Iud2lkdGgtYS5yaWdodDphLmxlZnQ7dD9lPGMmJihwPWc+Yz9wK2M6Yi53aWR0aD5jP3AtYS5sZWZ0OnAtYS5yaWdodCtiLndpZHRoKTpcbmU8YyYmKHA9Zz5jP3AtYzpiLndpZHRoPmM/cC1hLnJpZ2h0K2Iud2lkdGg6cC1hLmxlZnQpO2M9YS50b3A7Yi5oZWlnaHQtYS50b3A8ZCYmKHc9Yz5kP3ctZDpiLmhlaWdodD5kP3ctYS5ib3R0b20rYi5oZWlnaHQ6dy1hLnRvcCk7Q0tFRElUT1IuZW52LmllJiYoYj1hPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChuLiQub2Zmc2V0UGFyZW50KSxcImh0bWxcIj09Yi5nZXROYW1lKCkmJihiPWIuZ2V0RG9jdW1lbnQoKS5nZXRCb2R5KCkpLFwicnRsXCI9PWIuZ2V0Q29tcHV0ZWRTdHlsZShcImRpcmVjdGlvblwiKSYmKHA9Q0tFRElUT1IuZW52LmllOENvbXBhdD9wLTIqbi5nZXREb2N1bWVudCgpLmdldERvY3VtZW50RWxlbWVudCgpLiQuc2Nyb2xsTGVmdDpwLShhLiQuc2Nyb2xsV2lkdGgtYS4kLmNsaWVudFdpZHRoKSkpO3ZhciBhPW4uZ2V0Rmlyc3QoKSxsOyhsPWEuZ2V0Q3VzdG9tRGF0YShcImFjdGl2ZVBhbmVsXCIpKSYmbC5vbkhpZGUmJmwub25IaWRlLmNhbGwodGhpcywxKTthLnNldEN1c3RvbURhdGEoXCJhY3RpdmVQYW5lbFwiLFxudGhpcyk7bi5zZXRTdHlsZXMoe3RvcDp3K1wicHhcIixsZWZ0OnArXCJweFwifSk7bi5zZXRPcGFjaXR5KDEpO2YmJmYoKX0sdGhpcyk7aC5pc0xvYWRlZD9hKCk6aC5vbkxvYWQ9YTtDS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IuZW52LndlYmtpdCYmQ0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCkuZ2V0U2Nyb2xsUG9zaXRpb24oKS55O3RoaXMuZm9jdXMoKTtrLmVsZW1lbnQuZm9jdXMoKTtDS0VESVRPUi5lbnYud2Via2l0JiYoQ0tFRElUT1IuZG9jdW1lbnQuZ2V0Qm9keSgpLiQuc2Nyb2xsVG9wPWEpO3RoaXMuYWxsb3dCbHVyKCEwKTt0aGlzLl8uZWRpdG9yLmZpcmUoXCJwYW5lbFNob3dcIix0aGlzKX0sMCx0aGlzKX0sQ0tFRElUT1IuZW52LmFpcj8yMDA6MCx0aGlzKTt0aGlzLnZpc2libGU9MTt0aGlzLm9uU2hvdyYmdGhpcy5vblNob3cuY2FsbCh0aGlzKX0scmVwb3NpdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5zaG93QmxvY2tQYXJhbXM7XG50aGlzLnZpc2libGUmJnRoaXMuXy5zaG93QmxvY2tQYXJhbXMmJih0aGlzLmhpZGUoKSx0aGlzLnNob3dCbG9jay5hcHBseSh0aGlzLGEpKX0sZm9jdXM6ZnVuY3Rpb24oKXtpZihDS0VESVRPUi5lbnYud2Via2l0KXt2YXIgYT1DS0VESVRPUi5kb2N1bWVudC5nZXRBY3RpdmUoKTthJiYhYS5lcXVhbHModGhpcy5fLmlmcmFtZSkmJmEuJC5ibHVyKCl9KHRoaXMuXy5sYXN0Rm9jdXNlZHx8dGhpcy5fLmlmcmFtZS5nZXRGcmFtZURvY3VtZW50KCkuZ2V0V2luZG93KCkpLmZvY3VzKCl9LGJsdXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8uaWZyYW1lLmdldEZyYW1lRG9jdW1lbnQoKS5nZXRBY3RpdmUoKTthJiZhLmlzKFwiYVwiKSYmKHRoaXMuXy5sYXN0Rm9jdXNlZD1hKX0saGlkZTpmdW5jdGlvbihhKXtpZih0aGlzLnZpc2libGUmJighdGhpcy5vbkhpZGV8fCEwIT09dGhpcy5vbkhpZGUuY2FsbCh0aGlzKSkpe3RoaXMuaGlkZUNoaWxkKCk7Q0tFRElUT1IuZW52LmdlY2tvJiZ0aGlzLl8uaWZyYW1lLmdldEZyYW1lRG9jdW1lbnQoKS4kLmFjdGl2ZUVsZW1lbnQuYmx1cigpO1xudGhpcy5lbGVtZW50LnNldFN0eWxlKFwiZGlzcGxheVwiLFwibm9uZVwiKTt0aGlzLnZpc2libGU9MDt0aGlzLmVsZW1lbnQuZ2V0Rmlyc3QoKS5yZW1vdmVDdXN0b21EYXRhKFwiYWN0aXZlUGFuZWxcIik7aWYoYT1hJiZ0aGlzLl8ucmV0dXJuRm9jdXMpQ0tFRElUT1IuZW52LndlYmtpdCYmYS50eXBlJiZhLmdldFdpbmRvdygpLiQuZm9jdXMoKSxhLmZvY3VzKCk7ZGVsZXRlIHRoaXMuXy5sYXN0Rm9jdXNlZDt0aGlzLl8uc2hvd0Jsb2NrUGFyYW1zPW51bGw7dGhpcy5fLmVkaXRvci5maXJlKFwicGFuZWxIaWRlXCIsdGhpcyl9fSxhbGxvd0JsdXI6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5fLnBhbmVsO3ZvaWQgMCE9PWEmJihjLmFsbG93Qmx1cj1hKTtyZXR1cm4gYy5hbGxvd0JsdXJ9LHNob3dBc0NoaWxkOmZ1bmN0aW9uKGEsYyxkLGUsbSxmKXtpZih0aGlzLl8uYWN0aXZlQ2hpbGQhPWF8fGEuXy5wYW5lbC5fLm9mZnNldFBhcmVudElkIT1kLmdldElkKCkpdGhpcy5oaWRlQ2hpbGQoKSxhLm9uSGlkZT1cbkNLRURJVE9SLnRvb2xzLmJpbmQoZnVuY3Rpb24oKXtDS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5fLmZvY3VzZWR8fHRoaXMuaGlkZSgpfSwwLHRoaXMpfSx0aGlzKSx0aGlzLl8uYWN0aXZlQ2hpbGQ9YSx0aGlzLl8uZm9jdXNlZD0hMSxhLnNob3dCbG9jayhjLGQsZSxtLGYpLHRoaXMuYmx1cigpLChDS0VESVRPUi5lbnYuaWU3Q29tcGF0fHxDS0VESVRPUi5lbnYuaWU2Q29tcGF0KSYmc2V0VGltZW91dChmdW5jdGlvbigpe2EuZWxlbWVudC5nZXRDaGlsZCgwKS4kLnN0eWxlLmNzc1RleHQrPVwiXCJ9LDEwMCl9LGhpZGVDaGlsZDpmdW5jdGlvbihhKXt2YXIgYz10aGlzLl8uYWN0aXZlQ2hpbGQ7YyYmKGRlbGV0ZSBjLm9uSGlkZSxkZWxldGUgdGhpcy5fLmFjdGl2ZUNoaWxkLGMuaGlkZSgpLGEmJnRoaXMuZm9jdXMoKSl9fX0pO0NLRURJVE9SLm9uKFwiaW5zdGFuY2VEZXN0cm95ZWRcIixmdW5jdGlvbigpe3ZhciBhPUNLRURJVE9SLnRvb2xzLmlzRW1wdHkoQ0tFRElUT1IuaW5zdGFuY2VzKSxcbmM7Zm9yKGMgaW4gZSl7dmFyIGQ9ZVtjXTthP2QuZGVzdHJveSgpOmQuZWxlbWVudC5oaWRlKCl9YSYmKGU9e30pfSl9KCksQ0tFRElUT1IucGx1Z2lucy5hZGQoXCJtZW51XCIse3JlcXVpcmVzOlwiZmxvYXRwYW5lbFwiLGJlZm9yZUluaXQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBlPWEuY29uZmlnLm1lbnVfZ3JvdXBzLnNwbGl0KFwiLFwiKSxiPWEuXy5tZW51R3JvdXBzPXt9LGM9YS5fLm1lbnVJdGVtcz17fSxkPTA7ZDxlLmxlbmd0aDtkKyspYltlW2RdXT1kKzE7YS5hZGRNZW51R3JvdXA9ZnVuY3Rpb24oYSxjKXtiW2FdPWN8fDEwMH07YS5hZGRNZW51SXRlbT1mdW5jdGlvbihhLGQpe2JbZC5ncm91cF0mJihjW2FdPW5ldyBDS0VESVRPUi5tZW51SXRlbSh0aGlzLGEsZCkpfTthLmFkZE1lbnVJdGVtcz1mdW5jdGlvbihhKXtmb3IodmFyIGIgaW4gYSl0aGlzLmFkZE1lbnVJdGVtKGIsYVtiXSl9O2EuZ2V0TWVudUl0ZW09ZnVuY3Rpb24oYSl7cmV0dXJuIGNbYV19O2EucmVtb3ZlTWVudUl0ZW09XG5mdW5jdGlvbihhKXtkZWxldGUgY1thXX19fSksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe2Euc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLmdyb3VwPGIuZ3JvdXA/LTE6YS5ncm91cD5iLmdyb3VwPzE6YS5vcmRlcjxiLm9yZGVyPy0xOmEub3JkZXI+Yi5vcmRlcj8xOjB9KX12YXIgZT0nXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV9tZW51aXRlbVwiXFx4M2VcXHgzY2EgaWRcXHgzZFwie2lkfVwiIGNsYXNzXFx4M2RcImNrZV9tZW51YnV0dG9uIGNrZV9tZW51YnV0dG9uX197bmFtZX0gY2tlX21lbnVidXR0b25fe3N0YXRlfSB7Y2xzfVwiIGhyZWZcXHgzZFwie2hyZWZ9XCIgdGl0bGVcXHgzZFwie3RpdGxlfVwiIHRhYmluZGV4XFx4M2RcIi0xXCJfY2tlX2ZvY3VzXFx4M2QxIGhpZGVmb2N1c1xceDNkXCJ0cnVlXCIgcm9sZVxceDNkXCJ7cm9sZX1cIiBhcmlhLWhhc3BvcHVwXFx4M2RcIntoYXNQb3B1cH1cIiBhcmlhLWRpc2FibGVkXFx4M2RcIntkaXNhYmxlZH1cIiB7YXJpYUNoZWNrZWR9JztDS0VESVRPUi5lbnYuZ2Vja28mJkNLRURJVE9SLmVudi5tYWMmJlxuKGUrPScgb25rZXlwcmVzc1xceDNkXCJyZXR1cm4gZmFsc2U7XCInKTtDS0VESVRPUi5lbnYuZ2Vja28mJihlKz0nIG9uYmx1clxceDNkXCJ0aGlzLnN0eWxlLmNzc1RleHQgXFx4M2QgdGhpcy5zdHlsZS5jc3NUZXh0O1wiJyk7dmFyIGU9ZSsoJyBvbm1vdXNlb3ZlclxceDNkXCJDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oe2hvdmVyRm59LHtpbmRleH0pO1wiIG9ubW91c2VvdXRcXHgzZFwiQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKHttb3ZlT3V0Rm59LHtpbmRleH0pO1wiICcrKENLRURJVE9SLmVudi5pZT8nb25jbGlja1xceDNkXCJyZXR1cm4gZmFsc2U7XCIgb25tb3VzZXVwJzpcIm9uY2xpY2tcIikrJ1xceDNkXCJDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oe2NsaWNrRm59LHtpbmRleH0pOyByZXR1cm4gZmFsc2U7XCJcXHgzZScpLGI9Q0tFRElUT1IuYWRkVGVtcGxhdGUoXCJtZW51SXRlbVwiLGUrJ1xceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfbWVudWJ1dHRvbl9pbm5lclwiXFx4M2VcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX21lbnVidXR0b25faWNvblwiXFx4M2VcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX2J1dHRvbl9pY29uIGNrZV9idXR0b25fX3tpY29uTmFtZX1faWNvblwiIHN0eWxlXFx4M2RcIntpY29uU3R5bGV9XCJcXHgzZVxceDNjL3NwYW5cXHgzZVxceDNjL3NwYW5cXHgzZVxceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfbWVudWJ1dHRvbl9sYWJlbFwiXFx4M2V7bGFiZWx9XFx4M2Mvc3BhblxceDNle2Fycm93SHRtbH1cXHgzYy9zcGFuXFx4M2VcXHgzYy9hXFx4M2VcXHgzYy9zcGFuXFx4M2UnKSxcbmM9Q0tFRElUT1IuYWRkVGVtcGxhdGUoXCJtZW51QXJyb3dcIiwnXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV9tZW51YXJyb3dcIlxceDNlXFx4M2NzcGFuXFx4M2V7bGFiZWx9XFx4M2Mvc3BhblxceDNlXFx4M2Mvc3BhblxceDNlJyk7Q0tFRElUT1IubWVudT1DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7JDpmdW5jdGlvbihhLGIpe2I9dGhpcy5fLmRlZmluaXRpb249Ynx8e307dGhpcy5pZD1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKTt0aGlzLmVkaXRvcj1hO3RoaXMuaXRlbXM9W107dGhpcy5fLmxpc3RlbmVycz1bXTt0aGlzLl8ubGV2ZWw9Yi5sZXZlbHx8MTt2YXIgYz1DS0VESVRPUi50b29scy5leHRlbmQoe30sYi5wYW5lbCx7Y3NzOltDS0VESVRPUi5za2luLmdldFBhdGgoXCJlZGl0b3JcIildLGxldmVsOnRoaXMuXy5sZXZlbC0xLGJsb2NrOnt9fSksZj1jLmJsb2NrLmF0dHJpYnV0ZXM9Yy5hdHRyaWJ1dGVzfHx7fTshZi5yb2xlJiYoZi5yb2xlPVwibWVudVwiKTt0aGlzLl8ucGFuZWxEZWZpbml0aW9uPVxuY30sXzp7b25TaG93OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lZGl0b3IuZ2V0U2VsZWN0aW9uKCksYj1hJiZhLmdldFN0YXJ0RWxlbWVudCgpLGM9dGhpcy5lZGl0b3IuZWxlbWVudFBhdGgoKSxmPXRoaXMuXy5saXN0ZW5lcnM7dGhpcy5yZW1vdmVBbGwoKTtmb3IodmFyIGU9MDtlPGYubGVuZ3RoO2UrKyl7dmFyIGs9ZltlXShiLGEsYyk7aWYoaylmb3IodmFyIGcgaW4gayl7dmFyIG49dGhpcy5lZGl0b3IuZ2V0TWVudUl0ZW0oZyk7IW58fG4uY29tbWFuZCYmIXRoaXMuZWRpdG9yLmdldENvbW1hbmQobi5jb21tYW5kKS5zdGF0ZXx8KG4uc3RhdGU9a1tnXSx0aGlzLmFkZChuKSl9fX0sb25DbGljazpmdW5jdGlvbihhKXt0aGlzLmhpZGUoKTtpZihhLm9uQ2xpY2spYS5vbkNsaWNrKCk7ZWxzZSBhLmNvbW1hbmQmJnRoaXMuZWRpdG9yLmV4ZWNDb21tYW5kKGEuY29tbWFuZCl9LG9uRXNjYXBlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMucGFyZW50O2I/Yi5fLnBhbmVsLmhpZGVDaGlsZCgxKTpcbjI3PT1hJiZ0aGlzLmhpZGUoMSk7cmV0dXJuITF9LG9uSGlkZTpmdW5jdGlvbigpe3RoaXMub25IaWRlJiZ0aGlzLm9uSGlkZSgpfSxzaG93U3ViTWVudTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLl8uc3ViTWVudSxjPXRoaXMuaXRlbXNbYV07aWYoYz1jLmdldEl0ZW1zJiZjLmdldEl0ZW1zKCkpe2I/Yi5yZW1vdmVBbGwoKTooYj10aGlzLl8uc3ViTWVudT1uZXcgQ0tFRElUT1IubWVudSh0aGlzLmVkaXRvcixDS0VESVRPUi50b29scy5leHRlbmQoe30sdGhpcy5fLmRlZmluaXRpb24se2xldmVsOnRoaXMuXy5sZXZlbCsxfSwhMCkpLGIucGFyZW50PXRoaXMsYi5fLm9uQ2xpY2s9Q0tFRElUT1IudG9vbHMuYmluZCh0aGlzLl8ub25DbGljayx0aGlzKSk7Zm9yKHZhciBmIGluIGMpe3ZhciBlPXRoaXMuZWRpdG9yLmdldE1lbnVJdGVtKGYpO2UmJihlLnN0YXRlPWNbZl0sYi5hZGQoZSkpfXZhciBrPXRoaXMuXy5wYW5lbC5nZXRCbG9jayh0aGlzLmlkKS5lbGVtZW50LmdldERvY3VtZW50KCkuZ2V0QnlJZCh0aGlzLmlkK1xuU3RyaW5nKGEpKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5zaG93KGssMil9LDApfWVsc2UgdGhpcy5fLnBhbmVsLmhpZGVDaGlsZCgxKX19LHByb3RvOnthZGQ6ZnVuY3Rpb24oYSl7YS5vcmRlcnx8KGEub3JkZXI9dGhpcy5pdGVtcy5sZW5ndGgpO3RoaXMuaXRlbXMucHVzaChhKX0scmVtb3ZlQWxsOmZ1bmN0aW9uKCl7dGhpcy5pdGVtcz1bXX0sc2hvdzpmdW5jdGlvbihiLGMsZSxmKXtpZighdGhpcy5wYXJlbnQmJih0aGlzLl8ub25TaG93KCksIXRoaXMuaXRlbXMubGVuZ3RoKSlyZXR1cm47Yz1jfHwoXCJydGxcIj09dGhpcy5lZGl0b3IubGFuZy5kaXI/MjoxKTt2YXIgaD10aGlzLml0ZW1zLGs9dGhpcy5lZGl0b3IsZz10aGlzLl8ucGFuZWwsbj10aGlzLl8uZWxlbWVudDtpZighZyl7Zz10aGlzLl8ucGFuZWw9bmV3IENLRURJVE9SLnVpLmZsb2F0UGFuZWwodGhpcy5lZGl0b3IsQ0tFRElUT1IuZG9jdW1lbnQuZ2V0Qm9keSgpLHRoaXMuXy5wYW5lbERlZmluaXRpb24sdGhpcy5fLmxldmVsKTtcbmcub25Fc2NhcGU9Q0tFRElUT1IudG9vbHMuYmluZChmdW5jdGlvbihhKXtpZighMT09PXRoaXMuXy5vbkVzY2FwZShhKSlyZXR1cm4hMX0sdGhpcyk7Zy5vblNob3c9ZnVuY3Rpb24oKXtnLl8ucGFuZWwuZ2V0SG9sZGVyRWxlbWVudCgpLmdldFBhcmVudCgpLmFkZENsYXNzKFwiY2tlXCIpLmFkZENsYXNzKFwiY2tlX3Jlc2V0X2FsbFwiKX07Zy5vbkhpZGU9Q0tFRElUT1IudG9vbHMuYmluZChmdW5jdGlvbigpe3RoaXMuXy5vbkhpZGUmJnRoaXMuXy5vbkhpZGUoKX0sdGhpcyk7bj1nLmFkZEJsb2NrKHRoaXMuaWQsdGhpcy5fLnBhbmVsRGVmaW5pdGlvbi5ibG9jayk7bi5hdXRvU2l6ZT0hMDt2YXIgdj1uLmtleXM7dls0MF09XCJuZXh0XCI7dls5XT1cIm5leHRcIjt2WzM4XT1cInByZXZcIjt2W0NLRURJVE9SLlNISUZUKzldPVwicHJldlwiO3ZbXCJydGxcIj09ay5sYW5nLmRpcj8zNzozOV09Q0tFRElUT1IuZW52LmllP1wibW91c2V1cFwiOlwiY2xpY2tcIjt2WzMyXT1DS0VESVRPUi5lbnYuaWU/XCJtb3VzZXVwXCI6XG5cImNsaWNrXCI7Q0tFRElUT1IuZW52LmllJiYodlsxM109XCJtb3VzZXVwXCIpO249dGhpcy5fLmVsZW1lbnQ9bi5lbGVtZW50O3Y9bi5nZXREb2N1bWVudCgpO3YuZ2V0Qm9keSgpLnNldFN0eWxlKFwib3ZlcmZsb3dcIixcImhpZGRlblwiKTt2LmdldEVsZW1lbnRzQnlUYWcoXCJodG1sXCIpLmdldEl0ZW0oMCkuc2V0U3R5bGUoXCJvdmVyZmxvd1wiLFwiaGlkZGVuXCIpO3RoaXMuXy5pdGVtT3ZlckZuPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKGEpe2NsZWFyVGltZW91dCh0aGlzLl8uc2hvd1N1YlRpbWVvdXQpO3RoaXMuXy5zaG93U3ViVGltZW91dD1DS0VESVRPUi50b29scy5zZXRUaW1lb3V0KHRoaXMuXy5zaG93U3ViTWVudSxrLmNvbmZpZy5tZW51X3N1Yk1lbnVEZWxheXx8NDAwLHRoaXMsW2FdKX0sdGhpcyk7dGhpcy5fLml0ZW1PdXRGbj1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLl8uc2hvd1N1YlRpbWVvdXQpfSx0aGlzKTtcbnRoaXMuXy5pdGVtQ2xpY2tGbj1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbihhKXt2YXIgYj10aGlzLml0ZW1zW2FdO2lmKGIuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKXRoaXMuaGlkZSgxKTtlbHNlIGlmKGIuZ2V0SXRlbXMpdGhpcy5fLnNob3dTdWJNZW51KGEpO2Vsc2UgdGhpcy5fLm9uQ2xpY2soYil9LHRoaXMpfWEoaCk7Zm9yKHZhciB2PWsuZWxlbWVudFBhdGgoKSx2PVsnXFx4M2NkaXYgY2xhc3NcXHgzZFwiY2tlX21lbnUnKyh2JiZ2LmRpcmVjdGlvbigpIT1rLmxhbmcuZGlyP1wiIGNrZV9taXhlZF9kaXJfY29udGVudFwiOlwiXCIpKydcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiXFx4M2UnXSxyPWgubGVuZ3RoLHE9ciYmaFswXS5ncm91cCx0PTA7dDxyO3QrKyl7dmFyIHA9aFt0XTtxIT1wLmdyb3VwJiYodi5wdXNoKCdcXHgzY2RpdiBjbGFzc1xceDNkXCJja2VfbWVudXNlcGFyYXRvclwiIHJvbGVcXHgzZFwic2VwYXJhdG9yXCJcXHgzZVxceDNjL2RpdlxceDNlJyksXG5xPXAuZ3JvdXApO3AucmVuZGVyKHRoaXMsdCx2KX12LnB1c2goXCJcXHgzYy9kaXZcXHgzZVwiKTtuLnNldEh0bWwodi5qb2luKFwiXCIpKTtDS0VESVRPUi51aS5maXJlKFwicmVhZHlcIix0aGlzKTt0aGlzLnBhcmVudD90aGlzLnBhcmVudC5fLnBhbmVsLnNob3dBc0NoaWxkKGcsdGhpcy5pZCxiLGMsZSxmKTpnLnNob3dCbG9jayh0aGlzLmlkLGIsYyxlLGYpO2suZmlyZShcIm1lbnVTaG93XCIsW2ddKX0sYWRkTGlzdGVuZXI6ZnVuY3Rpb24oYSl7dGhpcy5fLmxpc3RlbmVycy5wdXNoKGEpfSxoaWRlOmZ1bmN0aW9uKGEpe3RoaXMuXy5vbkhpZGUmJnRoaXMuXy5vbkhpZGUoKTt0aGlzLl8ucGFuZWwmJnRoaXMuXy5wYW5lbC5oaWRlKGEpfX19KTtDS0VESVRPUi5tZW51SXRlbT1DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7JDpmdW5jdGlvbihhLGIsYyl7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsYyx7b3JkZXI6MCxjbGFzc05hbWU6XCJja2VfbWVudWJ1dHRvbl9fXCIrYn0pO3RoaXMuZ3JvdXA9XG5hLl8ubWVudUdyb3Vwc1t0aGlzLmdyb3VwXTt0aGlzLmVkaXRvcj1hO3RoaXMubmFtZT1ifSxwcm90bzp7cmVuZGVyOmZ1bmN0aW9uKGEsZSxtKXt2YXIgZj1hLmlkK1N0cmluZyhlKSxoPVwidW5kZWZpbmVkXCI9PXR5cGVvZiB0aGlzLnN0YXRlP0NLRURJVE9SLlRSSVNUQVRFX09GRjp0aGlzLnN0YXRlLGs9XCJcIixnPWg9PUNLRURJVE9SLlRSSVNUQVRFX09OP1wib25cIjpoPT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRD9cImRpc2FibGVkXCI6XCJvZmZcIjt0aGlzLnJvbGUgaW57bWVudWl0ZW1jaGVja2JveDoxLG1lbnVpdGVtcmFkaW86MX0mJihrPScgYXJpYS1jaGVja2VkXFx4M2RcIicrKGg9PUNLRURJVE9SLlRSSVNUQVRFX09OP1widHJ1ZVwiOlwiZmFsc2VcIikrJ1wiJyk7dmFyIG49dGhpcy5nZXRJdGVtcyx2PVwiXFx4MjYjXCIrKFwicnRsXCI9PXRoaXMuZWRpdG9yLmxhbmcuZGlyP1wiOTY2OFwiOlwiOTY1OFwiKStcIjtcIixyPXRoaXMubmFtZTt0aGlzLmljb24mJiEvXFwuLy50ZXN0KHRoaXMuaWNvbikmJihyPVxudGhpcy5pY29uKTthPXtpZDpmLG5hbWU6dGhpcy5uYW1lLGljb25OYW1lOnIsbGFiZWw6dGhpcy5sYWJlbCxjbHM6dGhpcy5jbGFzc05hbWV8fFwiXCIsc3RhdGU6ZyxoYXNQb3B1cDpuP1widHJ1ZVwiOlwiZmFsc2VcIixkaXNhYmxlZDpoPT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCx0aXRsZTp0aGlzLmxhYmVsLGhyZWY6XCJqYXZhc2NyaXB0OnZvaWQoJ1wiKyh0aGlzLmxhYmVsfHxcIlwiKS5yZXBsYWNlKFwiJ1wiKStcIicpXCIsaG92ZXJGbjphLl8uaXRlbU92ZXJGbixtb3ZlT3V0Rm46YS5fLml0ZW1PdXRGbixjbGlja0ZuOmEuXy5pdGVtQ2xpY2tGbixpbmRleDplLGljb25TdHlsZTpDS0VESVRPUi5za2luLmdldEljb25TdHlsZShyLFwicnRsXCI9PXRoaXMuZWRpdG9yLmxhbmcuZGlyLHI9PXRoaXMuaWNvbj9udWxsOnRoaXMuaWNvbix0aGlzLmljb25PZmZzZXQpLGFycm93SHRtbDpuP2Mub3V0cHV0KHtsYWJlbDp2fSk6XCJcIixyb2xlOnRoaXMucm9sZT90aGlzLnJvbGU6XCJtZW51aXRlbVwiLGFyaWFDaGVja2VkOmt9O1xuYi5vdXRwdXQoYSxtKX19fSl9KCksQ0tFRElUT1IuY29uZmlnLm1lbnVfZ3JvdXBzPVwiY2xpcGJvYXJkLGZvcm0sdGFibGVjZWxsLHRhYmxlY2VsbHByb3BlcnRpZXMsdGFibGVyb3csdGFibGVjb2x1bW4sdGFibGUsYW5jaG9yLGxpbmssaW1hZ2UsZmxhc2gsY2hlY2tib3gscmFkaW8sdGV4dGZpZWxkLGhpZGRlbmZpZWxkLGltYWdlYnV0dG9uLGJ1dHRvbixzZWxlY3QsdGV4dGFyZWEsZGl2XCIsQ0tFRElUT1IucGx1Z2lucy5hZGQoXCJjb250ZXh0bWVudVwiLHtyZXF1aXJlczpcIm1lbnVcIixvbkxvYWQ6ZnVuY3Rpb24oKXtDS0VESVRPUi5wbHVnaW5zLmNvbnRleHRNZW51PUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHtiYXNlOkNLRURJVE9SLm1lbnUsJDpmdW5jdGlvbihhKXt0aGlzLmJhc2UuY2FsbCh0aGlzLGEse3BhbmVsOntjbGFzc05hbWU6XCJja2VfbWVudV9wYW5lbFwiLGF0dHJpYnV0ZXM6e1wiYXJpYS1sYWJlbFwiOmEubGFuZy5jb250ZXh0bWVudS5vcHRpb25zfX19KX0scHJvdG86e2FkZFRhcmdldDpmdW5jdGlvbihhLFxuZSl7YS5vbihcImNvbnRleHRtZW51XCIsZnVuY3Rpb24oYSl7YT1hLmRhdGE7dmFyIGM9Q0tFRElUT1IuZW52LndlYmtpdD9iOkNLRURJVE9SLmVudi5tYWM/YS4kLm1ldGFLZXk6YS4kLmN0cmxLZXk7aWYoIWV8fCFjKXthLnByZXZlbnREZWZhdWx0KCk7aWYoQ0tFRElUT1IuZW52Lm1hYyYmQ0tFRElUT1IuZW52LndlYmtpdCl7dmFyIGM9dGhpcy5lZGl0b3IsbT0obmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChhLmdldFRhcmdldCgpLGMuZWRpdGFibGUoKSkpLmNvbnRhaW5zKGZ1bmN0aW9uKGEpe3JldHVybiBhLmhhc0F0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKX0sITApO20mJlwiZmFsc2VcIj09bS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikmJmMuZ2V0U2VsZWN0aW9uKCkuZmFrZShtKX12YXIgbT1hLmdldFRhcmdldCgpLmdldERvY3VtZW50KCksZj1hLmdldFRhcmdldCgpLmdldERvY3VtZW50KCkuZ2V0RG9jdW1lbnRFbGVtZW50KCksYz0hbS5lcXVhbHMoQ0tFRElUT1IuZG9jdW1lbnQpLFxubT1tLmdldFdpbmRvdygpLmdldFNjcm9sbFBvc2l0aW9uKCksaD1jP2EuJC5jbGllbnRYOmEuJC5wYWdlWHx8bS54K2EuJC5jbGllbnRYLGs9Yz9hLiQuY2xpZW50WTphLiQucGFnZVl8fG0ueSthLiQuY2xpZW50WTtDS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5vcGVuKGYsbnVsbCxoLGspfSxDS0VESVRPUi5lbnYuaWU/MjAwOjAsdGhpcyl9fSx0aGlzKTtpZihDS0VESVRPUi5lbnYud2Via2l0KXt2YXIgYixjPWZ1bmN0aW9uKCl7Yj0wfTthLm9uKFwia2V5ZG93blwiLGZ1bmN0aW9uKGEpe2I9Q0tFRElUT1IuZW52Lm1hYz9hLmRhdGEuJC5tZXRhS2V5OmEuZGF0YS4kLmN0cmxLZXl9KTthLm9uKFwia2V5dXBcIixjKTthLm9uKFwiY29udGV4dG1lbnVcIixjKX19LG9wZW46ZnVuY3Rpb24oYSxlLGIsYyl7dGhpcy5lZGl0b3IuZm9jdXMoKTthPWF8fENLRURJVE9SLmRvY3VtZW50LmdldERvY3VtZW50RWxlbWVudCgpO3RoaXMuZWRpdG9yLnNlbGVjdGlvbkNoYW5nZSgxKTtcbnRoaXMuc2hvdyhhLGUsYixjKX19fSl9LGJlZm9yZUluaXQ6ZnVuY3Rpb24oYSl7dmFyIGU9YS5jb250ZXh0TWVudT1uZXcgQ0tFRElUT1IucGx1Z2lucy5jb250ZXh0TWVudShhKTthLm9uKFwiY29udGVudERvbVwiLGZ1bmN0aW9uKCl7ZS5hZGRUYXJnZXQoYS5lZGl0YWJsZSgpLCExIT09YS5jb25maWcuYnJvd3NlckNvbnRleHRNZW51T25DdHJsKX0pO2EuYWRkQ29tbWFuZChcImNvbnRleHRNZW51XCIse2V4ZWM6ZnVuY3Rpb24oKXthLmNvbnRleHRNZW51Lm9wZW4oYS5kb2N1bWVudC5nZXRCb2R5KCkpfX0pO2Euc2V0S2V5c3Ryb2tlKENLRURJVE9SLlNISUZUKzEyMSxcImNvbnRleHRNZW51XCIpO2Euc2V0S2V5c3Ryb2tlKENLRURJVE9SLkNUUkwrQ0tFRElUT1IuU0hJRlQrMTIxLFwiY29udGV4dE1lbnVcIil9fSksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYil7ZnVuY3Rpb24gbShiKXtiPWcubGlzdFtiXTt2YXIgYztiLmVxdWFscyhhLmVkaXRhYmxlKCkpfHxcInRydWVcIj09Yi5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIik/XG4oYz1hLmNyZWF0ZVJhbmdlKCksYy5zZWxlY3ROb2RlQ29udGVudHMoYiksYz1jLnNlbGVjdCgpKTooYz1hLmdldFNlbGVjdGlvbigpLGMuc2VsZWN0RWxlbWVudChiKSk7Q0tFRElUT1IuZW52LmllJiZhLmZpcmUoXCJzZWxlY3Rpb25DaGFuZ2VcIix7c2VsZWN0aW9uOmMscGF0aDpuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGIpfSk7YS5mb2N1cygpfWZ1bmN0aW9uIGYoKXtrJiZrLnNldEh0bWwoJ1xceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfcGF0aF9lbXB0eVwiXFx4M2VcXHgyNm5ic3A7XFx4M2Mvc3BhblxceDNlJyk7ZGVsZXRlIGcubGlzdH12YXIgaD1hLnVpLnNwYWNlSWQoXCJwYXRoXCIpLGssZz1hLl8uZWxlbWVudHNQYXRoLG49Zy5pZEJhc2U7Yi5odG1sKz0nXFx4M2NzcGFuIGlkXFx4M2RcIicraCsnX2xhYmVsXCIgY2xhc3NcXHgzZFwiY2tlX3ZvaWNlX2xhYmVsXCJcXHgzZScrYS5sYW5nLmVsZW1lbnRzcGF0aC5lbGVMYWJlbCsnXFx4M2Mvc3BhblxceDNlXFx4M2NzcGFuIGlkXFx4M2RcIicraCsnXCIgY2xhc3NcXHgzZFwiY2tlX3BhdGhcIiByb2xlXFx4M2RcImdyb3VwXCIgYXJpYS1sYWJlbGxlZGJ5XFx4M2RcIicrXG5oKydfbGFiZWxcIlxceDNlXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV9wYXRoX2VtcHR5XCJcXHgzZVxceDI2bmJzcDtcXHgzYy9zcGFuXFx4M2VcXHgzYy9zcGFuXFx4M2UnO2Eub24oXCJ1aVJlYWR5XCIsZnVuY3Rpb24oKXt2YXIgYj1hLnVpLnNwYWNlKFwicGF0aFwiKTtiJiZhLmZvY3VzTWFuYWdlci5hZGQoYiwxKX0pO2cub25DbGljaz1tO3ZhciB2PUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKG0pLHI9Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oYixjKXt2YXIgZj1nLmlkQmFzZSxlO2M9bmV3IENLRURJVE9SLmRvbS5ldmVudChjKTtlPVwicnRsXCI9PWEubGFuZy5kaXI7c3dpdGNoKGMuZ2V0S2V5c3Ryb2tlKCkpe2Nhc2UgZT8zOTozNzpjYXNlIDk6cmV0dXJuKGU9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZChmKyhiKzEpKSl8fChlPUNLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQoZitcIjBcIikpLGUuZm9jdXMoKSwhMTtjYXNlIGU/Mzc6Mzk6Y2FzZSBDS0VESVRPUi5TSElGVCs5OnJldHVybihlPVxuQ0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZChmKyhiLTEpKSl8fChlPUNLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQoZisoZy5saXN0Lmxlbmd0aC0xKSkpLGUuZm9jdXMoKSwhMTtjYXNlIDI3OnJldHVybiBhLmZvY3VzKCksITE7Y2FzZSAxMzpjYXNlIDMyOnJldHVybiBtKGIpLCExfXJldHVybiEwfSk7YS5vbihcInNlbGVjdGlvbkNoYW5nZVwiLGZ1bmN0aW9uKCl7Zm9yKHZhciBiPVtdLGY9Zy5saXN0PVtdLGU9W10sbT1nLmZpbHRlcnMsbD0hMCxBPWEuZWxlbWVudFBhdGgoKS5lbGVtZW50cyx1LHg9QS5sZW5ndGg7eC0tOyl7dmFyIEQ9QVt4XSx5PTA7dT1ELmRhdGEoXCJja2UtZGlzcGxheS1uYW1lXCIpP0QuZGF0YShcImNrZS1kaXNwbGF5LW5hbWVcIik6RC5kYXRhKFwiY2tlLXJlYWwtZWxlbWVudC10eXBlXCIpP0QuZGF0YShcImNrZS1yZWFsLWVsZW1lbnQtdHlwZVwiKTpELmdldE5hbWUoKTsobD1ELmhhc0F0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKT9cInRydWVcIj09RC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIik6XG5sKXx8RC5oYXNBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIil8fCh5PTEpO2Zvcih2YXIgQj0wO0I8bS5sZW5ndGg7QisrKXt2YXIgQz1tW0JdKEQsdSk7aWYoITE9PT1DKXt5PTE7YnJlYWt9dT1DfHx1fXl8fChmLnVuc2hpZnQoRCksZS51bnNoaWZ0KHUpKX1mPWYubGVuZ3RoO2ZvcihtPTA7bTxmO20rKyl1PWVbbV0sbD1hLmxhbmcuZWxlbWVudHNwYXRoLmVsZVRpdGxlLnJlcGxhY2UoLyUxLyx1KSx1PWMub3V0cHV0KHtpZDpuK20sbGFiZWw6bCx0ZXh0OnUsanNUaXRsZTpcImphdmFzY3JpcHQ6dm9pZCgnXCIrdStcIicpXCIsaW5kZXg6bSxrZXlEb3duRm46cixjbGlja0ZuOnZ9KSxiLnVuc2hpZnQodSk7a3x8KGs9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZChoKSk7ZT1rO2Uuc2V0SHRtbChiLmpvaW4oXCJcIikrJ1xceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfcGF0aF9lbXB0eVwiXFx4M2VcXHgyNm5ic3A7XFx4M2Mvc3BhblxceDNlJyk7YS5maXJlKFwiZWxlbWVudHNQYXRoVXBkYXRlXCIse3NwYWNlOmV9KX0pO1xuYS5vbihcInJlYWRPbmx5XCIsZik7YS5vbihcImNvbnRlbnREb21VbmxvYWRcIixmKTthLmFkZENvbW1hbmQoXCJlbGVtZW50c1BhdGhGb2N1c1wiLGUudG9vbGJhckZvY3VzKTthLnNldEtleXN0cm9rZShDS0VESVRPUi5BTFQrMTIyLFwiZWxlbWVudHNQYXRoRm9jdXNcIil9dmFyIGU9e3Rvb2xiYXJGb2N1czp7ZWRpdG9yRm9jdXM6ITEscmVhZE9ubHk6MSxleGVjOmZ1bmN0aW9uKGEpeyhhPUNLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQoYS5fLmVsZW1lbnRzUGF0aC5pZEJhc2UrXCIwXCIpKSYmYS5mb2N1cyhDS0VESVRPUi5lbnYuaWV8fENLRURJVE9SLmVudi5haXIpfX19LGI9XCJcIjtDS0VESVRPUi5lbnYuZ2Vja28mJkNLRURJVE9SLmVudi5tYWMmJihiKz0nIG9ua2V5cHJlc3NcXHgzZFwicmV0dXJuIGZhbHNlO1wiJyk7Q0tFRElUT1IuZW52LmdlY2tvJiYoYis9JyBvbmJsdXJcXHgzZFwidGhpcy5zdHlsZS5jc3NUZXh0IFxceDNkIHRoaXMuc3R5bGUuY3NzVGV4dDtcIicpO3ZhciBjPUNLRURJVE9SLmFkZFRlbXBsYXRlKFwicGF0aEl0ZW1cIixcbidcXHgzY2EgaWRcXHgzZFwie2lkfVwiIGhyZWZcXHgzZFwie2pzVGl0bGV9XCIgdGFiaW5kZXhcXHgzZFwiLTFcIiBjbGFzc1xceDNkXCJja2VfcGF0aF9pdGVtXCIgdGl0bGVcXHgzZFwie2xhYmVsfVwiJytiKycgaGlkZWZvY3VzXFx4M2RcInRydWVcIiAgb25rZXlkb3duXFx4M2RcInJldHVybiBDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oe2tleURvd25Gbn0se2luZGV4fSwgZXZlbnQgKTtcIiBvbmNsaWNrXFx4M2RcIkNLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbih7Y2xpY2tGbn0se2luZGV4fSk7IHJldHVybiBmYWxzZTtcIiByb2xlXFx4M2RcImJ1dHRvblwiIGFyaWEtbGFiZWxcXHgzZFwie2xhYmVsfVwiXFx4M2V7dGV4dH1cXHgzYy9hXFx4M2UnKTtDS0VESVRPUi5wbHVnaW5zLmFkZChcImVsZW1lbnRzcGF0aFwiLHtpbml0OmZ1bmN0aW9uKGIpe2IuXy5lbGVtZW50c1BhdGg9e2lkQmFzZTpcImNrZV9lbGVtZW50c3BhdGhfXCIrQ0tFRElUT1IudG9vbHMuZ2V0TmV4dE51bWJlcigpK1wiX1wiLGZpbHRlcnM6W119O2Iub24oXCJ1aVNwYWNlXCIsXG5mdW5jdGlvbihjKXtcImJvdHRvbVwiPT1jLmRhdGEuc3BhY2UmJmEoYixjLmRhdGEpfSl9fSl9KCksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsZCl7dmFyIGwsbTtkLm9uKFwicmVmcmVzaFwiLGZ1bmN0aW9uKGEpe3ZhciBjPVtlXSxkO2ZvcihkIGluIGEuZGF0YS5zdGF0ZXMpYy5wdXNoKGEuZGF0YS5zdGF0ZXNbZF0pO3RoaXMuc2V0U3RhdGUoQ0tFRElUT1IudG9vbHMuc2VhcmNoKGMsYik/YjplKX0sZCxudWxsLDEwMCk7ZC5vbihcImV4ZWNcIixmdW5jdGlvbihiKXtsPWEuZ2V0U2VsZWN0aW9uKCk7bT1sLmNyZWF0ZUJvb2ttYXJrcygxKTtiLmRhdGF8fChiLmRhdGE9e30pO2IuZGF0YS5kb25lPSExfSxkLG51bGwsMCk7ZC5vbihcImV4ZWNcIixmdW5jdGlvbigpe2EuZm9yY2VOZXh0U2VsZWN0aW9uQ2hlY2soKTtsLnNlbGVjdEJvb2ttYXJrcyhtKX0sZCxudWxsLDEwMCl9dmFyIGU9Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQsYj1DS0VESVRPUi5UUklTVEFURV9PRkY7Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJpbmRlbnRcIixcbntpbml0OmZ1bmN0aW9uKGIpe3ZhciBkPUNLRURJVE9SLnBsdWdpbnMuaW5kZW50LmdlbmVyaWNEZWZpbml0aW9uO2EoYixiLmFkZENvbW1hbmQoXCJpbmRlbnRcIixuZXcgZCghMCkpKTthKGIsYi5hZGRDb21tYW5kKFwib3V0ZGVudFwiLG5ldyBkKSk7Yi51aS5hZGRCdXR0b24mJihiLnVpLmFkZEJ1dHRvbihcIkluZGVudFwiLHtsYWJlbDpiLmxhbmcuaW5kZW50LmluZGVudCxjb21tYW5kOlwiaW5kZW50XCIsZGlyZWN0aW9uYWw6ITAsdG9vbGJhcjpcImluZGVudCwyMFwifSksYi51aS5hZGRCdXR0b24oXCJPdXRkZW50XCIse2xhYmVsOmIubGFuZy5pbmRlbnQub3V0ZGVudCxjb21tYW5kOlwib3V0ZGVudFwiLGRpcmVjdGlvbmFsOiEwLHRvb2xiYXI6XCJpbmRlbnQsMTBcIn0pKTtiLm9uKFwiZGlyQ2hhbmdlZFwiLGZ1bmN0aW9uKGEpe3ZhciBkPWIuY3JlYXRlUmFuZ2UoKSxmPWEuZGF0YS5ub2RlO2Quc2V0U3RhcnRCZWZvcmUoZik7ZC5zZXRFbmRBZnRlcihmKTtmb3IodmFyIGU9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoZCksXG5rO2s9ZS5uZXh0KCk7KWlmKGsudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKWlmKCFrLmVxdWFscyhmKSYmay5nZXREaXJlY3Rpb24oKSlkLnNldFN0YXJ0QWZ0ZXIoayksZT1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihkKTtlbHNle3ZhciBnPWIuY29uZmlnLmluZGVudENsYXNzZXM7aWYoZylmb3IodmFyIG49XCJsdHJcIj09YS5kYXRhLmRpcj9bXCJfcnRsXCIsXCJcIl06W1wiXCIsXCJfcnRsXCJdLHY9MDt2PGcubGVuZ3RoO3YrKylrLmhhc0NsYXNzKGdbdl0rblswXSkmJihrLnJlbW92ZUNsYXNzKGdbdl0rblswXSksay5hZGRDbGFzcyhnW3ZdK25bMV0pKTtnPWsuZ2V0U3R5bGUoXCJtYXJnaW4tcmlnaHRcIik7bj1rLmdldFN0eWxlKFwibWFyZ2luLWxlZnRcIik7Zz9rLnNldFN0eWxlKFwibWFyZ2luLWxlZnRcIixnKTprLnJlbW92ZVN0eWxlKFwibWFyZ2luLWxlZnRcIik7bj9rLnNldFN0eWxlKFwibWFyZ2luLXJpZ2h0XCIsbik6ay5yZW1vdmVTdHlsZShcIm1hcmdpbi1yaWdodFwiKX19KX19KTtDS0VESVRPUi5wbHVnaW5zLmluZGVudD1cbntnZW5lcmljRGVmaW5pdGlvbjpmdW5jdGlvbihhKXt0aGlzLmlzSW5kZW50PSEhYTt0aGlzLnN0YXJ0RGlzYWJsZWQ9IXRoaXMuaXNJbmRlbnR9LHNwZWNpZmljRGVmaW5pdGlvbjpmdW5jdGlvbihhLGIsZSl7dGhpcy5uYW1lPWI7dGhpcy5lZGl0b3I9YTt0aGlzLmpvYnM9e307dGhpcy5lbnRlckJyPWEuY29uZmlnLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfQlI7dGhpcy5pc0luZGVudD0hIWU7dGhpcy5yZWxhdGVkR2xvYmFsPWU/XCJpbmRlbnRcIjpcIm91dGRlbnRcIjt0aGlzLmluZGVudEtleT1lPzk6Q0tFRElUT1IuU0hJRlQrOTt0aGlzLmRhdGFiYXNlPXt9fSxyZWdpc3RlckNvbW1hbmRzOmZ1bmN0aW9uKGEsYil7YS5vbihcInBsdWdpbnNMb2FkZWRcIixmdW5jdGlvbigpe2Zvcih2YXIgYSBpbiBiKShmdW5jdGlvbihhLGIpe3ZhciBjPWEuZ2V0Q29tbWFuZChiLnJlbGF0ZWRHbG9iYWwpLGQ7Zm9yKGQgaW4gYi5qb2JzKWMub24oXCJleGVjXCIsZnVuY3Rpb24oYyl7Yy5kYXRhLmRvbmV8fFxuKGEuZmlyZShcImxvY2tTbmFwc2hvdFwiKSxiLmV4ZWNKb2IoYSxkKSYmKGMuZGF0YS5kb25lPSEwKSxhLmZpcmUoXCJ1bmxvY2tTbmFwc2hvdFwiKSxDS0VESVRPUi5kb20uZWxlbWVudC5jbGVhckFsbE1hcmtlcnMoYi5kYXRhYmFzZSkpfSx0aGlzLG51bGwsZCksYy5vbihcInJlZnJlc2hcIixmdW5jdGlvbihjKXtjLmRhdGEuc3RhdGVzfHwoYy5kYXRhLnN0YXRlcz17fSk7Yy5kYXRhLnN0YXRlc1tiLm5hbWUrXCJAXCIrZF09Yi5yZWZyZXNoSm9iKGEsZCxjLmRhdGEucGF0aCl9LHRoaXMsbnVsbCxkKTthLmFkZEZlYXR1cmUoYil9KSh0aGlzLGJbYV0pfSl9fTtDS0VESVRPUi5wbHVnaW5zLmluZGVudC5nZW5lcmljRGVmaW5pdGlvbi5wcm90b3R5cGU9e2NvbnRleHQ6XCJwXCIsZXhlYzpmdW5jdGlvbigpe319O0NLRURJVE9SLnBsdWdpbnMuaW5kZW50LnNwZWNpZmljRGVmaW5pdGlvbi5wcm90b3R5cGU9e2V4ZWNKb2I6ZnVuY3Rpb24oYSxiKXt2YXIgbD10aGlzLmpvYnNbYl07aWYobC5zdGF0ZSE9XG5lKXJldHVybiBsLmV4ZWMuY2FsbCh0aGlzLGEpfSxyZWZyZXNoSm9iOmZ1bmN0aW9uKGEsYixsKXtiPXRoaXMuam9ic1tiXTthLmFjdGl2ZUZpbHRlci5jaGVja0ZlYXR1cmUodGhpcyk/Yi5zdGF0ZT1iLnJlZnJlc2guY2FsbCh0aGlzLGEsbCk6Yi5zdGF0ZT1lO3JldHVybiBiLnN0YXRlfSxnZXRDb250ZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBhLmNvbnRhaW5zKHRoaXMuY29udGV4dCl9fX0oKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7ZnVuY3Rpb24gYyhlKXtmb3IodmFyIGg9ci5zdGFydENvbnRhaW5lcixsPXIuZW5kQ29udGFpbmVyO2gmJiFoLmdldFBhcmVudCgpLmVxdWFscyhlKTspaD1oLmdldFBhcmVudCgpO2Zvcig7bCYmIWwuZ2V0UGFyZW50KCkuZXF1YWxzKGUpOylsPWwuZ2V0UGFyZW50KCk7aWYoIWh8fCFsKXJldHVybiExO2Zvcih2YXIgcT1oLGg9W10sdD0hMTshdDspcS5lcXVhbHMobCkmJih0PSEwKSxoLnB1c2gocSkscT1xLmdldE5leHQoKTtpZigxPmgubGVuZ3RoKXJldHVybiExO1xucT1lLmdldFBhcmVudHMoITApO2ZvcihsPTA7bDxxLmxlbmd0aDtsKyspaWYocVtsXS5nZXROYW1lJiZtW3FbbF0uZ2V0TmFtZSgpXSl7ZT1xW2xdO2JyZWFrfWZvcih2YXIgcT1kLmlzSW5kZW50PzE6LTEsbD1oWzBdLGg9aFtoLmxlbmd0aC0xXSx0PUNLRURJVE9SLnBsdWdpbnMubGlzdC5saXN0VG9BcnJheShlLGcpLHg9dFtoLmdldEN1c3RvbURhdGEoXCJsaXN0YXJyYXlfaW5kZXhcIildLmluZGVudCxsPWwuZ2V0Q3VzdG9tRGF0YShcImxpc3RhcnJheV9pbmRleFwiKTtsPD1oLmdldEN1c3RvbURhdGEoXCJsaXN0YXJyYXlfaW5kZXhcIik7bCsrKWlmKHRbbF0uaW5kZW50Kz1xLDA8cSl7dmFyIHY9dFtsXS5wYXJlbnQ7dFtsXS5wYXJlbnQ9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KHYuZ2V0TmFtZSgpLHYuZ2V0RG9jdW1lbnQoKSl9Zm9yKGw9aC5nZXRDdXN0b21EYXRhKFwibGlzdGFycmF5X2luZGV4XCIpKzE7bDx0Lmxlbmd0aCYmdFtsXS5pbmRlbnQ+eDtsKyspdFtsXS5pbmRlbnQrPXE7XG5oPUNLRURJVE9SLnBsdWdpbnMubGlzdC5hcnJheVRvTGlzdCh0LGcsbnVsbCxhLmNvbmZpZy5lbnRlck1vZGUsZS5nZXREaXJlY3Rpb24oKSk7aWYoIWQuaXNJbmRlbnQpe3ZhciB5O2lmKCh5PWUuZ2V0UGFyZW50KCkpJiZ5LmlzKFwibGlcIikpZm9yKHZhciBxPWgubGlzdE5vZGUuZ2V0Q2hpbGRyZW4oKSxCPVtdLEMsbD1xLmNvdW50KCktMTswPD1sO2wtLSkoQz1xLmdldEl0ZW0obCkpJiZDLmlzJiZDLmlzKFwibGlcIikmJkIucHVzaChDKX1oJiZoLmxpc3ROb2RlLnJlcGxhY2UoZSk7aWYoQiYmQi5sZW5ndGgpZm9yKGw9MDtsPEIubGVuZ3RoO2wrKyl7Zm9yKEM9ZT1CW2xdOyhDPUMuZ2V0TmV4dCgpKSYmQy5pcyYmQy5nZXROYW1lKClpbiBtOylDS0VESVRPUi5lbnYubmVlZHNOYnNwRmlsbGVyJiYhZS5nZXRGaXJzdChiKSYmZS5hcHBlbmQoci5kb2N1bWVudC5jcmVhdGVUZXh0KFwiwqBcIikpLGUuYXBwZW5kKEMpO2UuaW5zZXJ0QWZ0ZXIoeSl9aCYmYS5maXJlKFwiY29udGVudERvbUludmFsaWRhdGVkXCIpO1xucmV0dXJuITB9Zm9yKHZhciBkPXRoaXMsZz10aGlzLmRhdGFiYXNlLG09dGhpcy5jb250ZXh0LGw9YS5nZXRTZWxlY3Rpb24oKSxsPShsJiZsLmdldFJhbmdlcygpKS5jcmVhdGVJdGVyYXRvcigpLHI7cj1sLmdldE5leHRSYW5nZSgpOyl7Zm9yKHZhciBxPXIuZ2V0Q29tbW9uQW5jZXN0b3IoKTtxJiYocS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fCFtW3EuZ2V0TmFtZSgpXSk7KXtpZihhLmVkaXRhYmxlKCkuZXF1YWxzKHEpKXtxPSExO2JyZWFrfXE9cS5nZXRQYXJlbnQoKX1xfHwocT1yLnN0YXJ0UGF0aCgpLmNvbnRhaW5zKG0pKSYmci5zZXRFbmRBdChxLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2lmKCFxKXt2YXIgdD1yLmdldEVuY2xvc2VkTm9kZSgpO3QmJnQudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZ0LmdldE5hbWUoKWluIG0mJihyLnNldFN0YXJ0QXQodCxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCksci5zZXRFbmRBdCh0LENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpLFxucT10KX1xJiZyLnN0YXJ0Q29udGFpbmVyLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmci5zdGFydENvbnRhaW5lci5nZXROYW1lKClpbiBtJiYodD1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihyKSx0LmV2YWx1YXRvcj1lLHIuc3RhcnRDb250YWluZXI9dC5uZXh0KCkpO3EmJnIuZW5kQ29udGFpbmVyLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmci5lbmRDb250YWluZXIuZ2V0TmFtZSgpaW4gbSYmKHQ9bmV3IENLRURJVE9SLmRvbS53YWxrZXIociksdC5ldmFsdWF0b3I9ZSxyLmVuZENvbnRhaW5lcj10LnByZXZpb3VzKCkpO2lmKHEpcmV0dXJuIGMocSl9cmV0dXJuIDB9ZnVuY3Rpb24gZShhKXtyZXR1cm4gYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuaXMoXCJsaVwiKX1mdW5jdGlvbiBiKGEpe3JldHVybiBjKGEpJiZkKGEpfXZhciBjPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoITApLGQ9Q0tFRElUT1IuZG9tLndhbGtlci5ib29rbWFyayghMSxcbiEwKSxsPUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVELG09Q0tFRElUT1IuVFJJU1RBVEVfT0ZGO0NLRURJVE9SLnBsdWdpbnMuYWRkKFwiaW5kZW50bGlzdFwiLHtyZXF1aXJlczpcImluZGVudFwiLGluaXQ6ZnVuY3Rpb24oYil7ZnVuY3Rpb24gYyhiKXtkLnNwZWNpZmljRGVmaW5pdGlvbi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5yZXF1aXJlZENvbnRlbnQ9W1widWxcIixcIm9sXCJdO2Iub24oXCJrZXlcIixmdW5jdGlvbihhKXtpZihcInd5c2l3eWdcIj09Yi5tb2RlJiZhLmRhdGEua2V5Q29kZT09dGhpcy5pbmRlbnRLZXkpe3ZhciBjPXRoaXMuZ2V0Q29udGV4dChiLmVsZW1lbnRQYXRoKCkpOyFjfHx0aGlzLmlzSW5kZW50JiZDS0VESVRPUi5wbHVnaW5zLmluZGVudExpc3QuZmlyc3RJdGVtSW5QYXRoKHRoaXMuY29udGV4dCxiLmVsZW1lbnRQYXRoKCksYyl8fChiLmV4ZWNDb21tYW5kKHRoaXMucmVsYXRlZEdsb2JhbCksYS5jYW5jZWwoKSl9fSx0aGlzKTt0aGlzLmpvYnNbdGhpcy5pc0luZGVudD9cbjEwOjMwXT17cmVmcmVzaDp0aGlzLmlzSW5kZW50P2Z1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRDb250ZXh0KGIpLGQ9Q0tFRElUT1IucGx1Z2lucy5pbmRlbnRMaXN0LmZpcnN0SXRlbUluUGF0aCh0aGlzLmNvbnRleHQsYixjKTtyZXR1cm4gYyYmdGhpcy5pc0luZGVudCYmIWQ/bTpsfTpmdW5jdGlvbihhLGIpe3JldHVybiF0aGlzLmdldENvbnRleHQoYil8fHRoaXMuaXNJbmRlbnQ/bDptfSxleGVjOkNLRURJVE9SLnRvb2xzLmJpbmQoYSx0aGlzKX19dmFyIGQ9Q0tFRElUT1IucGx1Z2lucy5pbmRlbnQ7ZC5yZWdpc3RlckNvbW1hbmRzKGIse2luZGVudGxpc3Q6bmV3IGMoYixcImluZGVudGxpc3RcIiwhMCksb3V0ZGVudGxpc3Q6bmV3IGMoYixcIm91dGRlbnRsaXN0XCIpfSk7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKGMucHJvdG90eXBlLGQuc3BlY2lmaWNEZWZpbml0aW9uLnByb3RvdHlwZSx7Y29udGV4dDp7b2w6MSx1bDoxfX0pfX0pO0NLRURJVE9SLnBsdWdpbnMuaW5kZW50TGlzdD1cbnt9O0NLRURJVE9SLnBsdWdpbnMuaW5kZW50TGlzdC5maXJzdEl0ZW1JblBhdGg9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWIuY29udGFpbnMoZSk7Y3x8KGM9Yi5jb250YWlucyhhKSk7cmV0dXJuIGMmJmQmJmQuZXF1YWxzKGMuZ2V0Rmlyc3QoZSkpfX0oKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiLGMpe2Z1bmN0aW9uIGQoYyl7aWYoISghKGw9a1tjP1wiZ2V0Rmlyc3RcIjpcImdldExhc3RcIl0oKSl8fGwuaXMmJmwuaXNCbG9ja0JvdW5kYXJ5KCl8fCEobT1iLnJvb3RbYz9cImdldFByZXZpb3VzXCI6XCJnZXROZXh0XCJdKENLRURJVE9SLmRvbS53YWxrZXIuaW52aXNpYmxlKCEwKSkpfHxtLmlzJiZtLmlzQmxvY2tCb3VuZGFyeSh7YnI6MX0pKSlhLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJiclwiKVtjP1wiaW5zZXJ0QmVmb3JlXCI6XCJpbnNlcnRBZnRlclwiXShsKX1mb3IodmFyIGY9Q0tFRElUT1IucGx1Z2lucy5saXN0Lmxpc3RUb0FycmF5KGIucm9vdCxjKSxlPVtdLGc9MDtnPGIuY29udGVudHMubGVuZ3RoO2crKyl7dmFyIGg9XG5iLmNvbnRlbnRzW2ddOyhoPWguZ2V0QXNjZW5kYW50KFwibGlcIiwhMCkpJiYhaC5nZXRDdXN0b21EYXRhKFwibGlzdF9pdGVtX3Byb2Nlc3NlZFwiKSYmKGUucHVzaChoKSxDS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXIoYyxoLFwibGlzdF9pdGVtX3Byb2Nlc3NlZFwiLCEwKSl9aD1udWxsO2ZvcihnPTA7ZzxlLmxlbmd0aDtnKyspaD1lW2ddLmdldEN1c3RvbURhdGEoXCJsaXN0YXJyYXlfaW5kZXhcIiksZltoXS5pbmRlbnQ9LTE7Zm9yKGc9aCsxO2c8Zi5sZW5ndGg7ZysrKWlmKGZbZ10uaW5kZW50PmZbZy0xXS5pbmRlbnQrMSl7ZT1mW2ctMV0uaW5kZW50KzEtZltnXS5pbmRlbnQ7Zm9yKGg9ZltnXS5pbmRlbnQ7ZltnXSYmZltnXS5pbmRlbnQ+PWg7KWZbZ10uaW5kZW50Kz1lLGcrKztnLS19dmFyIGs9Q0tFRElUT1IucGx1Z2lucy5saXN0LmFycmF5VG9MaXN0KGYsYyxudWxsLGEuY29uZmlnLmVudGVyTW9kZSxiLnJvb3QuZ2V0QXR0cmlidXRlKFwiZGlyXCIpKS5saXN0Tm9kZSxsLG07XG5kKCEwKTtkKCk7ay5yZXBsYWNlKGIucm9vdCk7YS5maXJlKFwiY29udGVudERvbUludmFsaWRhdGVkXCIpfWZ1bmN0aW9uIGUoYSxiKXt0aGlzLm5hbWU9YTt0aGlzLmNvbnRleHQ9dGhpcy50eXBlPWI7dGhpcy5hbGxvd2VkQ29udGVudD1iK1wiIGxpXCI7dGhpcy5yZXF1aXJlZENvbnRlbnQ9Yn1mdW5jdGlvbiBiKGEsYixjLGQpe2Zvcih2YXIgZixlO2Y9YVtkP1wiZ2V0TGFzdFwiOlwiZ2V0Rmlyc3RcIl0ocik7KShlPWYuZ2V0RGlyZWN0aW9uKDEpKSE9PWIuZ2V0RGlyZWN0aW9uKDEpJiZmLnNldEF0dHJpYnV0ZShcImRpclwiLGUpLGYucmVtb3ZlKCksYz9mW2Q/XCJpbnNlcnRCZWZvcmVcIjpcImluc2VydEFmdGVyXCJdKGMpOmIuYXBwZW5kKGYsZCl9ZnVuY3Rpb24gYyhhKXtmdW5jdGlvbiBjKGQpe3ZhciBmPWFbZD9cImdldFByZXZpb3VzXCI6XCJnZXROZXh0XCJdKGcpO2YmJmYudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZmLmlzKGEuZ2V0TmFtZSgpKSYmKGIoYSxmLG51bGwsIWQpLGEucmVtb3ZlKCksXG5hPWYpfWMoKTtjKDEpfWZ1bmN0aW9uIGQoYSl7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoYS5nZXROYW1lKClpbiBDS0VESVRPUi5kdGQuJGJsb2NrfHxhLmdldE5hbWUoKWluIENLRURJVE9SLmR0ZC4kbGlzdEl0ZW0pJiZDS0VESVRPUi5kdGRbYS5nZXROYW1lKCldW1wiI1wiXX1mdW5jdGlvbiBsKGEsZCxmKXthLmZpcmUoXCJzYXZlU25hcHNob3RcIik7Zi5lbmxhcmdlKENLRURJVE9SLkVOTEFSR0VfTElTVF9JVEVNX0NPTlRFTlRTKTt2YXIgZT1mLmV4dHJhY3RDb250ZW50cygpO2QudHJpbSghMSwhMCk7dmFyIGg9ZC5jcmVhdGVCb29rbWFyaygpLGs9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChkLnN0YXJ0Q29udGFpbmVyKSxsPWsuYmxvY2ssaz1rLmxhc3RFbGVtZW50LmdldEFzY2VuZGFudChcImxpXCIsMSl8fGwscj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGYuc3RhcnRDb250YWluZXIpLHY9ci5jb250YWlucyhDS0VESVRPUi5kdGQuJGxpc3RJdGVtKSxcbnI9ci5jb250YWlucyhDS0VESVRPUi5kdGQuJGxpc3QpO2w/KGw9bC5nZXRCb2d1cygpKSYmbC5yZW1vdmUoKTpyJiYobD1yLmdldFByZXZpb3VzKGcpKSYmbihsKSYmbC5yZW1vdmUoKTsobD1lLmdldExhc3QoKSkmJmwudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZsLmlzKFwiYnJcIikmJmwucmVtb3ZlKCk7KGw9ZC5zdGFydENvbnRhaW5lci5nZXRDaGlsZChkLnN0YXJ0T2Zmc2V0KSk/ZS5pbnNlcnRCZWZvcmUobCk6ZC5zdGFydENvbnRhaW5lci5hcHBlbmQoZSk7diYmKGU9bSh2KSkmJihrLmNvbnRhaW5zKHYpPyhiKGUsdi5nZXRQYXJlbnQoKSx2KSxlLnJlbW92ZSgpKTprLmFwcGVuZChlKSk7Zm9yKDtmLmNoZWNrU3RhcnRPZkJsb2NrKCkmJmYuY2hlY2tFbmRPZkJsb2NrKCk7KXtyPWYuc3RhcnRQYXRoKCk7ZT1yLmJsb2NrO2lmKCFlKWJyZWFrO2UuaXMoXCJsaVwiKSYmKGs9ZS5nZXRQYXJlbnQoKSxlLmVxdWFscyhrLmdldExhc3QoZykpJiZlLmVxdWFscyhrLmdldEZpcnN0KGcpKSYmXG4oZT1rKSk7Zi5tb3ZlVG9Qb3NpdGlvbihlLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk7ZS5yZW1vdmUoKX1mPWYuY2xvbmUoKTtlPWEuZWRpdGFibGUoKTtmLnNldEVuZEF0KGUsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7Zj1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihmKTtmLmV2YWx1YXRvcj1mdW5jdGlvbihhKXtyZXR1cm4gZyhhKSYmIW4oYSl9OyhmPWYubmV4dCgpKSYmZi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmYuZ2V0TmFtZSgpaW4gQ0tFRElUT1IuZHRkLiRsaXN0JiZjKGYpO2QubW92ZVRvQm9va21hcmsoaCk7ZC5zZWxlY3QoKTthLmZpcmUoXCJzYXZlU25hcHNob3RcIil9ZnVuY3Rpb24gbShhKXtyZXR1cm4oYT1hLmdldExhc3QoZykpJiZhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5nZXROYW1lKClpbiBmP2E6bnVsbH12YXIgZj17b2w6MSx1bDoxfSxoPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoKSxrPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoKSxcbmc9ZnVuY3Rpb24oYSl7cmV0dXJuIShoKGEpfHxrKGEpKX0sbj1DS0VESVRPUi5kb20ud2Fsa2VyLmJvZ3VzKCk7Q0tFRElUT1IucGx1Z2lucy5saXN0PXtsaXN0VG9BcnJheTpmdW5jdGlvbihhLGIsYyxkLGUpe2lmKCFmW2EuZ2V0TmFtZSgpXSlyZXR1cm5bXTtkfHwoZD0wKTtjfHwoYz1bXSk7Zm9yKHZhciBnPTAsaD1hLmdldENoaWxkQ291bnQoKTtnPGg7ZysrKXt2YXIgaz1hLmdldENoaWxkKGcpO2sudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZrLmdldE5hbWUoKWluIENLRURJVE9SLmR0ZC4kbGlzdCYmQ0tFRElUT1IucGx1Z2lucy5saXN0Lmxpc3RUb0FycmF5KGssYixjLGQrMSk7aWYoXCJsaVwiPT1rLiQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7dmFyIGw9e3BhcmVudDphLGluZGVudDpkLGVsZW1lbnQ6ayxjb250ZW50czpbXX07ZT9sLmdyYW5kcGFyZW50PWU6KGwuZ3JhbmRwYXJlbnQ9YS5nZXRQYXJlbnQoKSxsLmdyYW5kcGFyZW50JiZcImxpXCI9PWwuZ3JhbmRwYXJlbnQuJC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiZcbihsLmdyYW5kcGFyZW50PWwuZ3JhbmRwYXJlbnQuZ2V0UGFyZW50KCkpKTtiJiZDS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXIoYixrLFwibGlzdGFycmF5X2luZGV4XCIsYy5sZW5ndGgpO2MucHVzaChsKTtmb3IodmFyIG09MCxuPWsuZ2V0Q2hpbGRDb3VudCgpLHI7bTxuO20rKylyPWsuZ2V0Q2hpbGQobSksci50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmZbci5nZXROYW1lKCldP0NLRURJVE9SLnBsdWdpbnMubGlzdC5saXN0VG9BcnJheShyLGIsYyxkKzEsbC5ncmFuZHBhcmVudCk6bC5jb250ZW50cy5wdXNoKHIpfX1yZXR1cm4gY30sYXJyYXlUb0xpc3Q6ZnVuY3Rpb24oYSxiLGMsZCxlKXtjfHwoYz0wKTtpZighYXx8YS5sZW5ndGg8YysxKXJldHVybiBudWxsO2Zvcih2YXIgaCxsPWFbY10ucGFyZW50LmdldERvY3VtZW50KCksbT1uZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQobCksbj1udWxsLHI9Yyx2PU1hdGgubWF4KGFbY10uaW5kZW50LDApLEM9XG5udWxsLEYsRSxKPWQ9PUNLRURJVE9SLkVOVEVSX1A/XCJwXCI6XCJkaXZcIjs7KXt2YXIgRz1hW3JdO2g9Ry5ncmFuZHBhcmVudDtGPUcuZWxlbWVudC5nZXREaXJlY3Rpb24oMSk7aWYoRy5pbmRlbnQ9PXYpe24mJmFbcl0ucGFyZW50LmdldE5hbWUoKT09bi5nZXROYW1lKCl8fChuPWFbcl0ucGFyZW50LmNsb25lKCExLDEpLGUmJm4uc2V0QXR0cmlidXRlKFwiZGlyXCIsZSksbS5hcHBlbmQobikpO0M9bi5hcHBlbmQoRy5lbGVtZW50LmNsb25lKDAsMSkpO0YhPW4uZ2V0RGlyZWN0aW9uKDEpJiZDLnNldEF0dHJpYnV0ZShcImRpclwiLEYpO2ZvcihoPTA7aDxHLmNvbnRlbnRzLmxlbmd0aDtoKyspQy5hcHBlbmQoRy5jb250ZW50c1toXS5jbG9uZSgxLDEpKTtyKyt9ZWxzZSBpZihHLmluZGVudD09TWF0aC5tYXgodiwwKSsxKUc9YVtyLTFdLmVsZW1lbnQuZ2V0RGlyZWN0aW9uKDEpLHI9Q0tFRElUT1IucGx1Z2lucy5saXN0LmFycmF5VG9MaXN0KGEsbnVsbCxyLGQsRyE9Rj9GOm51bGwpLCFDLmdldENoaWxkQ291bnQoKSYmXG5DS0VESVRPUi5lbnYubmVlZHNOYnNwRmlsbGVyJiY3Pj1sLiQuZG9jdW1lbnRNb2RlJiZDLmFwcGVuZChsLmNyZWF0ZVRleHQoXCLCoFwiKSksQy5hcHBlbmQoci5saXN0Tm9kZSkscj1yLm5leHRJbmRleDtlbHNlIGlmKC0xPT1HLmluZGVudCYmIWMmJmgpe2ZbaC5nZXROYW1lKCldPyhDPUcuZWxlbWVudC5jbG9uZSghMSwhMCksRiE9aC5nZXREaXJlY3Rpb24oMSkmJkMuc2V0QXR0cmlidXRlKFwiZGlyXCIsRikpOkM9bmV3IENLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50KGwpO3ZhciBuPWguZ2V0RGlyZWN0aW9uKDEpIT1GLE09Ry5lbGVtZW50LEk9TS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSxIPU0uZ2V0QXR0cmlidXRlKFwic3R5bGVcIiksUj1DLnR5cGU9PUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQmJihkIT1DS0VESVRPUi5FTlRFUl9CUnx8bnx8SHx8SSksUCxUPUcuY29udGVudHMubGVuZ3RoLE87Zm9yKGg9MDtoPFQ7aCsrKWlmKFA9Ry5jb250ZW50c1toXSxrKFApJiZcbjE8VClSP089UC5jbG9uZSgxLDEpOkMuYXBwZW5kKFAuY2xvbmUoMSwxKSk7ZWxzZSBpZihQLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmUC5pc0Jsb2NrQm91bmRhcnkoKSl7biYmIVAuZ2V0RGlyZWN0aW9uKCkmJlAuc2V0QXR0cmlidXRlKFwiZGlyXCIsRik7RT1QO3ZhciBLPU0uZ2V0QXR0cmlidXRlKFwic3R5bGVcIik7SyYmRS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLEsucmVwbGFjZSgvKFteO10pJC8sXCIkMTtcIikrKEUuZ2V0QXR0cmlidXRlKFwic3R5bGVcIil8fFwiXCIpKTtJJiZQLmFkZENsYXNzKEkpO0U9bnVsbDtPJiYoQy5hcHBlbmQoTyksTz1udWxsKTtDLmFwcGVuZChQLmNsb25lKDEsMSkpfWVsc2UgUj8oRXx8KEU9bC5jcmVhdGVFbGVtZW50KEopLEMuYXBwZW5kKEUpLG4mJkUuc2V0QXR0cmlidXRlKFwiZGlyXCIsRikpLEgmJkUuc2V0QXR0cmlidXRlKFwic3R5bGVcIixIKSxJJiZFLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsSSksTyYmKEUuYXBwZW5kKE8pLE89bnVsbCksRS5hcHBlbmQoUC5jbG9uZSgxLFxuMSkpKTpDLmFwcGVuZChQLmNsb25lKDEsMSkpO08mJigoRXx8QykuYXBwZW5kKE8pLE89bnVsbCk7Qy50eXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UJiZyIT1hLmxlbmd0aC0xJiYoQ0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXImJihGPUMuZ2V0TGFzdCgpKSYmRi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJkYuaXMoXCJiclwiKSYmRi5yZW1vdmUoKSwoRj1DLmdldExhc3QoZykpJiZGLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmRi5pcyhDS0VESVRPUi5kdGQuJGJsb2NrKXx8Qy5hcHBlbmQobC5jcmVhdGVFbGVtZW50KFwiYnJcIikpKTtGPUMuJC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1wiZGl2XCIhPUYmJlwicFwiIT1GfHxDLmFwcGVuZEJvZ3VzKCk7bS5hcHBlbmQoQyk7bj1udWxsO3IrK31lbHNlIHJldHVybiBudWxsO0U9bnVsbDtpZihhLmxlbmd0aDw9cnx8TWF0aC5tYXgoYVtyXS5pbmRlbnQsMCk8dilicmVha31pZihiKWZvcihhPW0uZ2V0Rmlyc3QoKTthOyl7aWYoYS50eXBlPT1cbkNLRURJVE9SLk5PREVfRUxFTUVOVCYmKENLRURJVE9SLmRvbS5lbGVtZW50LmNsZWFyTWFya2VycyhiLGEpLGEuZ2V0TmFtZSgpaW4gQ0tFRElUT1IuZHRkLiRsaXN0SXRlbSYmKGM9YSxsPWU9ZD12b2lkIDAsZD1jLmdldERpcmVjdGlvbigpKSkpe2ZvcihlPWMuZ2V0UGFyZW50KCk7ZSYmIShsPWUuZ2V0RGlyZWN0aW9uKCkpOyllPWUuZ2V0UGFyZW50KCk7ZD09bCYmYy5yZW1vdmVBdHRyaWJ1dGUoXCJkaXJcIil9YT1hLmdldE5leHRTb3VyY2VOb2RlKCl9cmV0dXJue2xpc3ROb2RlOm0sbmV4dEluZGV4OnJ9fX07dmFyIHY9L15oWzEtNl0kLyxyPUNLRURJVE9SLmRvbS53YWxrZXIubm9kZVR5cGUoQ0tFRElUT1IuTk9ERV9FTEVNRU5UKTtlLnByb3RvdHlwZT17ZXhlYzpmdW5jdGlvbihiKXt0aGlzLnJlZnJlc2goYixiLmVsZW1lbnRQYXRoKCkpO3ZhciBkPWIuY29uZmlnLGU9Yi5nZXRTZWxlY3Rpb24oKSxoPWUmJmUuZ2V0UmFuZ2VzKCk7aWYodGhpcy5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfT0ZGKXt2YXIgaz1cbmIuZWRpdGFibGUoKTtpZihrLmdldEZpcnN0KGcpKXt2YXIgbD0xPT1oLmxlbmd0aCYmaFswXTsoZD1sJiZsLmdldEVuY2xvc2VkTm9kZSgpKSYmZC5pcyYmdGhpcy50eXBlPT1kLmdldE5hbWUoKSYmdGhpcy5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9PTil9ZWxzZSBkLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfQlI/ay5hcHBlbmRCb2d1cygpOmhbMF0uZml4QmxvY2soMSxkLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfUD9cInBcIjpcImRpdlwiKSxlLnNlbGVjdFJhbmdlcyhoKX1mb3IodmFyIGQ9ZS5jcmVhdGVCb29rbWFya3MoITApLGs9W10sbT17fSxoPWguY3JlYXRlSXRlcmF0b3IoKSxuPTA7KGw9aC5nZXROZXh0UmFuZ2UoKSkmJisrbjspe3ZhciByPWwuZ2V0Qm91bmRhcnlOb2RlcygpLHk9ci5zdGFydE5vZGUsQj1yLmVuZE5vZGU7eS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlwidGRcIj09eS5nZXROYW1lKCkmJmwuc2V0U3RhcnRBdChyLnN0YXJ0Tm9kZSxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCk7XG5CLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmXCJ0ZFwiPT1CLmdldE5hbWUoKSYmbC5zZXRFbmRBdChyLmVuZE5vZGUsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7bD1sLmNyZWF0ZUl0ZXJhdG9yKCk7Zm9yKGwuZm9yY2VCckJyZWFrPXRoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX09GRjtyPWwuZ2V0TmV4dFBhcmFncmFwaCgpOylpZighci5nZXRDdXN0b21EYXRhKFwibGlzdF9ibG9ja1wiKSl7Q0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyKG0scixcImxpc3RfYmxvY2tcIiwxKTtmb3IodmFyIEM9Yi5lbGVtZW50UGF0aChyKSx5PUMuZWxlbWVudHMsQj0wLEM9Qy5ibG9ja0xpbWl0LEYsRT15Lmxlbmd0aC0xOzA8PUUmJihGPXlbRV0pO0UtLSlpZihmW0YuZ2V0TmFtZSgpXSYmQy5jb250YWlucyhGKSl7Qy5yZW1vdmVDdXN0b21EYXRhKFwibGlzdF9ncm91cF9vYmplY3RfXCIrbik7KHk9Ri5nZXRDdXN0b21EYXRhKFwibGlzdF9ncm91cF9vYmplY3RcIikpP3kuY29udGVudHMucHVzaChyKTpcbih5PXtyb290OkYsY29udGVudHM6W3JdfSxrLnB1c2goeSksQ0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyKG0sRixcImxpc3RfZ3JvdXBfb2JqZWN0XCIseSkpO0I9MTticmVha31CfHwoQj1DLEIuZ2V0Q3VzdG9tRGF0YShcImxpc3RfZ3JvdXBfb2JqZWN0X1wiK24pP0IuZ2V0Q3VzdG9tRGF0YShcImxpc3RfZ3JvdXBfb2JqZWN0X1wiK24pLmNvbnRlbnRzLnB1c2gocik6KHk9e3Jvb3Q6Qixjb250ZW50czpbcl19LENLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcihtLEIsXCJsaXN0X2dyb3VwX29iamVjdF9cIituLHkpLGsucHVzaCh5KSkpfX1mb3IoRj1bXTswPGsubGVuZ3RoOylpZih5PWsuc2hpZnQoKSx0aGlzLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9PRkYpaWYoZlt5LnJvb3QuZ2V0TmFtZSgpXSl7aD1iO249eTt5PW07bD1GO0I9Q0tFRElUT1IucGx1Z2lucy5saXN0Lmxpc3RUb0FycmF5KG4ucm9vdCx5KTtDPVtdO2ZvcihyPTA7cjxuLmNvbnRlbnRzLmxlbmd0aDtyKyspRT1cbm4uY29udGVudHNbcl0sKEU9RS5nZXRBc2NlbmRhbnQoXCJsaVwiLCEwKSkmJiFFLmdldEN1c3RvbURhdGEoXCJsaXN0X2l0ZW1fcHJvY2Vzc2VkXCIpJiYoQy5wdXNoKEUpLENLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcih5LEUsXCJsaXN0X2l0ZW1fcHJvY2Vzc2VkXCIsITApKTtmb3IodmFyIEU9bi5yb290LmdldERvY3VtZW50KCksSj12b2lkIDAsRz12b2lkIDAscj0wO3I8Qy5sZW5ndGg7cisrKXt2YXIgTT1DW3JdLmdldEN1c3RvbURhdGEoXCJsaXN0YXJyYXlfaW5kZXhcIiksSj1CW01dLnBhcmVudDtKLmlzKHRoaXMudHlwZSl8fChHPUUuY3JlYXRlRWxlbWVudCh0aGlzLnR5cGUpLEouY29weUF0dHJpYnV0ZXMoRyx7c3RhcnQ6MSx0eXBlOjF9KSxHLnJlbW92ZVN0eWxlKFwibGlzdC1zdHlsZS10eXBlXCIpLEJbTV0ucGFyZW50PUcpfXk9Q0tFRElUT1IucGx1Z2lucy5saXN0LmFycmF5VG9MaXN0KEIseSxudWxsLGguY29uZmlnLmVudGVyTW9kZSk7Qj12b2lkIDA7Qz15Lmxpc3ROb2RlLmdldENoaWxkQ291bnQoKTtcbmZvcihyPTA7cjxDJiYoQj15Lmxpc3ROb2RlLmdldENoaWxkKHIpKTtyKyspQi5nZXROYW1lKCk9PXRoaXMudHlwZSYmbC5wdXNoKEIpO3kubGlzdE5vZGUucmVwbGFjZShuLnJvb3QpO2guZmlyZShcImNvbnRlbnREb21JbnZhbGlkYXRlZFwiKX1lbHNle0I9YjtsPXk7cj1GO0M9bC5jb250ZW50cztoPWwucm9vdC5nZXREb2N1bWVudCgpO249W107MT09Qy5sZW5ndGgmJkNbMF0uZXF1YWxzKGwucm9vdCkmJih5PWguY3JlYXRlRWxlbWVudChcImRpdlwiKSxDWzBdLm1vdmVDaGlsZHJlbiYmQ1swXS5tb3ZlQ2hpbGRyZW4oeSksQ1swXS5hcHBlbmQoeSksQ1swXT15KTtsPWwuY29udGVudHNbMF0uZ2V0UGFyZW50KCk7Zm9yKEU9MDtFPEMubGVuZ3RoO0UrKylsPWwuZ2V0Q29tbW9uQW5jZXN0b3IoQ1tFXS5nZXRQYXJlbnQoKSk7Sj1CLmNvbmZpZy51c2VDb21wdXRlZFN0YXRlO0I9eT12b2lkIDA7Sj12b2lkIDA9PT1KfHxKO2ZvcihFPTA7RTxDLmxlbmd0aDtFKyspZm9yKEc9Q1tFXTtNPUcuZ2V0UGFyZW50KCk7KXtpZihNLmVxdWFscyhsKSl7bi5wdXNoKEcpO1xuIUImJkcuZ2V0RGlyZWN0aW9uKCkmJihCPTEpO0c9Ry5nZXREaXJlY3Rpb24oSik7bnVsbCE9PXkmJih5PXkmJnkhPUc/bnVsbDpHKTticmVha31HPU19aWYoISgxPm4ubGVuZ3RoKSl7Qz1uW24ubGVuZ3RoLTFdLmdldE5leHQoKTtFPWguY3JlYXRlRWxlbWVudCh0aGlzLnR5cGUpO3IucHVzaChFKTtmb3IoSj1yPXZvaWQgMDtuLmxlbmd0aDspcj1uLnNoaWZ0KCksSj1oLmNyZWF0ZUVsZW1lbnQoXCJsaVwiKSxHPXIsRy5pcyhcInByZVwiKXx8di50ZXN0KEcuZ2V0TmFtZSgpKXx8XCJmYWxzZVwiPT1HLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKT9yLmFwcGVuZFRvKEopOihyLmNvcHlBdHRyaWJ1dGVzKEopLHkmJnIuZ2V0RGlyZWN0aW9uKCkmJihKLnJlbW92ZVN0eWxlKFwiZGlyZWN0aW9uXCIpLEoucmVtb3ZlQXR0cmlidXRlKFwiZGlyXCIpKSxyLm1vdmVDaGlsZHJlbihKKSxyLnJlbW92ZSgpKSxKLmFwcGVuZFRvKEUpO3kmJkImJkUuc2V0QXR0cmlidXRlKFwiZGlyXCIseSk7Qz9FLmluc2VydEJlZm9yZShDKTpcbkUuYXBwZW5kVG8obCl9fWVsc2UgdGhpcy5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfT04mJmZbeS5yb290LmdldE5hbWUoKV0mJmEuY2FsbCh0aGlzLGIseSxtKTtmb3IoRT0wO0U8Ri5sZW5ndGg7RSsrKWMoRltFXSk7Q0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJBbGxNYXJrZXJzKG0pO2Uuc2VsZWN0Qm9va21hcmtzKGQpO2IuZm9jdXMoKX0scmVmcmVzaDpmdW5jdGlvbihhLGIpe3ZhciBjPWIuY29udGFpbnMoZiwxKSxkPWIuYmxvY2tMaW1pdHx8Yi5yb290O2MmJmQuY29udGFpbnMoYyk/dGhpcy5zZXRTdGF0ZShjLmlzKHRoaXMudHlwZSk/Q0tFRElUT1IuVFJJU1RBVEVfT046Q0tFRElUT1IuVFJJU1RBVEVfT0ZGKTp0aGlzLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX09GRil9fTtDS0VESVRPUi5wbHVnaW5zLmFkZChcImxpc3RcIix7cmVxdWlyZXM6XCJpbmRlbnRsaXN0XCIsaW5pdDpmdW5jdGlvbihhKXthLmJsb2NrbGVzc3x8KGEuYWRkQ29tbWFuZChcIm51bWJlcmVkbGlzdFwiLFxubmV3IGUoXCJudW1iZXJlZGxpc3RcIixcIm9sXCIpKSxhLmFkZENvbW1hbmQoXCJidWxsZXRlZGxpc3RcIixuZXcgZShcImJ1bGxldGVkbGlzdFwiLFwidWxcIikpLGEudWkuYWRkQnV0dG9uJiYoYS51aS5hZGRCdXR0b24oXCJOdW1iZXJlZExpc3RcIix7bGFiZWw6YS5sYW5nLmxpc3QubnVtYmVyZWRsaXN0LGNvbW1hbmQ6XCJudW1iZXJlZGxpc3RcIixkaXJlY3Rpb25hbDohMCx0b29sYmFyOlwibGlzdCwxMFwifSksYS51aS5hZGRCdXR0b24oXCJCdWxsZXRlZExpc3RcIix7bGFiZWw6YS5sYW5nLmxpc3QuYnVsbGV0ZWRsaXN0LGNvbW1hbmQ6XCJidWxsZXRlZGxpc3RcIixkaXJlY3Rpb25hbDohMCx0b29sYmFyOlwibGlzdCwyMFwifSkpLGEub24oXCJrZXlcIixmdW5jdGlvbihiKXt2YXIgYz1iLmRhdGEuZG9tRXZlbnQuZ2V0S2V5KCksZTtpZihcInd5c2l3eWdcIj09YS5tb2RlJiZjIGluezg6MSw0NjoxfSl7dmFyIGg9YS5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoKVswXSxrPWgmJmguc3RhcnRQYXRoKCk7aWYoaCYmaC5jb2xsYXBzZWQpe3ZhciByPVxuOD09Yyx2PWEuZWRpdGFibGUoKSxEPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGguY2xvbmUoKSk7RC5ldmFsdWF0b3I9ZnVuY3Rpb24oYSl7cmV0dXJuIGcoYSkmJiFuKGEpfTtELmd1YXJkPWZ1bmN0aW9uKGEsYil7cmV0dXJuIShiJiZhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5pcyhcInRhYmxlXCIpKX07Yz1oLmNsb25lKCk7aWYocil7dmFyIHk7KHk9ay5jb250YWlucyhmKSkmJmguY2hlY2tCb3VuZGFyeU9mRWxlbWVudCh5LENLRURJVE9SLlNUQVJUKSYmKHk9eS5nZXRQYXJlbnQoKSkmJnkuaXMoXCJsaVwiKSYmKHk9bSh5KSk/KGU9eSx5PXkuZ2V0UHJldmlvdXMoZyksYy5tb3ZlVG9Qb3NpdGlvbih5JiZuKHkpP3k6ZSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpKTooRC5yYW5nZS5zZXRTdGFydEF0KHYsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpLEQucmFuZ2Uuc2V0RW5kKGguc3RhcnRDb250YWluZXIsaC5zdGFydE9mZnNldCksKHk9RC5wcmV2aW91cygpKSYmXG55LnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKHkuZ2V0TmFtZSgpaW4gZnx8eS5pcyhcImxpXCIpKSYmKHkuaXMoXCJsaVwiKXx8KEQucmFuZ2Uuc2VsZWN0Tm9kZUNvbnRlbnRzKHkpLEQucmVzZXQoKSxELmV2YWx1YXRvcj1kLHk9RC5wcmV2aW91cygpKSxlPXksYy5tb3ZlVG9FbGVtZW50RWRpdEVuZChlKSxjLm1vdmVUb1Bvc2l0aW9uKGMuZW5kUGF0aCgpLmJsb2NrLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpKSk7aWYoZSlsKGEsYyxoKSxiLmNhbmNlbCgpO2Vsc2V7dmFyIEI9ay5jb250YWlucyhmKTtCJiZoLmNoZWNrQm91bmRhcnlPZkVsZW1lbnQoQixDS0VESVRPUi5TVEFSVCkmJihlPUIuZ2V0Rmlyc3QoZyksaC5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KGUsQ0tFRElUT1IuU1RBUlQpJiYoeT1CLmdldFByZXZpb3VzKGcpLG0oZSk/eSYmKGgubW92ZVRvRWxlbWVudEVkaXRFbmQoeSksaC5zZWxlY3QoKSk6YS5leGVjQ29tbWFuZChcIm91dGRlbnRcIiksYi5jYW5jZWwoKSkpfX1lbHNlIGlmKGU9XG5rLmNvbnRhaW5zKFwibGlcIikpe2lmKEQucmFuZ2Uuc2V0RW5kQXQodixDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKSxyPSh2PWUuZ2V0TGFzdChnKSkmJmQodik/djplLGs9MCwoeT1ELm5leHQoKSkmJnkudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZ5LmdldE5hbWUoKWluIGYmJnkuZXF1YWxzKHYpPyhrPTEseT1ELm5leHQoKSk6aC5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KHIsQ0tFRElUT1IuRU5EKSYmKGs9MiksayYmeSl7aD1oLmNsb25lKCk7aC5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KHkpO2lmKDE9PWsmJihjLm9wdGltaXplKCksIWMuc3RhcnRDb250YWluZXIuZXF1YWxzKGUpKSl7Zm9yKGU9Yy5zdGFydENvbnRhaW5lcjtlLmlzKENLRURJVE9SLmR0ZC4kaW5saW5lKTspQj1lLGU9ZS5nZXRQYXJlbnQoKTtCJiZjLm1vdmVUb1Bvc2l0aW9uKEIsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKX0yPT1rJiYoYy5tb3ZlVG9Qb3NpdGlvbihjLmVuZFBhdGgoKS5ibG9jayxcbkNLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpLGguZW5kUGF0aCgpLmJsb2NrJiZoLm1vdmVUb1Bvc2l0aW9uKGguZW5kUGF0aCgpLmJsb2NrLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKSk7bChhLGMsaCk7Yi5jYW5jZWwoKX19ZWxzZSBELnJhbmdlLnNldEVuZEF0KHYsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCksKHk9RC5uZXh0KCkpJiZ5LnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmeS5pcyhmKSYmKHk9eS5nZXRGaXJzdChnKSxrLmJsb2NrJiZoLmNoZWNrU3RhcnRPZkJsb2NrKCkmJmguY2hlY2tFbmRPZkJsb2NrKCk/KGsuYmxvY2sucmVtb3ZlKCksaC5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KHkpLGguc2VsZWN0KCkpOm0oeSk/KGgubW92ZVRvRWxlbWVudEVkaXRTdGFydCh5KSxoLnNlbGVjdCgpKTooaD1oLmNsb25lKCksaC5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KHkpLGwoYSxjLGgpKSxiLmNhbmNlbCgpKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5zZWxlY3Rpb25DaGFuZ2UoMSl9KX19fSkpfX0pfSgpLFxuZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYixjKXtjPWEuY29uZmlnLmZvcmNlRW50ZXJNb2RlfHxjO1wid3lzaXd5Z1wiPT1hLm1vZGUmJihifHwoYj1hLmFjdGl2ZUVudGVyTW9kZSksYS5lbGVtZW50UGF0aCgpLmlzQ29udGV4dEZvcihcInBcIil8fChiPUNLRURJVE9SLkVOVEVSX0JSLGM9MSksYS5maXJlKFwic2F2ZVNuYXBzaG90XCIpLGI9PUNLRURJVE9SLkVOVEVSX0JSP20oYSxiLG51bGwsYyk6ZihhLGIsbnVsbCxjKSxhLmZpcmUoXCJzYXZlU25hcHNob3RcIikpfWZ1bmN0aW9uIGUoYSl7YT1hLmdldFNlbGVjdGlvbigpLmdldFJhbmdlcyghMCk7Zm9yKHZhciBiPWEubGVuZ3RoLTE7MDxiO2ItLSlhW2JdLmRlbGV0ZUNvbnRlbnRzKCk7cmV0dXJuIGFbMF19ZnVuY3Rpb24gYihhKXt2YXIgYj1hLnN0YXJ0Q29udGFpbmVyLmdldEFzY2VuZGFudChmdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlwidHJ1ZVwiPT1hLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKX0sXG4hMCk7aWYoYS5yb290LmVxdWFscyhiKSlyZXR1cm4gYTtiPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UoYik7Yi5tb3ZlVG9SYW5nZShhKTtyZXR1cm4gYn1DS0VESVRPUi5wbHVnaW5zLmFkZChcImVudGVya2V5XCIse2luaXQ6ZnVuY3Rpb24oYil7Yi5hZGRDb21tYW5kKFwiZW50ZXJcIix7bW9kZXM6e3d5c2l3eWc6MX0sZWRpdG9yRm9jdXM6ITEsZXhlYzpmdW5jdGlvbihiKXthKGIpfX0pO2IuYWRkQ29tbWFuZChcInNoaWZ0RW50ZXJcIix7bW9kZXM6e3d5c2l3eWc6MX0sZWRpdG9yRm9jdXM6ITEsZXhlYzpmdW5jdGlvbihiKXthKGIsYi5hY3RpdmVTaGlmdEVudGVyTW9kZSwxKX19KTtiLnNldEtleXN0cm9rZShbWzEzLFwiZW50ZXJcIl0sW0NLRURJVE9SLlNISUZUKzEzLFwic2hpZnRFbnRlclwiXV0pfX0pO3ZhciBjPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoKSxkPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoKTtDS0VESVRPUi5wbHVnaW5zLmVudGVya2V5PXtlbnRlckJsb2NrOmZ1bmN0aW9uKGEsXG5mLGwsdil7aWYobD1sfHxlKGEpKXtsPWIobCk7dmFyIHI9bC5kb2N1bWVudCxxPWwuY2hlY2tTdGFydE9mQmxvY2soKSx0PWwuY2hlY2tFbmRPZkJsb2NrKCkscD1hLmVsZW1lbnRQYXRoKGwuc3RhcnRDb250YWluZXIpLHc9cC5ibG9jayx6PWY9PUNLRURJVE9SLkVOVEVSX0RJVj9cImRpdlwiOlwicFwiLEE7aWYocSYmdCl7aWYodyYmKHcuaXMoXCJsaVwiKXx8dy5nZXRQYXJlbnQoKS5pcyhcImxpXCIpKSl7dy5pcyhcImxpXCIpfHwodz13LmdldFBhcmVudCgpKTtsPXcuZ2V0UGFyZW50KCk7QT1sLmdldFBhcmVudCgpO3Y9IXcuaGFzUHJldmlvdXMoKTt2YXIgdT0hdy5oYXNOZXh0KCksej1hLmdldFNlbGVjdGlvbigpLHg9ei5jcmVhdGVCb29rbWFya3MoKSxxPXcuZ2V0RGlyZWN0aW9uKDEpLHQ9dy5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSxEPXcuZ2V0QXR0cmlidXRlKFwic3R5bGVcIikseT1BLmdldERpcmVjdGlvbigxKSE9cTthPWEuZW50ZXJNb2RlIT1DS0VESVRPUi5FTlRFUl9CUnx8eXx8RHx8dDtcbmlmKEEuaXMoXCJsaVwiKSl2fHx1Pyh2JiZ1JiZsLnJlbW92ZSgpLHdbdT9cImluc2VydEFmdGVyXCI6XCJpbnNlcnRCZWZvcmVcIl0oQSkpOncuYnJlYWtQYXJlbnQoQSk7ZWxzZXtpZihhKWlmKHAuYmxvY2suaXMoXCJsaVwiKT8oQT1yLmNyZWF0ZUVsZW1lbnQoZj09Q0tFRElUT1IuRU5URVJfUD9cInBcIjpcImRpdlwiKSx5JiZBLnNldEF0dHJpYnV0ZShcImRpclwiLHEpLEQmJkEuc2V0QXR0cmlidXRlKFwic3R5bGVcIixEKSx0JiZBLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsdCksdy5tb3ZlQ2hpbGRyZW4oQSkpOkE9cC5ibG9jayx2fHx1KUFbdj9cImluc2VydEJlZm9yZVwiOlwiaW5zZXJ0QWZ0ZXJcIl0obCk7ZWxzZSB3LmJyZWFrUGFyZW50KGwpLEEuaW5zZXJ0QWZ0ZXIobCk7ZWxzZSBpZih3LmFwcGVuZEJvZ3VzKCEwKSx2fHx1KWZvcig7cj13W3Y/XCJnZXRGaXJzdFwiOlwiZ2V0TGFzdFwiXSgpOylyW3Y/XCJpbnNlcnRCZWZvcmVcIjpcImluc2VydEFmdGVyXCJdKGwpO2Vsc2UgZm9yKHcuYnJlYWtQYXJlbnQobCk7cj13LmdldExhc3QoKTspci5pbnNlcnRBZnRlcihsKTtcbncucmVtb3ZlKCl9ei5zZWxlY3RCb29rbWFya3MoeCk7cmV0dXJufWlmKHcmJncuZ2V0UGFyZW50KCkuaXMoXCJibG9ja3F1b3RlXCIpKXt3LmJyZWFrUGFyZW50KHcuZ2V0UGFyZW50KCkpO3cuZ2V0UHJldmlvdXMoKS5nZXRGaXJzdChDS0VESVRPUi5kb20ud2Fsa2VyLmludmlzaWJsZSgxKSl8fHcuZ2V0UHJldmlvdXMoKS5yZW1vdmUoKTt3LmdldE5leHQoKS5nZXRGaXJzdChDS0VESVRPUi5kb20ud2Fsa2VyLmludmlzaWJsZSgxKSl8fHcuZ2V0TmV4dCgpLnJlbW92ZSgpO2wubW92ZVRvRWxlbWVudEVkaXRTdGFydCh3KTtsLnNlbGVjdCgpO3JldHVybn19ZWxzZSBpZih3JiZ3LmlzKFwicHJlXCIpJiYhdCl7bShhLGYsbCx2KTtyZXR1cm59aWYocT1sLnNwbGl0QmxvY2soeikpe2Y9cS5wcmV2aW91c0Jsb2NrO3c9cS5uZXh0QmxvY2s7cD1xLndhc1N0YXJ0T2ZCbG9jazthPXEud2FzRW5kT2ZCbG9jazt3Pyh4PXcuZ2V0UGFyZW50KCkseC5pcyhcImxpXCIpJiYody5icmVha1BhcmVudCh4KSxcbncubW92ZSh3LmdldE5leHQoKSwxKSkpOmYmJih4PWYuZ2V0UGFyZW50KCkpJiZ4LmlzKFwibGlcIikmJihmLmJyZWFrUGFyZW50KHgpLHg9Zi5nZXROZXh0KCksbC5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KHgpLGYubW92ZShmLmdldFByZXZpb3VzKCkpKTtpZihwfHxhKXtpZihmKXtpZihmLmlzKFwibGlcIil8fCFoLnRlc3QoZi5nZXROYW1lKCkpJiYhZi5pcyhcInByZVwiKSlBPWYuY2xvbmUoKX1lbHNlIHcmJihBPXcuY2xvbmUoKSk7QT92JiYhQS5pcyhcImxpXCIpJiZBLnJlbmFtZU5vZGUoeik6eCYmeC5pcyhcImxpXCIpP0E9eDooQT1yLmNyZWF0ZUVsZW1lbnQoeiksZiYmKHU9Zi5nZXREaXJlY3Rpb24oKSkmJkEuc2V0QXR0cmlidXRlKFwiZGlyXCIsdSkpO2lmKHI9cS5lbGVtZW50UGF0aClmb3Iodj0wLHo9ci5lbGVtZW50cy5sZW5ndGg7djx6O3YrKyl7eD1yLmVsZW1lbnRzW3ZdO2lmKHguZXF1YWxzKHIuYmxvY2spfHx4LmVxdWFscyhyLmJsb2NrTGltaXQpKWJyZWFrO0NLRURJVE9SLmR0ZC4kcmVtb3ZlRW1wdHlbeC5nZXROYW1lKCldJiZcbih4PXguY2xvbmUoKSxBLm1vdmVDaGlsZHJlbih4KSxBLmFwcGVuZCh4KSl9QS5hcHBlbmRCb2d1cygpO0EuZ2V0UGFyZW50KCl8fGwuaW5zZXJ0Tm9kZShBKTtBLmlzKFwibGlcIikmJkEucmVtb3ZlQXR0cmlidXRlKFwidmFsdWVcIik7IUNLRURJVE9SLmVudi5pZXx8IXB8fGEmJmYuZ2V0Q2hpbGRDb3VudCgpfHwobC5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGE/ZjpBKSxsLnNlbGVjdCgpKTtsLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQocCYmIWE/dzpBKX1lbHNlIHcuaXMoXCJsaVwiKSYmKEE9bC5jbG9uZSgpLEEuc2VsZWN0Tm9kZUNvbnRlbnRzKHcpLEE9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoQSksQS5ldmFsdWF0b3I9ZnVuY3Rpb24oYSl7cmV0dXJuIShkKGEpfHxjKGEpfHxhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5nZXROYW1lKClpbiBDS0VESVRPUi5kdGQuJGlubGluZSYmIShhLmdldE5hbWUoKWluIENLRURJVE9SLmR0ZC4kZW1wdHkpKX0sKHg9QS5uZXh0KCkpJiZcbngudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZ4LmlzKFwidWxcIixcIm9sXCIpJiYoQ0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXI/ci5jcmVhdGVFbGVtZW50KFwiYnJcIik6ci5jcmVhdGVUZXh0KFwiwqBcIikpLmluc2VydEJlZm9yZSh4KSksdyYmbC5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KHcpO2wuc2VsZWN0KCk7bC5zY3JvbGxJbnRvVmlldygpfX19LGVudGVyQnI6ZnVuY3Rpb24oYSxiLGMsZCl7aWYoYz1jfHxlKGEpKXt2YXIgbD1jLmRvY3VtZW50LG09Yy5jaGVja0VuZE9mQmxvY2soKSx0PW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoYS5nZXRTZWxlY3Rpb24oKS5nZXRTdGFydEVsZW1lbnQoKSkscD10LmJsb2NrLHc9cCYmdC5ibG9jay5nZXROYW1lKCk7ZHx8XCJsaVwiIT13PyghZCYmbSYmaC50ZXN0KHcpPyhtPXAuZ2V0RGlyZWN0aW9uKCkpPyhsPWwuY3JlYXRlRWxlbWVudChcImRpdlwiKSxsLnNldEF0dHJpYnV0ZShcImRpclwiLG0pLGwuaW5zZXJ0QWZ0ZXIocCksYy5zZXRTdGFydChsLFxuMCkpOihsLmNyZWF0ZUVsZW1lbnQoXCJiclwiKS5pbnNlcnRBZnRlcihwKSxDS0VESVRPUi5lbnYuZ2Vja28mJmwuY3JlYXRlVGV4dChcIlwiKS5pbnNlcnRBZnRlcihwKSxjLnNldFN0YXJ0QXQocC5nZXROZXh0KCksQ0tFRElUT1IuZW52LmllP0NLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVDpDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCkpOihhPVwicHJlXCI9PXcmJkNLRURJVE9SLmVudi5pZSYmOD5DS0VESVRPUi5lbnYudmVyc2lvbj9sLmNyZWF0ZVRleHQoXCJcXHJcIik6bC5jcmVhdGVFbGVtZW50KFwiYnJcIiksYy5kZWxldGVDb250ZW50cygpLGMuaW5zZXJ0Tm9kZShhKSxDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcj8obC5jcmVhdGVUZXh0KFwi77u/XCIpLmluc2VydEFmdGVyKGEpLG0mJihwfHx0LmJsb2NrTGltaXQpLmFwcGVuZEJvZ3VzKCksYS5nZXROZXh0KCkuJC5ub2RlVmFsdWU9XCJcIixjLnNldFN0YXJ0QXQoYS5nZXROZXh0KCksQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpKTpcbmMuc2V0U3RhcnRBdChhLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCkpLGMuY29sbGFwc2UoITApLGMuc2VsZWN0KCksYy5zY3JvbGxJbnRvVmlldygpKTpmKGEsYixjLGQpfX19O3ZhciBsPUNLRURJVE9SLnBsdWdpbnMuZW50ZXJrZXksbT1sLmVudGVyQnIsZj1sLmVudGVyQmxvY2ssaD0vXmhbMS02XSQvfSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIpe3ZhciBjPXt9LGQ9W10sbD17bmJzcDpcIsKgXCIsc2h5Olwiwq1cIixndDpcIlxceDNlXCIsbHQ6XCJcXHgzY1wiLGFtcDpcIlxceDI2XCIsYXBvczpcIidcIixxdW90OidcIid9O2E9YS5yZXBsYWNlKC9cXGIobmJzcHxzaHl8Z3R8bHR8YW1wfGFwb3N8cXVvdCkoPzosfCQpL2csZnVuY3Rpb24oYSxmKXt2YXIgZT1iP1wiXFx4MjZcIitmK1wiO1wiOmxbZl07Y1tlXT1iP2xbZl06XCJcXHgyNlwiK2YrXCI7XCI7ZC5wdXNoKGUpO3JldHVyblwiXCJ9KTtpZighYiYmYSl7YT1hLnNwbGl0KFwiLFwiKTt2YXIgbT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGY7bS5pbm5lckhUTUw9XG5cIlxceDI2XCIrYS5qb2luKFwiO1xceDI2XCIpK1wiO1wiO2Y9bS5pbm5lckhUTUw7bT1udWxsO2ZvcihtPTA7bTxmLmxlbmd0aDttKyspe3ZhciBoPWYuY2hhckF0KG0pO2NbaF09XCJcXHgyNlwiK2FbbV0rXCI7XCI7ZC5wdXNoKGgpfX1jLnJlZ2V4PWQuam9pbihiP1wifFwiOlwiXCIpO3JldHVybiBjfUNLRURJVE9SLnBsdWdpbnMuYWRkKFwiZW50aXRpZXNcIix7YWZ0ZXJJbml0OmZ1bmN0aW9uKGUpe2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGhbYV19ZnVuY3Rpb24gYyhhKXtyZXR1cm5cImZvcmNlXCIhPWQuZW50aXRpZXNfcHJvY2Vzc051bWVyaWNhbCYmbVthXT9tW2FdOlwiXFx4MjYjXCIrYS5jaGFyQ29kZUF0KDApK1wiO1wifXZhciBkPWUuY29uZmlnO2lmKGU9KGU9ZS5kYXRhUHJvY2Vzc29yKSYmZS5odG1sRmlsdGVyKXt2YXIgbD1bXTshMSE9PWQuYmFzaWNFbnRpdGllcyYmbC5wdXNoKFwibmJzcCxndCxsdCxhbXBcIik7ZC5lbnRpdGllcyYmKGwubGVuZ3RoJiZsLnB1c2goXCJxdW90LGlleGNsLGNlbnQscG91bmQsY3VycmVuLHllbixicnZiYXIsc2VjdCx1bWwsY29weSxvcmRmLGxhcXVvLG5vdCxzaHkscmVnLG1hY3IsZGVnLHBsdXNtbixzdXAyLHN1cDMsYWN1dGUsbWljcm8scGFyYSxtaWRkb3QsY2VkaWwsc3VwMSxvcmRtLHJhcXVvLGZyYWMxNCxmcmFjMTIsZnJhYzM0LGlxdWVzdCx0aW1lcyxkaXZpZGUsZm5vZixidWxsLGhlbGxpcCxwcmltZSxQcmltZSxvbGluZSxmcmFzbCx3ZWllcnAsaW1hZ2UscmVhbCx0cmFkZSxhbGVmc3ltLGxhcnIsdWFycixyYXJyLGRhcnIsaGFycixjcmFycixsQXJyLHVBcnIsckFycixkQXJyLGhBcnIsZm9yYWxsLHBhcnQsZXhpc3QsZW1wdHksbmFibGEsaXNpbixub3RpbixuaSxwcm9kLHN1bSxtaW51cyxsb3dhc3QscmFkaWMscHJvcCxpbmZpbixhbmcsYW5kLG9yLGNhcCxjdXAsaW50LHRoZXJlNCxzaW0sY29uZyxhc3ltcCxuZSxlcXVpdixsZSxnZSxzdWIsc3VwLG5zdWIsc3ViZSxzdXBlLG9wbHVzLG90aW1lcyxwZXJwLHNkb3QsbGNlaWwscmNlaWwsbGZsb29yLHJmbG9vcixsYW5nLHJhbmcsbG96LHNwYWRlcyxjbHVicyxoZWFydHMsZGlhbXMsY2lyYyx0aWxkZSxlbnNwLGVtc3AsdGhpbnNwLHp3bmosendqLGxybSxybG0sbmRhc2gsbWRhc2gsbHNxdW8scnNxdW8sc2JxdW8sbGRxdW8scmRxdW8sYmRxdW8sZGFnZ2VyLERhZ2dlcixwZXJtaWwsbHNhcXVvLHJzYXF1byxldXJvXCIpLFxuZC5lbnRpdGllc19sYXRpbiYmbC5wdXNoKFwiQWdyYXZlLEFhY3V0ZSxBY2lyYyxBdGlsZGUsQXVtbCxBcmluZyxBRWxpZyxDY2VkaWwsRWdyYXZlLEVhY3V0ZSxFY2lyYyxFdW1sLElncmF2ZSxJYWN1dGUsSWNpcmMsSXVtbCxFVEgsTnRpbGRlLE9ncmF2ZSxPYWN1dGUsT2NpcmMsT3RpbGRlLE91bWwsT3NsYXNoLFVncmF2ZSxVYWN1dGUsVWNpcmMsVXVtbCxZYWN1dGUsVEhPUk4sc3psaWcsYWdyYXZlLGFhY3V0ZSxhY2lyYyxhdGlsZGUsYXVtbCxhcmluZyxhZWxpZyxjY2VkaWwsZWdyYXZlLGVhY3V0ZSxlY2lyYyxldW1sLGlncmF2ZSxpYWN1dGUsaWNpcmMsaXVtbCxldGgsbnRpbGRlLG9ncmF2ZSxvYWN1dGUsb2NpcmMsb3RpbGRlLG91bWwsb3NsYXNoLHVncmF2ZSx1YWN1dGUsdWNpcmMsdXVtbCx5YWN1dGUsdGhvcm4seXVtbCxPRWxpZyxvZWxpZyxTY2Fyb24sc2Nhcm9uLFl1bWxcIiksZC5lbnRpdGllc19ncmVlayYmbC5wdXNoKFwiQWxwaGEsQmV0YSxHYW1tYSxEZWx0YSxFcHNpbG9uLFpldGEsRXRhLFRoZXRhLElvdGEsS2FwcGEsTGFtYmRhLE11LE51LFhpLE9taWNyb24sUGksUmhvLFNpZ21hLFRhdSxVcHNpbG9uLFBoaSxDaGksUHNpLE9tZWdhLGFscGhhLGJldGEsZ2FtbWEsZGVsdGEsZXBzaWxvbix6ZXRhLGV0YSx0aGV0YSxpb3RhLGthcHBhLGxhbWJkYSxtdSxudSx4aSxvbWljcm9uLHBpLHJobyxzaWdtYWYsc2lnbWEsdGF1LHVwc2lsb24scGhpLGNoaSxwc2ksb21lZ2EsdGhldGFzeW0sdXBzaWgscGl2XCIpLFxuZC5lbnRpdGllc19hZGRpdGlvbmFsJiZsLnB1c2goZC5lbnRpdGllc19hZGRpdGlvbmFsKSk7dmFyIG09YShsLmpvaW4oXCIsXCIpKSxmPW0ucmVnZXg/XCJbXCIrbS5yZWdleCtcIl1cIjpcImFeXCI7ZGVsZXRlIG0ucmVnZXg7ZC5lbnRpdGllcyYmZC5lbnRpdGllc19wcm9jZXNzTnVtZXJpY2FsJiYoZj1cIlteIC1+XXxcIitmKTt2YXIgZj1uZXcgUmVnRXhwKGYsXCJnXCIpLGg9YShcIm5ic3AsZ3QsbHQsYW1wLHNoeVwiLCEwKSxrPW5ldyBSZWdFeHAoaC5yZWdleCxcImdcIik7ZS5hZGRSdWxlcyh7dGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKGssYikucmVwbGFjZShmLGMpfX0se2FwcGx5VG9BbGw6ITAsZXhjbHVkZU5lc3RlZEVkaXRhYmxlOiEwfSl9fX0pfSgpLENLRURJVE9SLmNvbmZpZy5iYXNpY0VudGl0aWVzPSEwLENLRURJVE9SLmNvbmZpZy5lbnRpdGllcz0hMCxDS0VESVRPUi5jb25maWcuZW50aXRpZXNfbGF0aW49ITAsQ0tFRElUT1IuY29uZmlnLmVudGl0aWVzX2dyZWVrPSEwLFxuQ0tFRElUT1IuY29uZmlnLmVudGl0aWVzX2FkZGl0aW9uYWw9XCIjMzlcIixDS0VESVRPUi5wbHVnaW5zLmFkZChcInBvcHVwXCIpLENLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLHtwb3B1cDpmdW5jdGlvbihhLGUsYixjKXtlPWV8fFwiODAlXCI7Yj1ifHxcIjcwJVwiO1wic3RyaW5nXCI9PXR5cGVvZiBlJiYxPGUubGVuZ3RoJiZcIiVcIj09ZS5zdWJzdHIoZS5sZW5ndGgtMSwxKSYmKGU9cGFyc2VJbnQod2luZG93LnNjcmVlbi53aWR0aCpwYXJzZUludChlLDEwKS8xMDAsMTApKTtcInN0cmluZ1wiPT10eXBlb2YgYiYmMTxiLmxlbmd0aCYmXCIlXCI9PWIuc3Vic3RyKGIubGVuZ3RoLTEsMSkmJihiPXBhcnNlSW50KHdpbmRvdy5zY3JlZW4uaGVpZ2h0KnBhcnNlSW50KGIsMTApLzEwMCwxMCkpOzY0MD5lJiYoZT02NDApOzQyMD5iJiYoYj00MjApO3ZhciBkPXBhcnNlSW50KCh3aW5kb3cuc2NyZWVuLmhlaWdodC1iKS8yLDEwKSxsPXBhcnNlSW50KCh3aW5kb3cuc2NyZWVuLndpZHRoLVxuZSkvMiwxMCk7Yz0oY3x8XCJsb2NhdGlvblxceDNkbm8sbWVudWJhclxceDNkbm8sdG9vbGJhclxceDNkbm8sZGVwZW5kZW50XFx4M2R5ZXMsbWluaW1pemFibGVcXHgzZG5vLG1vZGFsXFx4M2R5ZXMsYWx3YXlzUmFpc2VkXFx4M2R5ZXMscmVzaXphYmxlXFx4M2R5ZXMsc2Nyb2xsYmFyc1xceDNkeWVzXCIpK1wiLHdpZHRoXFx4M2RcIitlK1wiLGhlaWdodFxceDNkXCIrYitcIix0b3BcXHgzZFwiK2QrXCIsbGVmdFxceDNkXCIrbDt2YXIgbT13aW5kb3cub3BlbihcIlwiLG51bGwsYywhMCk7aWYoIW0pcmV0dXJuITE7dHJ5ey0xPT1uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcIiBjaHJvbWUvXCIpJiYobS5tb3ZlVG8obCxkKSxtLnJlc2l6ZVRvKGUsYikpLG0uZm9jdXMoKSxtLmxvY2F0aW9uLmhyZWY9YX1jYXRjaChmKXt3aW5kb3cub3BlbihhLG51bGwsYywhMCl9cmV0dXJuITB9fSksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYil7dmFyIGM9W107aWYoYilmb3IodmFyIGQgaW4gYiljLnB1c2goZCtcblwiXFx4M2RcIitlbmNvZGVVUklDb21wb25lbnQoYltkXSkpO2Vsc2UgcmV0dXJuIGE7cmV0dXJuIGErKC0xIT1hLmluZGV4T2YoXCI/XCIpP1wiXFx4MjZcIjpcIj9cIikrYy5qb2luKFwiXFx4MjZcIil9ZnVuY3Rpb24gZShhKXthKz1cIlwiO3JldHVybiBhLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Euc3Vic3RyKDEpfWZ1bmN0aW9uIGIoKXt2YXIgYj10aGlzLmdldERpYWxvZygpLGM9Yi5nZXRQYXJlbnRFZGl0b3IoKTtjLl8uZmlsZWJyb3dzZXJTZT10aGlzO3ZhciBkPWMuY29uZmlnW1wiZmlsZWJyb3dzZXJcIitlKGIuZ2V0TmFtZSgpKStcIldpbmRvd1dpZHRoXCJdfHxjLmNvbmZpZy5maWxlYnJvd3NlcldpbmRvd1dpZHRofHxcIjgwJVwiLGI9Yy5jb25maWdbXCJmaWxlYnJvd3NlclwiK2UoYi5nZXROYW1lKCkpK1wiV2luZG93SGVpZ2h0XCJdfHxjLmNvbmZpZy5maWxlYnJvd3NlcldpbmRvd0hlaWdodHx8XCI3MCVcIixmPXRoaXMuZmlsZWJyb3dzZXIucGFyYW1zfHx7fTtmLkNLRWRpdG9yPWMubmFtZTtmLkNLRWRpdG9yRnVuY051bT1cbmMuXy5maWxlYnJvd3NlckZuO2YubGFuZ0NvZGV8fChmLmxhbmdDb2RlPWMubGFuZ0NvZGUpO2Y9YSh0aGlzLmZpbGVicm93c2VyLnVybCxmKTtjLnBvcHVwKGYsZCxiLGMuY29uZmlnLmZpbGVicm93c2VyV2luZG93RmVhdHVyZXN8fGMuY29uZmlnLmZpbGVCcm93c2VyV2luZG93RmVhdHVyZXMpfWZ1bmN0aW9uIGMoKXt2YXIgYT10aGlzLmdldERpYWxvZygpO2EuZ2V0UGFyZW50RWRpdG9yKCkuXy5maWxlYnJvd3NlclNlPXRoaXM7cmV0dXJuIGEuZ2V0Q29udGVudEVsZW1lbnQodGhpc1tcImZvclwiXVswXSx0aGlzW1wiZm9yXCJdWzFdKS5nZXRJbnB1dEVsZW1lbnQoKS4kLnZhbHVlJiZhLmdldENvbnRlbnRFbGVtZW50KHRoaXNbXCJmb3JcIl1bMF0sdGhpc1tcImZvclwiXVsxXSkuZ2V0QWN0aW9uKCk/ITA6ITF9ZnVuY3Rpb24gZChiLGMsZCl7dmFyIGY9ZC5wYXJhbXN8fHt9O2YuQ0tFZGl0b3I9Yi5uYW1lO2YuQ0tFZGl0b3JGdW5jTnVtPWIuXy5maWxlYnJvd3NlckZuO2YubGFuZ0NvZGV8fFxuKGYubGFuZ0NvZGU9Yi5sYW5nQ29kZSk7Yy5hY3Rpb249YShkLnVybCxmKTtjLmZpbGVicm93c2VyPWR9ZnVuY3Rpb24gbChhLGYsZyxtKXtpZihtJiZtLmxlbmd0aClmb3IodmFyIHYscj1tLmxlbmd0aDtyLS07KWlmKHY9bVtyXSxcImhib3hcIiE9di50eXBlJiZcInZib3hcIiE9di50eXBlJiZcImZpZWxkc2V0XCIhPXYudHlwZXx8bChhLGYsZyx2LmNoaWxkcmVuKSx2LmZpbGVicm93c2VyKWlmKFwic3RyaW5nXCI9PXR5cGVvZiB2LmZpbGVicm93c2VyJiYodi5maWxlYnJvd3Nlcj17YWN0aW9uOlwiZmlsZUJ1dHRvblwiPT12LnR5cGU/XCJRdWlja1VwbG9hZFwiOlwiQnJvd3NlXCIsdGFyZ2V0OnYuZmlsZWJyb3dzZXJ9KSxcIkJyb3dzZVwiPT12LmZpbGVicm93c2VyLmFjdGlvbil7dmFyIHE9di5maWxlYnJvd3Nlci51cmw7dm9pZCAwPT09cSYmKHE9YS5jb25maWdbXCJmaWxlYnJvd3NlclwiK2UoZikrXCJCcm93c2VVcmxcIl0sdm9pZCAwPT09cSYmKHE9YS5jb25maWcuZmlsZWJyb3dzZXJCcm93c2VVcmwpKTtcbnEmJih2Lm9uQ2xpY2s9Yix2LmZpbGVicm93c2VyLnVybD1xLHYuaGlkZGVuPSExKX1lbHNlIGlmKFwiUXVpY2tVcGxvYWRcIj09di5maWxlYnJvd3Nlci5hY3Rpb24mJnZbXCJmb3JcIl0mJihxPXYuZmlsZWJyb3dzZXIudXJsLHZvaWQgMD09PXEmJihxPWEuY29uZmlnW1wiZmlsZWJyb3dzZXJcIitlKGYpK1wiVXBsb2FkVXJsXCJdLHZvaWQgMD09PXEmJihxPWEuY29uZmlnLmZpbGVicm93c2VyVXBsb2FkVXJsKSkscSkpe3ZhciB0PXYub25DbGljazt2Lm9uQ2xpY2s9ZnVuY3Rpb24oYSl7dmFyIGI9YS5zZW5kZXI7aWYodCYmITE9PT10LmNhbGwoYixhKSlyZXR1cm4hMTtpZihjLmNhbGwoYixhKSl7YT1iLmdldERpYWxvZygpLmdldENvbnRlbnRFbGVtZW50KHRoaXNbXCJmb3JcIl1bMF0sdGhpc1tcImZvclwiXVsxXSkuZ2V0SW5wdXRFbGVtZW50KCk7aWYoYj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYS4kLmZvcm0pKShhPWIuJC5lbGVtZW50cy5ja0NzcmZUb2tlbik/YT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYSk6XG4oYT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJpbnB1dFwiKSxhLnNldEF0dHJpYnV0ZXMoe25hbWU6XCJja0NzcmZUb2tlblwiLHR5cGU6XCJoaWRkZW5cIn0pLGIuYXBwZW5kKGEpKSxhLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsQ0tFRElUT1IudG9vbHMuZ2V0Q3NyZlRva2VuKCkpO3JldHVybiEwfXJldHVybiExfTt2LmZpbGVicm93c2VyLnVybD1xO3YuaGlkZGVuPSExO2QoYSxnLmdldENvbnRlbnRzKHZbXCJmb3JcIl1bMF0pLmdldCh2W1wiZm9yXCJdWzFdKSx2LmZpbGVicm93c2VyKX19ZnVuY3Rpb24gbShhLGIsYyl7aWYoLTEhPT1jLmluZGV4T2YoXCI7XCIpKXtjPWMuc3BsaXQoXCI7XCIpO2Zvcih2YXIgZD0wO2Q8Yy5sZW5ndGg7ZCsrKWlmKG0oYSxiLGNbZF0pKXJldHVybiEwO3JldHVybiExfXJldHVybihhPWEuZ2V0Q29udGVudHMoYikuZ2V0KGMpLmZpbGVicm93c2VyKSYmYS51cmx9ZnVuY3Rpb24gZihhLGIpe3ZhciBjPXRoaXMuXy5maWxlYnJvd3NlclNlLmdldERpYWxvZygpLGQ9dGhpcy5fLmZpbGVicm93c2VyU2VbXCJmb3JcIl0sXG5mPXRoaXMuXy5maWxlYnJvd3NlclNlLmZpbGVicm93c2VyLm9uU2VsZWN0O2QmJmMuZ2V0Q29udGVudEVsZW1lbnQoZFswXSxkWzFdKS5yZXNldCgpO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGJ8fCExIT09Yi5jYWxsKHRoaXMuXy5maWxlYnJvd3NlclNlKSlpZighZnx8ITEhPT1mLmNhbGwodGhpcy5fLmZpbGVicm93c2VyU2UsYSxiKSlpZihcInN0cmluZ1wiPT10eXBlb2YgYiYmYiYmYWxlcnQoYiksYSYmKGQ9dGhpcy5fLmZpbGVicm93c2VyU2UsYz1kLmdldERpYWxvZygpLGQ9ZC5maWxlYnJvd3Nlci50YXJnZXR8fG51bGwpKWlmKGQ9ZC5zcGxpdChcIjpcIiksZj1jLmdldENvbnRlbnRFbGVtZW50KGRbMF0sZFsxXSkpZi5zZXRWYWx1ZShhKSxjLnNlbGVjdFBhZ2UoZFswXSl9Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJmaWxlYnJvd3NlclwiLHtyZXF1aXJlczpcInBvcHVwXCIsaW5pdDpmdW5jdGlvbihhKXthLl8uZmlsZWJyb3dzZXJGbj1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmLGEpO1xuYS5vbihcImRlc3Ryb3lcIixmdW5jdGlvbigpe0NLRURJVE9SLnRvb2xzLnJlbW92ZUZ1bmN0aW9uKHRoaXMuXy5maWxlYnJvd3NlckZuKX0pfX0pO0NLRURJVE9SLm9uKFwiZGlhbG9nRGVmaW5pdGlvblwiLGZ1bmN0aW9uKGEpe2lmKGEuZWRpdG9yLnBsdWdpbnMuZmlsZWJyb3dzZXIpZm9yKHZhciBiPWEuZGF0YS5kZWZpbml0aW9uLGMsZD0wO2Q8Yi5jb250ZW50cy5sZW5ndGg7KytkKWlmKGM9Yi5jb250ZW50c1tkXSlsKGEuZWRpdG9yLGEuZGF0YS5uYW1lLGIsYy5lbGVtZW50cyksYy5oaWRkZW4mJmMuZmlsZWJyb3dzZXImJihjLmhpZGRlbj0hbShiLGMuaWQsYy5maWxlYnJvd3NlcikpfSl9KCksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3ZhciBkPWEuY29uZmlnLGw9YS5maXJlKFwidWlTcGFjZVwiLHtzcGFjZTpcInRvcFwiLGh0bWw6XCJcIn0pLmh0bWwsbT1mdW5jdGlvbigpe2Z1bmN0aW9uIGYoYSxjLGQpe2guc2V0U3R5bGUoYyxiKGQpKTtoLnNldFN0eWxlKFwicG9zaXRpb25cIixhKX1mdW5jdGlvbiBnKGEpe3ZhciBiPVxuay5nZXREb2N1bWVudFBvc2l0aW9uKCk7c3dpdGNoKGEpe2Nhc2UgXCJ0b3BcIjpmKFwiYWJzb2x1dGVcIixcInRvcFwiLGIueS16LXgpO2JyZWFrO2Nhc2UgXCJwaW5cIjpmKFwiZml4ZWRcIixcInRvcFwiLHkpO2JyZWFrO2Nhc2UgXCJib3R0b21cIjpmKFwiYWJzb2x1dGVcIixcInRvcFwiLGIueSsocC5oZWlnaHR8fHAuYm90dG9tLXAudG9wKSt4KX1sPWF9dmFyIGwsayx0LHAsdyx6LEEsdT1kLmZsb2F0U3BhY2VEb2NrZWRPZmZzZXRYfHwwLHg9ZC5mbG9hdFNwYWNlRG9ja2VkT2Zmc2V0WXx8MCxEPWQuZmxvYXRTcGFjZVBpbm5lZE9mZnNldFh8fDAseT1kLmZsb2F0U3BhY2VQaW5uZWRPZmZzZXRZfHwwO3JldHVybiBmdW5jdGlvbihmKXtpZihrPWEuZWRpdGFibGUoKSl7dmFyIG49ZiYmXCJmb2N1c1wiPT1mLm5hbWU7biYmaC5zaG93KCk7YS5maXJlKFwiZmxvYXRpbmdTcGFjZUxheW91dFwiLHtzaG93Om59KTtoLnJlbW92ZVN0eWxlKFwibGVmdFwiKTtoLnJlbW92ZVN0eWxlKFwicmlnaHRcIik7dD1oLmdldENsaWVudFJlY3QoKTtcbnA9ay5nZXRDbGllbnRSZWN0KCk7dz1lLmdldFZpZXdQYW5lU2l6ZSgpO3o9dC5oZWlnaHQ7QT1cInBhZ2VYT2Zmc2V0XCJpbiBlLiQ/ZS4kLnBhZ2VYT2Zmc2V0OkNLRURJVE9SLmRvY3VtZW50LiQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQ7bD8oeit4PD1wLnRvcD9nKFwidG9wXCIpOnoreD53LmhlaWdodC1wLmJvdHRvbT9nKFwicGluXCIpOmcoXCJib3R0b21cIiksZj13LndpZHRoLzIsZj1kLmZsb2F0U3BhY2VQcmVmZXJSaWdodD9cInJpZ2h0XCI6MDxwLmxlZnQmJnAucmlnaHQ8dy53aWR0aCYmcC53aWR0aD50LndpZHRoP1wicnRsXCI9PWQuY29udGVudHNMYW5nRGlyZWN0aW9uP1wicmlnaHRcIjpcImxlZnRcIjpmLXAubGVmdD5wLnJpZ2h0LWY/XCJsZWZ0XCI6XCJyaWdodFwiLHQud2lkdGg+dy53aWR0aD8oZj1cImxlZnRcIixuPTApOihuPVwibGVmdFwiPT1mPzA8cC5sZWZ0P3AubGVmdDowOnAucmlnaHQ8dy53aWR0aD93LndpZHRoLXAucmlnaHQ6MCxuK3Qud2lkdGg+dy53aWR0aCYmKGY9XCJsZWZ0XCI9PWY/XG5cInJpZ2h0XCI6XCJsZWZ0XCIsbj0wKSksaC5zZXRTdHlsZShmLGIoKFwicGluXCI9PWw/RDp1KStuKyhcInBpblwiPT1sPzA6XCJsZWZ0XCI9PWY/QTotQSkpKSk6KGw9XCJwaW5cIixnKFwicGluXCIpLG0oZikpfX19KCk7aWYobCl7dmFyIGY9bmV3IENLRURJVE9SLnRlbXBsYXRlKCdcXHgzY2RpdiBpZFxceDNkXCJja2Vfe25hbWV9XCIgY2xhc3NcXHgzZFwiY2tlIHtpZH0gY2tlX3Jlc2V0X2FsbCBja2VfY2hyb21lIGNrZV9lZGl0b3Jfe25hbWV9IGNrZV9mbG9hdCBja2Vfe2xhbmdEaXJ9ICcrQ0tFRElUT1IuZW52LmNzc0NsYXNzKydcIiBkaXJcXHgzZFwie2xhbmdEaXJ9XCIgdGl0bGVcXHgzZFwiJysoQ0tFRElUT1IuZW52LmdlY2tvP1wiIFwiOlwiXCIpKydcIiBsYW5nXFx4M2RcIntsYW5nQ29kZX1cIiByb2xlXFx4M2RcImFwcGxpY2F0aW9uXCIgc3R5bGVcXHgzZFwie3N0eWxlfVwiJysoYS50aXRsZT8nIGFyaWEtbGFiZWxsZWRieVxceDNkXCJja2Vfe25hbWV9X2FyaWFsYmxcIic6XCIgXCIpK1wiXFx4M2VcIisoYS50aXRsZT8nXFx4M2NzcGFuIGlkXFx4M2RcImNrZV97bmFtZX1fYXJpYWxibFwiIGNsYXNzXFx4M2RcImNrZV92b2ljZV9sYWJlbFwiXFx4M2V7dm9pY2VMYWJlbH1cXHgzYy9zcGFuXFx4M2UnOlxuXCIgXCIpKydcXHgzY2RpdiBjbGFzc1xceDNkXCJja2VfaW5uZXJcIlxceDNlXFx4M2NkaXYgaWRcXHgzZFwie3RvcElkfVwiIGNsYXNzXFx4M2RcImNrZV90b3BcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiXFx4M2V7Y29udGVudH1cXHgzYy9kaXZcXHgzZVxceDNjL2RpdlxceDNlXFx4M2MvZGl2XFx4M2UnKSxoPUNLRURJVE9SLmRvY3VtZW50LmdldEJvZHkoKS5hcHBlbmQoQ0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoZi5vdXRwdXQoe2NvbnRlbnQ6bCxpZDphLmlkLGxhbmdEaXI6YS5sYW5nLmRpcixsYW5nQ29kZTphLmxhbmdDb2RlLG5hbWU6YS5uYW1lLHN0eWxlOlwiZGlzcGxheTpub25lO3otaW5kZXg6XCIrKGQuYmFzZUZsb2F0WkluZGV4LTEpLHRvcElkOmEudWkuc3BhY2VJZChcInRvcFwiKSx2b2ljZUxhYmVsOmEudGl0bGV9KSkpLGs9Q0tFRElUT1IudG9vbHMuZXZlbnRzQnVmZmVyKDUwMCxtKSxnPUNLRURJVE9SLnRvb2xzLmV2ZW50c0J1ZmZlcigxMDAsbSk7aC51bnNlbGVjdGFibGUoKTtoLm9uKFwibW91c2Vkb3duXCIsXG5mdW5jdGlvbihhKXthPWEuZGF0YTthLmdldFRhcmdldCgpLmhhc0FzY2VuZGFudChcImFcIiwxKXx8YS5wcmV2ZW50RGVmYXVsdCgpfSk7YS5vbihcImZvY3VzXCIsZnVuY3Rpb24oYil7bShiKTthLm9uKFwiY2hhbmdlXCIsay5pbnB1dCk7ZS5vbihcInNjcm9sbFwiLGcuaW5wdXQpO2Uub24oXCJyZXNpemVcIixnLmlucHV0KX0pO2Eub24oXCJibHVyXCIsZnVuY3Rpb24oKXtoLmhpZGUoKTthLnJlbW92ZUxpc3RlbmVyKFwiY2hhbmdlXCIsay5pbnB1dCk7ZS5yZW1vdmVMaXN0ZW5lcihcInNjcm9sbFwiLGcuaW5wdXQpO2UucmVtb3ZlTGlzdGVuZXIoXCJyZXNpemVcIixnLmlucHV0KX0pO2Eub24oXCJkZXN0cm95XCIsZnVuY3Rpb24oKXtlLnJlbW92ZUxpc3RlbmVyKFwic2Nyb2xsXCIsZy5pbnB1dCk7ZS5yZW1vdmVMaXN0ZW5lcihcInJlc2l6ZVwiLGcuaW5wdXQpO2guY2xlYXJDdXN0b21EYXRhKCk7aC5yZW1vdmUoKX0pO2EuZm9jdXNNYW5hZ2VyLmhhc0ZvY3VzJiZoLnNob3coKTthLmZvY3VzTWFuYWdlci5hZGQoaCxcbjEpfX12YXIgZT1DS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKSxiPUNLRURJVE9SLnRvb2xzLmNzc0xlbmd0aDtDS0VESVRPUi5wbHVnaW5zLmFkZChcImZsb2F0aW5nc3BhY2VcIix7aW5pdDpmdW5jdGlvbihiKXtiLm9uKFwibG9hZGVkXCIsZnVuY3Rpb24oKXthKHRoaXMpfSxudWxsLG51bGwsMjApfX0pfSgpLENLRURJVE9SLnBsdWdpbnMuYWRkKFwibGlzdGJsb2NrXCIse3JlcXVpcmVzOlwicGFuZWxcIixvbkxvYWQ6ZnVuY3Rpb24oKXt2YXIgYT1DS0VESVRPUi5hZGRUZW1wbGF0ZShcInBhbmVsLWxpc3RcIiwnXFx4M2N1bCByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiIGNsYXNzXFx4M2RcImNrZV9wYW5lbF9saXN0XCJcXHgzZXtpdGVtc31cXHgzYy91bFxceDNlJyksZT1DS0VESVRPUi5hZGRUZW1wbGF0ZShcInBhbmVsLWxpc3QtaXRlbVwiLCdcXHgzY2xpIGlkXFx4M2RcIntpZH1cIiBjbGFzc1xceDNkXCJja2VfcGFuZWxfbGlzdEl0ZW1cIiByb2xlXFx4M2RwcmVzZW50YXRpb25cXHgzZVxceDNjYSBpZFxceDNkXCJ7aWR9X29wdGlvblwiIF9ja2VfZm9jdXNcXHgzZDEgaGlkZWZvY3VzXFx4M2R0cnVlIHRpdGxlXFx4M2RcInt0aXRsZX1cIiBocmVmXFx4M2RcImphdmFzY3JpcHQ6dm9pZChcXCd7dmFsfVxcJylcIiAge29uY2xpY2t9XFx4M2RcIkNLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbih7Y2xpY2tGbn0sXFwne3ZhbH1cXCcpOyByZXR1cm4gZmFsc2U7XCIgcm9sZVxceDNkXCJvcHRpb25cIlxceDNle3RleHR9XFx4M2MvYVxceDNlXFx4M2MvbGlcXHgzZScpLFxuYj1DS0VESVRPUi5hZGRUZW1wbGF0ZShcInBhbmVsLWxpc3QtZ3JvdXBcIiwnXFx4M2NoMSBpZFxceDNkXCJ7aWR9XCIgY2xhc3NcXHgzZFwiY2tlX3BhbmVsX2dyb3VwdGl0bGVcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiIFxceDNle2xhYmVsfVxceDNjL2gxXFx4M2UnKSxjPS9cXCcvZztDS0VESVRPUi51aS5wYW5lbC5wcm90b3R5cGUuYWRkTGlzdEJsb2NrPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuYWRkQmxvY2soYSxuZXcgQ0tFRElUT1IudWkubGlzdEJsb2NrKHRoaXMuZ2V0SG9sZGVyRWxlbWVudCgpLGIpKX07Q0tFRElUT1IudWkubGlzdEJsb2NrPUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHtiYXNlOkNLRURJVE9SLnVpLnBhbmVsLmJsb2NrLCQ6ZnVuY3Rpb24oYSxiKXtiPWJ8fHt9O3ZhciBjPWIuYXR0cmlidXRlc3x8KGIuYXR0cmlidXRlcz17fSk7KHRoaXMubXVsdGlTZWxlY3Q9ISFiLm11bHRpU2VsZWN0KSYmKGNbXCJhcmlhLW11bHRpc2VsZWN0YWJsZVwiXT0hMCk7IWMucm9sZSYmXG4oYy5yb2xlPVwibGlzdGJveFwiKTt0aGlzLmJhc2UuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsYy5yb2xlKTtjPXRoaXMua2V5cztjWzQwXT1cIm5leHRcIjtjWzldPVwibmV4dFwiO2NbMzhdPVwicHJldlwiO2NbQ0tFRElUT1IuU0hJRlQrOV09XCJwcmV2XCI7Y1szMl09Q0tFRElUT1IuZW52LmllP1wibW91c2V1cFwiOlwiY2xpY2tcIjtDS0VESVRPUi5lbnYuaWUmJihjWzEzXT1cIm1vdXNldXBcIik7dGhpcy5fLnBlbmRpbmdIdG1sPVtdO3RoaXMuXy5wZW5kaW5nTGlzdD1bXTt0aGlzLl8uaXRlbXM9e307dGhpcy5fLmdyb3Vwcz17fX0sXzp7Y2xvc2U6ZnVuY3Rpb24oKXtpZih0aGlzLl8uc3RhcnRlZCl7dmFyIGI9YS5vdXRwdXQoe2l0ZW1zOnRoaXMuXy5wZW5kaW5nTGlzdC5qb2luKFwiXCIpfSk7dGhpcy5fLnBlbmRpbmdMaXN0PVtdO3RoaXMuXy5wZW5kaW5nSHRtbC5wdXNoKGIpO2RlbGV0ZSB0aGlzLl8uc3RhcnRlZH19LGdldENsaWNrOmZ1bmN0aW9uKCl7dGhpcy5fLmNsaWNrfHxcbih0aGlzLl8uY2xpY2s9Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy50b2dnbGUoYSk7aWYodGhpcy5vbkNsaWNrKXRoaXMub25DbGljayhhLGIpfSx0aGlzKSk7cmV0dXJuIHRoaXMuXy5jbGlja319LHByb3RvOnthZGQ6ZnVuY3Rpb24oYSxiLG0pe3ZhciBmPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpO3RoaXMuXy5zdGFydGVkfHwodGhpcy5fLnN0YXJ0ZWQ9MSx0aGlzLl8uc2l6ZT10aGlzLl8uc2l6ZXx8MCk7dGhpcy5fLml0ZW1zW2FdPWY7dmFyIGg7aD1DS0VESVRPUi50b29scy5odG1sRW5jb2RlQXR0cihhKS5yZXBsYWNlKGMsXCJcXFxcJ1wiKTthPXtpZDpmLHZhbDpoLG9uY2xpY2s6Q0tFRElUT1IuZW52LmllPydvbmNsaWNrXFx4M2RcInJldHVybiBmYWxzZTtcIiBvbm1vdXNldXAnOlwib25jbGlja1wiLGNsaWNrRm46dGhpcy5fLmdldENsaWNrKCksdGl0bGU6Q0tFRElUT1IudG9vbHMuaHRtbEVuY29kZUF0dHIobXx8YSksdGV4dDpifHxhfTtcbnRoaXMuXy5wZW5kaW5nTGlzdC5wdXNoKGUub3V0cHV0KGEpKX0sc3RhcnRHcm91cDpmdW5jdGlvbihhKXt0aGlzLl8uY2xvc2UoKTt2YXIgYz1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKTt0aGlzLl8uZ3JvdXBzW2FdPWM7dGhpcy5fLnBlbmRpbmdIdG1sLnB1c2goYi5vdXRwdXQoe2lkOmMsbGFiZWw6YX0pKX0sY29tbWl0OmZ1bmN0aW9uKCl7dGhpcy5fLmNsb3NlKCk7dGhpcy5lbGVtZW50LmFwcGVuZEh0bWwodGhpcy5fLnBlbmRpbmdIdG1sLmpvaW4oXCJcIikpO2RlbGV0ZSB0aGlzLl8uc2l6ZTt0aGlzLl8ucGVuZGluZ0h0bWw9W119LHRvZ2dsZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmlzTWFya2VkKGEpO2I/dGhpcy51bm1hcmsoYSk6dGhpcy5tYXJrKGEpO3JldHVybiFifSxoaWRlR3JvdXA6ZnVuY3Rpb24oYSl7dmFyIGI9KGE9dGhpcy5lbGVtZW50LmdldERvY3VtZW50KCkuZ2V0QnlJZCh0aGlzLl8uZ3JvdXBzW2FdKSkmJmEuZ2V0TmV4dCgpO2EmJihhLnNldFN0eWxlKFwiZGlzcGxheVwiLFxuXCJub25lXCIpLGImJlwidWxcIj09Yi5nZXROYW1lKCkmJmIuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJub25lXCIpKX0saGlkZUl0ZW06ZnVuY3Rpb24oYSl7dGhpcy5lbGVtZW50LmdldERvY3VtZW50KCkuZ2V0QnlJZCh0aGlzLl8uaXRlbXNbYV0pLnNldFN0eWxlKFwiZGlzcGxheVwiLFwibm9uZVwiKX0sc2hvd0FsbDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5pdGVtcyxiPXRoaXMuXy5ncm91cHMsYz10aGlzLmVsZW1lbnQuZ2V0RG9jdW1lbnQoKSxmO2ZvcihmIGluIGEpYy5nZXRCeUlkKGFbZl0pLnNldFN0eWxlKFwiZGlzcGxheVwiLFwiXCIpO2Zvcih2YXIgZSBpbiBiKWE9Yy5nZXRCeUlkKGJbZV0pLGY9YS5nZXROZXh0KCksYS5zZXRTdHlsZShcImRpc3BsYXlcIixcIlwiKSxmJiZcInVsXCI9PWYuZ2V0TmFtZSgpJiZmLnNldFN0eWxlKFwiZGlzcGxheVwiLFwiXCIpfSxtYXJrOmZ1bmN0aW9uKGEpe3RoaXMubXVsdGlTZWxlY3R8fHRoaXMudW5tYXJrQWxsKCk7YT10aGlzLl8uaXRlbXNbYV07dmFyIGI9dGhpcy5lbGVtZW50LmdldERvY3VtZW50KCkuZ2V0QnlJZChhKTtcbmIuYWRkQ2xhc3MoXCJja2Vfc2VsZWN0ZWRcIik7dGhpcy5lbGVtZW50LmdldERvY3VtZW50KCkuZ2V0QnlJZChhK1wiX29wdGlvblwiKS5zZXRBdHRyaWJ1dGUoXCJhcmlhLXNlbGVjdGVkXCIsITApO3RoaXMub25NYXJrJiZ0aGlzLm9uTWFyayhiKX0sdW5tYXJrOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZWxlbWVudC5nZXREb2N1bWVudCgpO2E9dGhpcy5fLml0ZW1zW2FdO3ZhciBjPWIuZ2V0QnlJZChhKTtjLnJlbW92ZUNsYXNzKFwiY2tlX3NlbGVjdGVkXCIpO2IuZ2V0QnlJZChhK1wiX29wdGlvblwiKS5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLXNlbGVjdGVkXCIpO3RoaXMub25Vbm1hcmsmJnRoaXMub25Vbm1hcmsoYyl9LHVubWFya0FsbDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5pdGVtcyxiPXRoaXMuZWxlbWVudC5nZXREb2N1bWVudCgpLGM7Zm9yKGMgaW4gYSl7dmFyIGY9YVtjXTtiLmdldEJ5SWQoZikucmVtb3ZlQ2xhc3MoXCJja2Vfc2VsZWN0ZWRcIik7Yi5nZXRCeUlkKGYrXCJfb3B0aW9uXCIpLnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtc2VsZWN0ZWRcIil9dGhpcy5vblVubWFyayYmXG50aGlzLm9uVW5tYXJrKCl9LGlzTWFya2VkOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVsZW1lbnQuZ2V0RG9jdW1lbnQoKS5nZXRCeUlkKHRoaXMuXy5pdGVtc1thXSkuaGFzQ2xhc3MoXCJja2Vfc2VsZWN0ZWRcIil9LGZvY3VzOmZ1bmN0aW9uKGEpe3RoaXMuXy5mb2N1c0luZGV4PS0xO3ZhciBiPXRoaXMuZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnKFwiYVwiKSxjLGY9LTE7aWYoYSlmb3IoYz10aGlzLmVsZW1lbnQuZ2V0RG9jdW1lbnQoKS5nZXRCeUlkKHRoaXMuXy5pdGVtc1thXSkuZ2V0Rmlyc3QoKTthPWIuZ2V0SXRlbSgrK2YpOyl7aWYoYS5lcXVhbHMoYykpe3RoaXMuXy5mb2N1c0luZGV4PWY7YnJlYWt9fWVsc2UgdGhpcy5lbGVtZW50LmZvY3VzKCk7YyYmc2V0VGltZW91dChmdW5jdGlvbigpe2MuZm9jdXMoKX0sMCl9fX0pfX0pLGZ1bmN0aW9uKCl7dmFyIGE9J1xceDNjYSBpZFxceDNkXCJ7aWR9XCIgY2xhc3NcXHgzZFwiY2tlX2J1dHRvbiBja2VfYnV0dG9uX197bmFtZX0gY2tlX2J1dHRvbl97c3RhdGV9IHtjbHN9XCInK1xuKENLRURJVE9SLmVudi5nZWNrbyYmIUNLRURJVE9SLmVudi5oYz9cIlwiOlwiIGhyZWZcXHgzZFxcXCJqYXZhc2NyaXB0OnZvaWQoJ3t0aXRsZUpzfScpXFxcIlwiKSsnIHRpdGxlXFx4M2RcInt0aXRsZX1cIiB0YWJpbmRleFxceDNkXCItMVwiIGhpZGVmb2N1c1xceDNkXCJ0cnVlXCIgcm9sZVxceDNkXCJidXR0b25cIiBhcmlhLWxhYmVsbGVkYnlcXHgzZFwie2lkfV9sYWJlbFwiIGFyaWEtaGFzcG9wdXBcXHgzZFwie2hhc0Fycm93fVwiIGFyaWEtZGlzYWJsZWRcXHgzZFwie2FyaWFEaXNhYmxlZH1cIic7Q0tFRElUT1IuZW52LmdlY2tvJiZDS0VESVRPUi5lbnYubWFjJiYoYSs9JyBvbmtleXByZXNzXFx4M2RcInJldHVybiBmYWxzZTtcIicpO0NLRURJVE9SLmVudi5nZWNrbyYmKGErPScgb25ibHVyXFx4M2RcInRoaXMuc3R5bGUuY3NzVGV4dCBcXHgzZCB0aGlzLnN0eWxlLmNzc1RleHQ7XCInKTt2YXIgYT1hKygnIG9ua2V5ZG93blxceDNkXCJyZXR1cm4gQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKHtrZXlkb3duRm59LGV2ZW50KTtcIiBvbmZvY3VzXFx4M2RcInJldHVybiBDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oe2ZvY3VzRm59LGV2ZW50KTtcIiAnK1xuKENLRURJVE9SLmVudi5pZT8nb25jbGlja1xceDNkXCJyZXR1cm4gZmFsc2U7XCIgb25tb3VzZXVwJzpcIm9uY2xpY2tcIikrJ1xceDNkXCJDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oe2NsaWNrRm59LHRoaXMpO3JldHVybiBmYWxzZTtcIlxceDNlXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV9idXR0b25faWNvbiBja2VfYnV0dG9uX197aWNvbk5hbWV9X2ljb25cIiBzdHlsZVxceDNkXCJ7c3R5bGV9XCInKSxhPWErJ1xceDNlXFx4MjZuYnNwO1xceDNjL3NwYW5cXHgzZVxceDNjc3BhbiBpZFxceDNkXCJ7aWR9X2xhYmVsXCIgY2xhc3NcXHgzZFwiY2tlX2J1dHRvbl9sYWJlbCBja2VfYnV0dG9uX197bmFtZX1fbGFiZWxcIiBhcmlhLWhpZGRlblxceDNkXCJmYWxzZVwiXFx4M2V7bGFiZWx9XFx4M2Mvc3BhblxceDNle2Fycm93SHRtbH1cXHgzYy9hXFx4M2UnLGU9Q0tFRElUT1IuYWRkVGVtcGxhdGUoXCJidXR0b25BcnJvd1wiLCdcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX2J1dHRvbl9hcnJvd1wiXFx4M2UnKyhDS0VESVRPUi5lbnYuaGM/XCJcXHgyNiM5NjYwO1wiOlxuXCJcIikrXCJcXHgzYy9zcGFuXFx4M2VcIiksYj1DS0VESVRPUi5hZGRUZW1wbGF0ZShcImJ1dHRvblwiLGEpO0NLRURJVE9SLnBsdWdpbnMuYWRkKFwiYnV0dG9uXCIse2JlZm9yZUluaXQ6ZnVuY3Rpb24oYSl7YS51aS5hZGRIYW5kbGVyKENLRURJVE9SLlVJX0JVVFRPTixDS0VESVRPUi51aS5idXR0b24uaGFuZGxlcil9fSk7Q0tFRElUT1IuVUlfQlVUVE9OPVwiYnV0dG9uXCI7Q0tFRElUT1IudWkuYnV0dG9uPWZ1bmN0aW9uKGEpe0NLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLGEse3RpdGxlOmEubGFiZWwsY2xpY2s6YS5jbGlja3x8ZnVuY3Rpb24oYil7Yi5leGVjQ29tbWFuZChhLmNvbW1hbmQpfX0pO3RoaXMuXz17fX07Q0tFRElUT1IudWkuYnV0dG9uLmhhbmRsZXI9e2NyZWF0ZTpmdW5jdGlvbihhKXtyZXR1cm4gbmV3IENLRURJVE9SLnVpLmJ1dHRvbihhKX19O0NLRURJVE9SLnVpLmJ1dHRvbi5wcm90b3R5cGU9e3JlbmRlcjpmdW5jdGlvbihhLGQpe2Z1bmN0aW9uIGwoKXt2YXIgYj1hLm1vZGU7XG5iJiYoYj10aGlzLm1vZGVzW2JdP3ZvaWQgMCE9PXRbYl0/dFtiXTpDS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQsYj1hLnJlYWRPbmx5JiYhdGhpcy5yZWFkT25seT9DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRDpiLHRoaXMuc2V0U3RhdGUoYiksdGhpcy5yZWZyZXNoJiZ0aGlzLnJlZnJlc2goKSl9dmFyIG09Q0tFRElUT1IuZW52LGY9dGhpcy5fLmlkPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpLGg9XCJcIixrPXRoaXMuY29tbWFuZCxnO3RoaXMuXy5lZGl0b3I9YTt2YXIgbj17aWQ6ZixidXR0b246dGhpcyxlZGl0b3I6YSxmb2N1czpmdW5jdGlvbigpe0NLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQoZikuZm9jdXMoKX0sZXhlY3V0ZTpmdW5jdGlvbigpe3RoaXMuYnV0dG9uLmNsaWNrKGEpfSxhdHRhY2g6ZnVuY3Rpb24oYSl7dGhpcy5idXR0b24uYXR0YWNoKGEpfX0sdj1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbihhKXtpZihuLm9ua2V5KXJldHVybiBhPVxubmV3IENLRURJVE9SLmRvbS5ldmVudChhKSwhMSE9PW4ub25rZXkobixhLmdldEtleXN0cm9rZSgpKX0pLHI9Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oYSl7dmFyIGI7bi5vbmZvY3VzJiYoYj0hMSE9PW4ub25mb2N1cyhuLG5ldyBDS0VESVRPUi5kb20uZXZlbnQoYSkpKTtyZXR1cm4gYn0pLHE9MDtuLmNsaWNrRm49Zz1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbigpe3EmJihhLnVubG9ja1NlbGVjdGlvbigxKSxxPTApO24uZXhlY3V0ZSgpO20uaU9TJiZhLmZvY3VzKCl9KTtpZih0aGlzLm1vZGVzKXt2YXIgdD17fTthLm9uKFwiYmVmb3JlTW9kZVVubG9hZFwiLGZ1bmN0aW9uKCl7YS5tb2RlJiZ0aGlzLl8uc3RhdGUhPUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEJiYodFthLm1vZGVdPXRoaXMuXy5zdGF0ZSl9LHRoaXMpO2Eub24oXCJhY3RpdmVGaWx0ZXJDaGFuZ2VcIixsLHRoaXMpO2Eub24oXCJtb2RlXCIsbCx0aGlzKTshdGhpcy5yZWFkT25seSYmXG5hLm9uKFwicmVhZE9ubHlcIixsLHRoaXMpfWVsc2UgayYmKGs9YS5nZXRDb21tYW5kKGspKSYmKGsub24oXCJzdGF0ZVwiLGZ1bmN0aW9uKCl7dGhpcy5zZXRTdGF0ZShrLnN0YXRlKX0sdGhpcyksaCs9ay5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfT04/XCJvblwiOmsuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEP1wiZGlzYWJsZWRcIjpcIm9mZlwiKTtpZih0aGlzLmRpcmVjdGlvbmFsKWEub24oXCJjb250ZW50RGlyQ2hhbmdlZFwiLGZ1bmN0aW9uKGIpe3ZhciBkPUNLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQodGhpcy5fLmlkKSxmPWQuZ2V0Rmlyc3QoKTtiPWIuZGF0YTtiIT1hLmxhbmcuZGlyP2QuYWRkQ2xhc3MoXCJja2VfXCIrYik6ZC5yZW1vdmVDbGFzcyhcImNrZV9sdHJcIikucmVtb3ZlQ2xhc3MoXCJja2VfcnRsXCIpO2Yuc2V0QXR0cmlidXRlKFwic3R5bGVcIixDS0VESVRPUi5za2luLmdldEljb25TdHlsZSh3LFwicnRsXCI9PWIsdGhpcy5pY29uLHRoaXMuaWNvbk9mZnNldCkpfSx0aGlzKTtcbmt8fChoKz1cIm9mZlwiKTt2YXIgcD10aGlzLm5hbWV8fHRoaXMuY29tbWFuZCx3PXA7dGhpcy5pY29uJiYhL1xcLi8udGVzdCh0aGlzLmljb24pJiYodz10aGlzLmljb24sdGhpcy5pY29uPW51bGwpO2g9e2lkOmYsbmFtZTpwLGljb25OYW1lOncsbGFiZWw6dGhpcy5sYWJlbCxjbHM6dGhpcy5jbGFzc05hbWV8fFwiXCIsc3RhdGU6aCxhcmlhRGlzYWJsZWQ6XCJkaXNhYmxlZFwiPT1oP1widHJ1ZVwiOlwiZmFsc2VcIix0aXRsZTp0aGlzLnRpdGxlLHRpdGxlSnM6bS5nZWNrbyYmIW0uaGM/XCJcIjoodGhpcy50aXRsZXx8XCJcIikucmVwbGFjZShcIidcIixcIlwiKSxoYXNBcnJvdzp0aGlzLmhhc0Fycm93P1widHJ1ZVwiOlwiZmFsc2VcIixrZXlkb3duRm46dixmb2N1c0ZuOnIsY2xpY2tGbjpnLHN0eWxlOkNLRURJVE9SLnNraW4uZ2V0SWNvblN0eWxlKHcsXCJydGxcIj09YS5sYW5nLmRpcix0aGlzLmljb24sdGhpcy5pY29uT2Zmc2V0KSxhcnJvd0h0bWw6dGhpcy5oYXNBcnJvdz9lLm91dHB1dCgpOlwiXCJ9O2Iub3V0cHV0KGgsXG5kKTtpZih0aGlzLm9uUmVuZGVyKXRoaXMub25SZW5kZXIoKTtyZXR1cm4gbn0sc2V0U3RhdGU6ZnVuY3Rpb24oYSl7aWYodGhpcy5fLnN0YXRlPT1hKXJldHVybiExO3RoaXMuXy5zdGF0ZT1hO3ZhciBiPUNLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQodGhpcy5fLmlkKTtyZXR1cm4gYj8oYi5zZXRTdGF0ZShhLFwiY2tlX2J1dHRvblwiKSxhPT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRD9iLnNldEF0dHJpYnV0ZShcImFyaWEtZGlzYWJsZWRcIiwhMCk6Yi5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLWRpc2FibGVkXCIpLHRoaXMuaGFzQXJyb3c/KGE9YT09Q0tFRElUT1IuVFJJU1RBVEVfT04/dGhpcy5fLmVkaXRvci5sYW5nLmJ1dHRvbi5zZWxlY3RlZExhYmVsLnJlcGxhY2UoLyUxL2csdGhpcy5sYWJlbCk6dGhpcy5sYWJlbCxDS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKHRoaXMuXy5pZCtcIl9sYWJlbFwiKS5zZXRUZXh0KGEpKTphPT1DS0VESVRPUi5UUklTVEFURV9PTj9iLnNldEF0dHJpYnV0ZShcImFyaWEtcHJlc3NlZFwiLFxuITApOmIucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1wcmVzc2VkXCIpLCEwKTohMX0sZ2V0U3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLnN0YXRlfSx0b0ZlYXR1cmU6ZnVuY3Rpb24oYSl7aWYodGhpcy5fLmZlYXR1cmUpcmV0dXJuIHRoaXMuXy5mZWF0dXJlO3ZhciBiPXRoaXM7dGhpcy5hbGxvd2VkQ29udGVudHx8dGhpcy5yZXF1aXJlZENvbnRlbnR8fCF0aGlzLmNvbW1hbmR8fChiPWEuZ2V0Q29tbWFuZCh0aGlzLmNvbW1hbmQpfHxiKTtyZXR1cm4gdGhpcy5fLmZlYXR1cmU9Yn19O0NLRURJVE9SLnVpLnByb3RvdHlwZS5hZGRCdXR0b249ZnVuY3Rpb24oYSxiKXt0aGlzLmFkZChhLENLRURJVE9SLlVJX0JVVFRPTixiKX19KCksQ0tFRElUT1IucGx1Z2lucy5hZGQoXCJyaWNoY29tYm9cIix7cmVxdWlyZXM6XCJmbG9hdHBhbmVsLGxpc3RibG9jayxidXR0b25cIixiZWZvcmVJbml0OmZ1bmN0aW9uKGEpe2EudWkuYWRkSGFuZGxlcihDS0VESVRPUi5VSV9SSUNIQ09NQk8sQ0tFRElUT1IudWkucmljaENvbWJvLmhhbmRsZXIpfX0pLFxuZnVuY3Rpb24oKXt2YXIgYT0nXFx4M2NzcGFuIGlkXFx4M2RcIntpZH1cIiBjbGFzc1xceDNkXCJja2VfY29tYm8gY2tlX2NvbWJvX197bmFtZX0ge2Nsc31cIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiXFx4M2VcXHgzY3NwYW4gaWRcXHgzZFwie2lkfV9sYWJlbFwiIGNsYXNzXFx4M2RcImNrZV9jb21ib19sYWJlbFwiXFx4M2V7bGFiZWx9XFx4M2Mvc3BhblxceDNlXFx4M2NhIGNsYXNzXFx4M2RcImNrZV9jb21ib19idXR0b25cIiB0aXRsZVxceDNkXCJ7dGl0bGV9XCIgdGFiaW5kZXhcXHgzZFwiLTFcIicrKENLRURJVE9SLmVudi5nZWNrbyYmIUNLRURJVE9SLmVudi5oYz9cIlwiOlwiIGhyZWZcXHgzZFxcXCJqYXZhc2NyaXB0OnZvaWQoJ3t0aXRsZUpzfScpXFxcIlwiKSsnIGhpZGVmb2N1c1xceDNkXCJ0cnVlXCIgcm9sZVxceDNkXCJidXR0b25cIiBhcmlhLWxhYmVsbGVkYnlcXHgzZFwie2lkfV9sYWJlbFwiIGFyaWEtaGFzcG9wdXBcXHgzZFwidHJ1ZVwiJztDS0VESVRPUi5lbnYuZ2Vja28mJkNLRURJVE9SLmVudi5tYWMmJihhKz0nIG9ua2V5cHJlc3NcXHgzZFwicmV0dXJuIGZhbHNlO1wiJyk7XG5DS0VESVRPUi5lbnYuZ2Vja28mJihhKz0nIG9uYmx1clxceDNkXCJ0aGlzLnN0eWxlLmNzc1RleHQgXFx4M2QgdGhpcy5zdHlsZS5jc3NUZXh0O1wiJyk7dmFyIGE9YSsoJyBvbmtleWRvd25cXHgzZFwicmV0dXJuIENLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbih7a2V5ZG93bkZufSxldmVudCx0aGlzKTtcIiBvbmZvY3VzXFx4M2RcInJldHVybiBDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oe2ZvY3VzRm59LGV2ZW50KTtcIiAnKyhDS0VESVRPUi5lbnYuaWU/J29uY2xpY2tcXHgzZFwicmV0dXJuIGZhbHNlO1wiIG9ubW91c2V1cCc6XCJvbmNsaWNrXCIpKydcXHgzZFwiQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKHtjbGlja0ZufSx0aGlzKTtyZXR1cm4gZmFsc2U7XCJcXHgzZVxceDNjc3BhbiBpZFxceDNkXCJ7aWR9X3RleHRcIiBjbGFzc1xceDNkXCJja2VfY29tYm9fdGV4dCBja2VfY29tYm9faW5saW5lbGFiZWxcIlxceDNle2xhYmVsfVxceDNjL3NwYW5cXHgzZVxceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfY29tYm9fb3BlblwiXFx4M2VcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX2NvbWJvX2Fycm93XCJcXHgzZScrXG4oQ0tFRElUT1IuZW52LmhjP1wiXFx4MjYjOTY2MDtcIjpDS0VESVRPUi5lbnYuYWlyP1wiXFx4MjZuYnNwO1wiOlwiXCIpK1wiXFx4M2Mvc3BhblxceDNlXFx4M2Mvc3BhblxceDNlXFx4M2MvYVxceDNlXFx4M2Mvc3BhblxceDNlXCIpLGU9Q0tFRElUT1IuYWRkVGVtcGxhdGUoXCJjb21ib1wiLGEpO0NLRURJVE9SLlVJX1JJQ0hDT01CTz1cInJpY2hjb21ib1wiO0NLRURJVE9SLnVpLnJpY2hDb21ibz1DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7JDpmdW5jdGlvbihhKXtDS0VESVRPUi50b29scy5leHRlbmQodGhpcyxhLHtjYW5Hcm91cDohMSx0aXRsZTphLmxhYmVsLG1vZGVzOnt3eXNpd3lnOjF9LGVkaXRvckZvY3VzOjF9KTthPXRoaXMucGFuZWx8fHt9O2RlbGV0ZSB0aGlzLnBhbmVsO3RoaXMuaWQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dE51bWJlcigpO3RoaXMuZG9jdW1lbnQ9YS5wYXJlbnQmJmEucGFyZW50LmdldERvY3VtZW50KCl8fENLRURJVE9SLmRvY3VtZW50O2EuY2xhc3NOYW1lPVwiY2tlX2NvbWJvcGFuZWxcIjtcbmEuYmxvY2s9e211bHRpU2VsZWN0OmEubXVsdGlTZWxlY3QsYXR0cmlidXRlczphLmF0dHJpYnV0ZXN9O2EudG9vbGJhclJlbGF0ZWQ9ITA7dGhpcy5fPXtwYW5lbERlZmluaXRpb246YSxpdGVtczp7fX19LHByb3RvOntyZW5kZXJIdG1sOmZ1bmN0aW9uKGEpe3ZhciBjPVtdO3RoaXMucmVuZGVyKGEsYyk7cmV0dXJuIGMuam9pbihcIlwiKX0scmVuZGVyOmZ1bmN0aW9uKGEsYyl7ZnVuY3Rpb24gZCgpe2lmKHRoaXMuZ2V0U3RhdGUoKSE9Q0tFRElUT1IuVFJJU1RBVEVfT04pe3ZhciBjPXRoaXMubW9kZXNbYS5tb2RlXT9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQ7YS5yZWFkT25seSYmIXRoaXMucmVhZE9ubHkmJihjPUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKTt0aGlzLnNldFN0YXRlKGMpO3RoaXMuc2V0VmFsdWUoXCJcIik7YyE9Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQmJnRoaXMucmVmcmVzaCYmdGhpcy5yZWZyZXNoKCl9fXZhciBsPVxuQ0tFRElUT1IuZW52LG09XCJja2VfXCIrdGhpcy5pZCxmPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKGMpe3YmJihhLnVubG9ja1NlbGVjdGlvbigxKSx2PTApO2suZXhlY3V0ZShjKX0sdGhpcyksaD10aGlzLGs9e2lkOm0sY29tYm86dGhpcyxmb2N1czpmdW5jdGlvbigpe0NLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQobSkuZ2V0Q2hpbGQoMSkuZm9jdXMoKX0sZXhlY3V0ZTpmdW5jdGlvbihjKXt2YXIgZD1oLl87aWYoZC5zdGF0ZSE9Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpaWYoaC5jcmVhdGVQYW5lbChhKSxkLm9uKWQucGFuZWwuaGlkZSgpO2Vsc2V7aC5jb21taXQoKTt2YXIgZj1oLmdldFZhbHVlKCk7Zj9kLmxpc3QubWFyayhmKTpkLmxpc3QudW5tYXJrQWxsKCk7ZC5wYW5lbC5zaG93QmxvY2soaC5pZCxuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYyksNCl9fSxjbGlja0ZuOmZ9O2Eub24oXCJhY3RpdmVGaWx0ZXJDaGFuZ2VcIixkLHRoaXMpO2Eub24oXCJtb2RlXCIsXG5kLHRoaXMpO2Eub24oXCJzZWxlY3Rpb25DaGFuZ2VcIixkLHRoaXMpOyF0aGlzLnJlYWRPbmx5JiZhLm9uKFwicmVhZE9ubHlcIixkLHRoaXMpO3ZhciBnPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKGMsZCl7Yz1uZXcgQ0tFRElUT1IuZG9tLmV2ZW50KGMpO3ZhciBlPWMuZ2V0S2V5c3Ryb2tlKCk7aWYoNDA9PWUpYS5vbmNlKFwicGFuZWxTaG93XCIsZnVuY3Rpb24oYSl7YS5kYXRhLl8ucGFuZWwuXy5jdXJyZW50QmxvY2sub25LZXlEb3duKDQwKX0pO3N3aXRjaChlKXtjYXNlIDEzOmNhc2UgMzI6Y2FzZSA0MDpDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oZixkKTticmVhaztkZWZhdWx0Omsub25rZXkoayxlKX1jLnByZXZlbnREZWZhdWx0KCl9KSxuPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKCl7ay5vbmZvY3VzJiZrLm9uZm9jdXMoKX0pLHY9MDtrLmtleURvd25Gbj1nO2w9e2lkOm0sbmFtZTp0aGlzLm5hbWV8fHRoaXMuY29tbWFuZCxsYWJlbDp0aGlzLmxhYmVsLFxudGl0bGU6dGhpcy50aXRsZSxjbHM6dGhpcy5jbGFzc05hbWV8fFwiXCIsdGl0bGVKczpsLmdlY2tvJiYhbC5oYz9cIlwiOih0aGlzLnRpdGxlfHxcIlwiKS5yZXBsYWNlKFwiJ1wiLFwiXCIpLGtleWRvd25GbjpnLGZvY3VzRm46bixjbGlja0ZuOmZ9O2Uub3V0cHV0KGwsYyk7aWYodGhpcy5vblJlbmRlcil0aGlzLm9uUmVuZGVyKCk7cmV0dXJuIGt9LGNyZWF0ZVBhbmVsOmZ1bmN0aW9uKGEpe2lmKCF0aGlzLl8ucGFuZWwpe3ZhciBjPXRoaXMuXy5wYW5lbERlZmluaXRpb24sZD10aGlzLl8ucGFuZWxEZWZpbml0aW9uLmJsb2NrLGU9Yy5wYXJlbnR8fENLRURJVE9SLmRvY3VtZW50LmdldEJvZHkoKSxtPVwiY2tlX2NvbWJvcGFuZWxfX1wiK3RoaXMubmFtZSxmPW5ldyBDS0VESVRPUi51aS5mbG9hdFBhbmVsKGEsZSxjKSxoPWYuYWRkTGlzdEJsb2NrKHRoaXMuaWQsZCksaz10aGlzO2Yub25TaG93PWZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmFkZENsYXNzKG0pO2suc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfT04pO1xuay5fLm9uPTE7ay5lZGl0b3JGb2N1cyYmIWEuZm9jdXNNYW5hZ2VyLmhhc0ZvY3VzJiZhLmZvY3VzKCk7aWYoay5vbk9wZW4pay5vbk9wZW4oKTthLm9uY2UoXCJwYW5lbFNob3dcIixmdW5jdGlvbigpe2guZm9jdXMoIWgubXVsdGlTZWxlY3QmJmsuZ2V0VmFsdWUoKSl9KX07Zi5vbkhpZGU9ZnVuY3Rpb24oYyl7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKG0pO2suc2V0U3RhdGUoay5tb2RlcyYmay5tb2Rlc1thLm1vZGVdP0NLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCk7ay5fLm9uPTA7aWYoIWMmJmsub25DbG9zZSlrLm9uQ2xvc2UoKX07Zi5vbkVzY2FwZT1mdW5jdGlvbigpe2YuaGlkZSgxKX07aC5vbkNsaWNrPWZ1bmN0aW9uKGEsYil7ay5vbkNsaWNrJiZrLm9uQ2xpY2suY2FsbChrLGEsYik7Zi5oaWRlKCl9O3RoaXMuXy5wYW5lbD1mO3RoaXMuXy5saXN0PWg7Zi5nZXRCbG9jayh0aGlzLmlkKS5vbkhpZGU9ZnVuY3Rpb24oKXtrLl8ub249XG4wO2suc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfT0ZGKX07dGhpcy5pbml0JiZ0aGlzLmluaXQoKX19LHNldFZhbHVlOmZ1bmN0aW9uKGEsYyl7dGhpcy5fLnZhbHVlPWE7dmFyIGQ9dGhpcy5kb2N1bWVudC5nZXRCeUlkKFwiY2tlX1wiK3RoaXMuaWQrXCJfdGV4dFwiKTtkJiYoYXx8Yz9kLnJlbW92ZUNsYXNzKFwiY2tlX2NvbWJvX2lubGluZWxhYmVsXCIpOihjPXRoaXMubGFiZWwsZC5hZGRDbGFzcyhcImNrZV9jb21ib19pbmxpbmVsYWJlbFwiKSksZC5zZXRUZXh0KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBjP2M6YSkpfSxnZXRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8udmFsdWV8fFwiXCJ9LHVubWFya0FsbDpmdW5jdGlvbigpe3RoaXMuXy5saXN0LnVubWFya0FsbCgpfSxtYXJrOmZ1bmN0aW9uKGEpe3RoaXMuXy5saXN0Lm1hcmsoYSl9LGhpZGVJdGVtOmZ1bmN0aW9uKGEpe3RoaXMuXy5saXN0LmhpZGVJdGVtKGEpfSxoaWRlR3JvdXA6ZnVuY3Rpb24oYSl7dGhpcy5fLmxpc3QuaGlkZUdyb3VwKGEpfSxcbnNob3dBbGw6ZnVuY3Rpb24oKXt0aGlzLl8ubGlzdC5zaG93QWxsKCl9LGFkZDpmdW5jdGlvbihhLGMsZCl7dGhpcy5fLml0ZW1zW2FdPWR8fGE7dGhpcy5fLmxpc3QuYWRkKGEsYyxkKX0sc3RhcnRHcm91cDpmdW5jdGlvbihhKXt0aGlzLl8ubGlzdC5zdGFydEdyb3VwKGEpfSxjb21taXQ6ZnVuY3Rpb24oKXt0aGlzLl8uY29tbWl0dGVkfHwodGhpcy5fLmxpc3QuY29tbWl0KCksdGhpcy5fLmNvbW1pdHRlZD0xLENLRURJVE9SLnVpLmZpcmUoXCJyZWFkeVwiLHRoaXMpKTt0aGlzLl8uY29tbWl0dGVkPTF9LHNldFN0YXRlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuXy5zdGF0ZSE9YSl7dmFyIGM9dGhpcy5kb2N1bWVudC5nZXRCeUlkKFwiY2tlX1wiK3RoaXMuaWQpO2Muc2V0U3RhdGUoYSxcImNrZV9jb21ib1wiKTthPT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRD9jLnNldEF0dHJpYnV0ZShcImFyaWEtZGlzYWJsZWRcIiwhMCk6Yy5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLWRpc2FibGVkXCIpO3RoaXMuXy5zdGF0ZT1cbmF9fSxnZXRTdGF0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uc3RhdGV9LGVuYWJsZTpmdW5jdGlvbigpe3RoaXMuXy5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQmJnRoaXMuc2V0U3RhdGUodGhpcy5fLmxhc3RTdGF0ZSl9LGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLl8uc3RhdGUhPUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEJiYodGhpcy5fLmxhc3RTdGF0ZT10aGlzLl8uc3RhdGUsdGhpcy5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCkpfX0sc3RhdGljczp7aGFuZGxlcjp7Y3JlYXRlOmZ1bmN0aW9uKGEpe3JldHVybiBuZXcgQ0tFRElUT1IudWkucmljaENvbWJvKGEpfX19fSk7Q0tFRElUT1IudWkucHJvdG90eXBlLmFkZFJpY2hDb21ibz1mdW5jdGlvbihhLGMpe3RoaXMuYWRkKGEsQ0tFRElUT1IuVUlfUklDSENPTUJPLGMpfX0oKSxDS0VESVRPUi5wbHVnaW5zLmFkZChcImZvcm1hdFwiLHtyZXF1aXJlczpcInJpY2hjb21ib1wiLGluaXQ6ZnVuY3Rpb24oYSl7aWYoIWEuYmxvY2tsZXNzKXtmb3IodmFyIGU9XG5hLmNvbmZpZyxiPWEubGFuZy5mb3JtYXQsYz1lLmZvcm1hdF90YWdzLnNwbGl0KFwiO1wiKSxkPXt9LGw9MCxtPVtdLGY9MDtmPGMubGVuZ3RoO2YrKyl7dmFyIGg9Y1tmXSxrPW5ldyBDS0VESVRPUi5zdHlsZShlW1wiZm9ybWF0X1wiK2hdKTtpZighYS5maWx0ZXIuY3VzdG9tQ29uZmlnfHxhLmZpbHRlci5jaGVjayhrKSlsKyssZFtoXT1rLGRbaF0uXy5lbnRlck1vZGU9YS5jb25maWcuZW50ZXJNb2RlLG0ucHVzaChrKX0wIT09bCYmYS51aS5hZGRSaWNoQ29tYm8oXCJGb3JtYXRcIix7bGFiZWw6Yi5sYWJlbCx0aXRsZTpiLnBhbmVsVGl0bGUsdG9vbGJhcjpcInN0eWxlcywyMFwiLGFsbG93ZWRDb250ZW50Om0scGFuZWw6e2NzczpbQ0tFRElUT1Iuc2tpbi5nZXRQYXRoKFwiZWRpdG9yXCIpXS5jb25jYXQoZS5jb250ZW50c0NzcyksbXVsdGlTZWxlY3Q6ITEsYXR0cmlidXRlczp7XCJhcmlhLWxhYmVsXCI6Yi5wYW5lbFRpdGxlfX0saW5pdDpmdW5jdGlvbigpe3RoaXMuc3RhcnRHcm91cChiLnBhbmVsVGl0bGUpO1xuZm9yKHZhciBhIGluIGQpe3ZhciBjPWJbXCJ0YWdfXCIrYV07dGhpcy5hZGQoYSxkW2FdLmJ1aWxkUHJldmlldyhjKSxjKX19LG9uQ2xpY2s6ZnVuY3Rpb24oYil7YS5mb2N1cygpO2EuZmlyZShcInNhdmVTbmFwc2hvdFwiKTtiPWRbYl07dmFyIGM9YS5lbGVtZW50UGF0aCgpO2FbYi5jaGVja0FjdGl2ZShjLGEpP1wicmVtb3ZlU3R5bGVcIjpcImFwcGx5U3R5bGVcIl0oYik7c2V0VGltZW91dChmdW5jdGlvbigpe2EuZmlyZShcInNhdmVTbmFwc2hvdFwiKX0sMCl9LG9uUmVuZGVyOmZ1bmN0aW9uKCl7YS5vbihcInNlbGVjdGlvbkNoYW5nZVwiLGZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuZ2V0VmFsdWUoKTtiPWIuZGF0YS5wYXRoO3RoaXMucmVmcmVzaCgpO2Zvcih2YXIgZiBpbiBkKWlmKGRbZl0uY2hlY2tBY3RpdmUoYixhKSl7ZiE9YyYmdGhpcy5zZXRWYWx1ZShmLGEubGFuZy5mb3JtYXRbXCJ0YWdfXCIrZl0pO3JldHVybn10aGlzLnNldFZhbHVlKFwiXCIpfSx0aGlzKX0sb25PcGVuOmZ1bmN0aW9uKCl7dGhpcy5zaG93QWxsKCk7XG5mb3IodmFyIGIgaW4gZClhLmFjdGl2ZUZpbHRlci5jaGVjayhkW2JdKXx8dGhpcy5oaWRlSXRlbShiKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBiPWEuZWxlbWVudFBhdGgoKTtpZihiKXtpZihiLmlzQ29udGV4dEZvcihcInBcIikpZm9yKHZhciBjIGluIGQpaWYoYS5hY3RpdmVGaWx0ZXIuY2hlY2soZFtjXSkpcmV0dXJuO3RoaXMuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpfX19KX19fSksQ0tFRElUT1IuY29uZmlnLmZvcm1hdF90YWdzPVwicDtoMTtoMjtoMztoNDtoNTtoNjtwcmU7YWRkcmVzcztkaXZcIixDS0VESVRPUi5jb25maWcuZm9ybWF0X3A9e2VsZW1lbnQ6XCJwXCJ9LENLRURJVE9SLmNvbmZpZy5mb3JtYXRfZGl2PXtlbGVtZW50OlwiZGl2XCJ9LENLRURJVE9SLmNvbmZpZy5mb3JtYXRfcHJlPXtlbGVtZW50OlwicHJlXCJ9LENLRURJVE9SLmNvbmZpZy5mb3JtYXRfYWRkcmVzcz17ZWxlbWVudDpcImFkZHJlc3NcIn0sQ0tFRElUT1IuY29uZmlnLmZvcm1hdF9oMT1cbntlbGVtZW50OlwiaDFcIn0sQ0tFRElUT1IuY29uZmlnLmZvcm1hdF9oMj17ZWxlbWVudDpcImgyXCJ9LENLRURJVE9SLmNvbmZpZy5mb3JtYXRfaDM9e2VsZW1lbnQ6XCJoM1wifSxDS0VESVRPUi5jb25maWcuZm9ybWF0X2g0PXtlbGVtZW50OlwiaDRcIn0sQ0tFRElUT1IuY29uZmlnLmZvcm1hdF9oNT17ZWxlbWVudDpcImg1XCJ9LENLRURJVE9SLmNvbmZpZy5mb3JtYXRfaDY9e2VsZW1lbnQ6XCJoNlwifSxmdW5jdGlvbigpe3ZhciBhPXtjYW5VbmRvOiExLGV4ZWM6ZnVuY3Rpb24oYSl7dmFyIGI9YS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaHJcIik7YS5pbnNlcnRFbGVtZW50KGIpfSxhbGxvd2VkQ29udGVudDpcImhyXCIscmVxdWlyZWRDb250ZW50OlwiaHJcIn07Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJob3Jpem9udGFscnVsZVwiLHtpbml0OmZ1bmN0aW9uKGUpe2UuYmxvY2tsZXNzfHwoZS5hZGRDb21tYW5kKFwiaG9yaXpvbnRhbHJ1bGVcIixhKSxlLnVpLmFkZEJ1dHRvbiYmZS51aS5hZGRCdXR0b24oXCJIb3Jpem9udGFsUnVsZVwiLFxue2xhYmVsOmUubGFuZy5ob3Jpem9udGFscnVsZS50b29sYmFyLGNvbW1hbmQ6XCJob3Jpem9udGFscnVsZVwiLHRvb2xiYXI6XCJpbnNlcnQsNDBcIn0pKX19KX0oKSxDS0VESVRPUi5wbHVnaW5zLmFkZChcImh0bWx3cml0ZXJcIix7aW5pdDpmdW5jdGlvbihhKXt2YXIgZT1uZXcgQ0tFRElUT1IuaHRtbFdyaXRlcjtlLmZvcmNlU2ltcGxlQW1wZXJzYW5kPWEuY29uZmlnLmZvcmNlU2ltcGxlQW1wZXJzYW5kO2UuaW5kZW50YXRpb25DaGFycz1hLmNvbmZpZy5kYXRhSW5kZW50YXRpb25DaGFyc3x8XCJcXHRcIjthLmRhdGFQcm9jZXNzb3Iud3JpdGVyPWV9fSksQ0tFRElUT1IuaHRtbFdyaXRlcj1DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7YmFzZTpDS0VESVRPUi5odG1sUGFyc2VyLmJhc2ljV3JpdGVyLCQ6ZnVuY3Rpb24oKXt0aGlzLmJhc2UoKTt0aGlzLmluZGVudGF0aW9uQ2hhcnM9XCJcXHRcIjt0aGlzLnNlbGZDbG9zaW5nRW5kPVwiIC9cXHgzZVwiO3RoaXMubGluZUJyZWFrQ2hhcnM9XCJcXG5cIjt0aGlzLnNvcnRBdHRyaWJ1dGVzPVxuMTt0aGlzLl8uaW5kZW50PTA7dGhpcy5fLmluZGVudGF0aW9uPVwiXCI7dGhpcy5fLmluUHJlPTA7dGhpcy5fLnJ1bGVzPXt9O3ZhciBhPUNLRURJVE9SLmR0ZCxlO2ZvcihlIGluIENLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxhLiRub25Cb2R5Q29udGVudCxhLiRibG9jayxhLiRsaXN0SXRlbSxhLiR0YWJsZUNvbnRlbnQpKXRoaXMuc2V0UnVsZXMoZSx7aW5kZW50OiFhW2VdW1wiI1wiXSxicmVha0JlZm9yZU9wZW46MSxicmVha0JlZm9yZUNsb3NlOiFhW2VdW1wiI1wiXSxicmVha0FmdGVyQ2xvc2U6MSxuZWVkc1NwYWNlOmUgaW4gYS4kYmxvY2smJiEoZSBpbntsaToxLGR0OjEsZGQ6MX0pfSk7dGhpcy5zZXRSdWxlcyhcImJyXCIse2JyZWFrQWZ0ZXJPcGVuOjF9KTt0aGlzLnNldFJ1bGVzKFwidGl0bGVcIix7aW5kZW50OjAsYnJlYWtBZnRlck9wZW46MH0pO3RoaXMuc2V0UnVsZXMoXCJzdHlsZVwiLHtpbmRlbnQ6MCxicmVha0JlZm9yZUNsb3NlOjF9KTt0aGlzLnNldFJ1bGVzKFwicHJlXCIse2JyZWFrQWZ0ZXJPcGVuOjEsXG5pbmRlbnQ6MH0pfSxwcm90bzp7b3BlblRhZzpmdW5jdGlvbihhKXt2YXIgZT10aGlzLl8ucnVsZXNbYV07dGhpcy5fLmFmdGVyQ2xvc2VyJiZlJiZlLm5lZWRzU3BhY2UmJnRoaXMuXy5uZWVkc1NwYWNlJiZ0aGlzLl8ub3V0cHV0LnB1c2goXCJcXG5cIik7dGhpcy5fLmluZGVudD90aGlzLmluZGVudGF0aW9uKCk6ZSYmZS5icmVha0JlZm9yZU9wZW4mJih0aGlzLmxpbmVCcmVhaygpLHRoaXMuaW5kZW50YXRpb24oKSk7dGhpcy5fLm91dHB1dC5wdXNoKFwiXFx4M2NcIixhKTt0aGlzLl8uYWZ0ZXJDbG9zZXI9MH0sb3BlblRhZ0Nsb3NlOmZ1bmN0aW9uKGEsZSl7dmFyIGI9dGhpcy5fLnJ1bGVzW2FdO2U/KHRoaXMuXy5vdXRwdXQucHVzaCh0aGlzLnNlbGZDbG9zaW5nRW5kKSxiJiZiLmJyZWFrQWZ0ZXJDbG9zZSYmKHRoaXMuXy5uZWVkc1NwYWNlPWIubmVlZHNTcGFjZSkpOih0aGlzLl8ub3V0cHV0LnB1c2goXCJcXHgzZVwiKSxiJiZiLmluZGVudCYmKHRoaXMuXy5pbmRlbnRhdGlvbis9dGhpcy5pbmRlbnRhdGlvbkNoYXJzKSk7XG5iJiZiLmJyZWFrQWZ0ZXJPcGVuJiZ0aGlzLmxpbmVCcmVhaygpO1wicHJlXCI9PWEmJih0aGlzLl8uaW5QcmU9MSl9LGF0dHJpYnV0ZTpmdW5jdGlvbihhLGUpe1wic3RyaW5nXCI9PXR5cGVvZiBlJiYodGhpcy5mb3JjZVNpbXBsZUFtcGVyc2FuZCYmKGU9ZS5yZXBsYWNlKC8mYW1wOy9nLFwiXFx4MjZcIikpLGU9Q0tFRElUT1IudG9vbHMuaHRtbEVuY29kZUF0dHIoZSkpO3RoaXMuXy5vdXRwdXQucHVzaChcIiBcIixhLCdcXHgzZFwiJyxlLCdcIicpfSxjbG9zZVRhZzpmdW5jdGlvbihhKXt2YXIgZT10aGlzLl8ucnVsZXNbYV07ZSYmZS5pbmRlbnQmJih0aGlzLl8uaW5kZW50YXRpb249dGhpcy5fLmluZGVudGF0aW9uLnN1YnN0cih0aGlzLmluZGVudGF0aW9uQ2hhcnMubGVuZ3RoKSk7dGhpcy5fLmluZGVudD90aGlzLmluZGVudGF0aW9uKCk6ZSYmZS5icmVha0JlZm9yZUNsb3NlJiYodGhpcy5saW5lQnJlYWsoKSx0aGlzLmluZGVudGF0aW9uKCkpO3RoaXMuXy5vdXRwdXQucHVzaChcIlxceDNjL1wiLGEsXG5cIlxceDNlXCIpO1wicHJlXCI9PWEmJih0aGlzLl8uaW5QcmU9MCk7ZSYmZS5icmVha0FmdGVyQ2xvc2UmJih0aGlzLmxpbmVCcmVhaygpLHRoaXMuXy5uZWVkc1NwYWNlPWUubmVlZHNTcGFjZSk7dGhpcy5fLmFmdGVyQ2xvc2VyPTF9LHRleHQ6ZnVuY3Rpb24oYSl7dGhpcy5fLmluZGVudCYmKHRoaXMuaW5kZW50YXRpb24oKSwhdGhpcy5fLmluUHJlJiYoYT1DS0VESVRPUi50b29scy5sdHJpbShhKSkpO3RoaXMuXy5vdXRwdXQucHVzaChhKX0sY29tbWVudDpmdW5jdGlvbihhKXt0aGlzLl8uaW5kZW50JiZ0aGlzLmluZGVudGF0aW9uKCk7dGhpcy5fLm91dHB1dC5wdXNoKFwiXFx4M2MhLS1cIixhLFwiLS1cXHgzZVwiKX0sbGluZUJyZWFrOmZ1bmN0aW9uKCl7IXRoaXMuXy5pblByZSYmMDx0aGlzLl8ub3V0cHV0Lmxlbmd0aCYmdGhpcy5fLm91dHB1dC5wdXNoKHRoaXMubGluZUJyZWFrQ2hhcnMpO3RoaXMuXy5pbmRlbnQ9MX0saW5kZW50YXRpb246ZnVuY3Rpb24oKXshdGhpcy5fLmluUHJlJiZ0aGlzLl8uaW5kZW50YXRpb24mJlxudGhpcy5fLm91dHB1dC5wdXNoKHRoaXMuXy5pbmRlbnRhdGlvbik7dGhpcy5fLmluZGVudD0wfSxyZXNldDpmdW5jdGlvbigpe3RoaXMuXy5vdXRwdXQ9W107dGhpcy5fLmluZGVudD0wO3RoaXMuXy5pbmRlbnRhdGlvbj1cIlwiO3RoaXMuXy5hZnRlckNsb3Nlcj0wO3RoaXMuXy5pblByZT0wO3RoaXMuXy5uZWVkc1NwYWNlPTB9LHNldFJ1bGVzOmZ1bmN0aW9uKGEsZSl7dmFyIGI9dGhpcy5fLnJ1bGVzW2FdO2I/Q0tFRElUT1IudG9vbHMuZXh0ZW5kKGIsZSwhMCk6dGhpcy5fLnJ1bGVzW2FdPWV9fX0pLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGMpe2N8fChjPWEuZ2V0U2VsZWN0aW9uKCkuZ2V0U2VsZWN0ZWRFbGVtZW50KCkpO2lmKGMmJmMuaXMoXCJpbWdcIikmJiFjLmRhdGEoXCJja2UtcmVhbGVsZW1lbnRcIikmJiFjLmlzUmVhZE9ubHkoKSlyZXR1cm4gY31mdW5jdGlvbiBlKGEpe3ZhciBjPWEuZ2V0U3R5bGUoXCJmbG9hdFwiKTtpZihcImluaGVyaXRcIj09Y3x8XCJub25lXCI9PWMpYz0wO2N8fFxuKGM9YS5nZXRBdHRyaWJ1dGUoXCJhbGlnblwiKSk7cmV0dXJuIGN9Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJpbWFnZVwiLHtyZXF1aXJlczpcImRpYWxvZ1wiLGluaXQ6ZnVuY3Rpb24oYil7aWYoIWIucGx1Z2lucy5pbWFnZTIpe0NLRURJVE9SLmRpYWxvZy5hZGQoXCJpbWFnZVwiLHRoaXMucGF0aCtcImRpYWxvZ3MvaW1hZ2UuanNcIik7dmFyIGM9XCJpbWdbYWx0LCFzcmNde2JvcmRlci1zdHlsZSxib3JkZXItd2lkdGgsZmxvYXQsaGVpZ2h0LG1hcmdpbixtYXJnaW4tYm90dG9tLG1hcmdpbi1sZWZ0LG1hcmdpbi1yaWdodCxtYXJnaW4tdG9wLHdpZHRofVwiO0NLRURJVE9SLmRpYWxvZy5pc1RhYkVuYWJsZWQoYixcImltYWdlXCIsXCJhZHZhbmNlZFwiKSYmKGM9XCJpbWdbYWx0LGRpcixpZCxsYW5nLGxvbmdkZXNjLCFzcmMsdGl0bGVdeyp9KCopXCIpO2IuYWRkQ29tbWFuZChcImltYWdlXCIsbmV3IENLRURJVE9SLmRpYWxvZ0NvbW1hbmQoXCJpbWFnZVwiLHthbGxvd2VkQ29udGVudDpjLHJlcXVpcmVkQ29udGVudDpcImltZ1thbHQsc3JjXVwiLFxuY29udGVudFRyYW5zZm9ybWF0aW9uczpbW1wiaW1ne3dpZHRofTogc2l6ZVRvU3R5bGVcIixcImltZ1t3aWR0aF06IHNpemVUb0F0dHJpYnV0ZVwiXSxbXCJpbWd7ZmxvYXR9OiBhbGlnbm1lbnRUb1N0eWxlXCIsXCJpbWdbYWxpZ25dOiBhbGlnbm1lbnRUb0F0dHJpYnV0ZVwiXV19KSk7Yi51aS5hZGRCdXR0b24mJmIudWkuYWRkQnV0dG9uKFwiSW1hZ2VcIix7bGFiZWw6Yi5sYW5nLmNvbW1vbi5pbWFnZSxjb21tYW5kOlwiaW1hZ2VcIix0b29sYmFyOlwiaW5zZXJ0LDEwXCJ9KTtiLm9uKFwiZG91YmxlY2xpY2tcIixmdW5jdGlvbihhKXt2YXIgYj1hLmRhdGEuZWxlbWVudDshYi5pcyhcImltZ1wiKXx8Yi5kYXRhKFwiY2tlLXJlYWxlbGVtZW50XCIpfHxiLmlzUmVhZE9ubHkoKXx8KGEuZGF0YS5kaWFsb2c9XCJpbWFnZVwiKX0pO2IuYWRkTWVudUl0ZW1zJiZiLmFkZE1lbnVJdGVtcyh7aW1hZ2U6e2xhYmVsOmIubGFuZy5pbWFnZS5tZW51LGNvbW1hbmQ6XCJpbWFnZVwiLGdyb3VwOlwiaW1hZ2VcIn19KTtiLmNvbnRleHRNZW51JiZcbmIuY29udGV4dE1lbnUuYWRkTGlzdGVuZXIoZnVuY3Rpb24oYyl7aWYoYShiLGMpKXJldHVybntpbWFnZTpDS0VESVRPUi5UUklTVEFURV9PRkZ9fSl9fSxhZnRlckluaXQ6ZnVuY3Rpb24oYil7ZnVuY3Rpb24gYyhjKXt2YXIgbD1iLmdldENvbW1hbmQoXCJqdXN0aWZ5XCIrYyk7aWYobCl7aWYoXCJsZWZ0XCI9PWN8fFwicmlnaHRcIj09YylsLm9uKFwiZXhlY1wiLGZ1bmN0aW9uKGwpe3ZhciBmPWEoYiksaDtmJiYoaD1lKGYpLGg9PWM/KGYucmVtb3ZlU3R5bGUoXCJmbG9hdFwiKSxjPT1lKGYpJiZmLnJlbW92ZUF0dHJpYnV0ZShcImFsaWduXCIpKTpmLnNldFN0eWxlKFwiZmxvYXRcIixjKSxsLmNhbmNlbCgpKX0pO2wub24oXCJyZWZyZXNoXCIsZnVuY3Rpb24obCl7dmFyIGY9YShiKTtmJiYoZj1lKGYpLHRoaXMuc2V0U3RhdGUoZj09Yz9DS0VESVRPUi5UUklTVEFURV9PTjpcInJpZ2h0XCI9PWN8fFwibGVmdFwiPT1jP0NLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCksbC5jYW5jZWwoKSl9KX19XG5iLnBsdWdpbnMuaW1hZ2UyfHwoYyhcImxlZnRcIiksYyhcInJpZ2h0XCIpLGMoXCJjZW50ZXJcIiksYyhcImJsb2NrXCIpKX19KX0oKSxDS0VESVRPUi5jb25maWcuaW1hZ2VfcmVtb3ZlTGlua0J5RW1wdHlVUkw9ITAsZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYil7dmFyIGQ9Yy5leGVjKGEpLGU9Yy5leGVjKGIpO2lmKGQpe2lmKCFkWzJdJiZcInB4XCI9PWVbMl0pcmV0dXJuIGVbMV07aWYoXCJweFwiPT1kWzJdJiYhZVsyXSlyZXR1cm4gZVsxXStcInB4XCJ9cmV0dXJuIGJ9dmFyIGU9Q0tFRElUT1IuaHRtbFBhcnNlci5jc3NTdHlsZSxiPUNLRURJVE9SLnRvb2xzLmNzc0xlbmd0aCxjPS9eKCg/OlxcZCooPzpcXC5cXGQrKSl8KD86XFxkKykpKC4qKT8kL2ksZD17ZWxlbWVudHM6eyQ6ZnVuY3Rpb24oYil7dmFyIGM9Yi5hdHRyaWJ1dGVzO2lmKChjPShjPShjPWMmJmNbXCJkYXRhLWNrZS1yZWFsZWxlbWVudFwiXSkmJm5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50LmZyb21IdG1sKGRlY29kZVVSSUNvbXBvbmVudChjKSkpJiZcbmMuY2hpbGRyZW5bMF0pJiZiLmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS1yZXNpemFibGVcIl0pe3ZhciBkPShuZXcgZShiKSkucnVsZXM7Yj1jLmF0dHJpYnV0ZXM7dmFyIGg9ZC53aWR0aCxkPWQuaGVpZ2h0O2gmJihiLndpZHRoPWEoYi53aWR0aCxoKSk7ZCYmKGIuaGVpZ2h0PWEoYi5oZWlnaHQsZCkpfXJldHVybiBjfX19O0NLRURJVE9SLnBsdWdpbnMuYWRkKFwiZmFrZW9iamVjdHNcIix7aW5pdDpmdW5jdGlvbihhKXthLmZpbHRlci5hbGxvdyhcImltZ1shZGF0YS1ja2UtcmVhbGVsZW1lbnQsc3JjLGFsdCx0aXRsZV0oKil7Kn1cIixcImZha2VvYmplY3RzXCIpfSxhZnRlckluaXQ6ZnVuY3Rpb24oYSl7KGE9KGE9YS5kYXRhUHJvY2Vzc29yKSYmYS5odG1sRmlsdGVyKSYmYS5hZGRSdWxlcyhkLHthcHBseVRvQWxsOiEwfSl9fSk7Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5jcmVhdGVGYWtlRWxlbWVudD1mdW5jdGlvbihhLGMsZCxoKXt2YXIgaz10aGlzLmxhbmcuZmFrZW9iamVjdHMsaz1rW2RdfHxcbmsudW5rbm93bjtjPXtcImNsYXNzXCI6YyxcImRhdGEtY2tlLXJlYWxlbGVtZW50XCI6ZW5jb2RlVVJJQ29tcG9uZW50KGEuZ2V0T3V0ZXJIdG1sKCkpLFwiZGF0YS1ja2UtcmVhbC1ub2RlLXR5cGVcIjphLnR5cGUsYWx0OmssdGl0bGU6ayxhbGlnbjphLmdldEF0dHJpYnV0ZShcImFsaWduXCIpfHxcIlwifTtDS0VESVRPUi5lbnYuaGN8fChjLnNyYz1DS0VESVRPUi50b29scy50cmFuc3BhcmVudEltYWdlRGF0YSk7ZCYmKGNbXCJkYXRhLWNrZS1yZWFsLWVsZW1lbnQtdHlwZVwiXT1kKTtoJiYoY1tcImRhdGEtY2tlLXJlc2l6YWJsZVwiXT1oLGQ9bmV3IGUsaD1hLmdldEF0dHJpYnV0ZShcIndpZHRoXCIpLGE9YS5nZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiksaCYmKGQucnVsZXMud2lkdGg9YihoKSksYSYmKGQucnVsZXMuaGVpZ2h0PWIoYSkpLGQucG9wdWxhdGUoYykpO3JldHVybiB0aGlzLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIix7YXR0cmlidXRlczpjfSl9O0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuY3JlYXRlRmFrZVBhcnNlckVsZW1lbnQ9XG5mdW5jdGlvbihhLGMsZCxoKXt2YXIgaz10aGlzLmxhbmcuZmFrZW9iamVjdHMsaz1rW2RdfHxrLnVua25vd24sZztnPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmJhc2ljV3JpdGVyO2Eud3JpdGVIdG1sKGcpO2c9Zy5nZXRIdG1sKCk7Yz17XCJjbGFzc1wiOmMsXCJkYXRhLWNrZS1yZWFsZWxlbWVudFwiOmVuY29kZVVSSUNvbXBvbmVudChnKSxcImRhdGEtY2tlLXJlYWwtbm9kZS10eXBlXCI6YS50eXBlLGFsdDprLHRpdGxlOmssYWxpZ246YS5hdHRyaWJ1dGVzLmFsaWdufHxcIlwifTtDS0VESVRPUi5lbnYuaGN8fChjLnNyYz1DS0VESVRPUi50b29scy50cmFuc3BhcmVudEltYWdlRGF0YSk7ZCYmKGNbXCJkYXRhLWNrZS1yZWFsLWVsZW1lbnQtdHlwZVwiXT1kKTtoJiYoY1tcImRhdGEtY2tlLXJlc2l6YWJsZVwiXT1oLGg9YS5hdHRyaWJ1dGVzLGE9bmV3IGUsZD1oLndpZHRoLGg9aC5oZWlnaHQsdm9pZCAwIT09ZCYmKGEucnVsZXMud2lkdGg9YihkKSksdm9pZCAwIT09aCYmKGEucnVsZXMuaGVpZ2h0PVxuYihoKSksYS5wb3B1bGF0ZShjKSk7cmV0dXJuIG5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQoXCJpbWdcIixjKX07Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5yZXN0b3JlUmVhbEVsZW1lbnQ9ZnVuY3Rpb24oYil7aWYoYi5kYXRhKFwiY2tlLXJlYWwtbm9kZS10eXBlXCIpIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpcmV0dXJuIG51bGw7dmFyIGM9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoZGVjb2RlVVJJQ29tcG9uZW50KGIuZGF0YShcImNrZS1yZWFsZWxlbWVudFwiKSksdGhpcy5kb2N1bWVudCk7aWYoYi5kYXRhKFwiY2tlLXJlc2l6YWJsZVwiKSl7dmFyIGQ9Yi5nZXRTdHlsZShcIndpZHRoXCIpO2I9Yi5nZXRTdHlsZShcImhlaWdodFwiKTtkJiZjLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsYShjLmdldEF0dHJpYnV0ZShcIndpZHRoXCIpLGQpKTtiJiZjLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLGEoYy5nZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiksYikpfXJldHVybiBjfX0oKSxcblwidXNlIHN0cmljdFwiLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtyZXR1cm4gYS5yZXBsYWNlKC8nL2csXCJcXFxcJFxceDI2XCIpfWZ1bmN0aW9uIGUoYSl7Zm9yKHZhciBiLGM9YS5sZW5ndGgsZD1bXSxmPTA7ZjxjO2YrKyliPWEuY2hhckNvZGVBdChmKSxkLnB1c2goYik7cmV0dXJuXCJTdHJpbmcuZnJvbUNoYXJDb2RlKFwiK2Quam9pbihcIixcIikrXCIpXCJ9ZnVuY3Rpb24gYihiLGMpe3ZhciBkPWIucGx1Z2lucy5saW5rLGY9ZC5jb21waWxlZFByb3RlY3Rpb25GdW5jdGlvbi5wYXJhbXMsZSxoO2g9W2QuY29tcGlsZWRQcm90ZWN0aW9uRnVuY3Rpb24ubmFtZSxcIihcIl07Zm9yKHZhciBnPTA7ZzxmLmxlbmd0aDtnKyspZD1mW2ddLnRvTG93ZXJDYXNlKCksZT1jW2RdLDA8ZyYmaC5wdXNoKFwiLFwiKSxoLnB1c2goXCInXCIsZT9hKGVuY29kZVVSSUNvbXBvbmVudChjW2RdKSk6XCJcIixcIidcIik7aC5wdXNoKFwiKVwiKTtyZXR1cm4gaC5qb2luKFwiXCIpfWZ1bmN0aW9uIGMoYSl7YT1hLmNvbmZpZy5lbWFpbFByb3RlY3Rpb258fFxuXCJcIjt2YXIgYjthJiZcImVuY29kZVwiIT1hJiYoYj17fSxhLnJlcGxhY2UoL14oW14oXSspXFwoKFteKV0rKVxcKSQvLGZ1bmN0aW9uKGEsYyxkKXtiLm5hbWU9YztiLnBhcmFtcz1bXTtkLnJlcGxhY2UoL1teLFxcc10rL2csZnVuY3Rpb24oYSl7Yi5wYXJhbXMucHVzaChhKX0pfSkpO3JldHVybiBifUNLRURJVE9SLnBsdWdpbnMuYWRkKFwibGlua1wiLHtyZXF1aXJlczpcImRpYWxvZyxmYWtlb2JqZWN0c1wiLG9uTG9hZDpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYil7cmV0dXJuIGMucmVwbGFjZSgvJTEvZyxcInJ0bFwiPT1iP1wicmlnaHRcIjpcImxlZnRcIikucmVwbGFjZSgvJTIvZyxcImNrZV9jb250ZW50c19cIitiKX12YXIgYj1cImJhY2tncm91bmQ6dXJsKFwiK0NLRURJVE9SLmdldFVybCh0aGlzLnBhdGgrXCJpbWFnZXNcIisoQ0tFRElUT1IuZW52LmhpZHBpP1wiL2hpZHBpXCI6XCJcIikrXCIvYW5jaG9yLnBuZ1wiKStcIikgbm8tcmVwZWF0ICUxIGNlbnRlcjtib3JkZXI6MXB4IGRvdHRlZCAjMDBmO2JhY2tncm91bmQtc2l6ZToxNnB4O1wiLFxuYz1cIi4lMiBhLmNrZV9hbmNob3IsLiUyIGEuY2tlX2FuY2hvcl9lbXB0eSwuY2tlX2VkaXRhYmxlLiUyIGFbbmFtZV0sLmNrZV9lZGl0YWJsZS4lMiBhW2RhdGEtY2tlLXNhdmVkLW5hbWVde1wiK2IrXCJwYWRkaW5nLSUxOjE4cHg7Y3Vyc29yOmF1dG87fS4lMiBpbWcuY2tlX2FuY2hvcntcIitiK1wid2lkdGg6MTZweDttaW4taGVpZ2h0OjE1cHg7aGVpZ2h0OjEuMTVlbTt2ZXJ0aWNhbC1hbGlnbjp0ZXh0LWJvdHRvbTt9XCI7Q0tFRElUT1IuYWRkQ3NzKGEoXCJsdHJcIikrYShcInJ0bFwiKSl9LGluaXQ6ZnVuY3Rpb24oYSl7dmFyIGI9XCJhWyFocmVmXVwiO0NLRURJVE9SLmRpYWxvZy5pc1RhYkVuYWJsZWQoYSxcImxpbmtcIixcImFkdmFuY2VkXCIpJiYoYj1iLnJlcGxhY2UoXCJdXCIsXCIsYWNjZXNza2V5LGNoYXJzZXQsZGlyLGlkLGxhbmcsbmFtZSxyZWwsdGFiaW5kZXgsdGl0bGUsdHlwZV17Kn0oKilcIikpO0NLRURJVE9SLmRpYWxvZy5pc1RhYkVuYWJsZWQoYSxcImxpbmtcIixcInRhcmdldFwiKSYmKGI9Yi5yZXBsYWNlKFwiXVwiLFxuXCIsdGFyZ2V0LG9uY2xpY2tdXCIpKTthLmFkZENvbW1hbmQoXCJsaW5rXCIsbmV3IENLRURJVE9SLmRpYWxvZ0NvbW1hbmQoXCJsaW5rXCIse2FsbG93ZWRDb250ZW50OmIscmVxdWlyZWRDb250ZW50OlwiYVtocmVmXVwifSkpO2EuYWRkQ29tbWFuZChcImFuY2hvclwiLG5ldyBDS0VESVRPUi5kaWFsb2dDb21tYW5kKFwiYW5jaG9yXCIse2FsbG93ZWRDb250ZW50OlwiYVshbmFtZSxpZF1cIixyZXF1aXJlZENvbnRlbnQ6XCJhW25hbWVdXCJ9KSk7YS5hZGRDb21tYW5kKFwidW5saW5rXCIsbmV3IENLRURJVE9SLnVubGlua0NvbW1hbmQpO2EuYWRkQ29tbWFuZChcInJlbW92ZUFuY2hvclwiLG5ldyBDS0VESVRPUi5yZW1vdmVBbmNob3JDb21tYW5kKTthLnNldEtleXN0cm9rZShDS0VESVRPUi5DVFJMKzc2LFwibGlua1wiKTthLnVpLmFkZEJ1dHRvbiYmKGEudWkuYWRkQnV0dG9uKFwiTGlua1wiLHtsYWJlbDphLmxhbmcubGluay50b29sYmFyLGNvbW1hbmQ6XCJsaW5rXCIsdG9vbGJhcjpcImxpbmtzLDEwXCJ9KSxhLnVpLmFkZEJ1dHRvbihcIlVubGlua1wiLFxue2xhYmVsOmEubGFuZy5saW5rLnVubGluayxjb21tYW5kOlwidW5saW5rXCIsdG9vbGJhcjpcImxpbmtzLDIwXCJ9KSxhLnVpLmFkZEJ1dHRvbihcIkFuY2hvclwiLHtsYWJlbDphLmxhbmcubGluay5hbmNob3IudG9vbGJhcixjb21tYW5kOlwiYW5jaG9yXCIsdG9vbGJhcjpcImxpbmtzLDMwXCJ9KSk7Q0tFRElUT1IuZGlhbG9nLmFkZChcImxpbmtcIix0aGlzLnBhdGgrXCJkaWFsb2dzL2xpbmsuanNcIik7Q0tFRElUT1IuZGlhbG9nLmFkZChcImFuY2hvclwiLHRoaXMucGF0aCtcImRpYWxvZ3MvYW5jaG9yLmpzXCIpO2Eub24oXCJkb3VibGVjbGlja1wiLGZ1bmN0aW9uKGIpe3ZhciBjPUNLRURJVE9SLnBsdWdpbnMubGluay5nZXRTZWxlY3RlZExpbmsoYSl8fGIuZGF0YS5lbGVtZW50O2MuaXNSZWFkT25seSgpfHwoYy5pcyhcImFcIik/KGIuZGF0YS5kaWFsb2c9IWMuZ2V0QXR0cmlidXRlKFwibmFtZVwiKXx8Yy5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpJiZjLmdldENoaWxkQ291bnQoKT9cImxpbmtcIjpcImFuY2hvclwiLGIuZGF0YS5saW5rPVxuYyk6Q0tFRElUT1IucGx1Z2lucy5saW5rLnRyeVJlc3RvcmVGYWtlQW5jaG9yKGEsYykmJihiLmRhdGEuZGlhbG9nPVwiYW5jaG9yXCIpKX0sbnVsbCxudWxsLDApO2Eub24oXCJkb3VibGVjbGlja1wiLGZ1bmN0aW9uKGIpe2IuZGF0YS5kaWFsb2cgaW57bGluazoxLGFuY2hvcjoxfSYmYi5kYXRhLmxpbmsmJmEuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0RWxlbWVudChiLmRhdGEubGluayl9LG51bGwsbnVsbCwyMCk7YS5hZGRNZW51SXRlbXMmJmEuYWRkTWVudUl0ZW1zKHthbmNob3I6e2xhYmVsOmEubGFuZy5saW5rLmFuY2hvci5tZW51LGNvbW1hbmQ6XCJhbmNob3JcIixncm91cDpcImFuY2hvclwiLG9yZGVyOjF9LHJlbW92ZUFuY2hvcjp7bGFiZWw6YS5sYW5nLmxpbmsuYW5jaG9yLnJlbW92ZSxjb21tYW5kOlwicmVtb3ZlQW5jaG9yXCIsZ3JvdXA6XCJhbmNob3JcIixvcmRlcjo1fSxsaW5rOntsYWJlbDphLmxhbmcubGluay5tZW51LGNvbW1hbmQ6XCJsaW5rXCIsZ3JvdXA6XCJsaW5rXCIsb3JkZXI6MX0sdW5saW5rOntsYWJlbDphLmxhbmcubGluay51bmxpbmssXG5jb21tYW5kOlwidW5saW5rXCIsZ3JvdXA6XCJsaW5rXCIsb3JkZXI6NX19KTthLmNvbnRleHRNZW51JiZhLmNvbnRleHRNZW51LmFkZExpc3RlbmVyKGZ1bmN0aW9uKGIpe2lmKCFifHxiLmlzUmVhZE9ubHkoKSlyZXR1cm4gbnVsbDtiPUNLRURJVE9SLnBsdWdpbnMubGluay50cnlSZXN0b3JlRmFrZUFuY2hvcihhLGIpO2lmKCFiJiYhKGI9Q0tFRElUT1IucGx1Z2lucy5saW5rLmdldFNlbGVjdGVkTGluayhhKSkpcmV0dXJuIG51bGw7dmFyIGM9e307Yi5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpJiZiLmdldENoaWxkQ291bnQoKSYmKGM9e2xpbms6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGLHVubGluazpDS0VESVRPUi5UUklTVEFURV9PRkZ9KTtiJiZiLmhhc0F0dHJpYnV0ZShcIm5hbWVcIikmJihjLmFuY2hvcj1jLnJlbW92ZUFuY2hvcj1DS0VESVRPUi5UUklTVEFURV9PRkYpO3JldHVybiBjfSk7dGhpcy5jb21waWxlZFByb3RlY3Rpb25GdW5jdGlvbj1jKGEpfSxhZnRlckluaXQ6ZnVuY3Rpb24oYSl7YS5kYXRhUHJvY2Vzc29yLmRhdGFGaWx0ZXIuYWRkUnVsZXMoe2VsZW1lbnRzOnthOmZ1bmN0aW9uKGIpe3JldHVybiBiLmF0dHJpYnV0ZXMubmFtZT9cbmIuY2hpbGRyZW4ubGVuZ3RoP251bGw6YS5jcmVhdGVGYWtlUGFyc2VyRWxlbWVudChiLFwiY2tlX2FuY2hvclwiLFwiYW5jaG9yXCIpOm51bGx9fX0pO3ZhciBiPWEuXy5lbGVtZW50c1BhdGgmJmEuXy5lbGVtZW50c1BhdGguZmlsdGVycztiJiZiLnB1c2goZnVuY3Rpb24oYixjKXtpZihcImFcIj09YyYmKENLRURJVE9SLnBsdWdpbnMubGluay50cnlSZXN0b3JlRmFrZUFuY2hvcihhLGIpfHxiLmdldEF0dHJpYnV0ZShcIm5hbWVcIikmJighYi5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpfHwhYi5nZXRDaGlsZENvdW50KCkpKSlyZXR1cm5cImFuY2hvclwifSl9fSk7dmFyIGQ9L15qYXZhc2NyaXB0Oi8sbD0vXm1haWx0bzooW14/XSspKD86XFw/KC4rKSk/JC8sbT0vc3ViamVjdD0oW147PzpAJj0kLFxcL10qKS9pLGY9L2JvZHk9KFteOz86QCY9JCxcXC9dKikvaSxoPS9eIyguKikkLyxrPS9eKCg/Omh0dHB8aHR0cHN8ZnRwfG5ld3MpOlxcL1xcLyk/KC4qKSQvLGc9L14oXyg/OnNlbGZ8dG9wfHBhcmVudHxibGFuaykpJC8sXG5uPS9eamF2YXNjcmlwdDp2b2lkXFwobG9jYXRpb25cXC5ocmVmPSdtYWlsdG86J1xcK1N0cmluZ1xcLmZyb21DaGFyQ29kZVxcKChbXildKylcXCkoPzpcXCsnKC4qKScpP1xcKSQvLHY9L15qYXZhc2NyaXB0OihbXihdKylcXCgoW14pXSspXFwpJC8scj0vXFxzKndpbmRvdy5vcGVuXFwoXFxzKnRoaXNcXC5ocmVmXFxzKixcXHMqKD86JyhbXiddKiknfG51bGwpXFxzKixcXHMqJyhbXiddKiknXFxzKlxcKVxccyo7XFxzKnJldHVyblxccypmYWxzZTsqXFxzKi8scT0vKD86XnwsKShbXj1dKyk9KFxcZCt8eWVzfG5vKS9naSx0PXtpZDpcImFkdklkXCIsZGlyOlwiYWR2TGFuZ0RpclwiLGFjY2Vzc0tleTpcImFkdkFjY2Vzc0tleVwiLG5hbWU6XCJhZHZOYW1lXCIsbGFuZzpcImFkdkxhbmdDb2RlXCIsdGFiaW5kZXg6XCJhZHZUYWJJbmRleFwiLHRpdGxlOlwiYWR2VGl0bGVcIix0eXBlOlwiYWR2Q29udGVudFR5cGVcIixcImNsYXNzXCI6XCJhZHZDU1NDbGFzc2VzXCIsY2hhcnNldDpcImFkdkNoYXJzZXRcIixzdHlsZTpcImFkdlN0eWxlc1wiLHJlbDpcImFkdlJlbFwifTtcbkNLRURJVE9SLnBsdWdpbnMubGluaz17Z2V0U2VsZWN0ZWRMaW5rOmZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2V0U2VsZWN0aW9uKCksYz1iLmdldFNlbGVjdGVkRWxlbWVudCgpO3JldHVybiBjJiZjLmlzKFwiYVwiKT9jOihiPWIuZ2V0UmFuZ2VzKClbMF0pPyhiLnNocmluayhDS0VESVRPUi5TSFJJTktfVEVYVCksYS5lbGVtZW50UGF0aChiLmdldENvbW1vbkFuY2VzdG9yKCkpLmNvbnRhaW5zKFwiYVwiLDEpKTpudWxsfSxnZXRFZGl0b3JBbmNob3JzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hLmVkaXRhYmxlKCksYz1iLmlzSW5saW5lKCkmJiFhLnBsdWdpbnMuZGl2YXJlYT9hLmRvY3VtZW50OmIsYj1jLmdldEVsZW1lbnRzQnlUYWcoXCJhXCIpLGM9Yy5nZXRFbGVtZW50c0J5VGFnKFwiaW1nXCIpLGQ9W10sZj0wLGU7ZT1iLmdldEl0ZW0oZisrKTspKGUuZGF0YShcImNrZS1zYXZlZC1uYW1lXCIpfHxlLmhhc0F0dHJpYnV0ZShcIm5hbWVcIikpJiZkLnB1c2goe25hbWU6ZS5kYXRhKFwiY2tlLXNhdmVkLW5hbWVcIil8fFxuZS5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpLGlkOmUuZ2V0QXR0cmlidXRlKFwiaWRcIil9KTtmb3IoZj0wO2U9Yy5nZXRJdGVtKGYrKyk7KShlPXRoaXMudHJ5UmVzdG9yZUZha2VBbmNob3IoYSxlKSkmJmQucHVzaCh7bmFtZTplLmdldEF0dHJpYnV0ZShcIm5hbWVcIiksaWQ6ZS5nZXRBdHRyaWJ1dGUoXCJpZFwiKX0pO3JldHVybiBkfSxmYWtlQW5jaG9yOiEwLHRyeVJlc3RvcmVGYWtlQW5jaG9yOmZ1bmN0aW9uKGEsYil7aWYoYiYmYi5kYXRhKFwiY2tlLXJlYWwtZWxlbWVudC10eXBlXCIpJiZcImFuY2hvclwiPT1iLmRhdGEoXCJja2UtcmVhbC1lbGVtZW50LXR5cGVcIikpe3ZhciBjPWEucmVzdG9yZVJlYWxFbGVtZW50KGIpO2lmKGMuZGF0YShcImNrZS1zYXZlZC1uYW1lXCIpKXJldHVybiBjfX0scGFyc2VMaW5rQXR0cmlidXRlczpmdW5jdGlvbihhLGIpe3ZhciBjPWImJihiLmRhdGEoXCJja2Utc2F2ZWQtaHJlZlwiKXx8Yi5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpKXx8XCJcIixlPWEucGx1Z2lucy5saW5rLmNvbXBpbGVkUHJvdGVjdGlvbkZ1bmN0aW9uLFxudT1hLmNvbmZpZy5lbWFpbFByb3RlY3Rpb24seCxEPXt9O2MubWF0Y2goZCkmJihcImVuY29kZVwiPT11P2M9Yy5yZXBsYWNlKG4sZnVuY3Rpb24oYSxiLGMpe2M9Y3x8XCJcIjtyZXR1cm5cIm1haWx0bzpcIitTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxiLnNwbGl0KFwiLFwiKSkrYy5yZXBsYWNlKC9cXFxcJy9nLFwiJ1wiKX0pOnUmJmMucmVwbGFjZSh2LGZ1bmN0aW9uKGEsYixjKXtpZihiPT1lLm5hbWUpe0QudHlwZT1cImVtYWlsXCI7YT1ELmVtYWlsPXt9O2I9LyheJyl8KCckKS9nO2M9Yy5tYXRjaCgvW14sXFxzXSsvZyk7Zm9yKHZhciBkPWMubGVuZ3RoLGYsaCxnPTA7ZzxkO2crKylmPWRlY29kZVVSSUNvbXBvbmVudCxoPWNbZ10ucmVwbGFjZShiLFwiXCIpLnJlcGxhY2UoL1xcXFwnL2csXCInXCIpLGg9ZihoKSxmPWUucGFyYW1zW2ddLnRvTG93ZXJDYXNlKCksYVtmXT1oO2EuYWRkcmVzcz1bYS5uYW1lLGEuZG9tYWluXS5qb2luKFwiQFwiKX19KSk7aWYoIUQudHlwZSlpZih1PWMubWF0Y2goaCkpRC50eXBlPVxuXCJhbmNob3JcIixELmFuY2hvcj17fSxELmFuY2hvci5uYW1lPUQuYW5jaG9yLmlkPXVbMV07ZWxzZSBpZih1PWMubWF0Y2gobCkpe3g9Yy5tYXRjaChtKTtjPWMubWF0Y2goZik7RC50eXBlPVwiZW1haWxcIjt2YXIgeT1ELmVtYWlsPXt9O3kuYWRkcmVzcz11WzFdO3gmJih5LnN1YmplY3Q9ZGVjb2RlVVJJQ29tcG9uZW50KHhbMV0pKTtjJiYoeS5ib2R5PWRlY29kZVVSSUNvbXBvbmVudChjWzFdKSl9ZWxzZSBjJiYoeD1jLm1hdGNoKGspKSYmKEQudHlwZT1cInVybFwiLEQudXJsPXt9LEQudXJsLnByb3RvY29sPXhbMV0sRC51cmwudXJsPXhbMl0pO2lmKGIpe2lmKGM9Yi5nZXRBdHRyaWJ1dGUoXCJ0YXJnZXRcIikpRC50YXJnZXQ9e3R5cGU6Yy5tYXRjaChnKT9jOlwiZnJhbWVcIixuYW1lOmN9O2Vsc2UgaWYoYz0oYz1iLmRhdGEoXCJja2UtcGEtb25jbGlja1wiKXx8Yi5nZXRBdHRyaWJ1dGUoXCJvbmNsaWNrXCIpKSYmYy5tYXRjaChyKSlmb3IoRC50YXJnZXQ9e3R5cGU6XCJwb3B1cFwiLG5hbWU6Y1sxXX07dT1cbnEuZXhlYyhjWzJdKTspXCJ5ZXNcIiE9dVsyXSYmXCIxXCIhPXVbMl18fHVbMV1pbntoZWlnaHQ6MSx3aWR0aDoxLHRvcDoxLGxlZnQ6MX0/aXNGaW5pdGUodVsyXSkmJihELnRhcmdldFt1WzFdXT11WzJdKTpELnRhcmdldFt1WzFdXT0hMDt2YXIgYz17fSxCO2ZvcihCIGluIHQpKHU9Yi5nZXRBdHRyaWJ1dGUoQikpJiYoY1t0W0JdXT11KTtpZihCPWIuZGF0YShcImNrZS1zYXZlZC1uYW1lXCIpfHxjLmFkdk5hbWUpYy5hZHZOYW1lPUI7Q0tFRElUT1IudG9vbHMuaXNFbXB0eShjKXx8KEQuYWR2YW5jZWQ9Yyl9cmV0dXJuIER9LGdldExpbmtBdHRyaWJ1dGVzOmZ1bmN0aW9uKGMsZCl7dmFyIGY9Yy5jb25maWcuZW1haWxQcm90ZWN0aW9ufHxcIlwiLGg9e307c3dpdGNoKGQudHlwZSl7Y2FzZSBcInVybFwiOnZhciBmPWQudXJsJiZ2b2lkIDAhPT1kLnVybC5wcm90b2NvbD9kLnVybC5wcm90b2NvbDpcImh0dHA6Ly9cIixnPWQudXJsJiZDS0VESVRPUi50b29scy50cmltKGQudXJsLnVybCl8fFwiXCI7aFtcImRhdGEtY2tlLXNhdmVkLWhyZWZcIl09XG4wPT09Zy5pbmRleE9mKFwiL1wiKT9nOmYrZzticmVhaztjYXNlIFwiYW5jaG9yXCI6Zj1kLmFuY2hvciYmZC5hbmNob3IuaWQ7aFtcImRhdGEtY2tlLXNhdmVkLWhyZWZcIl09XCIjXCIrKGQuYW5jaG9yJiZkLmFuY2hvci5uYW1lfHxmfHxcIlwiKTticmVhaztjYXNlIFwiZW1haWxcIjp2YXIgaz1kLmVtYWlsLGc9ay5hZGRyZXNzO3N3aXRjaChmKXtjYXNlIFwiXCI6Y2FzZSBcImVuY29kZVwiOnZhciBsPWVuY29kZVVSSUNvbXBvbmVudChrLnN1YmplY3R8fFwiXCIpLG09ZW5jb2RlVVJJQ29tcG9uZW50KGsuYm9keXx8XCJcIiksaz1bXTtsJiZrLnB1c2goXCJzdWJqZWN0XFx4M2RcIitsKTttJiZrLnB1c2goXCJib2R5XFx4M2RcIittKTtrPWsubGVuZ3RoP1wiP1wiK2suam9pbihcIlxceDI2XCIpOlwiXCI7XCJlbmNvZGVcIj09Zj8oZj1bXCJqYXZhc2NyaXB0OnZvaWQobG9jYXRpb24uaHJlZlxceDNkJ21haWx0bzonK1wiLGUoZyldLGsmJmYucHVzaChcIisnXCIsYShrKSxcIidcIiksZi5wdXNoKFwiKVwiKSk6Zj1bXCJtYWlsdG86XCIsZyxrXTticmVhaztkZWZhdWx0OmY9XG5nLnNwbGl0KFwiQFwiLDIpLGsubmFtZT1mWzBdLGsuZG9tYWluPWZbMV0sZj1bXCJqYXZhc2NyaXB0OlwiLGIoYyxrKV19aFtcImRhdGEtY2tlLXNhdmVkLWhyZWZcIl09Zi5qb2luKFwiXCIpfWlmKGQudGFyZ2V0KWlmKFwicG9wdXBcIj09ZC50YXJnZXQudHlwZSl7Zm9yKHZhciBmPVtcIndpbmRvdy5vcGVuKHRoaXMuaHJlZiwgJ1wiLGQudGFyZ2V0Lm5hbWV8fFwiXCIsXCInLCAnXCJdLG49XCJyZXNpemFibGUgc3RhdHVzIGxvY2F0aW9uIHRvb2xiYXIgbWVudWJhciBmdWxsc2NyZWVuIHNjcm9sbGJhcnMgZGVwZW5kZW50XCIuc3BsaXQoXCIgXCIpLGc9bi5sZW5ndGgsbD1mdW5jdGlvbihhKXtkLnRhcmdldFthXSYmbi5wdXNoKGErXCJcXHgzZFwiK2QudGFyZ2V0W2FdKX0saz0wO2s8ZztrKyspbltrXSs9ZC50YXJnZXRbbltrXV0/XCJcXHgzZHllc1wiOlwiXFx4M2Rub1wiO2woXCJ3aWR0aFwiKTtsKFwibGVmdFwiKTtsKFwiaGVpZ2h0XCIpO2woXCJ0b3BcIik7Zi5wdXNoKG4uam9pbihcIixcIiksXCInKTsgcmV0dXJuIGZhbHNlO1wiKTtoW1wiZGF0YS1ja2UtcGEtb25jbGlja1wiXT1cbmYuam9pbihcIlwiKX1lbHNlXCJub3RTZXRcIiE9ZC50YXJnZXQudHlwZSYmZC50YXJnZXQubmFtZSYmKGgudGFyZ2V0PWQudGFyZ2V0Lm5hbWUpO2lmKGQuYWR2YW5jZWQpe2Zvcih2YXIgcSBpbiB0KShmPWQuYWR2YW5jZWRbdFtxXV0pJiYoaFtxXT1mKTtoLm5hbWUmJihoW1wiZGF0YS1ja2Utc2F2ZWQtbmFtZVwiXT1oLm5hbWUpfWhbXCJkYXRhLWNrZS1zYXZlZC1ocmVmXCJdJiYoaC5ocmVmPWhbXCJkYXRhLWNrZS1zYXZlZC1ocmVmXCJdKTtxPXt0YXJnZXQ6MSxvbmNsaWNrOjEsXCJkYXRhLWNrZS1wYS1vbmNsaWNrXCI6MSxcImRhdGEtY2tlLXNhdmVkLW5hbWVcIjoxfTtkLmFkdmFuY2VkJiZDS0VESVRPUi50b29scy5leHRlbmQocSx0KTtmb3IodmFyIHIgaW4gaClkZWxldGUgcVtyXTtyZXR1cm57c2V0OmgscmVtb3ZlZDpDS0VESVRPUi50b29scy5vYmplY3RLZXlzKHEpfX0sc2hvd0Rpc3BsYXlUZXh0Rm9yRWxlbWVudDpmdW5jdGlvbihhLGIpe3ZhciBjPXtpbWc6MSx0YWJsZToxLHRib2R5OjEsXG50aGVhZDoxLHRmb290OjEsaW5wdXQ6MSxzZWxlY3Q6MSx0ZXh0YXJlYToxfTtyZXR1cm4gYi53aWRnZXRzJiZiLndpZGdldHMuZm9jdXNlZD8hMTohYXx8IWEuZ2V0TmFtZXx8IWEuaXMoYyl9fTtDS0VESVRPUi51bmxpbmtDb21tYW5kPWZ1bmN0aW9uKCl7fTtDS0VESVRPUi51bmxpbmtDb21tYW5kLnByb3RvdHlwZT17ZXhlYzpmdW5jdGlvbihhKXt2YXIgYj1uZXcgQ0tFRElUT1Iuc3R5bGUoe2VsZW1lbnQ6XCJhXCIsdHlwZTpDS0VESVRPUi5TVFlMRV9JTkxJTkUsYWx3YXlzUmVtb3ZlRWxlbWVudDoxfSk7YS5yZW1vdmVTdHlsZShiKX0scmVmcmVzaDpmdW5jdGlvbihhLGIpe3ZhciBjPWIubGFzdEVsZW1lbnQmJmIubGFzdEVsZW1lbnQuZ2V0QXNjZW5kYW50KFwiYVwiLCEwKTtjJiZcImFcIj09Yy5nZXROYW1lKCkmJmMuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKSYmYy5nZXRDaGlsZENvdW50KCk/dGhpcy5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9PRkYpOnRoaXMuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpfSxcbmNvbnRleHRTZW5zaXRpdmU6MSxzdGFydERpc2FibGVkOjEscmVxdWlyZWRDb250ZW50OlwiYVtocmVmXVwifTtDS0VESVRPUi5yZW1vdmVBbmNob3JDb21tYW5kPWZ1bmN0aW9uKCl7fTtDS0VESVRPUi5yZW1vdmVBbmNob3JDb21tYW5kLnByb3RvdHlwZT17ZXhlYzpmdW5jdGlvbihhKXt2YXIgYj1hLmdldFNlbGVjdGlvbigpLGM9Yi5jcmVhdGVCb29rbWFya3MoKSxkO2lmKGImJihkPWIuZ2V0U2VsZWN0ZWRFbGVtZW50KCkpJiYoZC5nZXRDaGlsZENvdW50KCk/ZC5pcyhcImFcIik6Q0tFRElUT1IucGx1Z2lucy5saW5rLnRyeVJlc3RvcmVGYWtlQW5jaG9yKGEsZCkpKWQucmVtb3ZlKDEpO2Vsc2UgaWYoZD1DS0VESVRPUi5wbHVnaW5zLmxpbmsuZ2V0U2VsZWN0ZWRMaW5rKGEpKWQuaGFzQXR0cmlidXRlKFwiaHJlZlwiKT8oZC5yZW1vdmVBdHRyaWJ1dGVzKHtuYW1lOjEsXCJkYXRhLWNrZS1zYXZlZC1uYW1lXCI6MX0pLGQucmVtb3ZlQ2xhc3MoXCJja2VfYW5jaG9yXCIpKTpkLnJlbW92ZSgxKTtcbmIuc2VsZWN0Qm9va21hcmtzKGMpfSxyZXF1aXJlZENvbnRlbnQ6XCJhW25hbWVdXCJ9O0NLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5jb25maWcse2xpbmtTaG93QWR2YW5jZWRUYWI6ITAsbGlua1Nob3dUYXJnZXRUYWI6ITB9KX0oKSxcInVzZSBzdHJpY3RcIixmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiLGMpe3JldHVybiBuKGIpJiZuKGMpJiZjLmVxdWFscyhiLmdldE5leHQoZnVuY3Rpb24oYSl7cmV0dXJuIShaKGEpfHxYKGEpfHx2KGEpKX0pKX1mdW5jdGlvbiBlKGEpe3RoaXMudXBwZXI9YVswXTt0aGlzLmxvd2VyPWFbMV07dGhpcy5zZXQuYXBwbHkodGhpcyxhLnNsaWNlKDIpKX1mdW5jdGlvbiBiKGEpe3ZhciBiPWEuZWxlbWVudDtpZihiJiZuKGIpJiYoYj1iLmdldEFzY2VuZGFudChhLnRyaWdnZXJzLCEwKSkmJmEuZWRpdGFibGUuY29udGFpbnMoYikpe3ZhciBjPW0oYik7aWYoXCJ0cnVlXCI9PWMuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKXJldHVybiBiO1xuaWYoYy5pcyhhLnRyaWdnZXJzKSlyZXR1cm4gY31yZXR1cm4gbnVsbH1mdW5jdGlvbiBjKGEsYixjKXt1KGEsYik7dShhLGMpO2E9Yi5zaXplLmJvdHRvbTtjPWMuc2l6ZS50b3A7cmV0dXJuIGEmJmM/MHwoYStjKS8yOmF8fGN9ZnVuY3Rpb24gZChhLGIsYyl7cmV0dXJuIGI9YltjP1wiZ2V0UHJldmlvdXNcIjpcImdldE5leHRcIl0oZnVuY3Rpb24oYil7cmV0dXJuIGImJmIudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYhWihiKXx8bihiKSYmIXYoYikmJiFnKGEsYil9KX1mdW5jdGlvbiBsKGEsYixjKXtyZXR1cm4gYT5iJiZhPGN9ZnVuY3Rpb24gbShhLGIpe2lmKGEuZGF0YShcImNrZS1lZGl0YWJsZVwiKSlyZXR1cm4gbnVsbDtmb3IoYnx8KGE9YS5nZXRQYXJlbnQoKSk7YSYmIWEuZGF0YShcImNrZS1lZGl0YWJsZVwiKTspe2lmKGEuaGFzQXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKXJldHVybiBhO2E9YS5nZXRQYXJlbnQoKX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBmKGEpe3ZhciBiPVxuYS5kb2MsYz1GKCdcXHgzY3NwYW4gY29udGVudGVkaXRhYmxlXFx4M2RcImZhbHNlXCIgc3R5bGVcXHgzZFwiJytRK1wicG9zaXRpb246YWJzb2x1dGU7Ym9yZGVyLXRvcDoxcHggZGFzaGVkIFwiK2EuYm94Q29sb3IrJ1wiXFx4M2VcXHgzYy9zcGFuXFx4M2UnLGIpLGQ9Q0tFRElUT1IuZ2V0VXJsKHRoaXMucGF0aCtcImltYWdlcy9cIisoRS5oaWRwaT9cImhpZHBpL1wiOlwiXCIpK1wiaWNvblwiKyhhLnJ0bD9cIi1ydGxcIjpcIlwiKStcIi5wbmdcIik7QihjLHthdHRhY2g6ZnVuY3Rpb24oKXt0aGlzLndyYXAuZ2V0UGFyZW50KCl8fHRoaXMud3JhcC5hcHBlbmRUbyhhLmVkaXRhYmxlLCEwKTtyZXR1cm4gdGhpc30sbGluZUNoaWxkcmVuOltCKEYoJ1xceDNjc3BhbiB0aXRsZVxceDNkXCInK2EuZWRpdG9yLmxhbmcubWFnaWNsaW5lLnRpdGxlKydcIiBjb250ZW50ZWRpdGFibGVcXHgzZFwiZmFsc2VcIlxceDNlXFx4MjYjODYyOTtcXHgzYy9zcGFuXFx4M2UnLGIpLHtiYXNlOlErXCJoZWlnaHQ6MTdweDt3aWR0aDoxN3B4O1wiKyhhLnJ0bD9cImxlZnRcIjpcblwicmlnaHRcIikrXCI6MTdweDtiYWNrZ3JvdW5kOnVybChcIitkK1wiKSBjZW50ZXIgbm8tcmVwZWF0IFwiK2EuYm94Q29sb3IrXCI7Y3Vyc29yOnBvaW50ZXI7XCIrKEUuaGM/XCJmb250LXNpemU6IDE1cHg7bGluZS1oZWlnaHQ6MTRweDtib3JkZXI6MXB4IHNvbGlkICNmZmY7dGV4dC1hbGlnbjpjZW50ZXI7XCI6XCJcIikrKEUuaGlkcGk/XCJiYWNrZ3JvdW5kLXNpemU6IDlweCAxMHB4O1wiOlwiXCIpLGxvb2tzOltcInRvcDotOHB4OyBib3JkZXItcmFkaXVzOiAycHg7XCIsXCJ0b3A6LTE3cHg7IGJvcmRlci1yYWRpdXM6IDJweCAycHggMHB4IDBweDtcIixcInRvcDotMXB4OyBib3JkZXItcmFkaXVzOiAwcHggMHB4IDJweCAycHg7XCJdfSksQihGKFYsYikse2Jhc2U6WStcImxlZnQ6MHB4O2JvcmRlci1sZWZ0LWNvbG9yOlwiK2EuYm94Q29sb3IrXCI7XCIsbG9va3M6W1wiYm9yZGVyLXdpZHRoOjhweCAwIDhweCA4cHg7dG9wOi04cHhcIixcImJvcmRlci13aWR0aDo4cHggMCAwIDhweDt0b3A6LThweFwiLFwiYm9yZGVyLXdpZHRoOjAgMCA4cHggOHB4O3RvcDowcHhcIl19KSxcbkIoRihWLGIpLHtiYXNlOlkrXCJyaWdodDowcHg7Ym9yZGVyLXJpZ2h0LWNvbG9yOlwiK2EuYm94Q29sb3IrXCI7XCIsbG9va3M6W1wiYm9yZGVyLXdpZHRoOjhweCA4cHggOHB4IDA7dG9wOi04cHhcIixcImJvcmRlci13aWR0aDo4cHggOHB4IDAgMDt0b3A6LThweFwiLFwiYm9yZGVyLXdpZHRoOjAgOHB4IDhweCAwO3RvcDowcHhcIl19KV0sZGV0YWNoOmZ1bmN0aW9uKCl7dGhpcy53cmFwLmdldFBhcmVudCgpJiZ0aGlzLndyYXAucmVtb3ZlKCk7cmV0dXJuIHRoaXN9LG1vdXNlTmVhcjpmdW5jdGlvbigpe3UoYSx0aGlzKTt2YXIgYj1hLmhvbGREaXN0YW5jZSxjPXRoaXMuc2l6ZTtyZXR1cm4gYyYmbChhLm1vdXNlLnksYy50b3AtYixjLmJvdHRvbStiKSYmbChhLm1vdXNlLngsYy5sZWZ0LWIsYy5yaWdodCtiKT8hMDohMX0scGxhY2U6ZnVuY3Rpb24oKXt2YXIgYj1hLnZpZXcsYz1hLmVkaXRhYmxlLGQ9YS50cmlnZ2VyLGY9ZC51cHBlcixlPWQubG93ZXIsaD1mfHxlLGc9aC5nZXRQYXJlbnQoKSxcbms9e307dGhpcy50cmlnZ2VyPWQ7ZiYmdShhLGYsITApO2UmJnUoYSxlLCEwKTt1KGEsZywhMCk7YS5pbklubGluZU1vZGUmJngoYSwhMCk7Zy5lcXVhbHMoYyk/KGsubGVmdD1iLnNjcm9sbC54LGsucmlnaHQ9LWIuc2Nyb2xsLngsay53aWR0aD1cIlwiKTooay5sZWZ0PWguc2l6ZS5sZWZ0LWguc2l6ZS5tYXJnaW4ubGVmdCtiLnNjcm9sbC54LShhLmluSW5saW5lTW9kZT9iLmVkaXRhYmxlLmxlZnQrYi5lZGl0YWJsZS5ib3JkZXIubGVmdDowKSxrLndpZHRoPWguc2l6ZS5vdXRlcldpZHRoK2guc2l6ZS5tYXJnaW4ubGVmdCtoLnNpemUubWFyZ2luLnJpZ2h0K2Iuc2Nyb2xsLngsay5yaWdodD1cIlwiKTtmJiZlP2sudG9wPWYuc2l6ZS5tYXJnaW4uYm90dG9tPT09ZS5zaXplLm1hcmdpbi50b3A/MHxmLnNpemUuYm90dG9tK2Yuc2l6ZS5tYXJnaW4uYm90dG9tLzI6Zi5zaXplLm1hcmdpbi5ib3R0b208ZS5zaXplLm1hcmdpbi50b3A/Zi5zaXplLmJvdHRvbStmLnNpemUubWFyZ2luLmJvdHRvbTpcbmYuc2l6ZS5ib3R0b20rZi5zaXplLm1hcmdpbi5ib3R0b20tZS5zaXplLm1hcmdpbi50b3A6Zj9lfHwoay50b3A9Zi5zaXplLmJvdHRvbStmLnNpemUubWFyZ2luLmJvdHRvbSk6ay50b3A9ZS5zaXplLnRvcC1lLnNpemUubWFyZ2luLnRvcDtkLmlzKFQpfHxsKGsudG9wLGIuc2Nyb2xsLnktMTUsYi5zY3JvbGwueSs1KT8oay50b3A9YS5pbklubGluZU1vZGU/MDpiLnNjcm9sbC55LHRoaXMubG9vayhUKSk6ZC5pcyhPKXx8bChrLnRvcCxiLnBhbmUuYm90dG9tLTUsYi5wYW5lLmJvdHRvbSsxNSk/KGsudG9wPWEuaW5JbmxpbmVNb2RlP2IuZWRpdGFibGUuaGVpZ2h0K2IuZWRpdGFibGUucGFkZGluZy50b3ArYi5lZGl0YWJsZS5wYWRkaW5nLmJvdHRvbTpiLnBhbmUuYm90dG9tLTEsdGhpcy5sb29rKE8pKTooYS5pbklubGluZU1vZGUmJihrLnRvcC09Yi5lZGl0YWJsZS50b3ArYi5lZGl0YWJsZS5ib3JkZXIudG9wKSx0aGlzLmxvb2soSykpO2EuaW5JbmxpbmVNb2RlJiYoay50b3AtLSxcbmsudG9wKz1iLmVkaXRhYmxlLnNjcm9sbC50b3Asay5sZWZ0Kz1iLmVkaXRhYmxlLnNjcm9sbC5sZWZ0KTtmb3IodmFyIG0gaW4gaylrW21dPUNLRURJVE9SLnRvb2xzLmNzc0xlbmd0aChrW21dKTt0aGlzLnNldFN0eWxlcyhrKX0sbG9vazpmdW5jdGlvbihhKXtpZih0aGlzLm9sZExvb2shPWEpe2Zvcih2YXIgYj10aGlzLmxpbmVDaGlsZHJlbi5sZW5ndGgsYztiLS07KShjPXRoaXMubGluZUNoaWxkcmVuW2JdKS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLGMuYmFzZStjLmxvb2tzWzB8YS8yXSk7dGhpcy5vbGRMb29rPWF9fSx3cmFwOm5ldyBDKFwic3BhblwiLGEuZG9jKX0pO2ZvcihiPWMubGluZUNoaWxkcmVuLmxlbmd0aDtiLS07KWMubGluZUNoaWxkcmVuW2JdLmFwcGVuZFRvKGMpO2MubG9vayhLKTtjLmFwcGVuZFRvKGMud3JhcCk7Yy51bnNlbGVjdGFibGUoKTtjLmxpbmVDaGlsZHJlblswXS5vbihcIm1vdXNldXBcIixmdW5jdGlvbihiKXtjLmRldGFjaCgpO2goYSxmdW5jdGlvbihiKXt2YXIgYz1cbmEubGluZS50cmlnZ2VyO2JbYy5pcyhJKT9cImluc2VydEJlZm9yZVwiOlwiaW5zZXJ0QWZ0ZXJcIl0oYy5pcyhJKT9jLmxvd2VyOmMudXBwZXIpfSwhMCk7YS5lZGl0b3IuZm9jdXMoKTtFLmllfHxhLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfQlJ8fGEuaG90Tm9kZS5zY3JvbGxJbnRvVmlldygpO2IuZGF0YS5wcmV2ZW50RGVmYXVsdCghMCl9KTtjLm9uKFwibW91c2Vkb3duXCIsZnVuY3Rpb24oYSl7YS5kYXRhLnByZXZlbnREZWZhdWx0KCEwKX0pO2EubGluZT1jfWZ1bmN0aW9uIGgoYSxiLGMpe3ZhciBkPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UoYS5kb2MpLGY9YS5lZGl0b3IsZTtFLmllJiZhLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfQlI/ZT1hLmRvYy5jcmVhdGVUZXh0KGNhKTooZT0oZT1tKGEuZWxlbWVudCwhMCkpJiZlLmRhdGEoXCJja2UtZW50ZXItbW9kZVwiKXx8YS5lbnRlck1vZGUsZT1uZXcgQyhNW2VdLGEuZG9jKSxlLmlzKFwiYnJcIil8fGEuZG9jLmNyZWF0ZVRleHQoY2EpLmFwcGVuZFRvKGUpKTtcbmMmJmYuZmlyZShcInNhdmVTbmFwc2hvdFwiKTtiKGUpO2QubW92ZVRvUG9zaXRpb24oZSxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCk7Zi5nZXRTZWxlY3Rpb24oKS5zZWxlY3RSYW5nZXMoW2RdKTthLmhvdE5vZGU9ZTtjJiZmLmZpcmUoXCJzYXZlU25hcHNob3RcIil9ZnVuY3Rpb24gayhhLGMpe3JldHVybntjYW5VbmRvOiEwLG1vZGVzOnt3eXNpd3lnOjF9LGV4ZWM6ZnVuY3Rpb24oKXtmdW5jdGlvbiBmKGIpe3ZhciBkPUUuaWUmJjk+RS52ZXJzaW9uP1wiIFwiOmNhLGU9YS5ob3ROb2RlJiZhLmhvdE5vZGUuZ2V0VGV4dCgpPT1kJiZhLmVsZW1lbnQuZXF1YWxzKGEuaG90Tm9kZSkmJmEubGFzdENtZERpcmVjdGlvbj09PSEhYztoKGEsZnVuY3Rpb24oZCl7ZSYmYS5ob3ROb2RlJiZhLmhvdE5vZGUucmVtb3ZlKCk7ZFtjP1wiaW5zZXJ0QWZ0ZXJcIjpcImluc2VydEJlZm9yZVwiXShiKTtkLnNldEF0dHJpYnV0ZXMoe1wiZGF0YS1ja2UtbWFnaWNsaW5lLWhvdFwiOjEsXCJkYXRhLWNrZS1tYWdpY2xpbmUtZGlyXCI6ISFjfSk7XG5hLmxhc3RDbWREaXJlY3Rpb249ISFjfSk7RS5pZXx8YS5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX0JSfHxhLmhvdE5vZGUuc2Nyb2xsSW50b1ZpZXcoKTthLmxpbmUuZGV0YWNoKCl9cmV0dXJuIGZ1bmN0aW9uKGUpe2U9ZS5nZXRTZWxlY3Rpb24oKS5nZXRTdGFydEVsZW1lbnQoKTt2YXIgaDtlPWUuZ2V0QXNjZW5kYW50KE4sMSk7aWYoIXQoYSxlKSYmZSYmIWUuZXF1YWxzKGEuZWRpdGFibGUpJiYhZS5jb250YWlucyhhLmVkaXRhYmxlKSl7KGg9bShlKSkmJlwiZmFsc2VcIj09aC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikmJihlPWgpO2EuZWxlbWVudD1lO2g9ZChhLGUsIWMpO3ZhciBnO24oaCkmJmguaXMoYS50cmlnZ2VycykmJmguaXMoTCkmJighZChhLGgsIWMpfHwoZz1kKGEsaCwhYykpJiZuKGcpJiZnLmlzKGEudHJpZ2dlcnMpKT9mKGgpOihnPWIoYSxlKSxuKGcpJiYoZChhLGcsIWMpPyhlPWQoYSxnLCFjKSkmJm4oZSkmJmUuaXMoYS50cmlnZ2VycykmJmYoZyk6XG5mKGcpKSl9fX0oKX19ZnVuY3Rpb24gZyhhLGIpe2lmKCFifHxiLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVHx8IWIuJClyZXR1cm4hMTt2YXIgYz1hLmxpbmU7cmV0dXJuIGMud3JhcC5lcXVhbHMoYil8fGMud3JhcC5jb250YWlucyhiKX1mdW5jdGlvbiBuKGEpe3JldHVybiBhJiZhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS4kfWZ1bmN0aW9uIHYoYSl7aWYoIW4oYSkpcmV0dXJuITE7dmFyIGI7KGI9cihhKSl8fChuKGEpPyhiPXtsZWZ0OjEscmlnaHQ6MSxjZW50ZXI6MX0sYj0hKCFiW2EuZ2V0Q29tcHV0ZWRTdHlsZShcImZsb2F0XCIpXSYmIWJbYS5nZXRBdHRyaWJ1dGUoXCJhbGlnblwiKV0pKTpiPSExKTtyZXR1cm4gYn1mdW5jdGlvbiByKGEpe3JldHVybiEhe2Fic29sdXRlOjEsZml4ZWQ6MX1bYS5nZXRDb21wdXRlZFN0eWxlKFwicG9zaXRpb25cIildfWZ1bmN0aW9uIHEoYSxiKXtyZXR1cm4gbihiKT9iLmlzKGEudHJpZ2dlcnMpOm51bGx9ZnVuY3Rpb24gdChhLGIpe2lmKCFiKXJldHVybiExO1xuZm9yKHZhciBjPWIuZ2V0UGFyZW50cygxKSxkPWMubGVuZ3RoO2QtLTspZm9yKHZhciBmPWEudGFidUxpc3QubGVuZ3RoO2YtLTspaWYoY1tkXS5oYXNBdHRyaWJ1dGUoYS50YWJ1TGlzdFtmXSkpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gcChhLGIsYyl7Yj1iW2M/XCJnZXRMYXN0XCI6XCJnZXRGaXJzdFwiXShmdW5jdGlvbihiKXtyZXR1cm4gYS5pc1JlbGV2YW50KGIpJiYhYi5pcyhVKX0pO2lmKCFiKXJldHVybiExO3UoYSxiKTtyZXR1cm4gYz9iLnNpemUudG9wPmEubW91c2UueTpiLnNpemUuYm90dG9tPGEubW91c2UueX1mdW5jdGlvbiB3KGEpe3ZhciBiPWEuZWRpdGFibGUsYz1hLm1vdXNlLGQ9YS52aWV3LGY9YS50cmlnZ2VyT2Zmc2V0O3goYSk7dmFyIGg9Yy55PihhLmluSW5saW5lTW9kZT9kLmVkaXRhYmxlLnRvcCtkLmVkaXRhYmxlLmhlaWdodC8yOk1hdGgubWluKGQuZWRpdGFibGUuaGVpZ2h0LGQucGFuZS5oZWlnaHQpLzIpLGI9YltoP1wiZ2V0TGFzdFwiOlwiZ2V0Rmlyc3RcIl0oZnVuY3Rpb24oYSl7cmV0dXJuIShaKGEpfHxcblgoYSkpfSk7aWYoIWIpcmV0dXJuIG51bGw7ZyhhLGIpJiYoYj1hLmxpbmUud3JhcFtoP1wiZ2V0UHJldmlvdXNcIjpcImdldE5leHRcIl0oZnVuY3Rpb24oYSl7cmV0dXJuIShaKGEpfHxYKGEpKX0pKTtpZighbihiKXx8dihiKXx8IXEoYSxiKSlyZXR1cm4gbnVsbDt1KGEsYik7cmV0dXJuIWgmJjA8PWIuc2l6ZS50b3AmJmwoYy55LDAsYi5zaXplLnRvcCtmKT8oYT1hLmluSW5saW5lTW9kZXx8MD09PWQuc2Nyb2xsLnk/VDpLLG5ldyBlKFtudWxsLGIsSSxQLGFdKSk6aCYmYi5zaXplLmJvdHRvbTw9ZC5wYW5lLmhlaWdodCYmbChjLnksYi5zaXplLmJvdHRvbS1mLGQucGFuZS5oZWlnaHQpPyhhPWEuaW5JbmxpbmVNb2RlfHxsKGIuc2l6ZS5ib3R0b20sZC5wYW5lLmhlaWdodC1mLGQucGFuZS5oZWlnaHQpP086SyxuZXcgZShbYixudWxsLEgsUCxhXSkpOm51bGx9ZnVuY3Rpb24geihhKXt2YXIgYz1hLm1vdXNlLGY9YS52aWV3LGg9YS50cmlnZ2VyT2Zmc2V0LGc9YihhKTtpZighZylyZXR1cm4gbnVsbDtcbnUoYSxnKTt2YXIgaD1NYXRoLm1pbihoLDB8Zy5zaXplLm91dGVySGVpZ2h0LzIpLGs9W10sbSxyO2lmKGwoYy55LGcuc2l6ZS50b3AtMSxnLnNpemUudG9wK2gpKXI9ITE7ZWxzZSBpZihsKGMueSxnLnNpemUuYm90dG9tLWgsZy5zaXplLmJvdHRvbSsxKSlyPSEwO2Vsc2UgcmV0dXJuIG51bGw7aWYodihnKXx8cChhLGcscil8fGcuZ2V0UGFyZW50KCkuaXMoVykpcmV0dXJuIG51bGw7dmFyIHQ9ZChhLGcsIXIpO2lmKHQpe2lmKHQmJnQudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKXJldHVybiBudWxsO2lmKG4odCkpe2lmKHYodCl8fCFxKGEsdCl8fHQuZ2V0UGFyZW50KCkuaXMoVykpcmV0dXJuIG51bGw7az1bdCxnXVtyP1wicmV2ZXJzZVwiOlwiY29uY2F0XCJdKCkuY29uY2F0KFtSLFBdKX19ZWxzZSBnLmVxdWFscyhhLmVkaXRhYmxlW3I/XCJnZXRMYXN0XCI6XCJnZXRGaXJzdFwiXShhLmlzUmVsZXZhbnQpKT8oeChhKSxyJiZsKGMueSxnLnNpemUuYm90dG9tLWgsZi5wYW5lLmhlaWdodCkmJlxubChnLnNpemUuYm90dG9tLGYucGFuZS5oZWlnaHQtaCxmLnBhbmUuaGVpZ2h0KT9tPU86bChjLnksMCxnLnNpemUudG9wK2gpJiYobT1UKSk6bT1LLGs9W251bGwsZ11bcj9cInJldmVyc2VcIjpcImNvbmNhdFwiXSgpLmNvbmNhdChbcj9IOkksUCxtLGcuZXF1YWxzKGEuZWRpdGFibGVbcj9cImdldExhc3RcIjpcImdldEZpcnN0XCJdKGEuaXNSZWxldmFudCkpP3I/TzpUOktdKTtyZXR1cm4gMCBpbiBrP25ldyBlKGspOm51bGx9ZnVuY3Rpb24gQShhLGIsYyxkKXtmb3IodmFyIGY9Yi5nZXREb2N1bWVudFBvc2l0aW9uKCksZT17fSxoPXt9LGc9e30saz17fSxsPWJhLmxlbmd0aDtsLS07KWVbYmFbbF1dPXBhcnNlSW50KGIuZ2V0Q29tcHV0ZWRTdHlsZS5jYWxsKGIsXCJib3JkZXItXCIrYmFbbF0rXCItd2lkdGhcIiksMTApfHwwLGdbYmFbbF1dPXBhcnNlSW50KGIuZ2V0Q29tcHV0ZWRTdHlsZS5jYWxsKGIsXCJwYWRkaW5nLVwiK2JhW2xdKSwxMCl8fDAsaFtiYVtsXV09cGFyc2VJbnQoYi5nZXRDb21wdXRlZFN0eWxlLmNhbGwoYixcblwibWFyZ2luLVwiK2JhW2xdKSwxMCl8fDA7YyYmIWR8fEQoYSxkKTtrLnRvcD1mLnktKGM/MDphLnZpZXcuc2Nyb2xsLnkpO2subGVmdD1mLngtKGM/MDphLnZpZXcuc2Nyb2xsLngpO2sub3V0ZXJXaWR0aD1iLiQub2Zmc2V0V2lkdGg7ay5vdXRlckhlaWdodD1iLiQub2Zmc2V0SGVpZ2h0O2suaGVpZ2h0PWsub3V0ZXJIZWlnaHQtKGcudG9wK2cuYm90dG9tK2UudG9wK2UuYm90dG9tKTtrLndpZHRoPWsub3V0ZXJXaWR0aC0oZy5sZWZ0K2cucmlnaHQrZS5sZWZ0K2UucmlnaHQpO2suYm90dG9tPWsudG9wK2sub3V0ZXJIZWlnaHQ7ay5yaWdodD1rLmxlZnQray5vdXRlcldpZHRoO2EuaW5JbmxpbmVNb2RlJiYoay5zY3JvbGw9e3RvcDpiLiQuc2Nyb2xsVG9wLGxlZnQ6Yi4kLnNjcm9sbExlZnR9KTtyZXR1cm4gQih7Ym9yZGVyOmUscGFkZGluZzpnLG1hcmdpbjpoLGlnbm9yZVNjcm9sbDpjfSxrLCEwKX1mdW5jdGlvbiB1KGEsYixjKXtpZighbihiKSlyZXR1cm4gYi5zaXplPW51bGw7XG5pZighYi5zaXplKWIuc2l6ZT17fTtlbHNlIGlmKGIuc2l6ZS5pZ25vcmVTY3JvbGw9PWMmJmIuc2l6ZS5kYXRlPm5ldyBEYXRlLVMpcmV0dXJuIG51bGw7cmV0dXJuIEIoYi5zaXplLEEoYSxiLGMpLHtkYXRlOituZXcgRGF0ZX0sITApfWZ1bmN0aW9uIHgoYSxiKXthLnZpZXcuZWRpdGFibGU9QShhLGEuZWRpdGFibGUsYiwhMCl9ZnVuY3Rpb24gRChhLGIpe2Eudmlld3x8KGEudmlldz17fSk7dmFyIGM9YS52aWV3O2lmKCEoIWImJmMmJmMuZGF0ZT5uZXcgRGF0ZS1TKSl7dmFyIGQ9YS53aW4sYz1kLmdldFNjcm9sbFBvc2l0aW9uKCksZD1kLmdldFZpZXdQYW5lU2l6ZSgpO0IoYS52aWV3LHtzY3JvbGw6e3g6Yy54LHk6Yy55LHdpZHRoOmEuZG9jLiQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFdpZHRoLWQud2lkdGgsaGVpZ2h0OmEuZG9jLiQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodC1kLmhlaWdodH0scGFuZTp7d2lkdGg6ZC53aWR0aCxoZWlnaHQ6ZC5oZWlnaHQsYm90dG9tOmQuaGVpZ2h0K1xuYy55fSxkYXRlOituZXcgRGF0ZX0sITApfX1mdW5jdGlvbiB5KGEsYixjLGQpe2Zvcih2YXIgZj1kLGg9ZCxnPTAsaz0hMSxsPSExLG09YS52aWV3LnBhbmUuaGVpZ2h0LG49YS5tb3VzZTtuLnkrZzxtJiYwPG4ueS1nOyl7a3x8KGs9YihmLGQpKTtsfHwobD1iKGgsZCkpOyFrJiYwPG4ueS1nJiYoZj1jKGEse3g6bi54LHk6bi55LWd9KSk7IWwmJm4ueStnPG0mJihoPWMoYSx7eDpuLngseTpuLnkrZ30pKTtpZihrJiZsKWJyZWFrO2crPTJ9cmV0dXJuIG5ldyBlKFtmLGgsbnVsbCxudWxsXSl9Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJtYWdpY2xpbmVcIix7aW5pdDpmdW5jdGlvbihhKXt2YXIgYz1hLmNvbmZpZyxsPWMubWFnaWNsaW5lX3RyaWdnZXJPZmZzZXR8fDMwLG09e2VkaXRvcjphLGVudGVyTW9kZTpjLmVudGVyTW9kZSx0cmlnZ2VyT2Zmc2V0OmwsaG9sZERpc3RhbmNlOjB8bCooYy5tYWdpY2xpbmVfaG9sZERpc3RhbmNlfHwuNSksYm94Q29sb3I6Yy5tYWdpY2xpbmVfY29sb3J8fFxuXCIjZmYwMDAwXCIscnRsOlwicnRsXCI9PWMuY29udGVudHNMYW5nRGlyZWN0aW9uLHRhYnVMaXN0OltcImRhdGEtY2tlLWhpZGRlbi1zZWxcIl0uY29uY2F0KGMubWFnaWNsaW5lX3RhYnVMaXN0fHxbXSksdHJpZ2dlcnM6Yy5tYWdpY2xpbmVfZXZlcnl3aGVyZT9OOnt0YWJsZToxLGhyOjEsZGl2OjEsdWw6MSxvbDoxLGRsOjEsZm9ybToxLGJsb2NrcXVvdGU6MX19LHEscCx1O20uaXNSZWxldmFudD1mdW5jdGlvbihhKXtyZXR1cm4gbihhKSYmIWcobSxhKSYmIXYoYSl9O2Eub24oXCJjb250ZW50RG9tXCIsZnVuY3Rpb24oKXt2YXIgbD1hLmVkaXRhYmxlKCksbj1hLmRvY3VtZW50LHY9YS53aW5kb3c7QihtLHtlZGl0YWJsZTpsLGluSW5saW5lTW9kZTpsLmlzSW5saW5lKCksZG9jOm4sd2luOnYsaG90Tm9kZTpudWxsfSwhMCk7bS5ib3VuZGFyeT1tLmluSW5saW5lTW9kZT9tLmVkaXRhYmxlOm0uZG9jLmdldERvY3VtZW50RWxlbWVudCgpO2wuaXMoRy4kaW5saW5lKXx8KG0uaW5JbmxpbmVNb2RlJiZcbiFyKGwpJiZsLnNldFN0eWxlcyh7cG9zaXRpb246XCJyZWxhdGl2ZVwiLHRvcDpudWxsLGxlZnQ6bnVsbH0pLGYuY2FsbCh0aGlzLG0pLEQobSksbC5hdHRhY2hMaXN0ZW5lcihhLFwiYmVmb3JlVW5kb0ltYWdlXCIsZnVuY3Rpb24oKXttLmxpbmUuZGV0YWNoKCl9KSxsLmF0dGFjaExpc3RlbmVyKGEsXCJiZWZvcmVHZXREYXRhXCIsZnVuY3Rpb24oKXttLmxpbmUud3JhcC5nZXRQYXJlbnQoKSYmKG0ubGluZS5kZXRhY2goKSxhLm9uY2UoXCJnZXREYXRhXCIsZnVuY3Rpb24oKXttLmxpbmUuYXR0YWNoKCl9LG51bGwsbnVsbCwxRTMpKX0sbnVsbCxudWxsLDApLGwuYXR0YWNoTGlzdGVuZXIobS5pbklubGluZU1vZGU/bjpuLmdldFdpbmRvdygpLmdldEZyYW1lKCksXCJtb3VzZW91dFwiLGZ1bmN0aW9uKGIpe2lmKFwid3lzaXd5Z1wiPT1hLm1vZGUpaWYobS5pbklubGluZU1vZGUpe3ZhciBjPWIuZGF0YS4kLmNsaWVudFg7Yj1iLmRhdGEuJC5jbGllbnRZO0QobSk7eChtLCEwKTt2YXIgZD1tLnZpZXcuZWRpdGFibGUsXG5mPW0udmlldy5zY3JvbGw7Yz5kLmxlZnQtZi54JiZjPGQucmlnaHQtZi54JiZiPmQudG9wLWYueSYmYjxkLmJvdHRvbS1mLnl8fChjbGVhclRpbWVvdXQodSksdT1udWxsLG0ubGluZS5kZXRhY2goKSl9ZWxzZSBjbGVhclRpbWVvdXQodSksdT1udWxsLG0ubGluZS5kZXRhY2goKX0pLGwuYXR0YWNoTGlzdGVuZXIobCxcImtleXVwXCIsZnVuY3Rpb24oKXttLmhpZGRlbk1vZGU9MH0pLGwuYXR0YWNoTGlzdGVuZXIobCxcImtleWRvd25cIixmdW5jdGlvbihiKXtpZihcInd5c2l3eWdcIj09YS5tb2RlKXN3aXRjaChiLmRhdGEuZ2V0S2V5c3Ryb2tlKCkpe2Nhc2UgMjIyODI0MDpjYXNlIDE2Om0uaGlkZGVuTW9kZT0xLG0ubGluZS5kZXRhY2goKX19KSxsLmF0dGFjaExpc3RlbmVyKG0uaW5JbmxpbmVNb2RlP2w6bixcIm1vdXNlbW92ZVwiLGZ1bmN0aW9uKGIpe3A9ITA7aWYoXCJ3eXNpd3lnXCI9PWEubW9kZSYmIWEucmVhZE9ubHkmJiF1KXt2YXIgYz17eDpiLmRhdGEuJC5jbGllbnRYLHk6Yi5kYXRhLiQuY2xpZW50WX07XG51PXNldFRpbWVvdXQoZnVuY3Rpb24oKXttLm1vdXNlPWM7dT1tLnRyaWdnZXI9bnVsbDtEKG0pO3AmJiFtLmhpZGRlbk1vZGUmJmEuZm9jdXNNYW5hZ2VyLmhhc0ZvY3VzJiYhbS5saW5lLm1vdXNlTmVhcigpJiYobS5lbGVtZW50PWRhKG0sITApKSYmKChtLnRyaWdnZXI9dyhtKXx8eihtKXx8Z2EobSkpJiYhdChtLG0udHJpZ2dlci51cHBlcnx8bS50cmlnZ2VyLmxvd2VyKT9tLmxpbmUuYXR0YWNoKCkucGxhY2UoKToobS50cmlnZ2VyPW51bGwsbS5saW5lLmRldGFjaCgpKSxwPSExKX0sMzApfX0pLGwuYXR0YWNoTGlzdGVuZXIodixcInNjcm9sbFwiLGZ1bmN0aW9uKCl7XCJ3eXNpd3lnXCI9PWEubW9kZSYmKG0ubGluZS5kZXRhY2goKSxFLndlYmtpdCYmKG0uaGlkZGVuTW9kZT0xLGNsZWFyVGltZW91dChxKSxxPXNldFRpbWVvdXQoZnVuY3Rpb24oKXttLm1vdXNlRG93bnx8KG0uaGlkZGVuTW9kZT0wKX0sNTApKSl9KSxsLmF0dGFjaExpc3RlbmVyKEo/bjp2LFwibW91c2Vkb3duXCIsZnVuY3Rpb24oKXtcInd5c2l3eWdcIj09XG5hLm1vZGUmJihtLmxpbmUuZGV0YWNoKCksbS5oaWRkZW5Nb2RlPTEsbS5tb3VzZURvd249MSl9KSxsLmF0dGFjaExpc3RlbmVyKEo/bjp2LFwibW91c2V1cFwiLGZ1bmN0aW9uKCl7bS5oaWRkZW5Nb2RlPTA7bS5tb3VzZURvd249MH0pLGEuYWRkQ29tbWFuZChcImFjY2Vzc1ByZXZpb3VzU3BhY2VcIixrKG0pKSxhLmFkZENvbW1hbmQoXCJhY2Nlc3NOZXh0U3BhY2VcIixrKG0sITApKSxhLnNldEtleXN0cm9rZShbW2MubWFnaWNsaW5lX2tleXN0cm9rZVByZXZpb3VzLFwiYWNjZXNzUHJldmlvdXNTcGFjZVwiXSxbYy5tYWdpY2xpbmVfa2V5c3Ryb2tlTmV4dCxcImFjY2Vzc05leHRTcGFjZVwiXV0pLGEub24oXCJsb2FkU25hcHNob3RcIixmdW5jdGlvbigpe3ZhciBiLGMsZCxmO2ZvcihmIGlue3A6MSxicjoxLGRpdjoxfSlmb3IoYj1hLmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWcoZiksZD1iLmNvdW50KCk7ZC0tOylpZigoYz1iLmdldEl0ZW0oZCkpLmRhdGEoXCJja2UtbWFnaWNsaW5lLWhvdFwiKSl7bS5ob3ROb2RlPVxuYzttLmxhc3RDbWREaXJlY3Rpb249XCJ0cnVlXCI9PT1jLmRhdGEoXCJja2UtbWFnaWNsaW5lLWRpclwiKT8hMDohMTtyZXR1cm59fSksdGhpcy5iYWNrZG9vcj17YWNjZXNzRm9jdXNTcGFjZTpoLGJveFRyaWdnZXI6ZSxpc0xpbmU6ZyxnZXRBc2NlbmRhbnRUcmlnZ2VyOmIsZ2V0Tm9uRW1wdHlOZWlnaGJvdXI6ZCxnZXRTaXplOkEsdGhhdDptLHRyaWdnZXJFZGdlOnosdHJpZ2dlckVkaXRhYmxlOncsdHJpZ2dlckV4cGFuZDpnYX0pfSx0aGlzKX19KTt2YXIgQj1DS0VESVRPUi50b29scy5leHRlbmQsQz1DS0VESVRPUi5kb20uZWxlbWVudCxGPUMuY3JlYXRlRnJvbUh0bWwsRT1DS0VESVRPUi5lbnYsSj1DS0VESVRPUi5lbnYuaWUmJjk+Q0tFRElUT1IuZW52LnZlcnNpb24sRz1DS0VESVRPUi5kdGQsTT17fSxJPTEyOCxIPTY0LFI9MzIsUD0xNixUPTQsTz0yLEs9MSxjYT1cIsKgXCIsVz1HLiRsaXN0SXRlbSxVPUcuJHRhYmxlQ29udGVudCxMPUIoe30sRy4kbm9uRWRpdGFibGUsRy4kZW1wdHkpLFxuTj1HLiRibG9jayxTPTEwMCxRPVwid2lkdGg6MHB4O2hlaWdodDowcHg7cGFkZGluZzowcHg7bWFyZ2luOjBweDtkaXNwbGF5OmJsb2NrO3otaW5kZXg6OTk5OTtjb2xvcjojZmZmO3Bvc2l0aW9uOmFic29sdXRlO2ZvbnQtc2l6ZTogMHB4O2xpbmUtaGVpZ2h0OjBweDtcIixZPVErXCJib3JkZXItY29sb3I6dHJhbnNwYXJlbnQ7ZGlzcGxheTpibG9jaztib3JkZXItc3R5bGU6c29saWQ7XCIsVj1cIlxceDNjc3BhblxceDNlXCIrY2ErXCJcXHgzYy9zcGFuXFx4M2VcIjtNW0NLRURJVE9SLkVOVEVSX0JSXT1cImJyXCI7TVtDS0VESVRPUi5FTlRFUl9QXT1cInBcIjtNW0NLRURJVE9SLkVOVEVSX0RJVl09XCJkaXZcIjtlLnByb3RvdHlwZT17c2V0OmZ1bmN0aW9uKGEsYixjKXt0aGlzLnByb3BlcnRpZXM9YStiKyhjfHxLKTtyZXR1cm4gdGhpc30saXM6ZnVuY3Rpb24oYSl7cmV0dXJuKHRoaXMucHJvcGVydGllcyZhKT09YX19O3ZhciBkYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYixjKXt2YXIgZD1iLiQuZWxlbWVudEZyb21Qb2ludChjLngsXG5jLnkpO3JldHVybiBkJiZkLm5vZGVUeXBlP25ldyBDS0VESVRPUi5kb20uZWxlbWVudChkKTpudWxsfXJldHVybiBmdW5jdGlvbihiLGMsZCl7aWYoIWIubW91c2UpcmV0dXJuIG51bGw7dmFyIGY9Yi5kb2MsZT1iLmxpbmUud3JhcDtkPWR8fGIubW91c2U7dmFyIGg9YShmLGQpO2MmJmcoYixoKSYmKGUuaGlkZSgpLGg9YShmLGQpLGUuc2hvdygpKTtyZXR1cm4haHx8aC50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fCFoLiR8fEUuaWUmJjk+RS52ZXJzaW9uJiYhYi5ib3VuZGFyeS5lcXVhbHMoaCkmJiFiLmJvdW5kYXJ5LmNvbnRhaW5zKGgpP251bGw6aH19KCksWj1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCksWD1DS0VESVRPUi5kb20ud2Fsa2VyLm5vZGVUeXBlKENLRURJVE9SLk5PREVfQ09NTUVOVCksZ2E9ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGYpe3ZhciBlPWYuZWxlbWVudCxoLGcsaztpZighbihlKXx8ZS5jb250YWlucyhmLmVkaXRhYmxlKXx8ZS5pc1JlYWRPbmx5KCkpcmV0dXJuIG51bGw7XG5rPXkoZixmdW5jdGlvbihhLGIpe3JldHVybiFiLmVxdWFscyhhKX0sZnVuY3Rpb24oYSxiKXtyZXR1cm4gZGEoYSwhMCxiKX0sZSk7aD1rLnVwcGVyO2c9ay5sb3dlcjtpZihhKGYsaCxnKSlyZXR1cm4gay5zZXQoUiw4KTtpZihoJiZlLmNvbnRhaW5zKGgpKWZvcig7IWguZ2V0UGFyZW50KCkuZXF1YWxzKGUpOyloPWguZ2V0UGFyZW50KCk7ZWxzZSBoPWUuZ2V0Rmlyc3QoZnVuY3Rpb24oYSl7cmV0dXJuIGQoZixhKX0pO2lmKGcmJmUuY29udGFpbnMoZykpZm9yKDshZy5nZXRQYXJlbnQoKS5lcXVhbHMoZSk7KWc9Zy5nZXRQYXJlbnQoKTtlbHNlIGc9ZS5nZXRMYXN0KGZ1bmN0aW9uKGEpe3JldHVybiBkKGYsYSl9KTtpZighaHx8IWcpcmV0dXJuIG51bGw7dShmLGgpO3UoZixnKTtpZighbChmLm1vdXNlLnksaC5zaXplLnRvcCxnLnNpemUuYm90dG9tKSlyZXR1cm4gbnVsbDtmb3IodmFyIGU9TnVtYmVyLk1BWF9WQUxVRSxtLHEscix0O2cmJiFnLmVxdWFscyhoKSYmKHE9aC5nZXROZXh0KGYuaXNSZWxldmFudCkpOyltPVxuTWF0aC5hYnMoYyhmLGgscSktZi5tb3VzZS55KSxtPGUmJihlPW0scj1oLHQ9cSksaD1xLHUoZixoKTtpZighcnx8IXR8fCFsKGYubW91c2UueSxyLnNpemUudG9wLHQuc2l6ZS5ib3R0b20pKXJldHVybiBudWxsO2sudXBwZXI9cjtrLmxvd2VyPXQ7cmV0dXJuIGsuc2V0KFIsOCl9ZnVuY3Rpb24gZChhLGIpe3JldHVybiEoYiYmYi50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFR8fFgoYil8fHYoYil8fGcoYSxiKXx8Yi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmIuJCYmYi5pcyhcImJyXCIpKX1yZXR1cm4gZnVuY3Rpb24oYyl7dmFyIGQ9YihjKSxmO2lmKGY9ZCl7Zj1kLnVwcGVyO3ZhciBlPWQubG93ZXI7Zj0hZnx8IWV8fHYoZSl8fHYoZil8fGUuZXF1YWxzKGYpfHxmLmVxdWFscyhlKXx8ZS5jb250YWlucyhmKXx8Zi5jb250YWlucyhlKT8hMTpxKGMsZikmJnEoYyxlKSYmYShjLGYsZSk/ITA6ITF9cmV0dXJuIGY/ZDpudWxsfX0oKSxiYT1bXCJ0b3BcIixcImxlZnRcIixcInJpZ2h0XCIsXG5cImJvdHRvbVwiXX0oKSxDS0VESVRPUi5jb25maWcubWFnaWNsaW5lX2tleXN0cm9rZVByZXZpb3VzPUNLRURJVE9SLkNUUkwrQ0tFRElUT1IuU0hJRlQrNTEsQ0tFRElUT1IuY29uZmlnLm1hZ2ljbGluZV9rZXlzdHJva2VOZXh0PUNLRURJVE9SLkNUUkwrQ0tFRElUT1IuU0hJRlQrNTIsZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe2lmKCFhfHxhLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVHx8XCJmb3JtXCIhPWEuZ2V0TmFtZSgpKXJldHVybltdO2Zvcih2YXIgYj1bXSxjPVtcInN0eWxlXCIsXCJjbGFzc05hbWVcIl0sZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZT1hLiQuZWxlbWVudHMubmFtZWRJdGVtKGNbZF0pO2UmJihlPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChlKSxiLnB1c2goW2UsZS5uZXh0U2libGluZ10pLGUucmVtb3ZlKCkpfXJldHVybiBifWZ1bmN0aW9uIGUoYSxiKXtpZihhJiZhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmXCJmb3JtXCI9PWEuZ2V0TmFtZSgpJiYwPFxuYi5sZW5ndGgpZm9yKHZhciBjPWIubGVuZ3RoLTE7MDw9YztjLS0pe3ZhciBkPWJbY11bMF0sZT1iW2NdWzFdO2U/ZC5pbnNlcnRCZWZvcmUoZSk6ZC5hcHBlbmRUbyhhKX19ZnVuY3Rpb24gYihiLGMpe3ZhciBkPWEoYiksaD17fSxrPWIuJDtjfHwoaFtcImNsYXNzXCJdPWsuY2xhc3NOYW1lfHxcIlwiLGsuY2xhc3NOYW1lPVwiXCIpO2guaW5saW5lPWsuc3R5bGUuY3NzVGV4dHx8XCJcIjtjfHwoay5zdHlsZS5jc3NUZXh0PVwicG9zaXRpb246IHN0YXRpYzsgb3ZlcmZsb3c6IHZpc2libGVcIik7ZShkKTtyZXR1cm4gaH1mdW5jdGlvbiBjKGIsYyl7dmFyIGQ9YShiKSxoPWIuJDtcImNsYXNzXCJpbiBjJiYoaC5jbGFzc05hbWU9Y1tcImNsYXNzXCJdKTtcImlubGluZVwiaW4gYyYmKGguc3R5bGUuY3NzVGV4dD1jLmlubGluZSk7ZShkKX1mdW5jdGlvbiBkKGEpe2lmKCFhLmVkaXRhYmxlKCkuaXNJbmxpbmUoKSl7dmFyIGI9Q0tFRElUT1IuaW5zdGFuY2VzLGM7Zm9yKGMgaW4gYil7dmFyIGQ9YltjXTtcInd5c2l3eWdcIiE9XG5kLm1vZGV8fGQucmVhZE9ubHl8fChkPWQuZG9jdW1lbnQuZ2V0Qm9keSgpLGQuc2V0QXR0cmlidXRlKFwiY29udGVudEVkaXRhYmxlXCIsITEpLGQuc2V0QXR0cmlidXRlKFwiY29udGVudEVkaXRhYmxlXCIsITApKX1hLmVkaXRhYmxlKCkuaGFzRm9jdXMmJihhLnRvb2xib3guZm9jdXMoKSxhLmZvY3VzKCkpfX1DS0VESVRPUi5wbHVnaW5zLmFkZChcIm1heGltaXplXCIse2luaXQ6ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gZSgpe3ZhciBiPWsuZ2V0Vmlld1BhbmVTaXplKCk7YS5yZXNpemUoYi53aWR0aCxiLmhlaWdodCxudWxsLCEwKX1pZihhLmVsZW1lbnRNb2RlIT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FKXt2YXIgZj1hLmxhbmcsaD1DS0VESVRPUi5kb2N1bWVudCxrPWguZ2V0V2luZG93KCksZyxuLHYscj1DS0VESVRPUi5UUklTVEFURV9PRkY7YS5hZGRDb21tYW5kKFwibWF4aW1pemVcIix7bW9kZXM6e3d5c2l3eWc6IUNLRURJVE9SLmVudi5pT1Msc291cmNlOiFDS0VESVRPUi5lbnYuaU9TfSxcbnJlYWRPbmx5OjEsZWRpdG9yRm9jdXM6ITEsZXhlYzpmdW5jdGlvbigpe3ZhciBxPWEuY29udGFpbmVyLmdldEZpcnN0KGZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5oYXNDbGFzcyhcImNrZV9pbm5lclwiKX0pLHQ9YS51aS5zcGFjZShcImNvbnRlbnRzXCIpO2lmKFwid3lzaXd5Z1wiPT1hLm1vZGUpe3ZhciBwPWEuZ2V0U2VsZWN0aW9uKCk7Zz1wJiZwLmdldFJhbmdlcygpO249ay5nZXRTY3JvbGxQb3NpdGlvbigpfWVsc2V7dmFyIHc9YS5lZGl0YWJsZSgpLiQ7Zz0hQ0tFRElUT1IuZW52LmllJiZbdy5zZWxlY3Rpb25TdGFydCx3LnNlbGVjdGlvbkVuZF07bj1bdy5zY3JvbGxMZWZ0LHcuc2Nyb2xsVG9wXX1pZih0aGlzLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9PRkYpe2sub24oXCJyZXNpemVcIixlKTt2PWsuZ2V0U2Nyb2xsUG9zaXRpb24oKTtmb3IocD1hLmNvbnRhaW5lcjtwPXAuZ2V0UGFyZW50KCk7KXAuc2V0Q3VzdG9tRGF0YShcIm1heGltaXplX3NhdmVkX3N0eWxlc1wiLFxuYihwKSkscC5zZXRTdHlsZShcInotaW5kZXhcIixhLmNvbmZpZy5iYXNlRmxvYXRaSW5kZXgtNSk7dC5zZXRDdXN0b21EYXRhKFwibWF4aW1pemVfc2F2ZWRfc3R5bGVzXCIsYih0LCEwKSk7cS5zZXRDdXN0b21EYXRhKFwibWF4aW1pemVfc2F2ZWRfc3R5bGVzXCIsYihxLCEwKSk7dD17b3ZlcmZsb3c6Q0tFRElUT1IuZW52LndlYmtpdD9cIlwiOlwiaGlkZGVuXCIsd2lkdGg6MCxoZWlnaHQ6MH07aC5nZXREb2N1bWVudEVsZW1lbnQoKS5zZXRTdHlsZXModCk7IUNLRURJVE9SLmVudi5nZWNrbyYmaC5nZXREb2N1bWVudEVsZW1lbnQoKS5zZXRTdHlsZShcInBvc2l0aW9uXCIsXCJmaXhlZFwiKTtDS0VESVRPUi5lbnYuZ2Vja28mJkNLRURJVE9SLmVudi5xdWlya3N8fGguZ2V0Qm9keSgpLnNldFN0eWxlcyh0KTtDS0VESVRPUi5lbnYuaWU/c2V0VGltZW91dChmdW5jdGlvbigpe2suJC5zY3JvbGxUbygwLDApfSwwKTprLiQuc2Nyb2xsVG8oMCwwKTtxLnNldFN0eWxlKFwicG9zaXRpb25cIixDS0VESVRPUi5lbnYuZ2Vja28mJlxuQ0tFRElUT1IuZW52LnF1aXJrcz9cImZpeGVkXCI6XCJhYnNvbHV0ZVwiKTtxLiQub2Zmc2V0TGVmdDtxLnNldFN0eWxlcyh7XCJ6LWluZGV4XCI6YS5jb25maWcuYmFzZUZsb2F0WkluZGV4LTUsbGVmdDpcIjBweFwiLHRvcDpcIjBweFwifSk7cS5hZGRDbGFzcyhcImNrZV9tYXhpbWl6ZWRcIik7ZSgpO3Q9cS5nZXREb2N1bWVudFBvc2l0aW9uKCk7cS5zZXRTdHlsZXMoe2xlZnQ6LTEqdC54K1wicHhcIix0b3A6LTEqdC55K1wicHhcIn0pO0NLRURJVE9SLmVudi5nZWNrbyYmZChhKX1lbHNlIGlmKHRoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX09OKXtrLnJlbW92ZUxpc3RlbmVyKFwicmVzaXplXCIsZSk7Zm9yKHZhciBwPVt0LHFdLHo9MDt6PHAubGVuZ3RoO3orKyljKHBbel0scFt6XS5nZXRDdXN0b21EYXRhKFwibWF4aW1pemVfc2F2ZWRfc3R5bGVzXCIpKSxwW3pdLnJlbW92ZUN1c3RvbURhdGEoXCJtYXhpbWl6ZV9zYXZlZF9zdHlsZXNcIik7Zm9yKHA9YS5jb250YWluZXI7cD1wLmdldFBhcmVudCgpOyljKHAsXG5wLmdldEN1c3RvbURhdGEoXCJtYXhpbWl6ZV9zYXZlZF9zdHlsZXNcIikpLHAucmVtb3ZlQ3VzdG9tRGF0YShcIm1heGltaXplX3NhdmVkX3N0eWxlc1wiKTtDS0VESVRPUi5lbnYuaWU/c2V0VGltZW91dChmdW5jdGlvbigpe2suJC5zY3JvbGxUbyh2Lngsdi55KX0sMCk6ay4kLnNjcm9sbFRvKHYueCx2LnkpO3EucmVtb3ZlQ2xhc3MoXCJja2VfbWF4aW1pemVkXCIpO0NLRURJVE9SLmVudi53ZWJraXQmJihxLnNldFN0eWxlKFwiZGlzcGxheVwiLFwiaW5saW5lXCIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtxLnNldFN0eWxlKFwiZGlzcGxheVwiLFwiYmxvY2tcIil9LDApKTthLmZpcmUoXCJyZXNpemVcIix7b3V0ZXJIZWlnaHQ6YS5jb250YWluZXIuJC5vZmZzZXRIZWlnaHQsY29udGVudHNIZWlnaHQ6dC4kLm9mZnNldEhlaWdodCxvdXRlcldpZHRoOmEuY29udGFpbmVyLiQub2Zmc2V0V2lkdGh9KX10aGlzLnRvZ2dsZVN0YXRlKCk7aWYocD10aGlzLnVpSXRlbXNbMF0pdD10aGlzLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9PRkY/XG5mLm1heGltaXplLm1heGltaXplOmYubWF4aW1pemUubWluaW1pemUscD1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKHAuXy5pZCkscC5nZXRDaGlsZCgxKS5zZXRIdG1sKHQpLHAuc2V0QXR0cmlidXRlKFwidGl0bGVcIix0KSxwLnNldEF0dHJpYnV0ZShcImhyZWZcIiwnamF2YXNjcmlwdDp2b2lkKFwiJyt0KydcIik7Jyk7XCJ3eXNpd3lnXCI9PWEubW9kZT9nPyhDS0VESVRPUi5lbnYuZ2Vja28mJmQoYSksYS5nZXRTZWxlY3Rpb24oKS5zZWxlY3RSYW5nZXMoZyksKHc9YS5nZXRTZWxlY3Rpb24oKS5nZXRTdGFydEVsZW1lbnQoKSkmJncuc2Nyb2xsSW50b1ZpZXcoITApKTprLiQuc2Nyb2xsVG8obi54LG4ueSk6KGcmJih3LnNlbGVjdGlvblN0YXJ0PWdbMF0sdy5zZWxlY3Rpb25FbmQ9Z1sxXSksdy5zY3JvbGxMZWZ0PW5bMF0sdy5zY3JvbGxUb3A9blsxXSk7Zz1uPW51bGw7cj10aGlzLnN0YXRlO2EuZmlyZShcIm1heGltaXplXCIsdGhpcy5zdGF0ZSl9LGNhblVuZG86ITF9KTthLnVpLmFkZEJ1dHRvbiYmXG5hLnVpLmFkZEJ1dHRvbihcIk1heGltaXplXCIse2xhYmVsOmYubWF4aW1pemUubWF4aW1pemUsY29tbWFuZDpcIm1heGltaXplXCIsdG9vbGJhcjpcInRvb2xzLDEwXCJ9KTthLm9uKFwibW9kZVwiLGZ1bmN0aW9uKCl7dmFyIGI9YS5nZXRDb21tYW5kKFwibWF4aW1pemVcIik7Yi5zZXRTdGF0ZShiLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRD9DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRDpyKX0sbnVsbCxudWxsLDEwMCl9fX0pfSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGMsZCl7dmFyIGU9Q0tFRElUT1IuY2xlYW5Xb3JkO2U/ZCgpOihhPUNLRURJVE9SLmdldFVybChhLmNvbmZpZy5wYXN0ZUZyb21Xb3JkQ2xlYW51cEZpbGV8fGMrXCJmaWx0ZXIvZGVmYXVsdC5qc1wiKSxDS0VESVRPUi5zY3JpcHRMb2FkZXIubG9hZChhLGQsbnVsbCwhMCkpO3JldHVybiFlfWZ1bmN0aW9uIGUoYSl7YS5kYXRhLnR5cGU9XCJodG1sXCJ9Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJwYXN0ZWZyb213b3JkXCIsXG57cmVxdWlyZXM6XCJjbGlwYm9hcmRcIixpbml0OmZ1bmN0aW9uKGIpe3ZhciBjPTAsZD10aGlzLnBhdGg7Yi5hZGRDb21tYW5kKFwicGFzdGVmcm9td29yZFwiLHtjYW5VbmRvOiExLGFzeW5jOiEwLGV4ZWM6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztjPTE7YS5vbmNlKFwiYmVmb3JlUGFzdGVcIixlKTthLmdldENsaXBib2FyZERhdGEoe3RpdGxlOmEubGFuZy5wYXN0ZWZyb213b3JkLnRpdGxlfSxmdW5jdGlvbihjKXtjJiZhLmZpcmUoXCJwYXN0ZVwiLHt0eXBlOlwiaHRtbFwiLGRhdGFWYWx1ZTpjLmRhdGFWYWx1ZSxtZXRob2Q6XCJwYXN0ZVwiLGRhdGFUcmFuc2ZlcjpDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5pbml0UGFzdGVEYXRhVHJhbnNmZXIoKX0pO2EuZmlyZShcImFmdGVyQ29tbWFuZEV4ZWNcIix7bmFtZTpcInBhc3RlZnJvbXdvcmRcIixjb21tYW5kOmIscmV0dXJuVmFsdWU6ISFjfSl9KX19KTtiLnVpLmFkZEJ1dHRvbiYmYi51aS5hZGRCdXR0b24oXCJQYXN0ZUZyb21Xb3JkXCIse2xhYmVsOmIubGFuZy5wYXN0ZWZyb213b3JkLnRvb2xiYXIsXG5jb21tYW5kOlwicGFzdGVmcm9td29yZFwiLHRvb2xiYXI6XCJjbGlwYm9hcmQsNTBcIn0pO2Iub24oXCJwYXN0ZVN0YXRlXCIsZnVuY3Rpb24oYSl7Yi5nZXRDb21tYW5kKFwicGFzdGVmcm9td29yZFwiKS5zZXRTdGF0ZShhLmRhdGEpfSk7Yi5vbihcInBhc3RlXCIsZnVuY3Rpb24oZSl7dmFyIG09ZS5kYXRhLGY9bS5kYXRhVmFsdWU7aWYoZiYmKGN8fC8oY2xhc3M9XFxcIj9Nc298c3R5bGU9XFxcIlteXFxcIl0qXFxibXNvXFwtfHc6V29yZERvY3VtZW50KS8udGVzdChmKSkpe20uZG9udEZpbHRlcj0hMDt2YXIgaD1hKGIsZCxmdW5jdGlvbigpe2lmKGgpYi5maXJlKFwicGFzdGVcIixtKTtlbHNlIGlmKCFiLmNvbmZpZy5wYXN0ZUZyb21Xb3JkUHJvbXB0Q2xlYW51cHx8Y3x8Y29uZmlybShiLmxhbmcucGFzdGVmcm9td29yZC5jb25maXJtQ2xlYW51cCkpbS5kYXRhVmFsdWU9Q0tFRElUT1IuY2xlYW5Xb3JkKGYsYik7Yz0wfSk7aCYmZS5jYW5jZWwoKX19LG51bGwsbnVsbCwzKX19KX0oKSxmdW5jdGlvbigpe3ZhciBhPVxue2NhblVuZG86ITEsYXN5bmM6ITAsZXhlYzpmdW5jdGlvbihlKXtlLmdldENsaXBib2FyZERhdGEoe3RpdGxlOmUubGFuZy5wYXN0ZXRleHQudGl0bGV9LGZ1bmN0aW9uKGIpe2ImJmUuZmlyZShcInBhc3RlXCIse3R5cGU6XCJ0ZXh0XCIsZGF0YVZhbHVlOmIuZGF0YVZhbHVlLG1ldGhvZDpcInBhc3RlXCIsZGF0YVRyYW5zZmVyOkNLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmluaXRQYXN0ZURhdGFUcmFuc2ZlcigpfSk7ZS5maXJlKFwiYWZ0ZXJDb21tYW5kRXhlY1wiLHtuYW1lOlwicGFzdGV0ZXh0XCIsY29tbWFuZDphLHJldHVyblZhbHVlOiEhYn0pfSl9fTtDS0VESVRPUi5wbHVnaW5zLmFkZChcInBhc3RldGV4dFwiLHtyZXF1aXJlczpcImNsaXBib2FyZFwiLGluaXQ6ZnVuY3Rpb24oZSl7ZS5hZGRDb21tYW5kKFwicGFzdGV0ZXh0XCIsYSk7ZS51aS5hZGRCdXR0b24mJmUudWkuYWRkQnV0dG9uKFwiUGFzdGVUZXh0XCIse2xhYmVsOmUubGFuZy5wYXN0ZXRleHQuYnV0dG9uLGNvbW1hbmQ6XCJwYXN0ZXRleHRcIixcbnRvb2xiYXI6XCJjbGlwYm9hcmQsNDBcIn0pO2lmKGUuY29uZmlnLmZvcmNlUGFzdGVBc1BsYWluVGV4dCllLm9uKFwiYmVmb3JlUGFzdGVcIixmdW5jdGlvbihhKXtcImh0bWxcIiE9YS5kYXRhLnR5cGUmJihhLmRhdGEudHlwZT1cInRleHRcIil9KTtlLm9uKFwicGFzdGVTdGF0ZVwiLGZ1bmN0aW9uKGEpe2UuZ2V0Q29tbWFuZChcInBhc3RldGV4dFwiKS5zZXRTdGF0ZShhLmRhdGEpfSl9fSl9KCksQ0tFRElUT1IucGx1Z2lucy5hZGQoXCJyZW1vdmVmb3JtYXRcIix7aW5pdDpmdW5jdGlvbihhKXthLmFkZENvbW1hbmQoXCJyZW1vdmVGb3JtYXRcIixDS0VESVRPUi5wbHVnaW5zLnJlbW92ZWZvcm1hdC5jb21tYW5kcy5yZW1vdmVmb3JtYXQpO2EudWkuYWRkQnV0dG9uJiZhLnVpLmFkZEJ1dHRvbihcIlJlbW92ZUZvcm1hdFwiLHtsYWJlbDphLmxhbmcucmVtb3ZlZm9ybWF0LnRvb2xiYXIsY29tbWFuZDpcInJlbW92ZUZvcm1hdFwiLHRvb2xiYXI6XCJjbGVhbnVwLDEwXCJ9KX19KSxDS0VESVRPUi5wbHVnaW5zLnJlbW92ZWZvcm1hdD1cbntjb21tYW5kczp7cmVtb3ZlZm9ybWF0OntleGVjOmZ1bmN0aW9uKGEpe2Zvcih2YXIgZT1hLl8ucmVtb3ZlRm9ybWF0UmVnZXh8fChhLl8ucmVtb3ZlRm9ybWF0UmVnZXg9bmV3IFJlZ0V4cChcIl4oPzpcIithLmNvbmZpZy5yZW1vdmVGb3JtYXRUYWdzLnJlcGxhY2UoLywvZyxcInxcIikrXCIpJFwiLFwiaVwiKSksYj1hLl8ucmVtb3ZlQXR0cmlidXRlc3x8KGEuXy5yZW1vdmVBdHRyaWJ1dGVzPWEuY29uZmlnLnJlbW92ZUZvcm1hdEF0dHJpYnV0ZXMuc3BsaXQoXCIsXCIpKSxjPUNLRURJVE9SLnBsdWdpbnMucmVtb3ZlZm9ybWF0LmZpbHRlcixkPWEuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VzKCksbD1kLmNyZWF0ZUl0ZXJhdG9yKCksbT1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlR9LGY7Zj1sLmdldE5leHRSYW5nZSgpOyl7Zi5jb2xsYXBzZWR8fGYuZW5sYXJnZShDS0VESVRPUi5FTkxBUkdFX0VMRU1FTlQpO3ZhciBoPWYuY3JlYXRlQm9va21hcmsoKSxcbms9aC5zdGFydE5vZGUsZz1oLmVuZE5vZGUsbj1mdW5jdGlvbihiKXtmb3IodmFyIGQ9YS5lbGVtZW50UGF0aChiKSxmPWQuZWxlbWVudHMsaD0xLGc7KGc9ZltoXSkmJiFnLmVxdWFscyhkLmJsb2NrKSYmIWcuZXF1YWxzKGQuYmxvY2tMaW1pdCk7aCsrKWUudGVzdChnLmdldE5hbWUoKSkmJmMoYSxnKSYmYi5icmVha1BhcmVudChnKX07bihrKTtpZihnKWZvcihuKGcpLGs9ay5nZXROZXh0U291cmNlTm9kZSghMCxDS0VESVRPUi5OT0RFX0VMRU1FTlQpO2smJiFrLmVxdWFscyhnKTspaWYoay5pc1JlYWRPbmx5KCkpe2lmKGsuZ2V0UG9zaXRpb24oZykmQ0tFRElUT1IuUE9TSVRJT05fQ09OVEFJTlMpYnJlYWs7az1rLmdldE5leHQobSl9ZWxzZSBuPWsuZ2V0TmV4dFNvdXJjZU5vZGUoITEsQ0tFRElUT1IuTk9ERV9FTEVNRU5UKSxcImltZ1wiPT1rLmdldE5hbWUoKSYmay5kYXRhKFwiY2tlLXJlYWxlbGVtZW50XCIpfHwhYyhhLGspfHwoZS50ZXN0KGsuZ2V0TmFtZSgpKT9rLnJlbW92ZSgxKTpcbihrLnJlbW92ZUF0dHJpYnV0ZXMoYiksYS5maXJlKFwicmVtb3ZlRm9ybWF0Q2xlYW51cFwiLGspKSksaz1uO2YubW92ZVRvQm9va21hcmsoaCl9YS5mb3JjZU5leHRTZWxlY3Rpb25DaGVjaygpO2EuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0UmFuZ2VzKGQpfX19LGZpbHRlcjpmdW5jdGlvbihhLGUpe2Zvcih2YXIgYj1hLl8ucmVtb3ZlRm9ybWF0RmlsdGVyc3x8W10sYz0wO2M8Yi5sZW5ndGg7YysrKWlmKCExPT09YltjXShlKSlyZXR1cm4hMTtyZXR1cm4hMH19LENLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuYWRkUmVtb3ZlRm9ybWF0RmlsdGVyPWZ1bmN0aW9uKGEpe3RoaXMuXy5yZW1vdmVGb3JtYXRGaWx0ZXJzfHwodGhpcy5fLnJlbW92ZUZvcm1hdEZpbHRlcnM9W10pO3RoaXMuXy5yZW1vdmVGb3JtYXRGaWx0ZXJzLnB1c2goYSl9LENLRURJVE9SLmNvbmZpZy5yZW1vdmVGb3JtYXRUYWdzPVwiYixiaWcsY2l0ZSxjb2RlLGRlbCxkZm4sZW0sZm9udCxpLGlucyxrYmQscSxzLHNhbXAsc21hbGwsc3BhbixzdHJpa2Usc3Ryb25nLHN1YixzdXAsdHQsdSx2YXJcIixcbkNLRURJVE9SLmNvbmZpZy5yZW1vdmVGb3JtYXRBdHRyaWJ1dGVzPVwiY2xhc3Msc3R5bGUsbGFuZyx3aWR0aCxoZWlnaHQsYWxpZ24saHNwYWNlLHZhbGlnblwiLENLRURJVE9SLnBsdWdpbnMuYWRkKFwicmVzaXplXCIse2luaXQ6ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gZShiKXt2YXIgZD1oLndpZHRoLGU9aC5oZWlnaHQsbT1kKyhiLmRhdGEuJC5zY3JlZW5YLWYueCkqKFwicnRsXCI9PWw/LTE6MSk7Yj1lKyhiLmRhdGEuJC5zY3JlZW5ZLWYueSk7ayYmKGQ9TWF0aC5tYXgoYy5yZXNpemVfbWluV2lkdGgsTWF0aC5taW4obSxjLnJlc2l6ZV9tYXhXaWR0aCkpKTtnJiYoZT1NYXRoLm1heChjLnJlc2l6ZV9taW5IZWlnaHQsTWF0aC5taW4oYixjLnJlc2l6ZV9tYXhIZWlnaHQpKSk7YS5yZXNpemUoaz9kOm51bGwsZSl9ZnVuY3Rpb24gYigpe0NLRURJVE9SLmRvY3VtZW50LnJlbW92ZUxpc3RlbmVyKFwibW91c2Vtb3ZlXCIsZSk7Q0tFRElUT1IuZG9jdW1lbnQucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZXVwXCIsXG5iKTthLmRvY3VtZW50JiYoYS5kb2N1bWVudC5yZW1vdmVMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLGUpLGEuZG9jdW1lbnQucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZXVwXCIsYikpfXZhciBjPWEuY29uZmlnLGQ9YS51aS5zcGFjZUlkKFwicmVzaXplclwiKSxsPWEuZWxlbWVudD9hLmVsZW1lbnQuZ2V0RGlyZWN0aW9uKDEpOlwibHRyXCI7IWMucmVzaXplX2RpciYmKGMucmVzaXplX2Rpcj1cInZlcnRpY2FsXCIpO3ZvaWQgMD09PWMucmVzaXplX21heFdpZHRoJiYoYy5yZXNpemVfbWF4V2lkdGg9M0UzKTt2b2lkIDA9PT1jLnJlc2l6ZV9tYXhIZWlnaHQmJihjLnJlc2l6ZV9tYXhIZWlnaHQ9M0UzKTt2b2lkIDA9PT1jLnJlc2l6ZV9taW5XaWR0aCYmKGMucmVzaXplX21pbldpZHRoPTc1MCk7dm9pZCAwPT09Yy5yZXNpemVfbWluSGVpZ2h0JiYoYy5yZXNpemVfbWluSGVpZ2h0PTI1MCk7aWYoITEhPT1jLnJlc2l6ZV9lbmFibGVkKXt2YXIgbT1udWxsLGYsaCxrPShcImJvdGhcIj09Yy5yZXNpemVfZGlyfHxcblwiaG9yaXpvbnRhbFwiPT1jLnJlc2l6ZV9kaXIpJiZjLnJlc2l6ZV9taW5XaWR0aCE9Yy5yZXNpemVfbWF4V2lkdGgsZz0oXCJib3RoXCI9PWMucmVzaXplX2Rpcnx8XCJ2ZXJ0aWNhbFwiPT1jLnJlc2l6ZV9kaXIpJiZjLnJlc2l6ZV9taW5IZWlnaHQhPWMucmVzaXplX21heEhlaWdodCxuPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKGQpe218fChtPWEuZ2V0UmVzaXphYmxlKCkpO2g9e3dpZHRoOm0uJC5vZmZzZXRXaWR0aHx8MCxoZWlnaHQ6bS4kLm9mZnNldEhlaWdodHx8MH07Zj17eDpkLnNjcmVlblgseTpkLnNjcmVlbll9O2MucmVzaXplX21pbldpZHRoPmgud2lkdGgmJihjLnJlc2l6ZV9taW5XaWR0aD1oLndpZHRoKTtjLnJlc2l6ZV9taW5IZWlnaHQ+aC5oZWlnaHQmJihjLnJlc2l6ZV9taW5IZWlnaHQ9aC5oZWlnaHQpO0NLRURJVE9SLmRvY3VtZW50Lm9uKFwibW91c2Vtb3ZlXCIsZSk7Q0tFRElUT1IuZG9jdW1lbnQub24oXCJtb3VzZXVwXCIsYik7YS5kb2N1bWVudCYmXG4oYS5kb2N1bWVudC5vbihcIm1vdXNlbW92ZVwiLGUpLGEuZG9jdW1lbnQub24oXCJtb3VzZXVwXCIsYikpO2QucHJldmVudERlZmF1bHQmJmQucHJldmVudERlZmF1bHQoKX0pO2Eub24oXCJkZXN0cm95XCIsZnVuY3Rpb24oKXtDS0VESVRPUi50b29scy5yZW1vdmVGdW5jdGlvbihuKX0pO2Eub24oXCJ1aVNwYWNlXCIsZnVuY3Rpb24oYil7aWYoXCJib3R0b21cIj09Yi5kYXRhLnNwYWNlKXt2YXIgYz1cIlwiO2smJiFnJiYoYz1cIiBja2VfcmVzaXplcl9ob3Jpem9udGFsXCIpOyFrJiZnJiYoYz1cIiBja2VfcmVzaXplcl92ZXJ0aWNhbFwiKTt2YXIgZj0nXFx4M2NzcGFuIGlkXFx4M2RcIicrZCsnXCIgY2xhc3NcXHgzZFwiY2tlX3Jlc2l6ZXInK2MrXCIgY2tlX3Jlc2l6ZXJfXCIrbCsnXCIgdGl0bGVcXHgzZFwiJytDS0VESVRPUi50b29scy5odG1sRW5jb2RlKGEubGFuZy5jb21tb24ucmVzaXplKSsnXCIgb25tb3VzZWRvd25cXHgzZFwiQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKCcrbisnLCBldmVudClcIlxceDNlJysoXCJsdHJcIj09XG5sP1wi4peiXCI6XCLil6NcIikrXCJcXHgzYy9zcGFuXFx4M2VcIjtcImx0clwiPT1sJiZcImx0clwiPT1jP2IuZGF0YS5odG1sKz1mOmIuZGF0YS5odG1sPWYrYi5kYXRhLmh0bWx9fSxhLG51bGwsMTAwKTthLm9uKFwibWF4aW1pemVcIixmdW5jdGlvbihiKXthLnVpLnNwYWNlKFwicmVzaXplclwiKVtiLmRhdGE9PUNLRURJVE9SLlRSSVNUQVRFX09OP1wiaGlkZVwiOlwic2hvd1wiXSgpfSl9fX0pLENLRURJVE9SLnBsdWdpbnMuYWRkKFwibWVudWJ1dHRvblwiLHtyZXF1aXJlczpcImJ1dHRvbixtZW51XCIsb25Mb2FkOmZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fLGM9Yi5tZW51O2Iuc3RhdGUhPT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCYmKGIub24mJmM/Yy5oaWRlKCk6KGIucHJldmlvdXNTdGF0ZT1iLnN0YXRlLGN8fChjPWIubWVudT1uZXcgQ0tFRElUT1IubWVudShhLHtwYW5lbDp7Y2xhc3NOYW1lOlwiY2tlX21lbnVfcGFuZWxcIixhdHRyaWJ1dGVzOntcImFyaWEtbGFiZWxcIjphLmxhbmcuY29tbW9uLm9wdGlvbnN9fX0pLFxuYy5vbkhpZGU9Q0tFRElUT1IudG9vbHMuYmluZChmdW5jdGlvbigpe3ZhciBjPXRoaXMuY29tbWFuZD9hLmdldENvbW1hbmQodGhpcy5jb21tYW5kKS5tb2Rlczp0aGlzLm1vZGVzO3RoaXMuc2V0U3RhdGUoIWN8fGNbYS5tb2RlXT9iLnByZXZpb3VzU3RhdGU6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpO2Iub249MH0sdGhpcyksdGhpcy5vbk1lbnUmJmMuYWRkTGlzdGVuZXIodGhpcy5vbk1lbnUpKSx0aGlzLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX09OKSxiLm9uPTEsc2V0VGltZW91dChmdW5jdGlvbigpe2Muc2hvdyhDS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKGIuaWQpLDQpfSwwKSkpfTtDS0VESVRPUi51aS5tZW51QnV0dG9uPUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHtiYXNlOkNLRURJVE9SLnVpLmJ1dHRvbiwkOmZ1bmN0aW9uKGUpe2RlbGV0ZSBlLnBhbmVsO3RoaXMuYmFzZShlKTt0aGlzLmhhc0Fycm93PSEwO3RoaXMuY2xpY2s9YX0sc3RhdGljczp7aGFuZGxlcjp7Y3JlYXRlOmZ1bmN0aW9uKGEpe3JldHVybiBuZXcgQ0tFRElUT1IudWkubWVudUJ1dHRvbihhKX19fX0pfSxcbmJlZm9yZUluaXQ6ZnVuY3Rpb24oYSl7YS51aS5hZGRIYW5kbGVyKENLRURJVE9SLlVJX01FTlVCVVRUT04sQ0tFRElUT1IudWkubWVudUJ1dHRvbi5oYW5kbGVyKX19KSxDS0VESVRPUi5VSV9NRU5VQlVUVE9OPVwibWVudWJ1dHRvblwiLFwidXNlIHN0cmljdFwiLENLRURJVE9SLnBsdWdpbnMuYWRkKFwic2NheXRcIix7cmVxdWlyZXM6XCJtZW51YnV0dG9uLGRpYWxvZ1wiLHRhYlRvT3BlbjpudWxsLGRpYWxvZ05hbWU6XCJzY2F5dERpYWxvZ1wiLGluaXQ6ZnVuY3Rpb24oYSl7dmFyIGU9dGhpcyxiPUNLRURJVE9SLnBsdWdpbnMuc2NheXQ7dGhpcy5iaW5kRXZlbnRzKGEpO3RoaXMucGFyc2VDb25maWcoYSk7dGhpcy5hZGRSdWxlKGEpO0NLRURJVE9SLmRpYWxvZy5hZGQodGhpcy5kaWFsb2dOYW1lLENLRURJVE9SLmdldFVybCh0aGlzLnBhdGgrXCJkaWFsb2dzL29wdGlvbnMuanNcIikpO3RoaXMuYWRkTWVudUl0ZW1zKGEpO3ZhciBjPWEubGFuZy5zY2F5dCxkPUNLRURJVE9SLmVudjthLnVpLmFkZChcIlNjYXl0XCIsXG5DS0VESVRPUi5VSV9NRU5VQlVUVE9OLHtsYWJlbDpjLnRleHRfdGl0bGUsdGl0bGU6YS5wbHVnaW5zLndzYz9hLmxhbmcud3NjLnRpdGxlOmMudGV4dF90aXRsZSxtb2Rlczp7d3lzaXd5ZzohKGQuaWUmJig4PmQudmVyc2lvbnx8ZC5xdWlya3MpKX0sdG9vbGJhcjpcInNwZWxsY2hlY2tlciwyMFwiLHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYz1hLnVpLmluc3RhbmNlcy5TY2F5dC5nZXRTdGF0ZSgpO2Euc2NheXQmJihjPWIuc3RhdGUuc2NheXRbYS5uYW1lXT9DS0VESVRPUi5UUklTVEFURV9PTjpDS0VESVRPUi5UUklTVEFURV9PRkYpO2EuZmlyZShcInNjYXl0QnV0dG9uU3RhdGVcIixjKX0sb25SZW5kZXI6ZnVuY3Rpb24oKXt2YXIgYj10aGlzO2Eub24oXCJzY2F5dEJ1dHRvblN0YXRlXCIsZnVuY3Rpb24oYSl7dm9pZCAwIT09dHlwZW9mIGEuZGF0YSYmYi5zZXRTdGF0ZShhLmRhdGEpfSl9LG9uTWVudTpmdW5jdGlvbigpe3ZhciBjPWEuc2NheXQ7YS5nZXRNZW51SXRlbShcInNjYXl0VG9nZ2xlXCIpLmxhYmVsPVxuYS5sYW5nLnNjYXl0W2MmJmIuc3RhdGUuc2NheXRbYS5uYW1lXT9cImJ0bl9kaXNhYmxlXCI6XCJidG5fZW5hYmxlXCJdO2M9e3NjYXl0VG9nZ2xlOkNLRURJVE9SLlRSSVNUQVRFX09GRixzY2F5dE9wdGlvbnM6Yz9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQsc2NheXRMYW5nczpjP0NLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCxzY2F5dERpY3Q6Yz9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQsc2NheXRBYm91dDpjP0NLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCxXU0M6YS5wbHVnaW5zLndzYz9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUR9O2EuY29uZmlnLnNjYXl0X3VpVGFic1swXXx8ZGVsZXRlIGMuc2NheXRPcHRpb25zO2EuY29uZmlnLnNjYXl0X3VpVGFic1sxXXx8ZGVsZXRlIGMuc2NheXRMYW5ncztcbmEuY29uZmlnLnNjYXl0X3VpVGFic1syXXx8ZGVsZXRlIGMuc2NheXREaWN0O3JldHVybiBjfX0pO2EuY29udGV4dE1lbnUmJmEuYWRkTWVudUl0ZW1zJiYoYS5jb250ZXh0TWVudS5hZGRMaXN0ZW5lcihmdW5jdGlvbihiLGMpe3ZhciBkPWEuc2NheXQsaCxrO2QmJihrPWQuZ2V0U2VsZWN0aW9uTm9kZSgpKSYmKGg9ZS5tZW51R2VuZXJhdG9yKGEsayksZC5zaG93QmFubmVyKFwiLlwiK2EuY29udGV4dE1lbnUuXy5kZWZpbml0aW9uLnBhbmVsLmNsYXNzTmFtZS5zcGxpdChcIiBcIikuam9pbihcIiAuXCIpKSk7cmV0dXJuIGh9KSxhLmNvbnRleHRNZW51Ll8ub25IaWRlPUNLRURJVE9SLnRvb2xzLm92ZXJyaWRlKGEuY29udGV4dE1lbnUuXy5vbkhpZGUsZnVuY3Rpb24oYil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGM9YS5zY2F5dDtjJiZjLmhpZGVCYW5uZXIoKTtyZXR1cm4gYi5hcHBseSh0aGlzKX19KSl9LGFkZE1lbnVJdGVtczpmdW5jdGlvbihhKXt2YXIgZT10aGlzLGI9Q0tFRElUT1IucGx1Z2lucy5zY2F5dDtcbmEuYWRkTWVudUdyb3VwKFwic2NheXRCdXR0b25cIik7Zm9yKHZhciBjPWEuY29uZmlnLnNjYXl0X2NvbnRleHRNZW51SXRlbXNPcmRlci5zcGxpdChcInxcIiksZD0wO2Q8Yy5sZW5ndGg7ZCsrKWNbZF09XCJzY2F5dF9cIitjW2RdO2lmKChjPVtcImdyYXl0X2Rlc2NyaXB0aW9uXCIsXCJncmF5dF9zdWdnZXN0XCIsXCJncmF5dF9jb250cm9sXCJdLmNvbmNhdChjKSkmJmMubGVuZ3RoKWZvcihkPTA7ZDxjLmxlbmd0aDtkKyspYS5hZGRNZW51R3JvdXAoY1tkXSxkLTEwKTthLmFkZENvbW1hbmQoXCJzY2F5dFRvZ2dsZVwiLHtleGVjOmZ1bmN0aW9uKGEpe3ZhciBjPWEuc2NheXQ7Yi5zdGF0ZS5zY2F5dFthLm5hbWVdPSFiLnN0YXRlLnNjYXl0W2EubmFtZV07ITA9PT1iLnN0YXRlLnNjYXl0W2EubmFtZV0/Y3x8Yi5jcmVhdGVTY2F5dChhKTpjJiZiLmRlc3Ryb3koYSl9fSk7YS5hZGRDb21tYW5kKFwic2NheXRBYm91dFwiLHtleGVjOmZ1bmN0aW9uKGEpe2Euc2NheXQudGFiVG9PcGVuPVwiYWJvdXRcIjthLmxvY2tTZWxlY3Rpb24oKTtcbmEub3BlbkRpYWxvZyhlLmRpYWxvZ05hbWUpfX0pO2EuYWRkQ29tbWFuZChcInNjYXl0T3B0aW9uc1wiLHtleGVjOmZ1bmN0aW9uKGEpe2Euc2NheXQudGFiVG9PcGVuPVwib3B0aW9uc1wiO2EubG9ja1NlbGVjdGlvbigpO2Eub3BlbkRpYWxvZyhlLmRpYWxvZ05hbWUpfX0pO2EuYWRkQ29tbWFuZChcInNjYXl0TGFuZ3NcIix7ZXhlYzpmdW5jdGlvbihhKXthLnNjYXl0LnRhYlRvT3Blbj1cImxhbmdzXCI7YS5sb2NrU2VsZWN0aW9uKCk7YS5vcGVuRGlhbG9nKGUuZGlhbG9nTmFtZSl9fSk7YS5hZGRDb21tYW5kKFwic2NheXREaWN0XCIse2V4ZWM6ZnVuY3Rpb24oYSl7YS5zY2F5dC50YWJUb09wZW49XCJkaWN0aW9uYXJpZXNcIjthLmxvY2tTZWxlY3Rpb24oKTthLm9wZW5EaWFsb2coZS5kaWFsb2dOYW1lKX19KTtjPXtzY2F5dFRvZ2dsZTp7bGFiZWw6YS5sYW5nLnNjYXl0LmJ0bl9lbmFibGUsZ3JvdXA6XCJzY2F5dEJ1dHRvblwiLGNvbW1hbmQ6XCJzY2F5dFRvZ2dsZVwifSxzY2F5dEFib3V0OntsYWJlbDphLmxhbmcuc2NheXQuYnRuX2Fib3V0LFxuZ3JvdXA6XCJzY2F5dEJ1dHRvblwiLGNvbW1hbmQ6XCJzY2F5dEFib3V0XCJ9LHNjYXl0T3B0aW9uczp7bGFiZWw6YS5sYW5nLnNjYXl0LmJ0bl9vcHRpb25zLGdyb3VwOlwic2NheXRCdXR0b25cIixjb21tYW5kOlwic2NheXRPcHRpb25zXCJ9LHNjYXl0TGFuZ3M6e2xhYmVsOmEubGFuZy5zY2F5dC5idG5fbGFuZ3MsZ3JvdXA6XCJzY2F5dEJ1dHRvblwiLGNvbW1hbmQ6XCJzY2F5dExhbmdzXCJ9LHNjYXl0RGljdDp7bGFiZWw6YS5sYW5nLnNjYXl0LmJ0bl9kaWN0aW9uYXJpZXMsZ3JvdXA6XCJzY2F5dEJ1dHRvblwiLGNvbW1hbmQ6XCJzY2F5dERpY3RcIn19O2EucGx1Z2lucy53c2MmJihjLldTQz17bGFiZWw6YS5sYW5nLndzYy50b29sYmFyLGdyb3VwOlwic2NheXRCdXR0b25cIixvbkNsaWNrOmZ1bmN0aW9uKCl7dmFyIGI9Q0tFRElUT1IucGx1Z2lucy5zY2F5dCxjPWEuc2NheXQsZD1hLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FP2EuY29udGFpbmVyLmdldFRleHQoKTphLmRvY3VtZW50LmdldEJvZHkoKS5nZXRUZXh0KCk7XG4oZD1kLnJlcGxhY2UoL1xccy9nLFwiXCIpKT8oYyYmYi5zdGF0ZS5zY2F5dFthLm5hbWVdJiZjLnNldE1hcmt1cFBhdXNlZCYmYy5zZXRNYXJrdXBQYXVzZWQoITApLGEubG9ja1NlbGVjdGlvbigpLGEuZXhlY0NvbW1hbmQoXCJjaGVja3NwZWxsXCIpKTphbGVydChcIk5vdGhpbmcgdG8gY2hlY2shXCIpfX0pO2EuYWRkTWVudUl0ZW1zKGMpfSxiaW5kRXZlbnRzOmZ1bmN0aW9uKGEpe3ZhciBlPUNLRURJVE9SLnBsdWdpbnMuc2NheXQsYj1hLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FLGM9ZnVuY3Rpb24oKXtlLmRlc3Ryb3koYSl9LGQ9ZnVuY3Rpb24oKXshZS5zdGF0ZS5zY2F5dFthLm5hbWVdfHxhLnJlYWRPbmx5fHxhLnNjYXl0fHxlLmNyZWF0ZVNjYXl0KGEpfSxsPWZ1bmN0aW9uKCl7dmFyIGM9YS5lZGl0YWJsZSgpO2MuYXR0YWNoTGlzdGVuZXIoYyxcImZvY3VzXCIsZnVuY3Rpb24oYyl7Q0tFRElUT1IucGx1Z2lucy5zY2F5dCYmIWEuc2NheXQmJnNldFRpbWVvdXQoZCxcbjApO2M9Q0tFRElUT1IucGx1Z2lucy5zY2F5dCYmQ0tFRElUT1IucGx1Z2lucy5zY2F5dC5zdGF0ZS5zY2F5dFthLm5hbWVdJiZhLnNjYXl0O3ZhciBmLGU7aWYoKGJ8fGMpJiZhLl8uc2F2ZWRTZWxlY3Rpb24pe2M9YS5fLnNhdmVkU2VsZWN0aW9uLmdldFNlbGVjdGVkRWxlbWVudCgpO2M9IWMmJmEuXy5zYXZlZFNlbGVjdGlvbi5nZXRSYW5nZXMoKTtmb3IodmFyIG09MDttPGMubGVuZ3RoO20rKyllPWNbbV0sXCJzdHJpbmdcIj09PXR5cGVvZiBlLnN0YXJ0Q29udGFpbmVyLiQubm9kZVZhbHVlJiYoZj1lLnN0YXJ0Q29udGFpbmVyLmdldFRleHQoKS5sZW5ndGgsKGY8ZS5zdGFydE9mZnNldHx8ZjxlLmVuZE9mZnNldCkmJmEudW5sb2NrU2VsZWN0aW9uKCExKSl9fSx0aGlzLG51bGwsLTEwKX0sbT1mdW5jdGlvbigpe2I/YS5jb25maWcuc2NheXRfaW5saW5lTW9kZUltbWVkaWF0ZU1hcmt1cD9kKCk6KGEub24oXCJibHVyXCIsZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGMsMCl9KSxhLm9uKFwiZm9jdXNcIixcbmQpLGEuZm9jdXNNYW5hZ2VyLmhhc0ZvY3VzJiZkKCkpOmQoKTtsKCk7dmFyIGY9YS5lZGl0YWJsZSgpO2YuYXR0YWNoTGlzdGVuZXIoZixcIm1vdXNlZG93blwiLGZ1bmN0aW9uKGIpe2I9Yi5kYXRhLmdldFRhcmdldCgpO3ZhciBjPWEud2lkZ2V0cyYmYS53aWRnZXRzLmdldEJ5RWxlbWVudChiKTtjJiYoYy53cmFwcGVyPWIuZ2V0QXNjZW5kYW50KGZ1bmN0aW9uKGEpe3JldHVybiBhLmhhc0F0dHJpYnV0ZShcImRhdGEtY2tlLXdpZGdldC13cmFwcGVyXCIpfSwhMCkpfSx0aGlzLG51bGwsLTEwKX07YS5vbihcImNvbnRlbnREb21cIixtKTthLm9uKFwiYmVmb3JlQ29tbWFuZEV4ZWNcIixmdW5jdGlvbihiKXt2YXIgYz1hLnNjYXl0LGQ9bnVsbCxnPSExLG09ITA7Yi5kYXRhLm5hbWUgaW4gZS5vcHRpb25zLmRpc2FibGluZ0NvbW1hbmRFeGVjJiZcInd5c2l3eWdcIj09YS5tb2RlP2MmJihlLmRlc3Ryb3koYSksYS5maXJlKFwic2NheXRCdXR0b25TdGF0ZVwiLENLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKSk6XG5cImJvbGRcIiE9PWIuZGF0YS5uYW1lJiZcIml0YWxpY1wiIT09Yi5kYXRhLm5hbWUmJlwidW5kZXJsaW5lXCIhPT1iLmRhdGEubmFtZSYmXCJzdHJpa2VcIiE9PWIuZGF0YS5uYW1lJiZcInN1YnNjcmlwdFwiIT09Yi5kYXRhLm5hbWUmJlwic3VwZXJzY3JpcHRcIiE9PWIuZGF0YS5uYW1lJiZcImVudGVyXCIhPT1iLmRhdGEubmFtZSYmXCJjdXRcIiE9PWIuZGF0YS5uYW1lJiZcImxhbmd1YWdlXCIhPT1iLmRhdGEubmFtZXx8IWN8fChcImN1dFwiPT09Yi5kYXRhLm5hbWUmJihtPSExLGc9ITApLFwibGFuZ3VhZ2VcIj09PWIuZGF0YS5uYW1lJiYoZD0oZD1hLnBsdWdpbnMubGFuZ3VhZ2UuZ2V0Q3VycmVudExhbmdFbGVtZW50KGEpKSYmZC4kLGc9ITApLGEuZmlyZShcInJlbG9hZE1hcmt1cFNjYXl0XCIse3JlbW92ZU9wdGlvbnM6e3JlbW92ZUluc2lkZTptLGZvcmNlQm9va21hcms6ZyxzZWxlY3Rpb25Ob2RlOmR9LHRpbWVvdXQ6MH0pKX0pO2Eub24oXCJiZWZvcmVTZXRNb2RlXCIsZnVuY3Rpb24oYil7aWYoXCJzb3VyY2VcIj09XG5iLmRhdGEpe2lmKGI9YS5zY2F5dCllLmRlc3Ryb3koYSksYS5maXJlKFwic2NheXRCdXR0b25TdGF0ZVwiLENLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKTthLmRvY3VtZW50JiZhLmRvY3VtZW50LmdldEJvZHkoKS5yZW1vdmVBdHRyaWJ1dGUoXCJfanF1aWRcIil9fSk7YS5vbihcImFmdGVyQ29tbWFuZEV4ZWNcIixmdW5jdGlvbihiKXtcInd5c2l3eWdcIiE9YS5tb2RlfHxcInVuZG9cIiE9Yi5kYXRhLm5hbWUmJlwicmVkb1wiIT1iLmRhdGEubmFtZXx8c2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBiPWEuc2NheXQsYz1iJiZiLmdldFNjYXl0TGFuZ0xpc3QoKTtjJiZjLmx0ciYmYy5ydGwmJmIuZmlyZShcInN0YXJ0U3BlbGxDaGVjaywgc3RhcnRHcmFtbWFyQ2hlY2tcIil9LDI1MCl9KTthLm9uKFwicmVhZE9ubHlcIixmdW5jdGlvbihiKXt2YXIgYztiJiYoYz1hLnNjYXl0LCEwPT09Yi5lZGl0b3IucmVhZE9ubHk/YyYmYy5maXJlKFwicmVtb3ZlTWFya3VwSW5Eb2N1bWVudFwiLHt9KTpjP2MuZmlyZShcInN0YXJ0U3BlbGxDaGVjaywgc3RhcnRHcmFtbWFyQ2hlY2tcIik6XG5cInd5c2l3eWdcIj09Yi5lZGl0b3IubW9kZSYmITA9PT1lLnN0YXRlLnNjYXl0W2IuZWRpdG9yLm5hbWVdJiYoZS5jcmVhdGVTY2F5dChhKSxiLmVkaXRvci5maXJlKFwic2NheXRCdXR0b25TdGF0ZVwiLENLRURJVE9SLlRSSVNUQVRFX09OKSkpfSk7YS5vbihcImJlZm9yZURlc3Ryb3lcIixjKTthLm9uKFwic2V0RGF0YVwiLGZ1bmN0aW9uKCl7YygpOyhhLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FfHxhLnBsdWdpbnMuZGl2YXJlYSkmJm0oKX0sdGhpcyxudWxsLDUwKTthLm9uKFwicmVsb2FkTWFya3VwU2NheXRcIixmdW5jdGlvbihiKXt2YXIgYz1iLmRhdGEmJmIuZGF0YS5yZW1vdmVPcHRpb25zO3NldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgYj1hLnNjYXl0LGQ9YiYmYi5nZXRTY2F5dExhbmdMaXN0KCk7ZCYmZC5sdHImJmQucnRsJiYoYS5kb2N1bWVudC5maXJlKFwia2V5ZG93blwiLG5ldyBDS0VESVRPUi5kb20uZXZlbnQoe2tleUNvZGU6Mzd9KSksYi5yZW1vdmVNYXJrdXBJblNlbGVjdGlvbk5vZGUoYyksXG5iLmZpcmUoXCJzdGFydFNwZWxsQ2hlY2ssIHN0YXJ0R3JhbW1hckNoZWNrXCIpKX0sYi5kYXRhJiZiLmRhdGEudGltZW91dHx8MCl9KTthLm9uKFwiaW5zZXJ0RWxlbWVudFwiLGZ1bmN0aW9uKCl7YS5maXJlKFwicmVsb2FkTWFya3VwU2NheXRcIix7cmVtb3ZlT3B0aW9uczp7Zm9yY2VCb29rbWFyazohMH19KX0sdGhpcyxudWxsLDUwKTthLm9uKFwiaW5zZXJ0SHRtbFwiLGZ1bmN0aW9uKCl7YS5maXJlKFwicmVsb2FkTWFya3VwU2NheXRcIil9LHRoaXMsbnVsbCw1MCk7YS5vbihcImluc2VydFRleHRcIixmdW5jdGlvbigpe2EuZmlyZShcInJlbG9hZE1hcmt1cFNjYXl0XCIpfSx0aGlzLG51bGwsNTApO2Eub24oXCJzY2F5dERpYWxvZ1Nob3duXCIsZnVuY3Rpb24oYil7Yi5kYXRhLnNlbGVjdFBhZ2UoYS5zY2F5dC50YWJUb09wZW4pfSl9LHBhcnNlQ29uZmlnOmZ1bmN0aW9uKGEpe3ZhciBlPUNLRURJVE9SLnBsdWdpbnMuc2NheXQ7ZS5yZXBsYWNlT2xkT3B0aW9uc05hbWVzKGEuY29uZmlnKTtcImJvb2xlYW5cIiE9PVxudHlwZW9mIGEuY29uZmlnLnNjYXl0X2F1dG9TdGFydHVwJiYoYS5jb25maWcuc2NheXRfYXV0b1N0YXJ0dXA9ITEpO2Uuc3RhdGUuc2NheXRbYS5uYW1lXT1hLmNvbmZpZy5zY2F5dF9hdXRvU3RhcnR1cDtcImJvb2xlYW5cIiE9PXR5cGVvZiBhLmNvbmZpZy5ncmF5dF9hdXRvU3RhcnR1cCYmKGEuY29uZmlnLmdyYXl0X2F1dG9TdGFydHVwPSExKTtcImJvb2xlYW5cIiE9PXR5cGVvZiBhLmNvbmZpZy5zY2F5dF9pbmxpbmVNb2RlSW1tZWRpYXRlTWFya3VwJiYoYS5jb25maWcuc2NheXRfaW5saW5lTW9kZUltbWVkaWF0ZU1hcmt1cD0hMSk7ZS5zdGF0ZS5ncmF5dFthLm5hbWVdPWEuY29uZmlnLmdyYXl0X2F1dG9TdGFydHVwO2EuY29uZmlnLnNjYXl0X2NvbnRleHRDb21tYW5kc3x8KGEuY29uZmlnLnNjYXl0X2NvbnRleHRDb21tYW5kcz1cImlnbm9yZXxpZ25vcmVhbGx8YWRkXCIpO2EuY29uZmlnLnNjYXl0X2NvbnRleHRNZW51SXRlbXNPcmRlcnx8KGEuY29uZmlnLnNjYXl0X2NvbnRleHRNZW51SXRlbXNPcmRlcj1cblwic3VnZ2VzdHxtb3Jlc3VnZ2VzdHxjb250cm9sXCIpO2EuY29uZmlnLnNjYXl0X3NMYW5nfHwoYS5jb25maWcuc2NheXRfc0xhbmc9XCJlbl9VU1wiKTtpZih2b2lkIDA9PT1hLmNvbmZpZy5zY2F5dF9tYXhTdWdnZXN0aW9uc3x8XCJudW1iZXJcIiE9dHlwZW9mIGEuY29uZmlnLnNjYXl0X21heFN1Z2dlc3Rpb25zfHwwPmEuY29uZmlnLnNjYXl0X21heFN1Z2dlc3Rpb25zKWEuY29uZmlnLnNjYXl0X21heFN1Z2dlc3Rpb25zPTU7aWYodm9pZCAwPT09YS5jb25maWcuc2NheXRfbWluV29yZExlbmd0aHx8XCJudW1iZXJcIiE9dHlwZW9mIGEuY29uZmlnLnNjYXl0X21pbldvcmRMZW5ndGh8fDE+YS5jb25maWcuc2NheXRfbWluV29yZExlbmd0aClhLmNvbmZpZy5zY2F5dF9taW5Xb3JkTGVuZ3RoPTQ7aWYodm9pZCAwPT09YS5jb25maWcuc2NheXRfY3VzdG9tRGljdGlvbmFyeUlkc3x8XCJzdHJpbmdcIiE9PXR5cGVvZiBhLmNvbmZpZy5zY2F5dF9jdXN0b21EaWN0aW9uYXJ5SWRzKWEuY29uZmlnLnNjYXl0X2N1c3RvbURpY3Rpb25hcnlJZHM9XG5cIlwiO2lmKHZvaWQgMD09PWEuY29uZmlnLnNjYXl0X3VzZXJEaWN0aW9uYXJ5TmFtZXx8XCJzdHJpbmdcIiE9PXR5cGVvZiBhLmNvbmZpZy5zY2F5dF91c2VyRGljdGlvbmFyeU5hbWUpYS5jb25maWcuc2NheXRfdXNlckRpY3Rpb25hcnlOYW1lPW51bGw7aWYoXCJzdHJpbmdcIj09PXR5cGVvZiBhLmNvbmZpZy5zY2F5dF91aVRhYnMmJjM9PT1hLmNvbmZpZy5zY2F5dF91aVRhYnMuc3BsaXQoXCIsXCIpLmxlbmd0aCl7dmFyIGI9W10sYz1bXTthLmNvbmZpZy5zY2F5dF91aVRhYnM9YS5jb25maWcuc2NheXRfdWlUYWJzLnNwbGl0KFwiLFwiKTtDS0VESVRPUi50b29scy5zZWFyY2goYS5jb25maWcuc2NheXRfdWlUYWJzLGZ1bmN0aW9uKGEpezE9PT1OdW1iZXIoYSl8fDA9PT1OdW1iZXIoYSk/KGMucHVzaCghMCksYi5wdXNoKE51bWJlcihhKSkpOmMucHVzaCghMSl9KTtudWxsPT09Q0tFRElUT1IudG9vbHMuc2VhcmNoKGMsITEpP2EuY29uZmlnLnNjYXl0X3VpVGFicz1iOmEuY29uZmlnLnNjYXl0X3VpVGFicz1cblsxLDEsMV19ZWxzZSBhLmNvbmZpZy5zY2F5dF91aVRhYnM9WzEsMSwxXTtcInN0cmluZ1wiIT10eXBlb2YgYS5jb25maWcuc2NheXRfc2VydmljZVByb3RvY29sJiYoYS5jb25maWcuc2NheXRfc2VydmljZVByb3RvY29sPW51bGwpO1wic3RyaW5nXCIhPXR5cGVvZiBhLmNvbmZpZy5zY2F5dF9zZXJ2aWNlSG9zdCYmKGEuY29uZmlnLnNjYXl0X3NlcnZpY2VIb3N0PW51bGwpO1wic3RyaW5nXCIhPXR5cGVvZiBhLmNvbmZpZy5zY2F5dF9zZXJ2aWNlUG9ydCYmKGEuY29uZmlnLnNjYXl0X3NlcnZpY2VQb3J0PW51bGwpO1wic3RyaW5nXCIhPXR5cGVvZiBhLmNvbmZpZy5zY2F5dF9zZXJ2aWNlUGF0aCYmKGEuY29uZmlnLnNjYXl0X3NlcnZpY2VQYXRoPW51bGwpO2EuY29uZmlnLnNjYXl0X21vcmVTdWdnZXN0aW9uc3x8KGEuY29uZmlnLnNjYXl0X21vcmVTdWdnZXN0aW9ucz1cIm9uXCIpO1wic3RyaW5nXCIhPT10eXBlb2YgYS5jb25maWcuc2NheXRfY3VzdG9tZXJJZCYmKGEuY29uZmlnLnNjYXl0X2N1c3RvbWVySWQ9XG5cIjE6V3ZGMEQ0LVV0UHFOMS00M25rRDQtTkt2VW0yLWRhUXFrMy1MbU5pSS16N1lzYjQtbXdyeTI0LVQ4WXJTMy1RMnRwcTJcIik7XCJzdHJpbmdcIiE9PXR5cGVvZiBhLmNvbmZpZy5zY2F5dF9zcmNVcmwmJihlPWRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sLGU9LTEhPWUuc2VhcmNoKC9odHRwcz86Lyk/ZTpcImh0dHA6XCIsYS5jb25maWcuc2NheXRfc3JjVXJsPWUrXCIvL3N2Yy53ZWJzcGVsbGNoZWNrZXIubmV0L3NwZWxsY2hlY2szMS9sZi9zY2F5dDMvY2tzY2F5dC9ja3NjYXl0LmpzXCIpO1wiYm9vbGVhblwiIT09dHlwZW9mIENLRURJVE9SLmNvbmZpZy5zY2F5dF9oYW5kbGVDaGVja0RpcnR5JiYoQ0tFRElUT1IuY29uZmlnLnNjYXl0X2hhbmRsZUNoZWNrRGlydHk9ITApO1wiYm9vbGVhblwiIT09dHlwZW9mIENLRURJVE9SLmNvbmZpZy5zY2F5dF9oYW5kbGVVbmRvUmVkbyYmKENLRURJVE9SLmNvbmZpZy5zY2F5dF9oYW5kbGVVbmRvUmVkbz0hMCk7Q0tFRElUT1IuY29uZmlnLnNjYXl0X2hhbmRsZVVuZG9SZWRvPVxuQ0tFRElUT1IucGx1Z2lucy51bmRvP0NLRURJVE9SLmNvbmZpZy5zY2F5dF9oYW5kbGVVbmRvUmVkbzohMTtcImJvb2xlYW5cIiE9PXR5cGVvZiBhLmNvbmZpZy5zY2F5dF9tdWx0aUxhbmd1YWdlTW9kZSYmKGEuY29uZmlnLnNjYXl0X211bHRpTGFuZ3VhZ2VNb2RlPSExKTtcIm9iamVjdFwiIT09dHlwZW9mIGEuY29uZmlnLnNjYXl0X211bHRpTGFuZ3VhZ2VTdHlsZXMmJihhLmNvbmZpZy5zY2F5dF9tdWx0aUxhbmd1YWdlU3R5bGVzPXt9KTthLmNvbmZpZy5zY2F5dF9pZ25vcmVBbGxDYXBzV29yZHMmJlwiYm9vbGVhblwiIT09dHlwZW9mIGEuY29uZmlnLnNjYXl0X2lnbm9yZUFsbENhcHNXb3JkcyYmKGEuY29uZmlnLnNjYXl0X2lnbm9yZUFsbENhcHNXb3Jkcz0hMSk7YS5jb25maWcuc2NheXRfaWdub3JlRG9tYWluTmFtZXMmJlwiYm9vbGVhblwiIT09dHlwZW9mIGEuY29uZmlnLnNjYXl0X2lnbm9yZURvbWFpbk5hbWVzJiYoYS5jb25maWcuc2NheXRfaWdub3JlRG9tYWluTmFtZXM9ITEpO2EuY29uZmlnLnNjYXl0X2lnbm9yZVdvcmRzV2l0aE1peGVkQ2FzZXMmJlxuXCJib29sZWFuXCIhPT10eXBlb2YgYS5jb25maWcuc2NheXRfaWdub3JlV29yZHNXaXRoTWl4ZWRDYXNlcyYmKGEuY29uZmlnLnNjYXl0X2lnbm9yZVdvcmRzV2l0aE1peGVkQ2FzZXM9ITEpO2EuY29uZmlnLnNjYXl0X2lnbm9yZVdvcmRzV2l0aE51bWJlcnMmJlwiYm9vbGVhblwiIT09dHlwZW9mIGEuY29uZmlnLnNjYXl0X2lnbm9yZVdvcmRzV2l0aE51bWJlcnMmJihhLmNvbmZpZy5zY2F5dF9pZ25vcmVXb3Jkc1dpdGhOdW1iZXJzPSExKTtpZihhLmNvbmZpZy5zY2F5dF9kaXNhYmxlT3B0aW9uc1N0b3JhZ2Upe3ZhciBlPUNLRURJVE9SLnRvb2xzLmlzQXJyYXkoYS5jb25maWcuc2NheXRfZGlzYWJsZU9wdGlvbnNTdG9yYWdlKT9hLmNvbmZpZy5zY2F5dF9kaXNhYmxlT3B0aW9uc1N0b3JhZ2U6XCJzdHJpbmdcIj09PXR5cGVvZiBhLmNvbmZpZy5zY2F5dF9kaXNhYmxlT3B0aW9uc1N0b3JhZ2U/W2EuY29uZmlnLnNjYXl0X2Rpc2FibGVPcHRpb25zU3RvcmFnZV06dm9pZCAwLGQ9XCJhbGwgb3B0aW9ucyBsYW5nIGlnbm9yZS1hbGwtY2Fwcy13b3JkcyBpZ25vcmUtZG9tYWluLW5hbWVzIGlnbm9yZS13b3Jkcy13aXRoLW1peGVkLWNhc2VzIGlnbm9yZS13b3Jkcy13aXRoLW51bWJlcnNcIi5zcGxpdChcIiBcIiksXG5sPVtcImxhbmdcIixcImlnbm9yZS1hbGwtY2Fwcy13b3Jkc1wiLFwiaWdub3JlLWRvbWFpbi1uYW1lc1wiLFwiaWdub3JlLXdvcmRzLXdpdGgtbWl4ZWQtY2FzZXNcIixcImlnbm9yZS13b3Jkcy13aXRoLW51bWJlcnNcIl0sbT1DS0VESVRPUi50b29scy5zZWFyY2gsZj1DS0VESVRPUi50b29scy5pbmRleE9mO2EuY29uZmlnLnNjYXl0X2Rpc2FibGVPcHRpb25zU3RvcmFnZT1mdW5jdGlvbihhKXtmb3IodmFyIGI9W10sYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgZT1hW2NdLHY9ISFtKGEsXCJvcHRpb25zXCIpO2lmKCFtKGQsZSl8fHYmJm0obCxmdW5jdGlvbihhKXtpZihcImxhbmdcIj09PWEpcmV0dXJuITF9KSlyZXR1cm47bShsLGUpJiZsLnNwbGljZShmKGwsZSksMSk7aWYoXCJhbGxcIj09PWV8fHYmJm0oYSxcImxhbmdcIikpcmV0dXJuW107XCJvcHRpb25zXCI9PT1lJiYobD1bXCJsYW5nXCJdKX1yZXR1cm4gYj1iLmNvbmNhdChsKX0oZSl9fSxhZGRSdWxlOmZ1bmN0aW9uKGEpe3ZhciBlPUNLRURJVE9SLnBsdWdpbnMuc2NheXQsXG5iPWEuZGF0YVByb2Nlc3NvcixjPWImJmIuaHRtbEZpbHRlcixkPWEuXy5lbGVtZW50c1BhdGgmJmEuXy5lbGVtZW50c1BhdGguZmlsdGVycyxiPWImJmIuZGF0YUZpbHRlcixsPWEuYWRkUmVtb3ZlRm9ybWF0RmlsdGVyLG09ZnVuY3Rpb24oYil7aWYoYS5zY2F5dCYmKGIuaGFzQXR0cmlidXRlKGUub3B0aW9ucy5kYXRhX2F0dHJpYnV0ZV9uYW1lKXx8Yi5oYXNBdHRyaWJ1dGUoZS5vcHRpb25zLnByb2JsZW1fZ3JhbW1hcl9kYXRhX2F0dHJpYnV0ZSkpKXJldHVybiExfSxmPWZ1bmN0aW9uKGIpe3ZhciBjPSEwO2Euc2NheXQmJihiLmhhc0F0dHJpYnV0ZShlLm9wdGlvbnMuZGF0YV9hdHRyaWJ1dGVfbmFtZSl8fGIuaGFzQXR0cmlidXRlKGUub3B0aW9ucy5wcm9ibGVtX2dyYW1tYXJfZGF0YV9hdHRyaWJ1dGUpKSYmKGM9ITEpO3JldHVybiBjfTtkJiZkLnB1c2gobSk7YiYmYi5hZGRSdWxlcyh7ZWxlbWVudHM6e3NwYW46ZnVuY3Rpb24oYSl7dmFyIGI9YS5oYXNDbGFzcyhlLm9wdGlvbnMubWlzc3BlbGxlZF93b3JkX2NsYXNzKSYmXG5hLmF0dHJpYnV0ZXNbZS5vcHRpb25zLmRhdGFfYXR0cmlidXRlX25hbWVdLGM9YS5oYXNDbGFzcyhlLm9wdGlvbnMucHJvYmxlbV9ncmFtbWFyX2NsYXNzKSYmYS5hdHRyaWJ1dGVzW2Uub3B0aW9ucy5wcm9ibGVtX2dyYW1tYXJfZGF0YV9hdHRyaWJ1dGVdO2UmJihifHxjKSYmZGVsZXRlIGEubmFtZTtyZXR1cm4gYX19fSk7YyYmYy5hZGRSdWxlcyh7ZWxlbWVudHM6e3NwYW46ZnVuY3Rpb24oYSl7dmFyIGI9YS5oYXNDbGFzcyhlLm9wdGlvbnMubWlzc3BlbGxlZF93b3JkX2NsYXNzKSYmYS5hdHRyaWJ1dGVzW2Uub3B0aW9ucy5kYXRhX2F0dHJpYnV0ZV9uYW1lXSxjPWEuaGFzQ2xhc3MoZS5vcHRpb25zLnByb2JsZW1fZ3JhbW1hcl9jbGFzcykmJmEuYXR0cmlidXRlc1tlLm9wdGlvbnMucHJvYmxlbV9ncmFtbWFyX2RhdGFfYXR0cmlidXRlXTtlJiYoYnx8YykmJmRlbGV0ZSBhLm5hbWU7cmV0dXJuIGF9fX0pO2wmJmwuY2FsbChhLGYpfSxzY2F5dE1lbnVEZWZpbml0aW9uOmZ1bmN0aW9uKGEpe3ZhciBlPVxudGhpczthPWEuc2NheXQ7cmV0dXJue3NjYXl0OntzY2F5dF9pZ25vcmU6e2xhYmVsOmEuZ2V0TG9jYWwoXCJidG5faWdub3JlXCIpLGdyb3VwOlwic2NheXRfY29udHJvbFwiLG9yZGVyOjEsZXhlYzpmdW5jdGlvbihhKXthLnNjYXl0Lmlnbm9yZVdvcmQoKX19LHNjYXl0X2lnbm9yZWFsbDp7bGFiZWw6YS5nZXRMb2NhbChcImJ0bl9pZ25vcmVBbGxcIiksZ3JvdXA6XCJzY2F5dF9jb250cm9sXCIsb3JkZXI6MixleGVjOmZ1bmN0aW9uKGEpe2Euc2NheXQuaWdub3JlQWxsV29yZHMoKX19LHNjYXl0X2FkZDp7bGFiZWw6YS5nZXRMb2NhbChcImJ0bl9hZGRXb3JkXCIpLGdyb3VwOlwic2NheXRfY29udHJvbFwiLG9yZGVyOjMsZXhlYzpmdW5jdGlvbihhKXt2YXIgYz1hLnNjYXl0O3NldFRpbWVvdXQoZnVuY3Rpb24oKXtjLmFkZFdvcmRUb1VzZXJEaWN0aW9uYXJ5KCl9LDEwKX19LHNjYXl0X29wdGlvbjp7bGFiZWw6YS5nZXRMb2NhbChcImJ0bl9vcHRpb25zXCIpLGdyb3VwOlwic2NheXRfY29udHJvbFwiLG9yZGVyOjQsXG5leGVjOmZ1bmN0aW9uKGEpe2Euc2NheXQudGFiVG9PcGVuPVwib3B0aW9uc1wiO2EubG9ja1NlbGVjdGlvbigpO2Eub3BlbkRpYWxvZyhlLmRpYWxvZ05hbWUpfSx2ZXJpZmljYXRpb246ZnVuY3Rpb24oYSl7cmV0dXJuIDE9PWEuY29uZmlnLnNjYXl0X3VpVGFic1swXT8hMDohMX19LHNjYXl0X2xhbmd1YWdlOntsYWJlbDphLmdldExvY2FsKFwiYnRuX2xhbmdzXCIpLGdyb3VwOlwic2NheXRfY29udHJvbFwiLG9yZGVyOjUsZXhlYzpmdW5jdGlvbihhKXthLnNjYXl0LnRhYlRvT3Blbj1cImxhbmdzXCI7YS5sb2NrU2VsZWN0aW9uKCk7YS5vcGVuRGlhbG9nKGUuZGlhbG9nTmFtZSl9LHZlcmlmaWNhdGlvbjpmdW5jdGlvbihhKXtyZXR1cm4gMT09YS5jb25maWcuc2NheXRfdWlUYWJzWzFdPyEwOiExfX0sc2NheXRfZGljdGlvbmFyeTp7bGFiZWw6YS5nZXRMb2NhbChcImJ0bl9kaWN0aW9uYXJpZXNcIiksZ3JvdXA6XCJzY2F5dF9jb250cm9sXCIsb3JkZXI6NixleGVjOmZ1bmN0aW9uKGEpe2Euc2NheXQudGFiVG9PcGVuPVxuXCJkaWN0aW9uYXJpZXNcIjthLmxvY2tTZWxlY3Rpb24oKTthLm9wZW5EaWFsb2coZS5kaWFsb2dOYW1lKX0sdmVyaWZpY2F0aW9uOmZ1bmN0aW9uKGEpe3JldHVybiAxPT1hLmNvbmZpZy5zY2F5dF91aVRhYnNbMl0/ITA6ITF9fSxzY2F5dF9hYm91dDp7bGFiZWw6YS5nZXRMb2NhbChcImJ0bl9hYm91dFwiKSxncm91cDpcInNjYXl0X2NvbnRyb2xcIixvcmRlcjo3LGV4ZWM6ZnVuY3Rpb24oYSl7YS5zY2F5dC50YWJUb09wZW49XCJhYm91dFwiO2EubG9ja1NlbGVjdGlvbigpO2Eub3BlbkRpYWxvZyhlLmRpYWxvZ05hbWUpfX19LGdyYXl0OntncmF5dF9wcm9ibGVtZGVzY3JpcHRpb246e2xhYmVsOlwiR3JhbW1hciBwcm9ibGVtIGRlc2NyaXB0aW9uXCIsZ3JvdXA6XCJncmF5dF9kZXNjcmlwdGlvblwiLG9yZGVyOjEsc3RhdGU6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQsZXhlYzpmdW5jdGlvbihhKXt9fSxncmF5dF9pZ25vcmU6e2xhYmVsOmEuZ2V0TG9jYWwoXCJidG5faWdub3JlXCIpLGdyb3VwOlwiZ3JheXRfY29udHJvbFwiLFxub3JkZXI6MixleGVjOmZ1bmN0aW9uKGEpe2Euc2NheXQuaWdub3JlUGhyYXNlKCl9fX19fSxidWlsZFN1Z2dlc3Rpb25NZW51SXRlbXM6ZnVuY3Rpb24oYSxlLGIpe3ZhciBjPXt9LGQ9e30sbD1iP1wid29yZFwiOlwicGhyYXNlXCIsbT1iP1wic3RhcnRHcmFtbWFyQ2hlY2tcIjpcInN0YXJ0U3BlbGxDaGVja1wiLGY9YS5zY2F5dDtpZigwPGUubGVuZ3RoJiZcIm5vX2FueV9zdWdnZXN0aW9uc1wiIT09ZVswXSlpZihiKWZvcihiPTA7YjxlLmxlbmd0aDtiKyspe3ZhciBoPVwic2NheXRfc3VnZ2VzdF9cIitDS0VESVRPUi5wbHVnaW5zLnNjYXl0LnN1Z2dlc3Rpb25zW2JdLnJlcGxhY2UoXCIgXCIsXCJfXCIpO2EuYWRkQ29tbWFuZChoLHRoaXMuY3JlYXRlQ29tbWFuZChDS0VESVRPUi5wbHVnaW5zLnNjYXl0LnN1Z2dlc3Rpb25zW2JdLGwsbSkpO2I8YS5jb25maWcuc2NheXRfbWF4U3VnZ2VzdGlvbnM/KGEuYWRkTWVudUl0ZW0oaCx7bGFiZWw6ZVtiXSxjb21tYW5kOmgsZ3JvdXA6XCJzY2F5dF9zdWdnZXN0XCIsXG5vcmRlcjpiKzF9KSxjW2hdPUNLRURJVE9SLlRSSVNUQVRFX09GRik6KGEuYWRkTWVudUl0ZW0oaCx7bGFiZWw6ZVtiXSxjb21tYW5kOmgsZ3JvdXA6XCJzY2F5dF9tb3Jlc3VnZ2VzdFwiLG9yZGVyOmIrMX0pLGRbaF09Q0tFRElUT1IuVFJJU1RBVEVfT0ZGLFwib25cIj09PWEuY29uZmlnLnNjYXl0X21vcmVTdWdnZXN0aW9ucyYmKGEuYWRkTWVudUl0ZW0oXCJzY2F5dF9tb3Jlc3VnZ2VzdFwiLHtsYWJlbDpmLmdldExvY2FsKFwiYnRuX21vcmVTdWdnZXN0aW9uc1wiKSxncm91cDpcInNjYXl0X21vcmVzdWdnZXN0XCIsb3JkZXI6MTAsZ2V0SXRlbXM6ZnVuY3Rpb24oKXtyZXR1cm4gZH19KSxjLnNjYXl0X21vcmVzdWdnZXN0PUNLRURJVE9SLlRSSVNUQVRFX09GRikpfWVsc2UgZm9yKGI9MDtiPGUubGVuZ3RoO2IrKyloPVwiZ3JheXRfc3VnZ2VzdF9cIitDS0VESVRPUi5wbHVnaW5zLnNjYXl0LnN1Z2dlc3Rpb25zW2JdLnJlcGxhY2UoXCIgXCIsXCJfXCIpLGEuYWRkQ29tbWFuZChoLHRoaXMuY3JlYXRlQ29tbWFuZChDS0VESVRPUi5wbHVnaW5zLnNjYXl0LnN1Z2dlc3Rpb25zW2JdLFxubCxtKSksYS5hZGRNZW51SXRlbShoLHtsYWJlbDplW2JdLGNvbW1hbmQ6aCxncm91cDpcImdyYXl0X3N1Z2dlc3RcIixvcmRlcjpiKzF9KSxjW2hdPUNLRURJVE9SLlRSSVNUQVRFX09GRjtlbHNlIGMubm9fc2NheXRfc3VnZ2VzdD1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCxhLmFkZENvbW1hbmQoXCJub19zY2F5dF9zdWdnZXN0XCIse2V4ZWM6ZnVuY3Rpb24oKXt9fSksYS5hZGRNZW51SXRlbShcIm5vX3NjYXl0X3N1Z2dlc3RcIix7bGFiZWw6Zi5nZXRMb2NhbChcImJ0bl9ub1N1Z2dlc3Rpb25zXCIpfHxcIm5vX3NjYXl0X3N1Z2dlc3RcIixjb21tYW5kOlwibm9fc2NheXRfc3VnZ2VzdFwiLGdyb3VwOlwic2NheXRfc3VnZ2VzdFwiLG9yZGVyOjB9KTtyZXR1cm4gY30sbWVudUdlbmVyYXRvcjpmdW5jdGlvbihhLGUpe3ZhciBiPWEuc2NheXQsYz10aGlzLnNjYXl0TWVudURlZmluaXRpb24oYSksZD17fSxsPWEuY29uZmlnLnNjYXl0X2NvbnRleHRDb21tYW5kcy5zcGxpdChcInxcIiksbT1lLmdldEF0dHJpYnV0ZShiLmdldExhbmdBdHRyaWJ1dGUoKSl8fFxuYi5nZXRMYW5nKCksZixoO2Y9Yi5pc1NjYXl0Tm9kZShlKTtoPWIuaXNHcmF5dE5vZGUoZSk7Zj8oYz1jLnNjYXl0LGQ9ZS5nZXRBdHRyaWJ1dGUoYi5nZXRTY2F5dE5vZGVBdHRyaWJ1dGVOYW1lKCkpLGIuZmlyZShcImdldFN1Z2dlc3Rpb25zTGlzdFwiLHtsYW5nOm0sd29yZDpkfSksZD10aGlzLmJ1aWxkU3VnZ2VzdGlvbk1lbnVJdGVtcyhhLENLRURJVE9SLnBsdWdpbnMuc2NheXQuc3VnZ2VzdGlvbnMsZikpOmgmJihjPWMuZ3JheXQsZD1lLmdldEF0dHJpYnV0ZShiLmdldEdyYXl0Tm9kZUF0dHJpYnV0ZU5hbWUoKSksaD1iLmdldFByb2JsZW1EZXNjcmlwdGlvblRleHQoZCxtKSxjLmdyYXl0X3Byb2JsZW1kZXNjcmlwdGlvbiYmaCYmKGMuZ3JheXRfcHJvYmxlbWRlc2NyaXB0aW9uLmxhYmVsPWgpLGIuZmlyZShcImdldEdyYW1tYXJTdWdnZXN0aW9uc0xpc3RcIix7bGFuZzptLHBocmFzZTpkfSksZD10aGlzLmJ1aWxkU3VnZ2VzdGlvbk1lbnVJdGVtcyhhLENLRURJVE9SLnBsdWdpbnMuc2NheXQuc3VnZ2VzdGlvbnMsXG5mKSk7aWYoZiYmXCJvZmZcIj09YS5jb25maWcuc2NheXRfY29udGV4dENvbW1hbmRzKXJldHVybiBkO2Zvcih2YXIgayBpbiBjKWYmJi0xPT1DS0VESVRPUi50b29scy5pbmRleE9mKGwsay5yZXBsYWNlKFwic2NheXRfXCIsXCJcIikpJiZcImFsbFwiIT1hLmNvbmZpZy5zY2F5dF9jb250ZXh0Q29tbWFuZHN8fChkW2tdPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBjW2tdLnN0YXRlP2Nba10uc3RhdGU6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGLFwiZnVuY3Rpb25cIiE9PXR5cGVvZiBjW2tdLnZlcmlmaWNhdGlvbnx8Y1trXS52ZXJpZmljYXRpb24oYSl8fGRlbGV0ZSBkW2tdLGEuYWRkQ29tbWFuZChrLHtleGVjOmNba10uZXhlY30pLGEuYWRkTWVudUl0ZW0oayx7bGFiZWw6YS5sYW5nLnNjYXl0W2Nba10ubGFiZWxdfHxjW2tdLmxhYmVsLGNvbW1hbmQ6ayxncm91cDpjW2tdLmdyb3VwLG9yZGVyOmNba10ub3JkZXJ9KSk7cmV0dXJuIGR9LGNyZWF0ZUNvbW1hbmQ6ZnVuY3Rpb24oYSxlLGIpe3JldHVybntleGVjOmZ1bmN0aW9uKGMpe2M9XG5jLnNjYXl0O3ZhciBkPXt9O2RbZV09YTtjLnJlcGxhY2VTZWxlY3Rpb25Ob2RlKGQpO1wic3RhcnRHcmFtbWFyQ2hlY2tcIj09PWImJmMucmVtb3ZlTWFya3VwSW5TZWxlY3Rpb25Ob2RlKHtncmFtbWFyT25seTohMH0pO2MuZmlyZShiKX19fX0pLENLRURJVE9SLnBsdWdpbnMuc2NheXQ9e3N0YXRlOntzY2F5dDp7fSxncmF5dDp7fX0sc3VnZ2VzdGlvbnM6W10sbG9hZGluZ0hlbHBlcjp7bG9hZE9yZGVyOltdfSxpc0xvYWRpbmc6ITEsb3B0aW9uczp7ZGlzYWJsaW5nQ29tbWFuZEV4ZWM6e3NvdXJjZTohMCxuZXdwYWdlOiEwLHRlbXBsYXRlczohMH0sZGF0YV9hdHRyaWJ1dGVfbmFtZTpcImRhdGEtc2NheXQtd29yZFwiLG1pc3NwZWxsZWRfd29yZF9jbGFzczpcInNjYXl0LW1pc3NwZWxsLXdvcmRcIixwcm9ibGVtX2dyYW1tYXJfZGF0YV9hdHRyaWJ1dGU6XCJkYXRhLWdyYXl0LXBocmFzZVwiLHByb2JsZW1fZ3JhbW1hcl9jbGFzczpcImdyYW1tLXByb2JsZW1cIn0sYmFja0NvbXBhdGliaWxpdHlNYXA6e3NjYXl0X3NlcnZpY2VfcHJvdG9jb2w6XCJzY2F5dF9zZXJ2aWNlUHJvdG9jb2xcIixcbnNjYXl0X3NlcnZpY2VfaG9zdDpcInNjYXl0X3NlcnZpY2VIb3N0XCIsc2NheXRfc2VydmljZV9wb3J0Olwic2NheXRfc2VydmljZVBvcnRcIixzY2F5dF9zZXJ2aWNlX3BhdGg6XCJzY2F5dF9zZXJ2aWNlUGF0aFwiLHNjYXl0X2N1c3RvbWVyaWQ6XCJzY2F5dF9jdXN0b21lcklkXCJ9LHJlcGxhY2VPbGRPcHRpb25zTmFtZXM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBlIGluIGEpZSBpbiB0aGlzLmJhY2tDb21wYXRpYmlsaXR5TWFwJiYoYVt0aGlzLmJhY2tDb21wYXRpYmlsaXR5TWFwW2VdXT1hW2VdLGRlbGV0ZSBhW2VdKX0sY3JlYXRlU2NheXQ6ZnVuY3Rpb24oYSl7dmFyIGU9dGhpcyxiPUNLRURJVE9SLnBsdWdpbnMuc2NheXQ7dGhpcy5sb2FkU2NheXRMaWJyYXJ5KGEsZnVuY3Rpb24oYSl7dmFyIGQ9YS53aW5kb3cmJmEud2luZG93LmdldEZyYW1lKCl8fGEuZWRpdGFibGUoKTtkPyhkPXtsYW5nOmEuY29uZmlnLnNjYXl0X3NMYW5nLGNvbnRhaW5lcjpkLiQsY3VzdG9tRGljdGlvbmFyeTphLmNvbmZpZy5zY2F5dF9jdXN0b21EaWN0aW9uYXJ5SWRzLFxudXNlckRpY3Rpb25hcnlOYW1lOmEuY29uZmlnLnNjYXl0X3VzZXJEaWN0aW9uYXJ5TmFtZSxsb2NhbGl6YXRpb246YS5sYW5nQ29kZSxjdXN0b21lcl9pZDphLmNvbmZpZy5zY2F5dF9jdXN0b21lcklkLGRlYnVnOmEuY29uZmlnLnNjYXl0X2RlYnVnLGRhdGFfYXR0cmlidXRlX25hbWU6ZS5vcHRpb25zLmRhdGFfYXR0cmlidXRlX25hbWUsbWlzc3BlbGxlZF93b3JkX2NsYXNzOmUub3B0aW9ucy5taXNzcGVsbGVkX3dvcmRfY2xhc3MscHJvYmxlbV9ncmFtbWFyX2RhdGFfYXR0cmlidXRlOmUub3B0aW9ucy5wcm9ibGVtX2dyYW1tYXJfZGF0YV9hdHRyaWJ1dGUscHJvYmxlbV9ncmFtbWFyX2NsYXNzOmUub3B0aW9ucy5wcm9ibGVtX2dyYW1tYXJfY2xhc3MsXCJvcHRpb25zLXRvLXJlc3RvcmVcIjphLmNvbmZpZy5zY2F5dF9kaXNhYmxlT3B0aW9uc1N0b3JhZ2UsZm9jdXNlZDphLmVkaXRhYmxlKCkuaGFzRm9jdXMsaWdub3JlRWxlbWVudHNSZWdleDphLmNvbmZpZy5zY2F5dF9lbGVtZW50c1RvSWdub3JlLFxubWluV29yZExlbmd0aDphLmNvbmZpZy5zY2F5dF9taW5Xb3JkTGVuZ3RoLG11bHRpTGFuZ3VhZ2VNb2RlOmEuY29uZmlnLnNjYXl0X211bHRpTGFuZ3VhZ2VNb2RlLG11bHRpTGFuZ3VhZ2VTdHlsZXM6YS5jb25maWcuc2NheXRfbXVsdGlMYW5ndWFnZVN0eWxlcyxncmF5dEF1dG9TdGFydHVwOmIuc3RhdGUuZ3JheXRbYS5uYW1lXX0sYS5jb25maWcuc2NheXRfc2VydmljZVByb3RvY29sJiYoZC5zZXJ2aWNlX3Byb3RvY29sPWEuY29uZmlnLnNjYXl0X3NlcnZpY2VQcm90b2NvbCksYS5jb25maWcuc2NheXRfc2VydmljZUhvc3QmJihkLnNlcnZpY2VfaG9zdD1hLmNvbmZpZy5zY2F5dF9zZXJ2aWNlSG9zdCksYS5jb25maWcuc2NheXRfc2VydmljZVBvcnQmJihkLnNlcnZpY2VfcG9ydD1hLmNvbmZpZy5zY2F5dF9zZXJ2aWNlUG9ydCksYS5jb25maWcuc2NheXRfc2VydmljZVBhdGgmJihkLnNlcnZpY2VfcGF0aD1hLmNvbmZpZy5zY2F5dF9zZXJ2aWNlUGF0aCksXCJib29sZWFuXCI9PT1cbnR5cGVvZiBhLmNvbmZpZy5zY2F5dF9pZ25vcmVBbGxDYXBzV29yZHMmJihkW1wiaWdub3JlLWFsbC1jYXBzLXdvcmRzXCJdPWEuY29uZmlnLnNjYXl0X2lnbm9yZUFsbENhcHNXb3JkcyksXCJib29sZWFuXCI9PT10eXBlb2YgYS5jb25maWcuc2NheXRfaWdub3JlRG9tYWluTmFtZXMmJihkW1wiaWdub3JlLWRvbWFpbi1uYW1lc1wiXT1hLmNvbmZpZy5zY2F5dF9pZ25vcmVEb21haW5OYW1lcyksXCJib29sZWFuXCI9PT10eXBlb2YgYS5jb25maWcuc2NheXRfaWdub3JlV29yZHNXaXRoTWl4ZWRDYXNlcyYmKGRbXCJpZ25vcmUtd29yZHMtd2l0aC1taXhlZC1jYXNlc1wiXT1hLmNvbmZpZy5zY2F5dF9pZ25vcmVXb3Jkc1dpdGhNaXhlZENhc2VzKSxcImJvb2xlYW5cIj09PXR5cGVvZiBhLmNvbmZpZy5zY2F5dF9pZ25vcmVXb3Jkc1dpdGhOdW1iZXJzJiYoZFtcImlnbm9yZS13b3Jkcy13aXRoLW51bWJlcnNcIl09YS5jb25maWcuc2NheXRfaWdub3JlV29yZHNXaXRoTnVtYmVycyksZD1uZXcgU0NBWVQuQ0tTQ0FZVChkLFxuZnVuY3Rpb24oKXt9LGZ1bmN0aW9uKCl7fSksZC5zdWJzY3JpYmUoXCJzdWdnZXN0aW9uTGlzdFNlbmRcIixmdW5jdGlvbihhKXtmb3IodmFyIGI9e30sYz1bXSxkPTA7ZDxhLnN1Z2dlc3Rpb25MaXN0Lmxlbmd0aDtkKyspYltcIndvcmRfXCIrYS5zdWdnZXN0aW9uTGlzdFtkXV18fChiW1wid29yZF9cIithLnN1Z2dlc3Rpb25MaXN0W2RdXT1hLnN1Z2dlc3Rpb25MaXN0W2RdLGMucHVzaChhLnN1Z2dlc3Rpb25MaXN0W2RdKSk7Q0tFRElUT1IucGx1Z2lucy5zY2F5dC5zdWdnZXN0aW9ucz1jfSksZC5zdWJzY3JpYmUoXCJzZWxlY3Rpb25Jc0NoYW5nZWRcIixmdW5jdGlvbihiKXthLmdldFNlbGVjdGlvbigpLmlzTG9ja2VkJiZhLmxvY2tTZWxlY3Rpb24oKX0pLGQuc3Vic2NyaWJlKFwiZ3JheXRTdGF0ZUNoYW5nZWRcIixmdW5jdGlvbihkKXtiLnN0YXRlLmdyYXl0W2EubmFtZV09ZC5zdGF0ZX0pLGEuc2NheXQ9ZCxhLmZpcmUoXCJzY2F5dEJ1dHRvblN0YXRlXCIsYS5yZWFkT25seT9DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRDpcbkNLRURJVE9SLlRSSVNUQVRFX09OKSk6Yi5zdGF0ZS5zY2F5dFthLm5hbWVdPSExfSl9LGRlc3Ryb3k6ZnVuY3Rpb24oYSl7YS5zY2F5dCYmYS5zY2F5dC5kZXN0cm95KCk7ZGVsZXRlIGEuc2NheXQ7YS5maXJlKFwic2NheXRCdXR0b25TdGF0ZVwiLENLRURJVE9SLlRSSVNUQVRFX09GRil9LGxvYWRTY2F5dExpYnJhcnk6ZnVuY3Rpb24oYSxlKXt2YXIgYj10aGlzLGMsZDt0aGlzLmxvYWRpbmdIZWxwZXJbYS5uYW1lXXx8KFwidW5kZWZpbmVkXCI9PT10eXBlb2Ygd2luZG93LlNDQVlUfHxcImZ1bmN0aW9uXCIhPT10eXBlb2Ygd2luZG93LlNDQVlULkNLU0NBWVQ/KHRoaXMubG9hZGluZ0hlbHBlclthLm5hbWVdPWUsdGhpcy5sb2FkaW5nSGVscGVyLmxvYWRPcmRlci5wdXNoKGEubmFtZSksYz1uZXcgRGF0ZSxjPWMuZ2V0VGltZSgpLGQ9YS5jb25maWcuc2NheXRfc3JjVXJsLGQrPTA8PWQuaW5kZXhPZihcIj9cIik/XCJcIjpcIj9cIitjLHRoaXMubG9hZGluZ0hlbHBlci5ja3NjYXl0TG9hZGluZ3x8KENLRURJVE9SLnNjcmlwdExvYWRlci5sb2FkKGQsXG5mdW5jdGlvbihhKXtpZihhKXtDS0VESVRPUi5maXJlT25jZShcInNjYXl0UmVhZHlcIik7Zm9yKHZhciBjPTA7YzxiLmxvYWRpbmdIZWxwZXIubG9hZE9yZGVyLmxlbmd0aDtjKyspe2E9Yi5sb2FkaW5nSGVscGVyLmxvYWRPcmRlcltjXTtpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgYi5sb2FkaW5nSGVscGVyW2FdKWIubG9hZGluZ0hlbHBlclthXShDS0VESVRPUi5pbnN0YW5jZXNbYV0pO2RlbGV0ZSBiLmxvYWRpbmdIZWxwZXJbYV19Yi5sb2FkaW5nSGVscGVyLmxvYWRPcmRlcj1bXX19KSx0aGlzLmxvYWRpbmdIZWxwZXIuY2tzY2F5dExvYWRpbmc9ITApKTp3aW5kb3cuU0NBWVQmJlwiZnVuY3Rpb25cIj09PXR5cGVvZiB3aW5kb3cuU0NBWVQuQ0tTQ0FZVCYmKENLRURJVE9SLmZpcmVPbmNlKFwic2NheXRSZWFkeVwiKSxhLnNjYXl0fHxcImZ1bmN0aW9uXCI9PT10eXBlb2YgZSYmZShhKSkpfX0sQ0tFRElUT1Iub24oXCJkaWFsb2dEZWZpbml0aW9uXCIsZnVuY3Rpb24oYSl7dmFyIGU9YS5kYXRhLm5hbWU7XG5hPWEuZGF0YS5kZWZpbml0aW9uLmRpYWxvZztpZihcInNjYXl0RGlhbG9nXCI9PT1lKWEub24oXCJjYW5jZWxcIixmdW5jdGlvbihhKXtyZXR1cm4hMX0sdGhpcyxudWxsLC0xKTtpZihcImNoZWNrc3BlbGxcIj09PWUpYS5vbihcImNhbmNlbFwiLGZ1bmN0aW9uKGEpe2E9YS5zZW5kZXImJmEuc2VuZGVyLmdldFBhcmVudEVkaXRvcigpO3ZhciBjPUNLRURJVE9SLnBsdWdpbnMuc2NheXQsZD1hLnNjYXl0O2QmJmMuc3RhdGUuc2NheXRbYS5uYW1lXSYmZC5zZXRNYXJrdXBQYXVzZWQmJmQuc2V0TWFya3VwUGF1c2VkKCExKTthLnVubG9ja1NlbGVjdGlvbigpfSx0aGlzLG51bGwsLTIpO2lmKFwibGlua1wiPT09ZSlhLm9uKFwib2tcIixmdW5jdGlvbihhKXt2YXIgYz1hLnNlbmRlciYmYS5zZW5kZXIuZ2V0UGFyZW50RWRpdG9yKCk7YyYmc2V0VGltZW91dChmdW5jdGlvbigpe2MuZmlyZShcInJlbG9hZE1hcmt1cFNjYXl0XCIse3JlbW92ZU9wdGlvbnM6e3JlbW92ZUluc2lkZTohMCxmb3JjZUJvb2ttYXJrOiEwfSxcbnRpbWVvdXQ6MH0pfSwwKX0pfSksQ0tFRElUT1Iub24oXCJzY2F5dFJlYWR5XCIsZnVuY3Rpb24oKXtpZighMD09PUNLRURJVE9SLmNvbmZpZy5zY2F5dF9oYW5kbGVDaGVja0RpcnR5KXt2YXIgYT1DS0VESVRPUi5lZGl0b3IucHJvdG90eXBlO2EuY2hlY2tEaXJ0eT1DS0VESVRPUi50b29scy5vdmVycmlkZShhLmNoZWNrRGlydHksZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGM9bnVsbCxkPXRoaXMuc2NheXQ7aWYoQ0tFRElUT1IucGx1Z2lucy5zY2F5dCYmQ0tFRElUT1IucGx1Z2lucy5zY2F5dC5zdGF0ZS5zY2F5dFt0aGlzLm5hbWVdJiZ0aGlzLnNjYXl0KXtpZihjPVwicmVhZHlcIj09dGhpcy5zdGF0dXMpdmFyIGU9ZC5yZW1vdmVNYXJrdXBGcm9tU3RyaW5nKHRoaXMuZ2V0U25hcHNob3QoKSksZD1kLnJlbW92ZU1hcmt1cEZyb21TdHJpbmcodGhpcy5fLnByZXZpb3VzVmFsdWUpLGM9YyYmZCE9PWV9ZWxzZSBjPWEuY2FsbCh0aGlzKTtyZXR1cm4gY319KTthLnJlc2V0RGlydHk9XG5DS0VESVRPUi50b29scy5vdmVycmlkZShhLnJlc2V0RGlydHksZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGM9dGhpcy5zY2F5dDtDS0VESVRPUi5wbHVnaW5zLnNjYXl0JiZDS0VESVRPUi5wbHVnaW5zLnNjYXl0LnN0YXRlLnNjYXl0W3RoaXMubmFtZV0mJnRoaXMuc2NheXQ/dGhpcy5fLnByZXZpb3VzVmFsdWU9Yy5yZW1vdmVNYXJrdXBGcm9tU3RyaW5nKHRoaXMuZ2V0U25hcHNob3QoKSk6YS5jYWxsKHRoaXMpfX0pfWlmKCEwPT09Q0tFRElUT1IuY29uZmlnLnNjYXl0X2hhbmRsZVVuZG9SZWRvKXt2YXIgYT1DS0VESVRPUi5wbHVnaW5zLnVuZG8uSW1hZ2UucHJvdG90eXBlLGU9XCJmdW5jdGlvblwiPT10eXBlb2YgYS5lcXVhbHNDb250ZW50P1wiZXF1YWxzQ29udGVudFwiOlwiZXF1YWxzXCI7YVtlXT1DS0VESVRPUi50b29scy5vdmVycmlkZShhW2VdLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihjKXt2YXIgZD1jLmVkaXRvci5zY2F5dCxlPXRoaXMuY29udGVudHMsXG5tPWMuY29udGVudHMsZj1udWxsO0NLRURJVE9SLnBsdWdpbnMuc2NheXQmJkNLRURJVE9SLnBsdWdpbnMuc2NheXQuc3RhdGUuc2NheXRbYy5lZGl0b3IubmFtZV0mJmMuZWRpdG9yLnNjYXl0JiYodGhpcy5jb250ZW50cz1kLnJlbW92ZU1hcmt1cEZyb21TdHJpbmcoZSl8fFwiXCIsYy5jb250ZW50cz1kLnJlbW92ZU1hcmt1cEZyb21TdHJpbmcobSl8fFwiXCIpO2Y9YS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5jb250ZW50cz1lO2MuY29udGVudHM9bTtyZXR1cm4gZn19KX19KSxmdW5jdGlvbigpe3ZhciBhPXtwcmVzZXJ2ZVN0YXRlOiEwLGVkaXRvckZvY3VzOiExLHJlYWRPbmx5OjEsZXhlYzpmdW5jdGlvbihhKXt0aGlzLnRvZ2dsZVN0YXRlKCk7dGhpcy5yZWZyZXNoKGEpfSxyZWZyZXNoOmZ1bmN0aW9uKGEpe2lmKGEuZG9jdW1lbnQpe3ZhciBiPXRoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX09OP1wiYXR0YWNoQ2xhc3NcIjpcInJlbW92ZUNsYXNzXCI7YS5lZGl0YWJsZSgpW2JdKFwiY2tlX3Nob3dfYm9yZGVyc1wiKX19fTtcbkNLRURJVE9SLnBsdWdpbnMuYWRkKFwic2hvd2JvcmRlcnNcIix7bW9kZXM6e3d5c2l3eWc6MX0sb25Mb2FkOmZ1bmN0aW9uKCl7dmFyIGE7YT0oQ0tFRElUT1IuZW52LmllNkNvbXBhdD9bXCIuJTEgdGFibGUuJTIsXCIsXCIuJTEgdGFibGUuJTIgdGQsIC4lMSB0YWJsZS4lMiB0aFwiLFwie1wiLFwiYm9yZGVyIDogI2QzZDNkMyAxcHggZG90dGVkXCIsXCJ9XCJdOlwiLiUxIHRhYmxlLiUyLDsuJTEgdGFibGUuJTIgXFx4M2UgdHIgXFx4M2UgdGQsIC4lMSB0YWJsZS4lMiBcXHgzZSB0ciBcXHgzZSB0aCw7LiUxIHRhYmxlLiUyIFxceDNlIHRib2R5IFxceDNlIHRyIFxceDNlIHRkLCAuJTEgdGFibGUuJTIgXFx4M2UgdGJvZHkgXFx4M2UgdHIgXFx4M2UgdGgsOy4lMSB0YWJsZS4lMiBcXHgzZSB0aGVhZCBcXHgzZSB0ciBcXHgzZSB0ZCwgLiUxIHRhYmxlLiUyIFxceDNlIHRoZWFkIFxceDNlIHRyIFxceDNlIHRoLDsuJTEgdGFibGUuJTIgXFx4M2UgdGZvb3QgXFx4M2UgdHIgXFx4M2UgdGQsIC4lMSB0YWJsZS4lMiBcXHgzZSB0Zm9vdCBcXHgzZSB0ciBcXHgzZSB0aDt7O2JvcmRlciA6ICNkM2QzZDMgMXB4IGRvdHRlZDt9XCIuc3BsaXQoXCI7XCIpKS5qb2luKFwiXCIpLnJlcGxhY2UoLyUyL2csXG5cImNrZV9zaG93X2JvcmRlclwiKS5yZXBsYWNlKC8lMS9nLFwiY2tlX3Nob3dfYm9yZGVycyBcIik7Q0tFRElUT1IuYWRkQ3NzKGEpfSxpbml0OmZ1bmN0aW9uKGUpe3ZhciBiPWUuYWRkQ29tbWFuZChcInNob3dib3JkZXJzXCIsYSk7Yi5jYW5VbmRvPSExOyExIT09ZS5jb25maWcuc3RhcnR1cFNob3dCb3JkZXJzJiZiLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX09OKTtlLm9uKFwibW9kZVwiLGZ1bmN0aW9uKCl7Yi5zdGF0ZSE9Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQmJmIucmVmcmVzaChlKX0sbnVsbCxudWxsLDEwMCk7ZS5vbihcImNvbnRlbnREb21cIixmdW5jdGlvbigpe2Iuc3RhdGUhPUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEJiZiLnJlZnJlc2goZSl9KTtlLm9uKFwicmVtb3ZlRm9ybWF0Q2xlYW51cFwiLGZ1bmN0aW9uKGEpe2E9YS5kYXRhO2UuZ2V0Q29tbWFuZChcInNob3dib3JkZXJzXCIpLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9PTiYmYS5pcyhcInRhYmxlXCIpJiYoIWEuaGFzQXR0cmlidXRlKFwiYm9yZGVyXCIpfHxcbjA+PXBhcnNlSW50KGEuZ2V0QXR0cmlidXRlKFwiYm9yZGVyXCIpLDEwKSkmJmEuYWRkQ2xhc3MoXCJja2Vfc2hvd19ib3JkZXJcIil9KX0sYWZ0ZXJJbml0OmZ1bmN0aW9uKGEpe3ZhciBiPWEuZGF0YVByb2Nlc3NvcjthPWImJmIuZGF0YUZpbHRlcjtiPWImJmIuaHRtbEZpbHRlcjthJiZhLmFkZFJ1bGVzKHtlbGVtZW50czp7dGFibGU6ZnVuY3Rpb24oYSl7YT1hLmF0dHJpYnV0ZXM7dmFyIGI9YVtcImNsYXNzXCJdLGU9cGFyc2VJbnQoYS5ib3JkZXIsMTApO2UmJiEoMD49ZSl8fGImJi0xIT1iLmluZGV4T2YoXCJja2Vfc2hvd19ib3JkZXJcIil8fChhW1wiY2xhc3NcIl09KGJ8fFwiXCIpK1wiIGNrZV9zaG93X2JvcmRlclwiKX19fSk7YiYmYi5hZGRSdWxlcyh7ZWxlbWVudHM6e3RhYmxlOmZ1bmN0aW9uKGEpe2E9YS5hdHRyaWJ1dGVzO3ZhciBiPWFbXCJjbGFzc1wiXTtiJiYoYVtcImNsYXNzXCJdPWIucmVwbGFjZShcImNrZV9zaG93X2JvcmRlclwiLFwiXCIpLnJlcGxhY2UoL1xcc3syfS8sXCIgXCIpLnJlcGxhY2UoL15cXHMrfFxccyskLyxcblwiXCIpKX19fSl9fSk7Q0tFRElUT1Iub24oXCJkaWFsb2dEZWZpbml0aW9uXCIsZnVuY3Rpb24oYSl7dmFyIGI9YS5kYXRhLm5hbWU7aWYoXCJ0YWJsZVwiPT1ifHxcInRhYmxlUHJvcGVydGllc1wiPT1iKWlmKGE9YS5kYXRhLmRlZmluaXRpb24sYj1hLmdldENvbnRlbnRzKFwiaW5mb1wiKS5nZXQoXCJ0eHRCb3JkZXJcIiksYi5jb21taXQ9Q0tFRElUT1IudG9vbHMub3ZlcnJpZGUoYi5jb21taXQsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIsZSl7YS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dmFyIG09cGFyc2VJbnQodGhpcy5nZXRWYWx1ZSgpLDEwKTtlWyFtfHwwPj1tP1wiYWRkQ2xhc3NcIjpcInJlbW92ZUNsYXNzXCJdKFwiY2tlX3Nob3dfYm9yZGVyXCIpfX0pLGE9KGE9YS5nZXRDb250ZW50cyhcImFkdmFuY2VkXCIpKSYmYS5nZXQoXCJhZHZDU1NDbGFzc2VzXCIpKWEuc2V0dXA9Q0tFRElUT1IudG9vbHMub3ZlcnJpZGUoYS5zZXR1cCxmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oKXthLmFwcGx5KHRoaXMsXG5hcmd1bWVudHMpO3RoaXMuc2V0VmFsdWUodGhpcy5nZXRWYWx1ZSgpLnJlcGxhY2UoL2NrZV9zaG93X2JvcmRlci8sXCJcIikpfX0pLGEuY29tbWl0PUNLRURJVE9SLnRvb2xzLm92ZXJyaWRlKGEuY29tbWl0LGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiLGUpe2EuYXBwbHkodGhpcyxhcmd1bWVudHMpO3BhcnNlSW50KGUuZ2V0QXR0cmlidXRlKFwiYm9yZGVyXCIpLDEwKXx8ZS5hZGRDbGFzcyhcImNrZV9zaG93X2JvcmRlclwiKX19KX0pfSgpLGZ1bmN0aW9uKCl7Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJzb3VyY2VhcmVhXCIse2luaXQ6ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gYigpe3ZhciBhPWQmJnRoaXMuZXF1YWxzKENLRURJVE9SLmRvY3VtZW50LmdldEFjdGl2ZSgpKTt0aGlzLmhpZGUoKTt0aGlzLnNldFN0eWxlKFwiaGVpZ2h0XCIsdGhpcy5nZXRQYXJlbnQoKS4kLmNsaWVudEhlaWdodCtcInB4XCIpO3RoaXMuc2V0U3R5bGUoXCJ3aWR0aFwiLHRoaXMuZ2V0UGFyZW50KCkuJC5jbGllbnRXaWR0aCtcblwicHhcIik7dGhpcy5zaG93KCk7YSYmdGhpcy5mb2N1cygpfWlmKGUuZWxlbWVudE1vZGUhPUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkUpe3ZhciBjPUNLRURJVE9SLnBsdWdpbnMuc291cmNlYXJlYTtlLmFkZE1vZGUoXCJzb3VyY2VcIixmdW5jdGlvbihjKXt2YXIgZD1lLnVpLnNwYWNlKFwiY29udGVudHNcIikuZ2V0RG9jdW1lbnQoKS5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIik7ZC5zZXRTdHlsZXMoQ0tFRElUT1IudG9vbHMuZXh0ZW5kKHt3aWR0aDpDS0VESVRPUi5lbnYuaWU3Q29tcGF0P1wiOTklXCI6XCIxMDAlXCIsaGVpZ2h0OlwiMTAwJVwiLHJlc2l6ZTpcIm5vbmVcIixvdXRsaW5lOlwibm9uZVwiLFwidGV4dC1hbGlnblwiOlwibGVmdFwifSxDS0VESVRPUi50b29scy5jc3NWZW5kb3JQcmVmaXgoXCJ0YWItc2l6ZVwiLGUuY29uZmlnLnNvdXJjZUFyZWFUYWJTaXplfHw0KSkpO2Quc2V0QXR0cmlidXRlKFwiZGlyXCIsXCJsdHJcIik7ZC5hZGRDbGFzcyhcImNrZV9zb3VyY2VcIikuYWRkQ2xhc3MoXCJja2VfcmVzZXRcIikuYWRkQ2xhc3MoXCJja2VfZW5hYmxlX2NvbnRleHRfbWVudVwiKTtcbmUudWkuc3BhY2UoXCJjb250ZW50c1wiKS5hcHBlbmQoZCk7ZD1lLmVkaXRhYmxlKG5ldyBhKGUsZCkpO2Quc2V0RGF0YShlLmdldERhdGEoMSkpO0NLRURJVE9SLmVudi5pZSYmKGQuYXR0YWNoTGlzdGVuZXIoZSxcInJlc2l6ZVwiLGIsZCksZC5hdHRhY2hMaXN0ZW5lcihDS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKSxcInJlc2l6ZVwiLGIsZCksQ0tFRElUT1IudG9vbHMuc2V0VGltZW91dChiLDAsZCkpO2UuZmlyZShcImFyaWFXaWRnZXRcIix0aGlzKTtjKCl9KTtlLmFkZENvbW1hbmQoXCJzb3VyY2VcIixjLmNvbW1hbmRzLnNvdXJjZSk7ZS51aS5hZGRCdXR0b24mJmUudWkuYWRkQnV0dG9uKFwiU291cmNlXCIse2xhYmVsOmUubGFuZy5zb3VyY2VhcmVhLnRvb2xiYXIsY29tbWFuZDpcInNvdXJjZVwiLHRvb2xiYXI6XCJtb2RlLDEwXCJ9KTtlLm9uKFwibW9kZVwiLGZ1bmN0aW9uKCl7ZS5nZXRDb21tYW5kKFwic291cmNlXCIpLnNldFN0YXRlKFwic291cmNlXCI9PWUubW9kZT9DS0VESVRPUi5UUklTVEFURV9PTjpcbkNLRURJVE9SLlRSSVNUQVRFX09GRil9KTt2YXIgZD1DS0VESVRPUi5lbnYuaWUmJjk9PUNLRURJVE9SLmVudi52ZXJzaW9ufX19KTt2YXIgYT1DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7YmFzZTpDS0VESVRPUi5lZGl0YWJsZSxwcm90bzp7c2V0RGF0YTpmdW5jdGlvbihhKXt0aGlzLnNldFZhbHVlKGEpO3RoaXMuc3RhdHVzPVwicmVhZHlcIjt0aGlzLmVkaXRvci5maXJlKFwiZGF0YVJlYWR5XCIpfSxnZXREYXRhOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VmFsdWUoKX0saW5zZXJ0SHRtbDpmdW5jdGlvbigpe30saW5zZXJ0RWxlbWVudDpmdW5jdGlvbigpe30saW5zZXJ0VGV4dDpmdW5jdGlvbigpe30sc2V0UmVhZE9ubHk6ZnVuY3Rpb24oYSl7dGhpc1soYT9cInNldFwiOlwicmVtb3ZlXCIpK1wiQXR0cmlidXRlXCJdKFwicmVhZE9ubHlcIixcInJlYWRvbmx5XCIpfSxkZXRhY2g6ZnVuY3Rpb24oKXthLmJhc2VQcm90by5kZXRhY2guY2FsbCh0aGlzKTt0aGlzLmNsZWFyQ3VzdG9tRGF0YSgpO1xudGhpcy5yZW1vdmUoKX19fSl9KCksQ0tFRElUT1IucGx1Z2lucy5zb3VyY2VhcmVhPXtjb21tYW5kczp7c291cmNlOnttb2Rlczp7d3lzaXd5ZzoxLHNvdXJjZToxfSxlZGl0b3JGb2N1czohMSxyZWFkT25seToxLGV4ZWM6ZnVuY3Rpb24oYSl7XCJ3eXNpd3lnXCI9PWEubW9kZSYmYS5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2EuZ2V0Q29tbWFuZChcInNvdXJjZVwiKS5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCk7YS5zZXRNb2RlKFwic291cmNlXCI9PWEubW9kZT9cInd5c2l3eWdcIjpcInNvdXJjZVwiKX0sY2FuVW5kbzohMX19fSxDS0VESVRPUi5wbHVnaW5zLmFkZChcInNwZWNpYWxjaGFyXCIse2F2YWlsYWJsZUxhbmdzOnthZjoxLGFyOjEsYmc6MSxjYToxLGNzOjEsY3k6MSxkYToxLGRlOjEsXCJkZS1jaFwiOjEsZWw6MSxlbjoxLFwiZW4tZ2JcIjoxLGVvOjEsZXM6MSxldDoxLGV1OjEsZmE6MSxmaToxLGZyOjEsXCJmci1jYVwiOjEsZ2w6MSxoZToxLGhyOjEsaHU6MSxpZDoxLGl0OjEsamE6MSxcbmttOjEsa286MSxrdToxLGx0OjEsbHY6MSxuYjoxLG5sOjEsbm86MSxwbDoxLHB0OjEsXCJwdC1iclwiOjEscnU6MSxzaToxLHNrOjEsc2w6MSxzcToxLHN2OjEsdGg6MSx0cjoxLHR0OjEsdWc6MSx1azoxLHZpOjEsemg6MSxcInpoLWNuXCI6MX0scmVxdWlyZXM6XCJkaWFsb2dcIixpbml0OmZ1bmN0aW9uKGEpe3ZhciBlPXRoaXM7Q0tFRElUT1IuZGlhbG9nLmFkZChcInNwZWNpYWxjaGFyXCIsdGhpcy5wYXRoK1wiZGlhbG9ncy9zcGVjaWFsY2hhci5qc1wiKTthLmFkZENvbW1hbmQoXCJzcGVjaWFsY2hhclwiLHtleGVjOmZ1bmN0aW9uKCl7dmFyIGI9YS5sYW5nQ29kZSxiPWUuYXZhaWxhYmxlTGFuZ3NbYl0/YjplLmF2YWlsYWJsZUxhbmdzW2IucmVwbGFjZSgvLS4qLyxcIlwiKV0/Yi5yZXBsYWNlKC8tLiovLFwiXCIpOlwiZW5cIjtDS0VESVRPUi5zY3JpcHRMb2FkZXIubG9hZChDS0VESVRPUi5nZXRVcmwoZS5wYXRoK1wiZGlhbG9ncy9sYW5nL1wiK2IrXCIuanNcIiksZnVuY3Rpb24oKXtDS0VESVRPUi50b29scy5leHRlbmQoYS5sYW5nLnNwZWNpYWxjaGFyLFxuZS5sYW5nRW50cmllc1tiXSk7YS5vcGVuRGlhbG9nKFwic3BlY2lhbGNoYXJcIil9KX0sbW9kZXM6e3d5c2l3eWc6MX0sY2FuVW5kbzohMX0pO2EudWkuYWRkQnV0dG9uJiZhLnVpLmFkZEJ1dHRvbihcIlNwZWNpYWxDaGFyXCIse2xhYmVsOmEubGFuZy5zcGVjaWFsY2hhci50b29sYmFyLGNvbW1hbmQ6XCJzcGVjaWFsY2hhclwiLHRvb2xiYXI6XCJpbnNlcnQsNTBcIn0pfX0pLENLRURJVE9SLmNvbmZpZy5zcGVjaWFsQ2hhcnM9XCIhIFxceDI2cXVvdDsgIyAkICUgXFx4MjZhbXA7ICcgKCApICogKyAtIC4gLyAwIDEgMiAzIDQgNSA2IDcgOCA5IDogOyBcXHgyNmx0OyBcXHgzZCBcXHgyNmd0OyA/IEAgQSBCIEMgRCBFIEYgRyBIIEkgSiBLIEwgTSBOIE8gUCBRIFIgUyBUIFUgViBXIFggWSBaIFsgXSBeIF8gYCBhIGIgYyBkIGUgZiBnIGggaSBqIGsgbCBtIG4gbyBwIHEgciBzIHQgdSB2IHcgeCB5IHogeyB8IH0gfiBcXHgyNmV1cm87IFxceDI2bHNxdW87IFxceDI2cnNxdW87IFxceDI2bGRxdW87IFxceDI2cmRxdW87IFxceDI2bmRhc2g7IFxceDI2bWRhc2g7IFxceDI2aWV4Y2w7IFxceDI2Y2VudDsgXFx4MjZwb3VuZDsgXFx4MjZjdXJyZW47IFxceDI2eWVuOyBcXHgyNmJydmJhcjsgXFx4MjZzZWN0OyBcXHgyNnVtbDsgXFx4MjZjb3B5OyBcXHgyNm9yZGY7IFxceDI2bGFxdW87IFxceDI2bm90OyBcXHgyNnJlZzsgXFx4MjZtYWNyOyBcXHgyNmRlZzsgXFx4MjZzdXAyOyBcXHgyNnN1cDM7IFxceDI2YWN1dGU7IFxceDI2bWljcm87IFxceDI2cGFyYTsgXFx4MjZtaWRkb3Q7IFxceDI2Y2VkaWw7IFxceDI2c3VwMTsgXFx4MjZvcmRtOyBcXHgyNnJhcXVvOyBcXHgyNmZyYWMxNDsgXFx4MjZmcmFjMTI7IFxceDI2ZnJhYzM0OyBcXHgyNmlxdWVzdDsgXFx4MjZBZ3JhdmU7IFxceDI2QWFjdXRlOyBcXHgyNkFjaXJjOyBcXHgyNkF0aWxkZTsgXFx4MjZBdW1sOyBcXHgyNkFyaW5nOyBcXHgyNkFFbGlnOyBcXHgyNkNjZWRpbDsgXFx4MjZFZ3JhdmU7IFxceDI2RWFjdXRlOyBcXHgyNkVjaXJjOyBcXHgyNkV1bWw7IFxceDI2SWdyYXZlOyBcXHgyNklhY3V0ZTsgXFx4MjZJY2lyYzsgXFx4MjZJdW1sOyBcXHgyNkVUSDsgXFx4MjZOdGlsZGU7IFxceDI2T2dyYXZlOyBcXHgyNk9hY3V0ZTsgXFx4MjZPY2lyYzsgXFx4MjZPdGlsZGU7IFxceDI2T3VtbDsgXFx4MjZ0aW1lczsgXFx4MjZPc2xhc2g7IFxceDI2VWdyYXZlOyBcXHgyNlVhY3V0ZTsgXFx4MjZVY2lyYzsgXFx4MjZVdW1sOyBcXHgyNllhY3V0ZTsgXFx4MjZUSE9STjsgXFx4MjZzemxpZzsgXFx4MjZhZ3JhdmU7IFxceDI2YWFjdXRlOyBcXHgyNmFjaXJjOyBcXHgyNmF0aWxkZTsgXFx4MjZhdW1sOyBcXHgyNmFyaW5nOyBcXHgyNmFlbGlnOyBcXHgyNmNjZWRpbDsgXFx4MjZlZ3JhdmU7IFxceDI2ZWFjdXRlOyBcXHgyNmVjaXJjOyBcXHgyNmV1bWw7IFxceDI2aWdyYXZlOyBcXHgyNmlhY3V0ZTsgXFx4MjZpY2lyYzsgXFx4MjZpdW1sOyBcXHgyNmV0aDsgXFx4MjZudGlsZGU7IFxceDI2b2dyYXZlOyBcXHgyNm9hY3V0ZTsgXFx4MjZvY2lyYzsgXFx4MjZvdGlsZGU7IFxceDI2b3VtbDsgXFx4MjZkaXZpZGU7IFxceDI2b3NsYXNoOyBcXHgyNnVncmF2ZTsgXFx4MjZ1YWN1dGU7IFxceDI2dWNpcmM7IFxceDI2dXVtbDsgXFx4MjZ5YWN1dGU7IFxceDI2dGhvcm47IFxceDI2eXVtbDsgXFx4MjZPRWxpZzsgXFx4MjZvZWxpZzsgXFx4MjYjMzcyOyBcXHgyNiMzNzQgXFx4MjYjMzczIFxceDI2IzM3NTsgXFx4MjZzYnF1bzsgXFx4MjYjODIxOTsgXFx4MjZiZHF1bzsgXFx4MjZoZWxsaXA7IFxceDI2dHJhZGU7IFxceDI2Izk2NTg7IFxceDI2YnVsbDsgXFx4MjZyYXJyOyBcXHgyNnJBcnI7IFxceDI2aEFycjsgXFx4MjZkaWFtczsgXFx4MjZhc3ltcDtcIi5zcGxpdChcIiBcIiksXG5mdW5jdGlvbigpe0NLRURJVE9SLnBsdWdpbnMuYWRkKFwic3R5bGVzY29tYm9cIix7cmVxdWlyZXM6XCJyaWNoY29tYm9cIixpbml0OmZ1bmN0aW9uKGEpe3ZhciBlPWEuY29uZmlnLGI9YS5sYW5nLnN0eWxlc2NvbWJvLGM9e30sZD1bXSxsPVtdO2Eub24oXCJzdHlsZXNTZXRcIixmdW5jdGlvbihiKXtpZihiPWIuZGF0YS5zdHlsZXMpe2Zvcih2YXIgZixoLGssZz0wLG49Yi5sZW5ndGg7ZzxuO2crKykoZj1iW2ddLGEuYmxvY2tsZXNzJiZmLmVsZW1lbnQgaW4gQ0tFRElUT1IuZHRkLiRibG9ja3x8KGg9Zi5uYW1lLGY9bmV3IENLRURJVE9SLnN0eWxlKGYpLGEuZmlsdGVyLmN1c3RvbUNvbmZpZyYmIWEuZmlsdGVyLmNoZWNrKGYpKSl8fChmLl9uYW1lPWgsZi5fLmVudGVyTW9kZT1lLmVudGVyTW9kZSxmLl8udHlwZT1rPWYuYXNzaWduZWRUb3x8Zi50eXBlLGYuXy53ZWlnaHQ9ZysxRTMqKGs9PUNLRURJVE9SLlNUWUxFX09CSkVDVD8xOms9PUNLRURJVE9SLlNUWUxFX0JMT0NLPzI6MyksY1toXT1cbmYsZC5wdXNoKGYpLGwucHVzaChmKSk7ZC5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuXy53ZWlnaHQtYi5fLndlaWdodH0pfX0pO2EudWkuYWRkUmljaENvbWJvKFwiU3R5bGVzXCIse2xhYmVsOmIubGFiZWwsdGl0bGU6Yi5wYW5lbFRpdGxlLHRvb2xiYXI6XCJzdHlsZXMsMTBcIixhbGxvd2VkQ29udGVudDpsLHBhbmVsOntjc3M6W0NLRURJVE9SLnNraW4uZ2V0UGF0aChcImVkaXRvclwiKV0uY29uY2F0KGUuY29udGVudHNDc3MpLG11bHRpU2VsZWN0OiEwLGF0dHJpYnV0ZXM6e1wiYXJpYS1sYWJlbFwiOmIucGFuZWxUaXRsZX19LGluaXQ6ZnVuY3Rpb24oKXt2YXIgYSxjLGUsayxnLGw7Zz0wO2ZvcihsPWQubGVuZ3RoO2c8bDtnKyspYT1kW2ddLGM9YS5fbmFtZSxrPWEuXy50eXBlLGshPWUmJih0aGlzLnN0YXJ0R3JvdXAoYltcInBhbmVsVGl0bGVcIitTdHJpbmcoayldKSxlPWspLHRoaXMuYWRkKGMsYS50eXBlPT1DS0VESVRPUi5TVFlMRV9PQkpFQ1Q/YzphLmJ1aWxkUHJldmlldygpLGMpO1xudGhpcy5jb21taXQoKX0sb25DbGljazpmdW5jdGlvbihiKXthLmZvY3VzKCk7YS5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2I9Y1tiXTt2YXIgZD1hLmVsZW1lbnRQYXRoKCk7YVtiLmNoZWNrQWN0aXZlKGQsYSk/XCJyZW1vdmVTdHlsZVwiOlwiYXBwbHlTdHlsZVwiXShiKTthLmZpcmUoXCJzYXZlU25hcHNob3RcIil9LG9uUmVuZGVyOmZ1bmN0aW9uKCl7YS5vbihcInNlbGVjdGlvbkNoYW5nZVwiLGZ1bmN0aW9uKGIpe3ZhciBkPXRoaXMuZ2V0VmFsdWUoKTtiPWIuZGF0YS5wYXRoLmVsZW1lbnRzO2Zvcih2YXIgZT0wLGs9Yi5sZW5ndGgsZztlPGs7ZSsrKXtnPWJbZV07Zm9yKHZhciBsIGluIGMpaWYoY1tsXS5jaGVja0VsZW1lbnRSZW1vdmFibGUoZywhMCxhKSl7bCE9ZCYmdGhpcy5zZXRWYWx1ZShsKTtyZXR1cm59fXRoaXMuc2V0VmFsdWUoXCJcIil9LHRoaXMpfSxvbk9wZW46ZnVuY3Rpb24oKXt2YXIgZD1hLmdldFNlbGVjdGlvbigpLmdldFNlbGVjdGVkRWxlbWVudCgpLGQ9YS5lbGVtZW50UGF0aChkKSxcbmY9WzAsMCwwLDBdO3RoaXMuc2hvd0FsbCgpO3RoaXMudW5tYXJrQWxsKCk7Zm9yKHZhciBlIGluIGMpe3ZhciBrPWNbZV0sZz1rLl8udHlwZTtrLmNoZWNrQXBwbGljYWJsZShkLGEsYS5hY3RpdmVGaWx0ZXIpP2ZbZ10rKzp0aGlzLmhpZGVJdGVtKGUpO2suY2hlY2tBY3RpdmUoZCxhKSYmdGhpcy5tYXJrKGUpfWZbQ0tFRElUT1IuU1RZTEVfQkxPQ0tdfHx0aGlzLmhpZGVHcm91cChiW1wicGFuZWxUaXRsZVwiK1N0cmluZyhDS0VESVRPUi5TVFlMRV9CTE9DSyldKTtmW0NLRURJVE9SLlNUWUxFX0lOTElORV18fHRoaXMuaGlkZUdyb3VwKGJbXCJwYW5lbFRpdGxlXCIrU3RyaW5nKENLRURJVE9SLlNUWUxFX0lOTElORSldKTtmW0NLRURJVE9SLlNUWUxFX09CSkVDVF18fHRoaXMuaGlkZUdyb3VwKGJbXCJwYW5lbFRpdGxlXCIrU3RyaW5nKENLRURJVE9SLlNUWUxFX09CSkVDVCldKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBiPWEuZWxlbWVudFBhdGgoKTtpZihiKXtmb3IodmFyIGQgaW4gYylpZihjW2RdLmNoZWNrQXBwbGljYWJsZShiLFxuYSxhLmFjdGl2ZUZpbHRlcikpcmV0dXJuO3RoaXMuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpfX0scmVzZXQ6ZnVuY3Rpb24oKXtjPXt9O2Q9W119fSl9fSl9KCksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3JldHVybntlZGl0b3JGb2N1czohMSxjYW5VbmRvOiExLG1vZGVzOnt3eXNpd3lnOjF9LGV4ZWM6ZnVuY3Rpb24oYil7aWYoYi5lZGl0YWJsZSgpLmhhc0ZvY3VzKXt2YXIgYz1iLmdldFNlbGVjdGlvbigpLGY7aWYoZj0obmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChjLmdldENvbW1vbkFuY2VzdG9yKCksYy5yb290KSkuY29udGFpbnMoe3RkOjEsdGg6MX0sMSkpe3ZhciBjPWIuY3JlYXRlUmFuZ2UoKSxlPUNLRURJVE9SLnRvb2xzLnRyeVRoZXNlKGZ1bmN0aW9uKCl7dmFyIGI9Zi5nZXRQYXJlbnQoKS4kLmNlbGxzW2YuJC5jZWxsSW5kZXgrKGE/LTE6MSldO2IucGFyZW50Tm9kZS5wYXJlbnROb2RlO3JldHVybiBifSxmdW5jdGlvbigpe3ZhciBiPVxuZi5nZXRQYXJlbnQoKSxiPWIuZ2V0QXNjZW5kYW50KFwidGFibGVcIikuJC5yb3dzW2IuJC5yb3dJbmRleCsoYT8tMToxKV07cmV0dXJuIGIuY2VsbHNbYT9iLmNlbGxzLmxlbmd0aC0xOjBdfSk7aWYoZXx8YSlpZihlKWU9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGUpLGMubW92ZVRvRWxlbWVudEVkaXRTdGFydChlKSxjLmNoZWNrU3RhcnRPZkJsb2NrKCkmJmMuY2hlY2tFbmRPZkJsb2NrKCl8fGMuc2VsZWN0Tm9kZUNvbnRlbnRzKGUpO2Vsc2UgcmV0dXJuITA7ZWxzZXtmb3IodmFyIGs9Zi5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiKS4kLGU9Zi5nZXRQYXJlbnQoKS4kLmNlbGxzLGs9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGsuaW5zZXJ0Um93KC0xKSxiLmRvY3VtZW50KSxnPTAsbj1lLmxlbmd0aDtnPG47ZysrKWsuYXBwZW5kKChuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZVtnXSxiLmRvY3VtZW50KSkuY2xvbmUoITEsITEpKS5hcHBlbmRCb2d1cygpO2MubW92ZVRvRWxlbWVudEVkaXRTdGFydChrKX1jLnNlbGVjdCghMCk7XG5yZXR1cm4hMH19cmV0dXJuITF9fX12YXIgZT17ZWRpdG9yRm9jdXM6ITEsbW9kZXM6e3d5c2l3eWc6MSxzb3VyY2U6MX19LGI9e2V4ZWM6ZnVuY3Rpb24oYSl7YS5jb250YWluZXIuZm9jdXNOZXh0KCEwLGEudGFiSW5kZXgpfX0sYz17ZXhlYzpmdW5jdGlvbihhKXthLmNvbnRhaW5lci5mb2N1c1ByZXZpb3VzKCEwLGEudGFiSW5kZXgpfX07Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJ0YWJcIix7aW5pdDpmdW5jdGlvbihkKXtmb3IodmFyIGw9ITEhPT1kLmNvbmZpZy5lbmFibGVUYWJLZXlUb29scyxtPWQuY29uZmlnLnRhYlNwYWNlc3x8MCxmPVwiXCI7bS0tOylmKz1cIsKgXCI7aWYoZilkLm9uKFwia2V5XCIsZnVuY3Rpb24oYSl7OT09YS5kYXRhLmtleUNvZGUmJihkLmluc2VydFRleHQoZiksYS5jYW5jZWwoKSl9KTtpZihsKWQub24oXCJrZXlcIixmdW5jdGlvbihhKXsoOT09YS5kYXRhLmtleUNvZGUmJmQuZXhlY0NvbW1hbmQoXCJzZWxlY3ROZXh0Q2VsbFwiKXx8YS5kYXRhLmtleUNvZGU9PUNLRURJVE9SLlNISUZUK1xuOSYmZC5leGVjQ29tbWFuZChcInNlbGVjdFByZXZpb3VzQ2VsbFwiKSkmJmEuY2FuY2VsKCl9KTtkLmFkZENvbW1hbmQoXCJibHVyXCIsQ0tFRElUT1IudG9vbHMuZXh0ZW5kKGIsZSkpO2QuYWRkQ29tbWFuZChcImJsdXJCYWNrXCIsQ0tFRElUT1IudG9vbHMuZXh0ZW5kKGMsZSkpO2QuYWRkQ29tbWFuZChcInNlbGVjdE5leHRDZWxsXCIsYSgpKTtkLmFkZENvbW1hbmQoXCJzZWxlY3RQcmV2aW91c0NlbGxcIixhKCEwKSl9fSl9KCksQ0tFRElUT1IuZG9tLmVsZW1lbnQucHJvdG90eXBlLmZvY3VzTmV4dD1mdW5jdGlvbihhLGUpe3ZhciBiPXZvaWQgMD09PWU/dGhpcy5nZXRUYWJJbmRleCgpOmUsYyxkLGwsbSxmLGg7aWYoMD49Yilmb3IoZj10aGlzLmdldE5leHRTb3VyY2VOb2RlKGEsQ0tFRElUT1IuTk9ERV9FTEVNRU5UKTtmOyl7aWYoZi5pc1Zpc2libGUoKSYmMD09PWYuZ2V0VGFiSW5kZXgoKSl7bD1mO2JyZWFrfWY9Zi5nZXROZXh0U291cmNlTm9kZSghMSxDS0VESVRPUi5OT0RFX0VMRU1FTlQpfWVsc2UgZm9yKGY9XG50aGlzLmdldERvY3VtZW50KCkuZ2V0Qm9keSgpLmdldEZpcnN0KCk7Zj1mLmdldE5leHRTb3VyY2VOb2RlKCExLENLRURJVE9SLk5PREVfRUxFTUVOVCk7KXtpZighYylpZighZCYmZi5lcXVhbHModGhpcykpe2lmKGQ9ITAsYSl7aWYoIShmPWYuZ2V0TmV4dFNvdXJjZU5vZGUoITAsQ0tFRElUT1IuTk9ERV9FTEVNRU5UKSkpYnJlYWs7Yz0xfX1lbHNlIGQmJiF0aGlzLmNvbnRhaW5zKGYpJiYoYz0xKTtpZihmLmlzVmlzaWJsZSgpJiYhKDA+KGg9Zi5nZXRUYWJJbmRleCgpKSkpe2lmKGMmJmg9PWIpe2w9ZjticmVha31oPmImJighbHx8IW18fGg8bSk/KGw9ZixtPWgpOmx8fDAhPT1ofHwobD1mLG09aCl9fWwmJmwuZm9jdXMoKX0sQ0tFRElUT1IuZG9tLmVsZW1lbnQucHJvdG90eXBlLmZvY3VzUHJldmlvdXM9ZnVuY3Rpb24oYSxlKXtmb3IodmFyIGI9dm9pZCAwPT09ZT90aGlzLmdldFRhYkluZGV4KCk6ZSxjLGQsbCxtPTAsZixoPXRoaXMuZ2V0RG9jdW1lbnQoKS5nZXRCb2R5KCkuZ2V0TGFzdCgpO2g9XG5oLmdldFByZXZpb3VzU291cmNlTm9kZSghMSxDS0VESVRPUi5OT0RFX0VMRU1FTlQpOyl7aWYoIWMpaWYoIWQmJmguZXF1YWxzKHRoaXMpKXtpZihkPSEwLGEpe2lmKCEoaD1oLmdldFByZXZpb3VzU291cmNlTm9kZSghMCxDS0VESVRPUi5OT0RFX0VMRU1FTlQpKSlicmVhaztjPTF9fWVsc2UgZCYmIXRoaXMuY29udGFpbnMoaCkmJihjPTEpO2lmKGguaXNWaXNpYmxlKCkmJiEoMD4oZj1oLmdldFRhYkluZGV4KCkpKSlpZigwPj1iKXtpZihjJiYwPT09Zil7bD1oO2JyZWFrfWY+bSYmKGw9aCxtPWYpfWVsc2V7aWYoYyYmZj09Yil7bD1oO2JyZWFrfWY8YiYmKCFsfHxmPm0pJiYobD1oLG09Zil9fWwmJmwuZm9jdXMoKX0sQ0tFRElUT1IucGx1Z2lucy5hZGQoXCJ0YWJsZVwiLHtyZXF1aXJlczpcImRpYWxvZ1wiLGluaXQ6ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gZShhKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMuZXh0ZW5kKGF8fHt9LHtjb250ZXh0U2Vuc2l0aXZlOjEscmVmcmVzaDpmdW5jdGlvbihhLFxuYil7dGhpcy5zZXRTdGF0ZShiLmNvbnRhaW5zKFwidGFibGVcIiwxKT9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpfX0pfWlmKCFhLmJsb2NrbGVzcyl7dmFyIGI9YS5sYW5nLnRhYmxlO2EuYWRkQ29tbWFuZChcInRhYmxlXCIsbmV3IENLRURJVE9SLmRpYWxvZ0NvbW1hbmQoXCJ0YWJsZVwiLHtjb250ZXh0OlwidGFibGVcIixhbGxvd2VkQ29udGVudDpcInRhYmxle3dpZHRoLGhlaWdodH1bYWxpZ24sYm9yZGVyLGNlbGxwYWRkaW5nLGNlbGxzcGFjaW5nLHN1bW1hcnldO2NhcHRpb24gdGJvZHkgdGhlYWQgdGZvb3Q7dGggdGQgdHJbc2NvcGVdO1wiKyhhLnBsdWdpbnMuZGlhbG9nYWR2dGFiP1widGFibGVcIithLnBsdWdpbnMuZGlhbG9nYWR2dGFiLmFsbG93ZWRDb250ZW50KCk6XCJcIikscmVxdWlyZWRDb250ZW50OlwidGFibGVcIixjb250ZW50VHJhbnNmb3JtYXRpb25zOltbXCJ0YWJsZXt3aWR0aH06IHNpemVUb1N0eWxlXCIsXCJ0YWJsZVt3aWR0aF06IHNpemVUb0F0dHJpYnV0ZVwiXV19KSk7XG5hLmFkZENvbW1hbmQoXCJ0YWJsZVByb3BlcnRpZXNcIixuZXcgQ0tFRElUT1IuZGlhbG9nQ29tbWFuZChcInRhYmxlUHJvcGVydGllc1wiLGUoKSkpO2EuYWRkQ29tbWFuZChcInRhYmxlRGVsZXRlXCIsZSh7ZXhlYzpmdW5jdGlvbihhKXt2YXIgYj1hLmVsZW1lbnRQYXRoKCkuY29udGFpbnMoXCJ0YWJsZVwiLDEpO2lmKGIpe3ZhciBlPWIuZ2V0UGFyZW50KCksbT1hLmVkaXRhYmxlKCk7MSE9ZS5nZXRDaGlsZENvdW50KCl8fGUuaXMoXCJ0ZFwiLFwidGhcIil8fGUuZXF1YWxzKG0pfHwoYj1lKTthPWEuY3JlYXRlUmFuZ2UoKTthLm1vdmVUb1Bvc2l0aW9uKGIsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKTtiLnJlbW92ZSgpO2Euc2VsZWN0KCl9fX0pKTthLnVpLmFkZEJ1dHRvbiYmYS51aS5hZGRCdXR0b24oXCJUYWJsZVwiLHtsYWJlbDpiLnRvb2xiYXIsY29tbWFuZDpcInRhYmxlXCIsdG9vbGJhcjpcImluc2VydCwzMFwifSk7Q0tFRElUT1IuZGlhbG9nLmFkZChcInRhYmxlXCIsdGhpcy5wYXRoK1wiZGlhbG9ncy90YWJsZS5qc1wiKTtcbkNLRURJVE9SLmRpYWxvZy5hZGQoXCJ0YWJsZVByb3BlcnRpZXNcIix0aGlzLnBhdGgrXCJkaWFsb2dzL3RhYmxlLmpzXCIpO2EuYWRkTWVudUl0ZW1zJiZhLmFkZE1lbnVJdGVtcyh7dGFibGU6e2xhYmVsOmIubWVudSxjb21tYW5kOlwidGFibGVQcm9wZXJ0aWVzXCIsZ3JvdXA6XCJ0YWJsZVwiLG9yZGVyOjV9LHRhYmxlZGVsZXRlOntsYWJlbDpiLmRlbGV0ZVRhYmxlLGNvbW1hbmQ6XCJ0YWJsZURlbGV0ZVwiLGdyb3VwOlwidGFibGVcIixvcmRlcjoxfX0pO2Eub24oXCJkb3VibGVjbGlja1wiLGZ1bmN0aW9uKGEpe2EuZGF0YS5lbGVtZW50LmlzKFwidGFibGVcIikmJihhLmRhdGEuZGlhbG9nPVwidGFibGVQcm9wZXJ0aWVzXCIpfSk7YS5jb250ZXh0TWVudSYmYS5jb250ZXh0TWVudS5hZGRMaXN0ZW5lcihmdW5jdGlvbigpe3JldHVybnt0YWJsZWRlbGV0ZTpDS0VESVRPUi5UUklTVEFURV9PRkYsdGFibGU6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGfX0pfX19KSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7ZnVuY3Rpb24gYihhKXswPFxuYy5sZW5ndGh8fGEudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHwhdi50ZXN0KGEuZ2V0TmFtZSgpKXx8YS5nZXRDdXN0b21EYXRhKFwic2VsZWN0ZWRfY2VsbFwiKXx8KENLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcihkLGEsXCJzZWxlY3RlZF9jZWxsXCIsITApLGMucHVzaChhKSl9YT1hLmdldFJhbmdlcygpO2Zvcih2YXIgYz1bXSxkPXt9LGY9MDtmPGEubGVuZ3RoO2YrKyl7dmFyIGU9YVtmXTtpZihlLmNvbGxhcHNlZCllPWUuZ2V0Q29tbW9uQW5jZXN0b3IoKSwoZT1lLmdldEFzY2VuZGFudChcInRkXCIsITApfHxlLmdldEFzY2VuZGFudChcInRoXCIsITApKSYmYy5wdXNoKGUpO2Vsc2V7dmFyIGU9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoZSksZztmb3IoZS5ndWFyZD1iO2c9ZS5uZXh0KCk7KWcudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZnLmlzKENLRURJVE9SLmR0ZC50YWJsZSl8fChnPWcuZ2V0QXNjZW5kYW50KFwidGRcIiwhMCl8fGcuZ2V0QXNjZW5kYW50KFwidGhcIixcbiEwKSkmJiFnLmdldEN1c3RvbURhdGEoXCJzZWxlY3RlZF9jZWxsXCIpJiYoQ0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyKGQsZyxcInNlbGVjdGVkX2NlbGxcIiwhMCksYy5wdXNoKGcpKX19Q0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJBbGxNYXJrZXJzKGQpO3JldHVybiBjfWZ1bmN0aW9uIGUoYixjKXtmb3IodmFyIGQ9YShiKSxmPWRbMF0sZT1mLmdldEFzY2VuZGFudChcInRhYmxlXCIpLGY9Zi5nZXREb2N1bWVudCgpLGc9ZFswXS5nZXRQYXJlbnQoKSxoPWcuJC5yb3dJbmRleCxkPWRbZC5sZW5ndGgtMV0saz1kLmdldFBhcmVudCgpLiQucm93SW5kZXgrZC4kLnJvd1NwYW4tMSxkPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChlLiQucm93c1trXSksaD1jP2g6ayxnPWM/ZzpkLGQ9Q0tFRElUT1IudG9vbHMuYnVpbGRUYWJsZU1hcChlKSxlPWRbaF0saD1jP2RbaC0xXTpkW2grMV0sZD1kWzBdLmxlbmd0aCxmPWYuY3JlYXRlRWxlbWVudChcInRyXCIpLGs9MDtlW2tdJiZrPGQ7aysrKXt2YXIgbTtcbjE8ZVtrXS5yb3dTcGFuJiZoJiZlW2tdPT1oW2tdPyhtPWVba10sbS5yb3dTcGFuKz0xKToobT0obmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGVba10pKS5jbG9uZSgpLG0ucmVtb3ZlQXR0cmlidXRlKFwicm93U3BhblwiKSxtLmFwcGVuZEJvZ3VzKCksZi5hcHBlbmQobSksbT1tLiQpO2srPW0uY29sU3Bhbi0xfWM/Zi5pbnNlcnRCZWZvcmUoZyk6Zi5pbnNlcnRBZnRlcihnKX1mdW5jdGlvbiBiKGMpe2lmKGMgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20uc2VsZWN0aW9uKXt2YXIgZD1hKGMpLGY9ZFswXS5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiKSxlPUNLRURJVE9SLnRvb2xzLmJ1aWxkVGFibGVNYXAoZik7Yz1kWzBdLmdldFBhcmVudCgpLiQucm93SW5kZXg7Zm9yKHZhciBkPWRbZC5sZW5ndGgtMV0sZz1kLmdldFBhcmVudCgpLiQucm93SW5kZXgrZC4kLnJvd1NwYW4tMSxkPVtdLGg9YztoPD1nO2grKyl7Zm9yKHZhciBrPWVbaF0sbT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZi4kLnJvd3NbaF0pLFxubD0wO2w8ay5sZW5ndGg7bCsrKXt2YXIgbj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoa1tsXSksdj1uLmdldFBhcmVudCgpLiQucm93SW5kZXg7MT09bi4kLnJvd1NwYW4/bi5yZW1vdmUoKTooLS1uLiQucm93U3Bhbix2PT1oJiYodj1lW2grMV0sdltsLTFdP24uaW5zZXJ0QWZ0ZXIobmV3IENLRURJVE9SLmRvbS5lbGVtZW50KHZbbC0xXSkpOihuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZi4kLnJvd3NbaCsxXSkpLmFwcGVuZChuLDEpKSk7bCs9bi4kLmNvbFNwYW4tMX1kLnB1c2gobSl9ZT1mLiQucm93cztmPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChlW2crMV18fCgwPGM/ZVtjLTFdOm51bGwpfHxmLiQucGFyZW50Tm9kZSk7Zm9yKGg9ZC5sZW5ndGg7MDw9aDtoLS0pYihkW2hdKTtyZXR1cm4gZn1jIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLmVsZW1lbnQmJihmPWMuZ2V0QXNjZW5kYW50KFwidGFibGVcIiksMT09Zi4kLnJvd3MubGVuZ3RoP2YucmVtb3ZlKCk6Yy5yZW1vdmUoKSk7XG5yZXR1cm4gbnVsbH1mdW5jdGlvbiBjKGEsYil7Zm9yKHZhciBjPWI/SW5maW5pdHk6MCxkPTA7ZDxhLmxlbmd0aDtkKyspe3ZhciBmO2Y9YVtkXTtmb3IodmFyIGU9YixnPWYuZ2V0UGFyZW50KCkuJC5jZWxscyxoPTAsaz0wO2s8Zy5sZW5ndGg7aysrKXt2YXIgbT1nW2tdLGg9aCsoZT8xOm0uY29sU3Bhbik7aWYobT09Zi4kKWJyZWFrfWY9aC0xO2lmKGI/ZjxjOmY+YyljPWZ9cmV0dXJuIGN9ZnVuY3Rpb24gZChiLGQpe2Zvcih2YXIgZj1hKGIpLGU9ZlswXS5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiKSxnPWMoZiwxKSxmPWMoZiksZz1kP2c6ZixoPUNLRURJVE9SLnRvb2xzLmJ1aWxkVGFibGVNYXAoZSksZT1bXSxmPVtdLGs9aC5sZW5ndGgsbT0wO208azttKyspZS5wdXNoKGhbbV1bZ10pLGYucHVzaChkP2hbbV1bZy0xXTpoW21dW2crMV0pO2ZvcihtPTA7bTxrO20rKyllW21dJiYoMTxlW21dLmNvbFNwYW4mJmZbbV09PWVbbV0/KGc9ZVttXSxnLmNvbFNwYW4rPTEpOihnPShuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZVttXSkpLmNsb25lKCksXG5nLnJlbW92ZUF0dHJpYnV0ZShcImNvbFNwYW5cIiksZy5hcHBlbmRCb2d1cygpLGdbZD9cImluc2VydEJlZm9yZVwiOlwiaW5zZXJ0QWZ0ZXJcIl0uY2FsbChnLG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChlW21dKSksZz1nLiQpLG0rPWcucm93U3Bhbi0xKX1mdW5jdGlvbiBsKGEsYil7dmFyIGM9YS5nZXRTdGFydEVsZW1lbnQoKTtpZihjPWMuZ2V0QXNjZW5kYW50KFwidGRcIiwxKXx8Yy5nZXRBc2NlbmRhbnQoXCJ0aFwiLDEpKXt2YXIgZD1jLmNsb25lKCk7ZC5hcHBlbmRCb2d1cygpO2I/ZC5pbnNlcnRCZWZvcmUoYyk6ZC5pbnNlcnRBZnRlcihjKX19ZnVuY3Rpb24gbShiKXtpZihiIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLnNlbGVjdGlvbil7Yj1hKGIpO3ZhciBjPWJbMF0mJmJbMF0uZ2V0QXNjZW5kYW50KFwidGFibGVcIiksZDthOnt2YXIgZT0wO2Q9Yi5sZW5ndGgtMTtmb3IodmFyIGc9e30saCxrO2g9YltlKytdOylDS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXIoZyxoLFwiZGVsZXRlX2NlbGxcIixcbiEwKTtmb3IoZT0wO2g9YltlKytdOylpZigoaz1oLmdldFByZXZpb3VzKCkpJiYhay5nZXRDdXN0b21EYXRhKFwiZGVsZXRlX2NlbGxcIil8fChrPWguZ2V0TmV4dCgpKSYmIWsuZ2V0Q3VzdG9tRGF0YShcImRlbGV0ZV9jZWxsXCIpKXtDS0VESVRPUi5kb20uZWxlbWVudC5jbGVhckFsbE1hcmtlcnMoZyk7ZD1rO2JyZWFrIGF9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJBbGxNYXJrZXJzKGcpO2s9YlswXS5nZXRQYXJlbnQoKTsoaz1rLmdldFByZXZpb3VzKCkpP2Q9ay5nZXRMYXN0KCk6KGs9YltkXS5nZXRQYXJlbnQoKSxkPShrPWsuZ2V0TmV4dCgpKT9rLmdldENoaWxkKDApOm51bGwpfWZvcihrPWIubGVuZ3RoLTE7MDw9aztrLS0pbShiW2tdKTtkP2YoZCwhMCk6YyYmYy5yZW1vdmUoKX1lbHNlIGIgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20uZWxlbWVudCYmKGM9Yi5nZXRQYXJlbnQoKSwxPT1jLmdldENoaWxkQ291bnQoKT9jLnJlbW92ZSgpOmIucmVtb3ZlKCkpfWZ1bmN0aW9uIGYoYSxcbmIpe3ZhciBjPWEuZ2V0RG9jdW1lbnQoKSxkPUNLRURJVE9SLmRvY3VtZW50O0NLRURJVE9SLmVudi5pZSYmMTA9PUNLRURJVE9SLmVudi52ZXJzaW9uJiYoZC5mb2N1cygpLGMuZm9jdXMoKSk7Yz1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKGMpO2NbXCJtb3ZlVG9FbGVtZW50RWRpdFwiKyhiP1wiRW5kXCI6XCJTdGFydFwiKV0oYSl8fChjLnNlbGVjdE5vZGVDb250ZW50cyhhKSxjLmNvbGxhcHNlKGI/ITE6ITApKTtjLnNlbGVjdCghMCl9ZnVuY3Rpb24gaChhLGIsYyl7YT1hW2JdO2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBjKXJldHVybiBhO2ZvcihiPTA7YSYmYjxhLmxlbmd0aDtiKyspe2lmKGMuaXMmJmFbYl09PWMuJClyZXR1cm4gYjtpZihiPT1jKXJldHVybiBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYVtiXSl9cmV0dXJuIGMuaXM/LTE6bnVsbH1mdW5jdGlvbiBrKGIsYyxkKXt2YXIgZj1hKGIpLGU7aWYoKGM/MSE9Zi5sZW5ndGg6Mj5mLmxlbmd0aCl8fChlPWIuZ2V0Q29tbW9uQW5jZXN0b3IoKSkmJlxuZS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmUuaXMoXCJ0YWJsZVwiKSlyZXR1cm4hMTt2YXIgZztiPWZbMF07ZT1iLmdldEFzY2VuZGFudChcInRhYmxlXCIpO3ZhciBrPUNLRURJVE9SLnRvb2xzLmJ1aWxkVGFibGVNYXAoZSksbT1rLmxlbmd0aCxsPWtbMF0ubGVuZ3RoLG49Yi5nZXRQYXJlbnQoKS4kLnJvd0luZGV4LHY9aChrLG4sYik7aWYoYyl7dmFyIEI7dHJ5e3ZhciBDPXBhcnNlSW50KGIuZ2V0QXR0cmlidXRlKFwicm93c3BhblwiKSwxMCl8fDE7Zz1wYXJzZUludChiLmdldEF0dHJpYnV0ZShcImNvbHNwYW5cIiksMTApfHwxO0I9a1tcInVwXCI9PWM/bi1DOlwiZG93blwiPT1jP24rQzpuXVtcImxlZnRcIj09Yz92LWc6XCJyaWdodFwiPT1jP3YrZzp2XX1jYXRjaChGKXtyZXR1cm4hMX1pZighQnx8Yi4kPT1CKXJldHVybiExO2ZbXCJ1cFwiPT1jfHxcImxlZnRcIj09Yz9cInVuc2hpZnRcIjpcInB1c2hcIl0obmV3IENLRURJVE9SLmRvbS5lbGVtZW50KEIpKX1jPWIuZ2V0RG9jdW1lbnQoKTt2YXIgRT1uLFxuQz1CPTAsSj0hZCYmbmV3IENLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50KGMpLEc9MDtmb3IoYz0wO2M8Zi5sZW5ndGg7YysrKXtnPWZbY107dmFyIE09Zy5nZXRQYXJlbnQoKSxJPWcuZ2V0Rmlyc3QoKSxIPWcuJC5jb2xTcGFuLFI9Zy4kLnJvd1NwYW4sTT1NLiQucm93SW5kZXgsUD1oKGssTSxnKSxHPUcrSCpSLEM9TWF0aC5tYXgoQyxQLXYrSCk7Qj1NYXRoLm1heChCLE0tbitSKTtkfHwoSD1nLChSPUguZ2V0Qm9ndXMoKSkmJlIucmVtb3ZlKCksSC50cmltKCksZy5nZXRDaGlsZHJlbigpLmNvdW50KCkmJihNPT1FfHwhSXx8SS5pc0Jsb2NrQm91bmRhcnkmJkkuaXNCbG9ja0JvdW5kYXJ5KHticjoxfSl8fChFPUouZ2V0TGFzdChDS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCEwKSksIUV8fEUuaXMmJkUuaXMoXCJiclwiKXx8Si5hcHBlbmQoXCJiclwiKSksZy5tb3ZlQ2hpbGRyZW4oSikpLGM/Zy5yZW1vdmUoKTpnLnNldEh0bWwoXCJcIikpO0U9TX1pZihkKXJldHVybiBCKlxuQz09RztKLm1vdmVDaGlsZHJlbihiKTtiLmFwcGVuZEJvZ3VzKCk7Qz49bD9iLnJlbW92ZUF0dHJpYnV0ZShcInJvd1NwYW5cIik6Yi4kLnJvd1NwYW49QjtCPj1tP2IucmVtb3ZlQXR0cmlidXRlKFwiY29sU3BhblwiKTpiLiQuY29sU3Bhbj1DO2Q9bmV3IENLRURJVE9SLmRvbS5ub2RlTGlzdChlLiQucm93cyk7Zj1kLmNvdW50KCk7Zm9yKGM9Zi0xOzA8PWM7Yy0tKWU9ZC5nZXRJdGVtKGMpLGUuJC5jZWxscy5sZW5ndGh8fChlLnJlbW92ZSgpLGYrKyk7cmV0dXJuIGJ9ZnVuY3Rpb24gZyhiLGMpe3ZhciBkPWEoYik7aWYoMTxkLmxlbmd0aClyZXR1cm4hMTtpZihjKXJldHVybiEwO3ZhciBkPWRbMF0sZj1kLmdldFBhcmVudCgpLGU9Zi5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiKSxnPUNLRURJVE9SLnRvb2xzLmJ1aWxkVGFibGVNYXAoZSksaz1mLiQucm93SW5kZXgsbT1oKGcsayxkKSxsPWQuJC5yb3dTcGFuLG47aWYoMTxsKXtuPU1hdGguY2VpbChsLzIpO2Zvcih2YXIgbD1NYXRoLmZsb29yKGwvXG4yKSxmPWsrbixlPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChlLiQucm93c1tmXSksZz1oKGcsZiksdixmPWQuY2xvbmUoKSxrPTA7azxnLmxlbmd0aDtrKyspaWYodj1nW2tdLHYucGFyZW50Tm9kZT09ZS4kJiZrPm0pe2YuaW5zZXJ0QmVmb3JlKG5ldyBDS0VESVRPUi5kb20uZWxlbWVudCh2KSk7YnJlYWt9ZWxzZSB2PW51bGw7dnx8ZS5hcHBlbmQoZil9ZWxzZSBmb3IobD1uPTEsZT1mLmNsb25lKCksZS5pbnNlcnRBZnRlcihmKSxlLmFwcGVuZChmPWQuY2xvbmUoKSksdj1oKGcsayksbT0wO208di5sZW5ndGg7bSsrKXZbbV0ucm93U3BhbisrO2YuYXBwZW5kQm9ndXMoKTtkLiQucm93U3Bhbj1uO2YuJC5yb3dTcGFuPWw7MT09biYmZC5yZW1vdmVBdHRyaWJ1dGUoXCJyb3dTcGFuXCIpOzE9PWwmJmYucmVtb3ZlQXR0cmlidXRlKFwicm93U3BhblwiKTtyZXR1cm4gZn1mdW5jdGlvbiBuKGIsYyl7dmFyIGQ9YShiKTtpZigxPGQubGVuZ3RoKXJldHVybiExO2lmKGMpcmV0dXJuITA7dmFyIGQ9XG5kWzBdLGY9ZC5nZXRQYXJlbnQoKSxlPWYuZ2V0QXNjZW5kYW50KFwidGFibGVcIiksZT1DS0VESVRPUi50b29scy5idWlsZFRhYmxlTWFwKGUpLGc9aChlLGYuJC5yb3dJbmRleCxkKSxrPWQuJC5jb2xTcGFuO2lmKDE8aylmPU1hdGguY2VpbChrLzIpLGs9TWF0aC5mbG9vcihrLzIpO2Vsc2V7Zm9yKHZhciBrPWY9MSxtPVtdLGw9MDtsPGUubGVuZ3RoO2wrKyl7dmFyIG49ZVtsXTttLnB1c2gobltnXSk7MTxuW2ddLnJvd1NwYW4mJihsKz1uW2ddLnJvd1NwYW4tMSl9Zm9yKGU9MDtlPG0ubGVuZ3RoO2UrKyltW2VdLmNvbFNwYW4rK31lPWQuY2xvbmUoKTtlLmluc2VydEFmdGVyKGQpO2UuYXBwZW5kQm9ndXMoKTtkLiQuY29sU3Bhbj1mO2UuJC5jb2xTcGFuPWs7MT09ZiYmZC5yZW1vdmVBdHRyaWJ1dGUoXCJjb2xTcGFuXCIpOzE9PWsmJmUucmVtb3ZlQXR0cmlidXRlKFwiY29sU3BhblwiKTtyZXR1cm4gZX12YXIgdj0vXig/OnRkfHRoKSQvO0NLRURJVE9SLnBsdWdpbnMudGFibGV0b29scz1cbntyZXF1aXJlczpcInRhYmxlLGRpYWxvZyxjb250ZXh0bWVudVwiLGluaXQ6ZnVuY3Rpb24oYyl7ZnVuY3Rpb24gaChhKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMuZXh0ZW5kKGF8fHt9LHtjb250ZXh0U2Vuc2l0aXZlOjEscmVmcmVzaDpmdW5jdGlvbihhLGIpe3RoaXMuc2V0U3RhdGUoYi5jb250YWlucyh7dGQ6MSx0aDoxfSwxKT9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpfX0pfWZ1bmN0aW9uIHQoYSxiKXt2YXIgZD1jLmFkZENvbW1hbmQoYSxiKTtjLmFkZEZlYXR1cmUoZCl9dmFyIHA9Yy5sYW5nLnRhYmxlO3QoXCJjZWxsUHJvcGVydGllc1wiLG5ldyBDS0VESVRPUi5kaWFsb2dDb21tYW5kKFwiY2VsbFByb3BlcnRpZXNcIixoKHthbGxvd2VkQ29udGVudDpcInRkIHRoe3dpZHRoLGhlaWdodCxib3JkZXItY29sb3IsYmFja2dyb3VuZC1jb2xvcix3aGl0ZS1zcGFjZSx2ZXJ0aWNhbC1hbGlnbix0ZXh0LWFsaWdufVtjb2xzcGFuLHJvd3NwYW5dXCIsXG5yZXF1aXJlZENvbnRlbnQ6XCJ0YWJsZVwifSkpKTtDS0VESVRPUi5kaWFsb2cuYWRkKFwiY2VsbFByb3BlcnRpZXNcIix0aGlzLnBhdGgrXCJkaWFsb2dzL3RhYmxlQ2VsbC5qc1wiKTt0KFwicm93RGVsZXRlXCIsaCh7cmVxdWlyZWRDb250ZW50OlwidGFibGVcIixleGVjOmZ1bmN0aW9uKGEpe2E9YS5nZXRTZWxlY3Rpb24oKTtmKGIoYSkpfX0pKTt0KFwicm93SW5zZXJ0QmVmb3JlXCIsaCh7cmVxdWlyZWRDb250ZW50OlwidGFibGVcIixleGVjOmZ1bmN0aW9uKGEpe2E9YS5nZXRTZWxlY3Rpb24oKTtlKGEsITApfX0pKTt0KFwicm93SW5zZXJ0QWZ0ZXJcIixoKHtyZXF1aXJlZENvbnRlbnQ6XCJ0YWJsZVwiLGV4ZWM6ZnVuY3Rpb24oYSl7YT1hLmdldFNlbGVjdGlvbigpO2UoYSl9fSkpO3QoXCJjb2x1bW5EZWxldGVcIixoKHtyZXF1aXJlZENvbnRlbnQ6XCJ0YWJsZVwiLGV4ZWM6ZnVuY3Rpb24oYil7Yj1iLmdldFNlbGVjdGlvbigpO2I9YShiKTt2YXIgYz1iWzBdLGQ9YltiLmxlbmd0aC0xXTtiPWMuZ2V0QXNjZW5kYW50KFwidGFibGVcIik7XG5mb3IodmFyIGU9Q0tFRElUT1IudG9vbHMuYnVpbGRUYWJsZU1hcChiKSxnLGgsaz1bXSxtPTAsbD1lLmxlbmd0aDttPGw7bSsrKWZvcih2YXIgbj0wLHE9ZVttXS5sZW5ndGg7bjxxO24rKyllW21dW25dPT1jLiQmJihnPW4pLGVbbV1bbl09PWQuJCYmKGg9bik7Zm9yKG09ZzttPD1oO20rKylmb3Iobj0wO248ZS5sZW5ndGg7bisrKWQ9ZVtuXSxjPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChiLiQucm93c1tuXSksZD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZFttXSksZC4kJiYoMT09ZC4kLmNvbFNwYW4/ZC5yZW1vdmUoKTotLWQuJC5jb2xTcGFuLG4rPWQuJC5yb3dTcGFuLTEsYy4kLmNlbGxzLmxlbmd0aHx8ay5wdXNoKGMpKTtoPWIuJC5yb3dzWzBdJiZiLiQucm93c1swXS5jZWxscztnPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChoW2ddfHwoZz9oW2ctMV06Yi4kLnBhcmVudE5vZGUpKTtrLmxlbmd0aD09bCYmYi5yZW1vdmUoKTtnJiZmKGcsITApfX0pKTt0KFwiY29sdW1uSW5zZXJ0QmVmb3JlXCIsXG5oKHtyZXF1aXJlZENvbnRlbnQ6XCJ0YWJsZVwiLGV4ZWM6ZnVuY3Rpb24oYSl7YT1hLmdldFNlbGVjdGlvbigpO2QoYSwhMCl9fSkpO3QoXCJjb2x1bW5JbnNlcnRBZnRlclwiLGgoe3JlcXVpcmVkQ29udGVudDpcInRhYmxlXCIsZXhlYzpmdW5jdGlvbihhKXthPWEuZ2V0U2VsZWN0aW9uKCk7ZChhKX19KSk7dChcImNlbGxEZWxldGVcIixoKHtyZXF1aXJlZENvbnRlbnQ6XCJ0YWJsZVwiLGV4ZWM6ZnVuY3Rpb24oYSl7YT1hLmdldFNlbGVjdGlvbigpO20oYSl9fSkpO3QoXCJjZWxsTWVyZ2VcIixoKHthbGxvd2VkQ29udGVudDpcInRkW2NvbHNwYW4scm93c3Bhbl1cIixyZXF1aXJlZENvbnRlbnQ6XCJ0ZFtjb2xzcGFuLHJvd3NwYW5dXCIsZXhlYzpmdW5jdGlvbihhKXtmKGsoYS5nZXRTZWxlY3Rpb24oKSksITApfX0pKTt0KFwiY2VsbE1lcmdlUmlnaHRcIixoKHthbGxvd2VkQ29udGVudDpcInRkW2NvbHNwYW5dXCIscmVxdWlyZWRDb250ZW50OlwidGRbY29sc3Bhbl1cIixleGVjOmZ1bmN0aW9uKGEpe2YoayhhLmdldFNlbGVjdGlvbigpLFxuXCJyaWdodFwiKSwhMCl9fSkpO3QoXCJjZWxsTWVyZ2VEb3duXCIsaCh7YWxsb3dlZENvbnRlbnQ6XCJ0ZFtyb3dzcGFuXVwiLHJlcXVpcmVkQ29udGVudDpcInRkW3Jvd3NwYW5dXCIsZXhlYzpmdW5jdGlvbihhKXtmKGsoYS5nZXRTZWxlY3Rpb24oKSxcImRvd25cIiksITApfX0pKTt0KFwiY2VsbFZlcnRpY2FsU3BsaXRcIixoKHthbGxvd2VkQ29udGVudDpcInRkW3Jvd3NwYW5dXCIscmVxdWlyZWRDb250ZW50OlwidGRbcm93c3Bhbl1cIixleGVjOmZ1bmN0aW9uKGEpe2YobihhLmdldFNlbGVjdGlvbigpKSl9fSkpO3QoXCJjZWxsSG9yaXpvbnRhbFNwbGl0XCIsaCh7YWxsb3dlZENvbnRlbnQ6XCJ0ZFtjb2xzcGFuXVwiLHJlcXVpcmVkQ29udGVudDpcInRkW2NvbHNwYW5dXCIsZXhlYzpmdW5jdGlvbihhKXtmKGcoYS5nZXRTZWxlY3Rpb24oKSkpfX0pKTt0KFwiY2VsbEluc2VydEJlZm9yZVwiLGgoe3JlcXVpcmVkQ29udGVudDpcInRhYmxlXCIsZXhlYzpmdW5jdGlvbihhKXthPWEuZ2V0U2VsZWN0aW9uKCk7bChhLCEwKX19KSk7XG50KFwiY2VsbEluc2VydEFmdGVyXCIsaCh7cmVxdWlyZWRDb250ZW50OlwidGFibGVcIixleGVjOmZ1bmN0aW9uKGEpe2E9YS5nZXRTZWxlY3Rpb24oKTtsKGEpfX0pKTtjLmFkZE1lbnVJdGVtcyYmYy5hZGRNZW51SXRlbXMoe3RhYmxlY2VsbDp7bGFiZWw6cC5jZWxsLm1lbnUsZ3JvdXA6XCJ0YWJsZWNlbGxcIixvcmRlcjoxLGdldEl0ZW1zOmZ1bmN0aW9uKCl7dmFyIGI9Yy5nZXRTZWxlY3Rpb24oKSxkPWEoYik7cmV0dXJue3RhYmxlY2VsbF9pbnNlcnRCZWZvcmU6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGLHRhYmxlY2VsbF9pbnNlcnRBZnRlcjpDS0VESVRPUi5UUklTVEFURV9PRkYsdGFibGVjZWxsX2RlbGV0ZTpDS0VESVRPUi5UUklTVEFURV9PRkYsdGFibGVjZWxsX21lcmdlOmsoYixudWxsLCEwKT9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQsdGFibGVjZWxsX21lcmdlX3JpZ2h0OmsoYixcInJpZ2h0XCIsITApP0NLRURJVE9SLlRSSVNUQVRFX09GRjpcbkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVELHRhYmxlY2VsbF9tZXJnZV9kb3duOmsoYixcImRvd25cIiwhMCk/Q0tFRElUT1IuVFJJU1RBVEVfT0ZGOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVELHRhYmxlY2VsbF9zcGxpdF92ZXJ0aWNhbDpuKGIsITApP0NLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCx0YWJsZWNlbGxfc3BsaXRfaG9yaXpvbnRhbDpnKGIsITApP0NLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCx0YWJsZWNlbGxfcHJvcGVydGllczowPGQubGVuZ3RoP0NLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRH19fSx0YWJsZWNlbGxfaW5zZXJ0QmVmb3JlOntsYWJlbDpwLmNlbGwuaW5zZXJ0QmVmb3JlLGdyb3VwOlwidGFibGVjZWxsXCIsY29tbWFuZDpcImNlbGxJbnNlcnRCZWZvcmVcIixvcmRlcjo1fSx0YWJsZWNlbGxfaW5zZXJ0QWZ0ZXI6e2xhYmVsOnAuY2VsbC5pbnNlcnRBZnRlcixcbmdyb3VwOlwidGFibGVjZWxsXCIsY29tbWFuZDpcImNlbGxJbnNlcnRBZnRlclwiLG9yZGVyOjEwfSx0YWJsZWNlbGxfZGVsZXRlOntsYWJlbDpwLmNlbGwuZGVsZXRlQ2VsbCxncm91cDpcInRhYmxlY2VsbFwiLGNvbW1hbmQ6XCJjZWxsRGVsZXRlXCIsb3JkZXI6MTV9LHRhYmxlY2VsbF9tZXJnZTp7bGFiZWw6cC5jZWxsLm1lcmdlLGdyb3VwOlwidGFibGVjZWxsXCIsY29tbWFuZDpcImNlbGxNZXJnZVwiLG9yZGVyOjE2fSx0YWJsZWNlbGxfbWVyZ2VfcmlnaHQ6e2xhYmVsOnAuY2VsbC5tZXJnZVJpZ2h0LGdyb3VwOlwidGFibGVjZWxsXCIsY29tbWFuZDpcImNlbGxNZXJnZVJpZ2h0XCIsb3JkZXI6MTd9LHRhYmxlY2VsbF9tZXJnZV9kb3duOntsYWJlbDpwLmNlbGwubWVyZ2VEb3duLGdyb3VwOlwidGFibGVjZWxsXCIsY29tbWFuZDpcImNlbGxNZXJnZURvd25cIixvcmRlcjoxOH0sdGFibGVjZWxsX3NwbGl0X2hvcml6b250YWw6e2xhYmVsOnAuY2VsbC5zcGxpdEhvcml6b250YWwsZ3JvdXA6XCJ0YWJsZWNlbGxcIixcbmNvbW1hbmQ6XCJjZWxsSG9yaXpvbnRhbFNwbGl0XCIsb3JkZXI6MTl9LHRhYmxlY2VsbF9zcGxpdF92ZXJ0aWNhbDp7bGFiZWw6cC5jZWxsLnNwbGl0VmVydGljYWwsZ3JvdXA6XCJ0YWJsZWNlbGxcIixjb21tYW5kOlwiY2VsbFZlcnRpY2FsU3BsaXRcIixvcmRlcjoyMH0sdGFibGVjZWxsX3Byb3BlcnRpZXM6e2xhYmVsOnAuY2VsbC50aXRsZSxncm91cDpcInRhYmxlY2VsbHByb3BlcnRpZXNcIixjb21tYW5kOlwiY2VsbFByb3BlcnRpZXNcIixvcmRlcjoyMX0sdGFibGVyb3c6e2xhYmVsOnAucm93Lm1lbnUsZ3JvdXA6XCJ0YWJsZXJvd1wiLG9yZGVyOjEsZ2V0SXRlbXM6ZnVuY3Rpb24oKXtyZXR1cm57dGFibGVyb3dfaW5zZXJ0QmVmb3JlOkNLRURJVE9SLlRSSVNUQVRFX09GRix0YWJsZXJvd19pbnNlcnRBZnRlcjpDS0VESVRPUi5UUklTVEFURV9PRkYsdGFibGVyb3dfZGVsZXRlOkNLRURJVE9SLlRSSVNUQVRFX09GRn19fSx0YWJsZXJvd19pbnNlcnRCZWZvcmU6e2xhYmVsOnAucm93Lmluc2VydEJlZm9yZSxcbmdyb3VwOlwidGFibGVyb3dcIixjb21tYW5kOlwicm93SW5zZXJ0QmVmb3JlXCIsb3JkZXI6NX0sdGFibGVyb3dfaW5zZXJ0QWZ0ZXI6e2xhYmVsOnAucm93Lmluc2VydEFmdGVyLGdyb3VwOlwidGFibGVyb3dcIixjb21tYW5kOlwicm93SW5zZXJ0QWZ0ZXJcIixvcmRlcjoxMH0sdGFibGVyb3dfZGVsZXRlOntsYWJlbDpwLnJvdy5kZWxldGVSb3csZ3JvdXA6XCJ0YWJsZXJvd1wiLGNvbW1hbmQ6XCJyb3dEZWxldGVcIixvcmRlcjoxNX0sdGFibGVjb2x1bW46e2xhYmVsOnAuY29sdW1uLm1lbnUsZ3JvdXA6XCJ0YWJsZWNvbHVtblwiLG9yZGVyOjEsZ2V0SXRlbXM6ZnVuY3Rpb24oKXtyZXR1cm57dGFibGVjb2x1bW5faW5zZXJ0QmVmb3JlOkNLRURJVE9SLlRSSVNUQVRFX09GRix0YWJsZWNvbHVtbl9pbnNlcnRBZnRlcjpDS0VESVRPUi5UUklTVEFURV9PRkYsdGFibGVjb2x1bW5fZGVsZXRlOkNLRURJVE9SLlRSSVNUQVRFX09GRn19fSx0YWJsZWNvbHVtbl9pbnNlcnRCZWZvcmU6e2xhYmVsOnAuY29sdW1uLmluc2VydEJlZm9yZSxcbmdyb3VwOlwidGFibGVjb2x1bW5cIixjb21tYW5kOlwiY29sdW1uSW5zZXJ0QmVmb3JlXCIsb3JkZXI6NX0sdGFibGVjb2x1bW5faW5zZXJ0QWZ0ZXI6e2xhYmVsOnAuY29sdW1uLmluc2VydEFmdGVyLGdyb3VwOlwidGFibGVjb2x1bW5cIixjb21tYW5kOlwiY29sdW1uSW5zZXJ0QWZ0ZXJcIixvcmRlcjoxMH0sdGFibGVjb2x1bW5fZGVsZXRlOntsYWJlbDpwLmNvbHVtbi5kZWxldGVDb2x1bW4sZ3JvdXA6XCJ0YWJsZWNvbHVtblwiLGNvbW1hbmQ6XCJjb2x1bW5EZWxldGVcIixvcmRlcjoxNX19KTtjLmNvbnRleHRNZW51JiZjLmNvbnRleHRNZW51LmFkZExpc3RlbmVyKGZ1bmN0aW9uKGEsYixjKXtyZXR1cm4oYT1jLmNvbnRhaW5zKHt0ZDoxLHRoOjF9LDEpKSYmIWEuaXNSZWFkT25seSgpP3t0YWJsZWNlbGw6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGLHRhYmxlcm93OkNLRURJVE9SLlRSSVNUQVRFX09GRix0YWJsZWNvbHVtbjpDS0VESVRPUi5UUklTVEFURV9PRkZ9Om51bGx9KX0sZ2V0U2VsZWN0ZWRDZWxsczphfTtcbkNLRURJVE9SLnBsdWdpbnMuYWRkKFwidGFibGV0b29sc1wiLENLRURJVE9SLnBsdWdpbnMudGFibGV0b29scyl9KCksQ0tFRElUT1IudG9vbHMuYnVpbGRUYWJsZU1hcD1mdW5jdGlvbihhKXthPWEuJC5yb3dzO2Zvcih2YXIgZT0tMSxiPVtdLGM9MDtjPGEubGVuZ3RoO2MrKyl7ZSsrOyFiW2VdJiYoYltlXT1bXSk7Zm9yKHZhciBkPS0xLGw9MDtsPGFbY10uY2VsbHMubGVuZ3RoO2wrKyl7dmFyIG09YVtjXS5jZWxsc1tsXTtmb3IoZCsrO2JbZV1bZF07KWQrKztmb3IodmFyIGY9aXNOYU4obS5jb2xTcGFuKT8xOm0uY29sU3BhbixtPWlzTmFOKG0ucm93U3Bhbik/MTptLnJvd1NwYW4saD0wO2g8bTtoKyspe2JbZStoXXx8KGJbZStoXT1bXSk7Zm9yKHZhciBrPTA7azxmO2srKyliW2UraF1bZCtrXT1hW2NdLmNlbGxzW2xdfWQrPWYtMX19cmV0dXJuIGJ9LGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtmdW5jdGlvbiBiKCl7Zm9yKHZhciBnPWMoKSxoPUNLRURJVE9SLnRvb2xzLmNsb25lKGEuY29uZmlnLnRvb2xiYXJHcm91cHMpfHxcbmUoYSksaz0wO2s8aC5sZW5ndGg7aysrKXt2YXIgbD1oW2tdO2lmKFwiL1wiIT1sKXtcInN0cmluZ1wiPT10eXBlb2YgbCYmKGw9aFtrXT17bmFtZTpsfSk7dmFyIHQscD1sLmdyb3VwcztpZihwKWZvcih2YXIgdz0wO3c8cC5sZW5ndGg7dysrKXQ9cFt3XSwodD1nW3RdKSYmZihsLHQpOyh0PWdbbC5uYW1lXSkmJmYobCx0KX19cmV0dXJuIGh9ZnVuY3Rpb24gYygpe3ZhciBiPXt9LGYsZSxnO2ZvcihmIGluIGEudWkuaXRlbXMpZT1hLnVpLml0ZW1zW2ZdLGc9ZS50b29sYmFyfHxcIm90aGVyc1wiLGc9Zy5zcGxpdChcIixcIiksZT1nWzBdLGc9cGFyc2VJbnQoZ1sxXXx8LTEsMTApLGJbZV18fChiW2VdPVtdKSxiW2VdLnB1c2goe25hbWU6ZixvcmRlcjpnfSk7Zm9yKGUgaW4gYiliW2VdPWJbZV0uc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLm9yZGVyPT1iLm9yZGVyPzA6MD5iLm9yZGVyPy0xOjA+YS5vcmRlcj8xOmEub3JkZXI8Yi5vcmRlcj8tMToxfSk7cmV0dXJuIGJ9ZnVuY3Rpb24gZihiLFxuYyl7aWYoYy5sZW5ndGgpe2IuaXRlbXM/Yi5pdGVtcy5wdXNoKGEudWkuY3JlYXRlKFwiLVwiKSk6Yi5pdGVtcz1bXTtmb3IodmFyIGY7Zj1jLnNoaWZ0KCk7KWY9XCJzdHJpbmdcIj09dHlwZW9mIGY/ZjpmLm5hbWUsayYmLTEhPUNLRURJVE9SLnRvb2xzLmluZGV4T2YoayxmKXx8KGY9YS51aS5jcmVhdGUoZikpJiZhLmFkZEZlYXR1cmUoZikmJmIuaXRlbXMucHVzaChmKX19ZnVuY3Rpb24gaChhKXt2YXIgYj1bXSxjLGQsZTtmb3IoYz0wO2M8YS5sZW5ndGg7KytjKWQ9YVtjXSxlPXt9LFwiL1wiPT1kP2IucHVzaChkKTpDS0VESVRPUi50b29scy5pc0FycmF5KGQpPyhmKGUsQ0tFRElUT1IudG9vbHMuY2xvbmUoZCkpLGIucHVzaChlKSk6ZC5pdGVtcyYmKGYoZSxDS0VESVRPUi50b29scy5jbG9uZShkLml0ZW1zKSksZS5uYW1lPWQubmFtZSxiLnB1c2goZSkpO3JldHVybiBifXZhciBrPWEuY29uZmlnLnJlbW92ZUJ1dHRvbnMsaz1rJiZrLnNwbGl0KFwiLFwiKSxnPWEuY29uZmlnLnRvb2xiYXI7XG5cInN0cmluZ1wiPT10eXBlb2YgZyYmKGc9YS5jb25maWdbXCJ0b29sYmFyX1wiK2ddKTtyZXR1cm4gYS50b29sYmFyPWc/aChnKTpiKCl9ZnVuY3Rpb24gZShhKXtyZXR1cm4gYS5fLnRvb2xiYXJHcm91cHN8fChhLl8udG9vbGJhckdyb3Vwcz1be25hbWU6XCJkb2N1bWVudFwiLGdyb3VwczpbXCJtb2RlXCIsXCJkb2N1bWVudFwiLFwiZG9jdG9vbHNcIl19LHtuYW1lOlwiY2xpcGJvYXJkXCIsZ3JvdXBzOltcImNsaXBib2FyZFwiLFwidW5kb1wiXX0se25hbWU6XCJlZGl0aW5nXCIsZ3JvdXBzOltcImZpbmRcIixcInNlbGVjdGlvblwiLFwic3BlbGxjaGVja2VyXCJdfSx7bmFtZTpcImZvcm1zXCJ9LFwiL1wiLHtuYW1lOlwiYmFzaWNzdHlsZXNcIixncm91cHM6W1wiYmFzaWNzdHlsZXNcIixcImNsZWFudXBcIl19LHtuYW1lOlwicGFyYWdyYXBoXCIsZ3JvdXBzOltcImxpc3RcIixcImluZGVudFwiLFwiYmxvY2tzXCIsXCJhbGlnblwiLFwiYmlkaVwiXX0se25hbWU6XCJsaW5rc1wifSx7bmFtZTpcImluc2VydFwifSxcIi9cIix7bmFtZTpcInN0eWxlc1wifSx7bmFtZTpcImNvbG9yc1wifSxcbntuYW1lOlwidG9vbHNcIn0se25hbWU6XCJvdGhlcnNcIn0se25hbWU6XCJhYm91dFwifV0pfXZhciBiPWZ1bmN0aW9uKCl7dGhpcy50b29sYmFycz1bXTt0aGlzLmZvY3VzQ29tbWFuZEV4ZWN1dGVkPSExfTtiLnByb3RvdHlwZS5mb2N1cz1mdW5jdGlvbigpe2Zvcih2YXIgYT0wLGI7Yj10aGlzLnRvb2xiYXJzW2ErK107KWZvcih2YXIgYz0wLGY7Zj1iLml0ZW1zW2MrK107KWlmKGYuZm9jdXMpe2YuZm9jdXMoKTtyZXR1cm59fTt2YXIgYz17bW9kZXM6e3d5c2l3eWc6MSxzb3VyY2U6MX0scmVhZE9ubHk6MSxleGVjOmZ1bmN0aW9uKGEpe2EudG9vbGJveCYmKGEudG9vbGJveC5mb2N1c0NvbW1hbmRFeGVjdXRlZD0hMCxDS0VESVRPUi5lbnYuaWV8fENLRURJVE9SLmVudi5haXI/c2V0VGltZW91dChmdW5jdGlvbigpe2EudG9vbGJveC5mb2N1cygpfSwxMDApOmEudG9vbGJveC5mb2N1cygpKX19O0NLRURJVE9SLnBsdWdpbnMuYWRkKFwidG9vbGJhclwiLHtyZXF1aXJlczpcImJ1dHRvblwiLGluaXQ6ZnVuY3Rpb24oZCl7dmFyIGUsXG5tPWZ1bmN0aW9uKGEsYil7dmFyIGMsZz1cInJ0bFwiPT1kLmxhbmcuZGlyLG49ZC5jb25maWcudG9vbGJhckdyb3VwQ3ljbGluZyx2PWc/Mzc6MzksZz1nPzM5OjM3LG49dm9pZCAwPT09bnx8bjtzd2l0Y2goYil7Y2FzZSA5OmNhc2UgQ0tFRElUT1IuU0hJRlQrOTpmb3IoOyFjfHwhYy5pdGVtcy5sZW5ndGg7KWlmKGM9OT09Yj8oYz9jLm5leHQ6YS50b29sYmFyLm5leHQpfHxkLnRvb2xib3gudG9vbGJhcnNbMF06KGM/Yy5wcmV2aW91czphLnRvb2xiYXIucHJldmlvdXMpfHxkLnRvb2xib3gudG9vbGJhcnNbZC50b29sYm94LnRvb2xiYXJzLmxlbmd0aC0xXSxjLml0ZW1zLmxlbmd0aClmb3IoYT1jLml0ZW1zW2U/Yy5pdGVtcy5sZW5ndGgtMTowXTthJiYhYS5mb2N1czspKGE9ZT9hLnByZXZpb3VzOmEubmV4dCl8fChjPTApO2EmJmEuZm9jdXMoKTtyZXR1cm4hMTtjYXNlIHY6Yz1hO2RvIGM9Yy5uZXh0LCFjJiZuJiYoYz1hLnRvb2xiYXIuaXRlbXNbMF0pO3doaWxlKGMmJiFjLmZvY3VzKTtcbmM/Yy5mb2N1cygpOm0oYSw5KTtyZXR1cm4hMTtjYXNlIDQwOnJldHVybiBhLmJ1dHRvbiYmYS5idXR0b24uaGFzQXJyb3c/KGQub25jZShcInBhbmVsU2hvd1wiLGZ1bmN0aW9uKGEpe2EuZGF0YS5fLnBhbmVsLl8uY3VycmVudEJsb2NrLm9uS2V5RG93big0MCl9KSxhLmV4ZWN1dGUoKSk6bShhLDQwPT1iP3Y6ZyksITE7Y2FzZSBnOmNhc2UgMzg6Yz1hO2RvIGM9Yy5wcmV2aW91cywhYyYmbiYmKGM9YS50b29sYmFyLml0ZW1zW2EudG9vbGJhci5pdGVtcy5sZW5ndGgtMV0pO3doaWxlKGMmJiFjLmZvY3VzKTtjP2MuZm9jdXMoKTooZT0xLG0oYSxDS0VESVRPUi5TSElGVCs5KSxlPTApO3JldHVybiExO2Nhc2UgMjc6cmV0dXJuIGQuZm9jdXMoKSwhMTtjYXNlIDEzOmNhc2UgMzI6cmV0dXJuIGEuZXhlY3V0ZSgpLCExfXJldHVybiEwfTtkLm9uKFwidWlTcGFjZVwiLGZ1bmN0aW9uKGMpe2lmKGMuZGF0YS5zcGFjZT09ZC5jb25maWcudG9vbGJhckxvY2F0aW9uKXtjLnJlbW92ZUxpc3RlbmVyKCk7XG5kLnRvb2xib3g9bmV3IGI7dmFyIGU9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCksaz1bJ1xceDNjc3BhbiBpZFxceDNkXCInLGUsJ1wiIGNsYXNzXFx4M2RcImNrZV92b2ljZV9sYWJlbFwiXFx4M2UnLGQubGFuZy50b29sYmFyLnRvb2xiYXJzLFwiXFx4M2Mvc3BhblxceDNlXCIsJ1xceDNjc3BhbiBpZFxceDNkXCInK2QudWkuc3BhY2VJZChcInRvb2xib3hcIikrJ1wiIGNsYXNzXFx4M2RcImNrZV90b29sYm94XCIgcm9sZVxceDNkXCJncm91cFwiIGFyaWEtbGFiZWxsZWRieVxceDNkXCInLGUsJ1wiIG9ubW91c2Vkb3duXFx4M2RcInJldHVybiBmYWxzZTtcIlxceDNlJ10sZT0hMSE9PWQuY29uZmlnLnRvb2xiYXJTdGFydHVwRXhwYW5kZWQsZyxsO2QuY29uZmlnLnRvb2xiYXJDYW5Db2xsYXBzZSYmZC5lbGVtZW50TW9kZSE9Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORSYmay5wdXNoKCdcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX3Rvb2xib3hfbWFpblwiJysoZT9cIlxceDNlXCI6JyBzdHlsZVxceDNkXCJkaXNwbGF5Om5vbmVcIlxceDNlJykpO1xuZm9yKHZhciB2PWQudG9vbGJveC50b29sYmFycyxyPWEoZCkscT0wO3E8ci5sZW5ndGg7cSsrKXt2YXIgdCxwPTAsdyx6PXJbcV0sQTtpZih6KWlmKGcmJihrLnB1c2goXCJcXHgzYy9zcGFuXFx4M2VcIiksbD1nPTApLFwiL1wiPT09eilrLnB1c2goJ1xceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfdG9vbGJhcl9icmVha1wiXFx4M2VcXHgzYy9zcGFuXFx4M2UnKTtlbHNle0E9ei5pdGVtc3x8ejtmb3IodmFyIHU9MDt1PEEubGVuZ3RoO3UrKyl7dmFyIHg9QVt1XSxEO2lmKHgpe3ZhciB5PWZ1bmN0aW9uKGEpe2E9YS5yZW5kZXIoZCxrKTtCPXAuaXRlbXMucHVzaChhKS0xOzA8QiYmKGEucHJldmlvdXM9cC5pdGVtc1tCLTFdLGEucHJldmlvdXMubmV4dD1hKTthLnRvb2xiYXI9cDthLm9ua2V5PW07YS5vbmZvY3VzPWZ1bmN0aW9uKCl7ZC50b29sYm94LmZvY3VzQ29tbWFuZEV4ZWN1dGVkfHxkLmZvY3VzKCl9fTtpZih4LnR5cGU9PUNLRURJVE9SLlVJX1NFUEFSQVRPUilsPWcmJng7ZWxzZXtEPSExIT09eC5jYW5Hcm91cDtcbmlmKCFwKXt0PUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpO3A9e2lkOnQsaXRlbXM6W119O3c9ei5uYW1lJiYoZC5sYW5nLnRvb2xiYXIudG9vbGJhckdyb3Vwc1t6Lm5hbWVdfHx6Lm5hbWUpO2sucHVzaCgnXFx4M2NzcGFuIGlkXFx4M2RcIicsdCwnXCIgY2xhc3NcXHgzZFwiY2tlX3Rvb2xiYXJcIicsdz8nIGFyaWEtbGFiZWxsZWRieVxceDNkXCInK3QrJ19sYWJlbFwiJzpcIlwiLCcgcm9sZVxceDNkXCJ0b29sYmFyXCJcXHgzZScpO3cmJmsucHVzaCgnXFx4M2NzcGFuIGlkXFx4M2RcIicsdCwnX2xhYmVsXCIgY2xhc3NcXHgzZFwiY2tlX3ZvaWNlX2xhYmVsXCJcXHgzZScsdyxcIlxceDNjL3NwYW5cXHgzZVwiKTtrLnB1c2goJ1xceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfdG9vbGJhcl9zdGFydFwiXFx4M2VcXHgzYy9zcGFuXFx4M2UnKTt2YXIgQj12LnB1c2gocCktMTswPEImJihwLnByZXZpb3VzPXZbQi0xXSxwLnByZXZpb3VzLm5leHQ9cCl9RD9nfHwoay5wdXNoKCdcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX3Rvb2xncm91cFwiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCJcXHgzZScpLFxuZz0xKTpnJiYoay5wdXNoKFwiXFx4M2Mvc3BhblxceDNlXCIpLGc9MCk7bCYmKHkobCksbD0wKTt5KHgpfX19ZyYmKGsucHVzaChcIlxceDNjL3NwYW5cXHgzZVwiKSxsPWc9MCk7cCYmay5wdXNoKCdcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX3Rvb2xiYXJfZW5kXCJcXHgzZVxceDNjL3NwYW5cXHgzZVxceDNjL3NwYW5cXHgzZScpfX1kLmNvbmZpZy50b29sYmFyQ2FuQ29sbGFwc2UmJmsucHVzaChcIlxceDNjL3NwYW5cXHgzZVwiKTtpZihkLmNvbmZpZy50b29sYmFyQ2FuQ29sbGFwc2UmJmQuZWxlbWVudE1vZGUhPUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkUpe3ZhciBDPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKCl7ZC5leGVjQ29tbWFuZChcInRvb2xiYXJDb2xsYXBzZVwiKX0pO2Qub24oXCJkZXN0cm95XCIsZnVuY3Rpb24oKXtDS0VESVRPUi50b29scy5yZW1vdmVGdW5jdGlvbihDKX0pO2QuYWRkQ29tbWFuZChcInRvb2xiYXJDb2xsYXBzZVwiLHtyZWFkT25seToxLGV4ZWM6ZnVuY3Rpb24oYSl7dmFyIGI9XG5hLnVpLnNwYWNlKFwidG9vbGJhcl9jb2xsYXBzZXJcIiksYz1iLmdldFByZXZpb3VzKCksZD1hLnVpLnNwYWNlKFwiY29udGVudHNcIiksZj1jLmdldFBhcmVudCgpLGU9cGFyc2VJbnQoZC4kLnN0eWxlLmhlaWdodCwxMCksZz1mLiQub2Zmc2V0SGVpZ2h0LGg9Yi5oYXNDbGFzcyhcImNrZV90b29sYm94X2NvbGxhcHNlcl9taW5cIik7aD8oYy5zaG93KCksYi5yZW1vdmVDbGFzcyhcImNrZV90b29sYm94X2NvbGxhcHNlcl9taW5cIiksYi5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLGEubGFuZy50b29sYmFyLnRvb2xiYXJDb2xsYXBzZSkpOihjLmhpZGUoKSxiLmFkZENsYXNzKFwiY2tlX3Rvb2xib3hfY29sbGFwc2VyX21pblwiKSxiLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsYS5sYW5nLnRvb2xiYXIudG9vbGJhckV4cGFuZCkpO2IuZ2V0Rmlyc3QoKS5zZXRUZXh0KGg/XCLilrJcIjpcIuKXgFwiKTtkLnNldFN0eWxlKFwiaGVpZ2h0XCIsZS0oZi4kLm9mZnNldEhlaWdodC1nKStcInB4XCIpO2EuZmlyZShcInJlc2l6ZVwiLHtvdXRlckhlaWdodDphLmNvbnRhaW5lci4kLm9mZnNldEhlaWdodCxcbmNvbnRlbnRzSGVpZ2h0OmQuJC5vZmZzZXRIZWlnaHQsb3V0ZXJXaWR0aDphLmNvbnRhaW5lci4kLm9mZnNldFdpZHRofSl9LG1vZGVzOnt3eXNpd3lnOjEsc291cmNlOjF9fSk7ZC5zZXRLZXlzdHJva2UoQ0tFRElUT1IuQUxUKyhDS0VESVRPUi5lbnYuaWV8fENLRURJVE9SLmVudi53ZWJraXQ/MTg5OjEwOSksXCJ0b29sYmFyQ29sbGFwc2VcIik7ay5wdXNoKCdcXHgzY2EgdGl0bGVcXHgzZFwiJysoZT9kLmxhbmcudG9vbGJhci50b29sYmFyQ29sbGFwc2U6ZC5sYW5nLnRvb2xiYXIudG9vbGJhckV4cGFuZCkrJ1wiIGlkXFx4M2RcIicrZC51aS5zcGFjZUlkKFwidG9vbGJhcl9jb2xsYXBzZXJcIikrJ1wiIHRhYkluZGV4XFx4M2RcIi0xXCIgY2xhc3NcXHgzZFwiY2tlX3Rvb2xib3hfY29sbGFwc2VyJyk7ZXx8ay5wdXNoKFwiIGNrZV90b29sYm94X2NvbGxhcHNlcl9taW5cIik7ay5wdXNoKCdcIiBvbmNsaWNrXFx4M2RcIkNLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbignK0MrJylcIlxceDNlJywnXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV9hcnJvd1wiXFx4M2VcXHgyNiM5NjUwO1xceDNjL3NwYW5cXHgzZScsXG5cIlxceDNjL2FcXHgzZVwiKX1rLnB1c2goXCJcXHgzYy9zcGFuXFx4M2VcIik7Yy5kYXRhLmh0bWwrPWsuam9pbihcIlwiKX19KTtkLm9uKFwiZGVzdHJveVwiLGZ1bmN0aW9uKCl7aWYodGhpcy50b29sYm94KXt2YXIgYSxiPTAsYyxkLGU7Zm9yKGE9dGhpcy50b29sYm94LnRvb2xiYXJzO2I8YS5sZW5ndGg7YisrKWZvcihkPWFbYl0uaXRlbXMsYz0wO2M8ZC5sZW5ndGg7YysrKWU9ZFtjXSxlLmNsaWNrRm4mJkNLRURJVE9SLnRvb2xzLnJlbW92ZUZ1bmN0aW9uKGUuY2xpY2tGbiksZS5rZXlEb3duRm4mJkNLRURJVE9SLnRvb2xzLnJlbW92ZUZ1bmN0aW9uKGUua2V5RG93bkZuKX19KTtkLm9uKFwidWlSZWFkeVwiLGZ1bmN0aW9uKCl7dmFyIGE9ZC51aS5zcGFjZShcInRvb2xib3hcIik7YSYmZC5mb2N1c01hbmFnZXIuYWRkKGEsMSl9KTtkLmFkZENvbW1hbmQoXCJ0b29sYmFyRm9jdXNcIixjKTtkLnNldEtleXN0cm9rZShDS0VESVRPUi5BTFQrMTIxLFwidG9vbGJhckZvY3VzXCIpO2QudWkuYWRkKFwiLVwiLENLRURJVE9SLlVJX1NFUEFSQVRPUixcbnt9KTtkLnVpLmFkZEhhbmRsZXIoQ0tFRElUT1IuVUlfU0VQQVJBVE9SLHtjcmVhdGU6ZnVuY3Rpb24oKXtyZXR1cm57cmVuZGVyOmZ1bmN0aW9uKGEsYil7Yi5wdXNoKCdcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX3Rvb2xiYXJfc2VwYXJhdG9yXCIgcm9sZVxceDNkXCJzZXBhcmF0b3JcIlxceDNlXFx4M2Mvc3BhblxceDNlJyk7cmV0dXJue319fX19KX19KTtDS0VESVRPUi51aS5wcm90b3R5cGUuYWRkVG9vbGJhckdyb3VwPWZ1bmN0aW9uKGEsYixjKXt2YXIgZj1lKHRoaXMuZWRpdG9yKSxoPTA9PT1iLGs9e25hbWU6YX07aWYoYyl7aWYoYz1DS0VESVRPUi50b29scy5zZWFyY2goZixmdW5jdGlvbihhKXtyZXR1cm4gYS5uYW1lPT1jfSkpeyFjLmdyb3VwcyYmKGMuZ3JvdXBzPVtdKTtpZihiJiYoYj1DS0VESVRPUi50b29scy5pbmRleE9mKGMuZ3JvdXBzLGIpLDA8PWIpKXtjLmdyb3Vwcy5zcGxpY2UoYisxLDAsYSk7cmV0dXJufWg/Yy5ncm91cHMuc3BsaWNlKDAsMCxhKTpjLmdyb3Vwcy5wdXNoKGEpO1xucmV0dXJufWI9bnVsbH1iJiYoYj1DS0VESVRPUi50b29scy5pbmRleE9mKGYsZnVuY3Rpb24oYSl7cmV0dXJuIGEubmFtZT09Yn0pKTtoP2Yuc3BsaWNlKDAsMCxhKTpcIm51bWJlclwiPT10eXBlb2YgYj9mLnNwbGljZShiKzEsMCxrKTpmLnB1c2goYSl9fSgpLENLRURJVE9SLlVJX1NFUEFSQVRPUj1cInNlcGFyYXRvclwiLENLRURJVE9SLmNvbmZpZy50b29sYmFyTG9jYXRpb249XCJ0b3BcIixcInVzZSBzdHJpY3RcIixmdW5jdGlvbigpe3ZhciBhPVtDS0VESVRPUi5DVFJMKzkwLENLRURJVE9SLkNUUkwrODksQ0tFRElUT1IuQ1RSTCtDS0VESVRPUi5TSElGVCs5MF0sZT17ODoxLDQ2OjF9O0NLRURJVE9SLnBsdWdpbnMuYWRkKFwidW5kb1wiLHtpbml0OmZ1bmN0aW9uKGMpe2Z1bmN0aW9uIGQoYSl7Zy5lbmFibGVkJiYhMSE9PWEuZGF0YS5jb21tYW5kLmNhblVuZG8mJmcuc2F2ZSgpfWZ1bmN0aW9uIGUoKXtnLmVuYWJsZWQ9Yy5yZWFkT25seT8hMTpcInd5c2l3eWdcIj09Yy5tb2RlO2cub25DaGFuZ2UoKX1cbnZhciBnPWMudW5kb01hbmFnZXI9bmV3IGIoYyksbT1nLmVkaXRpbmdIYW5kbGVyPW5ldyBsKGcpLHY9Yy5hZGRDb21tYW5kKFwidW5kb1wiLHtleGVjOmZ1bmN0aW9uKCl7Zy51bmRvKCkmJihjLnNlbGVjdGlvbkNoYW5nZSgpLHRoaXMuZmlyZShcImFmdGVyVW5kb1wiKSl9LHN0YXJ0RGlzYWJsZWQ6ITAsY2FuVW5kbzohMX0pLHI9Yy5hZGRDb21tYW5kKFwicmVkb1wiLHtleGVjOmZ1bmN0aW9uKCl7Zy5yZWRvKCkmJihjLnNlbGVjdGlvbkNoYW5nZSgpLHRoaXMuZmlyZShcImFmdGVyUmVkb1wiKSl9LHN0YXJ0RGlzYWJsZWQ6ITAsY2FuVW5kbzohMX0pO2Muc2V0S2V5c3Ryb2tlKFtbYVswXSxcInVuZG9cIl0sW2FbMV0sXCJyZWRvXCJdLFthWzJdLFwicmVkb1wiXV0pO2cub25DaGFuZ2U9ZnVuY3Rpb24oKXt2LnNldFN0YXRlKGcudW5kb2FibGUoKT9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpO3Iuc2V0U3RhdGUoZy5yZWRvYWJsZSgpP0NLRURJVE9SLlRSSVNUQVRFX09GRjpcbkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKX07Yy5vbihcImJlZm9yZUNvbW1hbmRFeGVjXCIsZCk7Yy5vbihcImFmdGVyQ29tbWFuZEV4ZWNcIixkKTtjLm9uKFwic2F2ZVNuYXBzaG90XCIsZnVuY3Rpb24oYSl7Zy5zYXZlKGEuZGF0YSYmYS5kYXRhLmNvbnRlbnRPbmx5KX0pO2Mub24oXCJjb250ZW50RG9tXCIsbS5hdHRhY2hMaXN0ZW5lcnMsbSk7Yy5vbihcImluc3RhbmNlUmVhZHlcIixmdW5jdGlvbigpe2MuZmlyZShcInNhdmVTbmFwc2hvdFwiKX0pO2Mub24oXCJiZWZvcmVNb2RlVW5sb2FkXCIsZnVuY3Rpb24oKXtcInd5c2l3eWdcIj09Yy5tb2RlJiZnLnNhdmUoITApfSk7Yy5vbihcIm1vZGVcIixlKTtjLm9uKFwicmVhZE9ubHlcIixlKTtjLnVpLmFkZEJ1dHRvbiYmKGMudWkuYWRkQnV0dG9uKFwiVW5kb1wiLHtsYWJlbDpjLmxhbmcudW5kby51bmRvLGNvbW1hbmQ6XCJ1bmRvXCIsdG9vbGJhcjpcInVuZG8sMTBcIn0pLGMudWkuYWRkQnV0dG9uKFwiUmVkb1wiLHtsYWJlbDpjLmxhbmcudW5kby5yZWRvLGNvbW1hbmQ6XCJyZWRvXCIsXG50b29sYmFyOlwidW5kbywyMFwifSkpO2MucmVzZXRVbmRvPWZ1bmN0aW9uKCl7Zy5yZXNldCgpO2MuZmlyZShcInNhdmVTbmFwc2hvdFwiKX07Yy5vbihcInVwZGF0ZVNuYXBzaG90XCIsZnVuY3Rpb24oKXtnLmN1cnJlbnRJbWFnZSYmZy51cGRhdGUoKX0pO2Mub24oXCJsb2NrU25hcHNob3RcIixmdW5jdGlvbihhKXthPWEuZGF0YTtnLmxvY2soYSYmYS5kb250VXBkYXRlLGEmJmEuZm9yY2VVcGRhdGUpfSk7Yy5vbihcInVubG9ja1NuYXBzaG90XCIsZy51bmxvY2ssZyl9fSk7Q0tFRElUT1IucGx1Z2lucy51bmRvPXt9O3ZhciBiPUNLRURJVE9SLnBsdWdpbnMudW5kby5VbmRvTWFuYWdlcj1mdW5jdGlvbihhKXt0aGlzLnN0cm9rZXNSZWNvcmRlZD1bMCwwXTt0aGlzLmxvY2tlZD1udWxsO3RoaXMucHJldmlvdXNLZXlHcm91cD0tMTt0aGlzLmxpbWl0PWEuY29uZmlnLnVuZG9TdGFja1NpemV8fDIwO3RoaXMuc3Ryb2tlc0xpbWl0PTI1O3RoaXMuZWRpdG9yPWE7dGhpcy5yZXNldCgpfTtiLnByb3RvdHlwZT1cbnt0eXBlOmZ1bmN0aW9uKGEsYyl7dmFyIGQ9Yi5nZXRLZXlHcm91cChhKSxlPXRoaXMuc3Ryb2tlc1JlY29yZGVkW2RdKzE7Yz1jfHxlPj10aGlzLnN0cm9rZXNMaW1pdDt0aGlzLnR5cGluZ3x8KHRoaXMuaGFzVW5kbz10aGlzLnR5cGluZz0hMCx0aGlzLmhhc1JlZG89ITEsdGhpcy5vbkNoYW5nZSgpKTtjPyhlPTAsdGhpcy5lZGl0b3IuZmlyZShcInNhdmVTbmFwc2hvdFwiKSk6dGhpcy5lZGl0b3IuZmlyZShcImNoYW5nZVwiKTt0aGlzLnN0cm9rZXNSZWNvcmRlZFtkXT1lO3RoaXMucHJldmlvdXNLZXlHcm91cD1kfSxrZXlHcm91cENoYW5nZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGIuZ2V0S2V5R3JvdXAoYSkhPXRoaXMucHJldmlvdXNLZXlHcm91cH0scmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLnNuYXBzaG90cz1bXTt0aGlzLmluZGV4PS0xO3RoaXMuY3VycmVudEltYWdlPW51bGw7dGhpcy5oYXNSZWRvPXRoaXMuaGFzVW5kbz0hMTt0aGlzLmxvY2tlZD1udWxsO3RoaXMucmVzZXRUeXBlKCl9LFxucmVzZXRUeXBlOmZ1bmN0aW9uKCl7dGhpcy5zdHJva2VzUmVjb3JkZWQ9WzAsMF07dGhpcy50eXBpbmc9ITE7dGhpcy5wcmV2aW91c0tleUdyb3VwPS0xfSxyZWZyZXNoU3RhdGU6ZnVuY3Rpb24oKXt0aGlzLmhhc1VuZG89ISF0aGlzLmdldE5leHRJbWFnZSghMCk7dGhpcy5oYXNSZWRvPSEhdGhpcy5nZXROZXh0SW1hZ2UoITEpO3RoaXMucmVzZXRUeXBlKCk7dGhpcy5vbkNoYW5nZSgpfSxzYXZlOmZ1bmN0aW9uKGEsYixkKXt2YXIgZT10aGlzLmVkaXRvcjtpZih0aGlzLmxvY2tlZHx8XCJyZWFkeVwiIT1lLnN0YXR1c3x8XCJ3eXNpd3lnXCIhPWUubW9kZSlyZXR1cm4hMTt2YXIgbT1lLmVkaXRhYmxlKCk7aWYoIW18fFwicmVhZHlcIiE9bS5zdGF0dXMpcmV0dXJuITE7bT10aGlzLnNuYXBzaG90cztifHwoYj1uZXcgYyhlKSk7aWYoITE9PT1iLmNvbnRlbnRzKXJldHVybiExO2lmKHRoaXMuY3VycmVudEltYWdlKWlmKGIuZXF1YWxzQ29udGVudCh0aGlzLmN1cnJlbnRJbWFnZSkpe2lmKGF8fFxuYi5lcXVhbHNTZWxlY3Rpb24odGhpcy5jdXJyZW50SW1hZ2UpKXJldHVybiExfWVsc2UhMSE9PWQmJmUuZmlyZShcImNoYW5nZVwiKTttLnNwbGljZSh0aGlzLmluZGV4KzEsbS5sZW5ndGgtdGhpcy5pbmRleC0xKTttLmxlbmd0aD09dGhpcy5saW1pdCYmbS5zaGlmdCgpO3RoaXMuaW5kZXg9bS5wdXNoKGIpLTE7dGhpcy5jdXJyZW50SW1hZ2U9YjshMSE9PWQmJnRoaXMucmVmcmVzaFN0YXRlKCk7cmV0dXJuITB9LHJlc3RvcmVJbWFnZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmVkaXRvcixjO2EuYm9va21hcmtzJiYoYi5mb2N1cygpLGM9Yi5nZXRTZWxlY3Rpb24oKSk7dGhpcy5sb2NrZWQ9e2xldmVsOjk5OX07dGhpcy5lZGl0b3IubG9hZFNuYXBzaG90KGEuY29udGVudHMpO2EuYm9va21hcmtzP2Muc2VsZWN0Qm9va21hcmtzKGEuYm9va21hcmtzKTpDS0VESVRPUi5lbnYuaWUmJihjPXRoaXMuZWRpdG9yLmRvY3VtZW50LmdldEJvZHkoKS4kLmNyZWF0ZVRleHRSYW5nZSgpLGMuY29sbGFwc2UoITApLFxuYy5zZWxlY3QoKSk7dGhpcy5sb2NrZWQ9bnVsbDt0aGlzLmluZGV4PWEuaW5kZXg7dGhpcy5jdXJyZW50SW1hZ2U9dGhpcy5zbmFwc2hvdHNbdGhpcy5pbmRleF07dGhpcy51cGRhdGUoKTt0aGlzLnJlZnJlc2hTdGF0ZSgpO2IuZmlyZShcImNoYW5nZVwiKX0sZ2V0TmV4dEltYWdlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuc25hcHNob3RzLGM9dGhpcy5jdXJyZW50SW1hZ2UsZDtpZihjKWlmKGEpZm9yKGQ9dGhpcy5pbmRleC0xOzA8PWQ7ZC0tKXtpZihhPWJbZF0sIWMuZXF1YWxzQ29udGVudChhKSlyZXR1cm4gYS5pbmRleD1kLGF9ZWxzZSBmb3IoZD10aGlzLmluZGV4KzE7ZDxiLmxlbmd0aDtkKyspaWYoYT1iW2RdLCFjLmVxdWFsc0NvbnRlbnQoYSkpcmV0dXJuIGEuaW5kZXg9ZCxhO3JldHVybiBudWxsfSxyZWRvYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVuYWJsZWQmJnRoaXMuaGFzUmVkb30sdW5kb2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmFibGVkJiZ0aGlzLmhhc1VuZG99LFxudW5kbzpmdW5jdGlvbigpe2lmKHRoaXMudW5kb2FibGUoKSl7dGhpcy5zYXZlKCEwKTt2YXIgYT10aGlzLmdldE5leHRJbWFnZSghMCk7aWYoYSlyZXR1cm4gdGhpcy5yZXN0b3JlSW1hZ2UoYSksITB9cmV0dXJuITF9LHJlZG86ZnVuY3Rpb24oKXtpZih0aGlzLnJlZG9hYmxlKCkmJih0aGlzLnNhdmUoITApLHRoaXMucmVkb2FibGUoKSkpe3ZhciBhPXRoaXMuZ2V0TmV4dEltYWdlKCExKTtpZihhKXJldHVybiB0aGlzLnJlc3RvcmVJbWFnZShhKSwhMH1yZXR1cm4hMX0sdXBkYXRlOmZ1bmN0aW9uKGEpe2lmKCF0aGlzLmxvY2tlZCl7YXx8KGE9bmV3IGModGhpcy5lZGl0b3IpKTtmb3IodmFyIGI9dGhpcy5pbmRleCxkPXRoaXMuc25hcHNob3RzOzA8YiYmdGhpcy5jdXJyZW50SW1hZ2UuZXF1YWxzQ29udGVudChkW2ItMV0pOyktLWI7ZC5zcGxpY2UoYix0aGlzLmluZGV4LWIrMSxhKTt0aGlzLmluZGV4PWI7dGhpcy5jdXJyZW50SW1hZ2U9YX19LHVwZGF0ZVNlbGVjdGlvbjpmdW5jdGlvbihhKXtpZighdGhpcy5zbmFwc2hvdHMubGVuZ3RoKXJldHVybiExO1xudmFyIGI9dGhpcy5zbmFwc2hvdHMsYz1iW2IubGVuZ3RoLTFdO3JldHVybiBjLmVxdWFsc0NvbnRlbnQoYSkmJiFjLmVxdWFsc1NlbGVjdGlvbihhKT8odGhpcy5jdXJyZW50SW1hZ2U9YltiLmxlbmd0aC0xXT1hLCEwKTohMX0sbG9jazpmdW5jdGlvbihhLGIpe2lmKHRoaXMubG9ja2VkKXRoaXMubG9ja2VkLmxldmVsKys7ZWxzZSBpZihhKXRoaXMubG9ja2VkPXtsZXZlbDoxfTtlbHNle3ZhciBkPW51bGw7aWYoYilkPSEwO2Vsc2V7dmFyIGU9bmV3IGModGhpcy5lZGl0b3IsITApO3RoaXMuY3VycmVudEltYWdlJiZ0aGlzLmN1cnJlbnRJbWFnZS5lcXVhbHNDb250ZW50KGUpJiYoZD1lKX10aGlzLmxvY2tlZD17dXBkYXRlOmQsbGV2ZWw6MX19fSx1bmxvY2s6ZnVuY3Rpb24oKXtpZih0aGlzLmxvY2tlZCYmIS0tdGhpcy5sb2NrZWQubGV2ZWwpe3ZhciBhPXRoaXMubG9ja2VkLnVwZGF0ZTt0aGlzLmxvY2tlZD1udWxsO2lmKCEwPT09YSl0aGlzLnVwZGF0ZSgpO2Vsc2UgaWYoYSl7dmFyIGI9XG5uZXcgYyh0aGlzLmVkaXRvciwhMCk7YS5lcXVhbHNDb250ZW50KGIpfHx0aGlzLnVwZGF0ZSgpfX19fTtiLm5hdmlnYXRpb25LZXlDb2Rlcz17Mzc6MSwzODoxLDM5OjEsNDA6MSwzNjoxLDM1OjEsMzM6MSwzNDoxfTtiLmtleUdyb3Vwcz17UFJJTlRBQkxFOjAsRlVOQ1RJT05BTDoxfTtiLmlzTmF2aWdhdGlvbktleT1mdW5jdGlvbihhKXtyZXR1cm4hIWIubmF2aWdhdGlvbktleUNvZGVzW2FdfTtiLmdldEtleUdyb3VwPWZ1bmN0aW9uKGEpe3ZhciBjPWIua2V5R3JvdXBzO3JldHVybiBlW2FdP2MuRlVOQ1RJT05BTDpjLlBSSU5UQUJMRX07Yi5nZXRPcHBvc2l0ZUtleUdyb3VwPWZ1bmN0aW9uKGEpe3ZhciBjPWIua2V5R3JvdXBzO3JldHVybiBhPT1jLkZVTkNUSU9OQUw/Yy5QUklOVEFCTEU6Yy5GVU5DVElPTkFMfTtiLmllRnVuY3Rpb25hbEtleXNCdWc9ZnVuY3Rpb24oYSl7cmV0dXJuIENLRURJVE9SLmVudi5pZSYmYi5nZXRLZXlHcm91cChhKT09Yi5rZXlHcm91cHMuRlVOQ1RJT05BTH07XG52YXIgYz1DS0VESVRPUi5wbHVnaW5zLnVuZG8uSW1hZ2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmVkaXRvcj1hO2EuZmlyZShcImJlZm9yZVVuZG9JbWFnZVwiKTt2YXIgYz1hLmdldFNuYXBzaG90KCk7Q0tFRElUT1IuZW52LmllJiZjJiYoYz1jLnJlcGxhY2UoL1xccytkYXRhLWNrZS1leHBhbmRvPVwiLio/XCIvZyxcIlwiKSk7dGhpcy5jb250ZW50cz1jO2J8fCh0aGlzLmJvb2ttYXJrcz0oYz1jJiZhLmdldFNlbGVjdGlvbigpKSYmYy5jcmVhdGVCb29rbWFya3MyKCEwKSk7YS5maXJlKFwiYWZ0ZXJVbmRvSW1hZ2VcIil9LGQ9L1xcYig/OmhyZWZ8c3JjfG5hbWUpPVwiW15cIl0qP1wiL2dpO2MucHJvdG90eXBlPXtlcXVhbHNDb250ZW50OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY29udGVudHM7YT1hLmNvbnRlbnRzO0NLRURJVE9SLmVudi5pZSYmKENLRURJVE9SLmVudi5pZTdDb21wYXR8fENLRURJVE9SLmVudi5xdWlya3MpJiYoYj1iLnJlcGxhY2UoZCxcIlwiKSxhPWEucmVwbGFjZShkLFwiXCIpKTtyZXR1cm4gYiE9XG5hPyExOiEwfSxlcXVhbHNTZWxlY3Rpb246ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5ib29rbWFya3M7YT1hLmJvb2ttYXJrcztpZihifHxhKXtpZighYnx8IWF8fGIubGVuZ3RoIT1hLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGQ9YltjXSxlPWFbY107aWYoZC5zdGFydE9mZnNldCE9ZS5zdGFydE9mZnNldHx8ZC5lbmRPZmZzZXQhPWUuZW5kT2Zmc2V0fHwhQ0tFRElUT1IudG9vbHMuYXJyYXlDb21wYXJlKGQuc3RhcnQsZS5zdGFydCl8fCFDS0VESVRPUi50b29scy5hcnJheUNvbXBhcmUoZC5lbmQsZS5lbmQpKXJldHVybiExfX1yZXR1cm4hMH19O3ZhciBsPUNLRURJVE9SLnBsdWdpbnMudW5kby5OYXRpdmVFZGl0aW5nSGFuZGxlcj1mdW5jdGlvbihhKXt0aGlzLnVuZG9NYW5hZ2VyPWE7dGhpcy5pZ25vcmVJbnB1dEV2ZW50PSExO3RoaXMua2V5RXZlbnRzU3RhY2s9bmV3IG07dGhpcy5sYXN0S2V5ZG93bkltYWdlPW51bGx9O2wucHJvdG90eXBlPVxue29uS2V5ZG93bjpmdW5jdGlvbihkKXt2YXIgZT1kLmRhdGEuZ2V0S2V5KCk7aWYoMjI5IT09ZSlpZigtMTxDS0VESVRPUi50b29scy5pbmRleE9mKGEsZC5kYXRhLmdldEtleXN0cm9rZSgpKSlkLmRhdGEucHJldmVudERlZmF1bHQoKTtlbHNlIGlmKHRoaXMua2V5RXZlbnRzU3RhY2suY2xlYW5VcChkKSxkPXRoaXMudW5kb01hbmFnZXIsdGhpcy5rZXlFdmVudHNTdGFjay5nZXRMYXN0KGUpfHx0aGlzLmtleUV2ZW50c1N0YWNrLnB1c2goZSksdGhpcy5sYXN0S2V5ZG93bkltYWdlPW5ldyBjKGQuZWRpdG9yKSxiLmlzTmF2aWdhdGlvbktleShlKXx8dGhpcy51bmRvTWFuYWdlci5rZXlHcm91cENoYW5nZWQoZSkpaWYoZC5zdHJva2VzUmVjb3JkZWRbMF18fGQuc3Ryb2tlc1JlY29yZGVkWzFdKWQuc2F2ZSghMSx0aGlzLmxhc3RLZXlkb3duSW1hZ2UsITEpLGQucmVzZXRUeXBlKCl9LG9uSW5wdXQ6ZnVuY3Rpb24oKXtpZih0aGlzLmlnbm9yZUlucHV0RXZlbnQpdGhpcy5pZ25vcmVJbnB1dEV2ZW50PVxuITE7ZWxzZXt2YXIgYT10aGlzLmtleUV2ZW50c1N0YWNrLmdldExhc3QoKTthfHwoYT10aGlzLmtleUV2ZW50c1N0YWNrLnB1c2goMCkpO3RoaXMua2V5RXZlbnRzU3RhY2suaW5jcmVtZW50KGEua2V5Q29kZSk7dGhpcy5rZXlFdmVudHNTdGFjay5nZXRUb3RhbElucHV0cygpPj10aGlzLnVuZG9NYW5hZ2VyLnN0cm9rZXNMaW1pdCYmKHRoaXMudW5kb01hbmFnZXIudHlwZShhLmtleUNvZGUsITApLHRoaXMua2V5RXZlbnRzU3RhY2sucmVzZXRJbnB1dHMoKSl9fSxvbktleXVwOmZ1bmN0aW9uKGEpe3ZhciBkPXRoaXMudW5kb01hbmFnZXI7YT1hLmRhdGEuZ2V0S2V5KCk7dmFyIGU9dGhpcy5rZXlFdmVudHNTdGFjay5nZXRUb3RhbElucHV0cygpO3RoaXMua2V5RXZlbnRzU3RhY2sucmVtb3ZlKGEpO2lmKCEoYi5pZUZ1bmN0aW9uYWxLZXlzQnVnKGEpJiZ0aGlzLmxhc3RLZXlkb3duSW1hZ2UmJnRoaXMubGFzdEtleWRvd25JbWFnZS5lcXVhbHNDb250ZW50KG5ldyBjKGQuZWRpdG9yLFxuITApKSkpaWYoMDxlKWQudHlwZShhKTtlbHNlIGlmKGIuaXNOYXZpZ2F0aW9uS2V5KGEpKXRoaXMub25OYXZpZ2F0aW9uS2V5KCEwKX0sb25OYXZpZ2F0aW9uS2V5OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMudW5kb01hbmFnZXI7IWEmJmIuc2F2ZSghMCxudWxsLCExKXx8Yi51cGRhdGVTZWxlY3Rpb24obmV3IGMoYi5lZGl0b3IpKTtiLnJlc2V0VHlwZSgpfSxpZ25vcmVJbnB1dEV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oKXt0aGlzLmlnbm9yZUlucHV0RXZlbnQ9ITB9LGF0dGFjaExpc3RlbmVyczpmdW5jdGlvbigpe3ZhciBhPXRoaXMudW5kb01hbmFnZXIuZWRpdG9yLGM9YS5lZGl0YWJsZSgpLGQ9dGhpcztjLmF0dGFjaExpc3RlbmVyKGMsXCJrZXlkb3duXCIsZnVuY3Rpb24oYSl7ZC5vbktleWRvd24oYSk7aWYoYi5pZUZ1bmN0aW9uYWxLZXlzQnVnKGEuZGF0YS5nZXRLZXkoKSkpZC5vbklucHV0KCl9LG51bGwsbnVsbCw5OTkpO2MuYXR0YWNoTGlzdGVuZXIoYyxDS0VESVRPUi5lbnYuaWU/XG5cImtleXByZXNzXCI6XCJpbnB1dFwiLGQub25JbnB1dCxkLG51bGwsOTk5KTtjLmF0dGFjaExpc3RlbmVyKGMsXCJrZXl1cFwiLGQub25LZXl1cCxkLG51bGwsOTk5KTtjLmF0dGFjaExpc3RlbmVyKGMsXCJwYXN0ZVwiLGQuaWdub3JlSW5wdXRFdmVudExpc3RlbmVyLGQsbnVsbCw5OTkpO2MuYXR0YWNoTGlzdGVuZXIoYyxcImRyb3BcIixkLmlnbm9yZUlucHV0RXZlbnRMaXN0ZW5lcixkLG51bGwsOTk5KTtjLmF0dGFjaExpc3RlbmVyKGMuaXNJbmxpbmUoKT9jOmEuZG9jdW1lbnQuZ2V0RG9jdW1lbnRFbGVtZW50KCksXCJjbGlja1wiLGZ1bmN0aW9uKCl7ZC5vbk5hdmlnYXRpb25LZXkoKX0sbnVsbCxudWxsLDk5OSk7Yy5hdHRhY2hMaXN0ZW5lcih0aGlzLnVuZG9NYW5hZ2VyLmVkaXRvcixcImJsdXJcIixmdW5jdGlvbigpe2Qua2V5RXZlbnRzU3RhY2sucmVtb3ZlKDkpfSxudWxsLG51bGwsOTk5KX19O3ZhciBtPUNLRURJVE9SLnBsdWdpbnMudW5kby5LZXlFdmVudHNTdGFjaz1mdW5jdGlvbigpe3RoaXMuc3RhY2s9XG5bXX07bS5wcm90b3R5cGU9e3B1c2g6ZnVuY3Rpb24oYSl7YT10aGlzLnN0YWNrLnB1c2goe2tleUNvZGU6YSxpbnB1dHM6MH0pO3JldHVybiB0aGlzLnN0YWNrW2EtMV19LGdldExhc3RJbmRleDpmdW5jdGlvbihhKXtpZihcIm51bWJlclwiIT10eXBlb2YgYSlyZXR1cm4gdGhpcy5zdGFjay5sZW5ndGgtMTtmb3IodmFyIGI9dGhpcy5zdGFjay5sZW5ndGg7Yi0tOylpZih0aGlzLnN0YWNrW2JdLmtleUNvZGU9PWEpcmV0dXJuIGI7cmV0dXJuLTF9LGdldExhc3Q6ZnVuY3Rpb24oYSl7YT10aGlzLmdldExhc3RJbmRleChhKTtyZXR1cm4tMSE9YT90aGlzLnN0YWNrW2FdOm51bGx9LGluY3JlbWVudDpmdW5jdGlvbihhKXt0aGlzLmdldExhc3QoYSkuaW5wdXRzKyt9LHJlbW92ZTpmdW5jdGlvbihhKXthPXRoaXMuZ2V0TGFzdEluZGV4KGEpOy0xIT1hJiZ0aGlzLnN0YWNrLnNwbGljZShhLDEpfSxyZXNldElucHV0czpmdW5jdGlvbihhKXtpZihcIm51bWJlclwiPT10eXBlb2YgYSl0aGlzLmdldExhc3QoYSkuaW5wdXRzPVxuMDtlbHNlIGZvcihhPXRoaXMuc3RhY2subGVuZ3RoO2EtLTspdGhpcy5zdGFja1thXS5pbnB1dHM9MH0sZ2V0VG90YWxJbnB1dHM6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5zdGFjay5sZW5ndGgsYj0wO2EtLTspYis9dGhpcy5zdGFja1thXS5pbnB1dHM7cmV0dXJuIGJ9LGNsZWFuVXA6ZnVuY3Rpb24oYSl7YT1hLmRhdGEuJDthLmN0cmxLZXl8fGEubWV0YUtleXx8dGhpcy5yZW1vdmUoMTcpO2Euc2hpZnRLZXl8fHRoaXMucmVtb3ZlKDE2KTthLmFsdEtleXx8dGhpcy5yZW1vdmUoMTgpfX19KCksQ0tFRElUT1IucGx1Z2lucy5hZGQoXCJ3c2NcIix7cmVxdWlyZXM6XCJkaWFsb2dcIixwYXJzZUFwaTpmdW5jdGlvbihhKXthLmNvbmZpZy53c2Nfb25GaW5pc2g9XCJmdW5jdGlvblwiPT09dHlwZW9mIGEuY29uZmlnLndzY19vbkZpbmlzaD9hLmNvbmZpZy53c2Nfb25GaW5pc2g6ZnVuY3Rpb24oKXt9O2EuY29uZmlnLndzY19vbkNsb3NlPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBhLmNvbmZpZy53c2Nfb25DbG9zZT9cbmEuY29uZmlnLndzY19vbkNsb3NlOmZ1bmN0aW9uKCl7fX0scGFyc2VDb25maWc6ZnVuY3Rpb24oYSl7YS5jb25maWcud3NjX2N1c3RvbWVySWQ9YS5jb25maWcud3NjX2N1c3RvbWVySWR8fENLRURJVE9SLmNvbmZpZy53c2NfY3VzdG9tZXJJZHx8XCIxOnVhM3h3MS0yWHlHSjMtR1dydUQzLTZPRk5UMS1vWGN1QjEtblI2QnA0LWhnUUhjLUVjWW5nMy1zZFJYRzMtTk9mRmtcIjthLmNvbmZpZy53c2NfY3VzdG9tRGljdGlvbmFyeUlkcz1hLmNvbmZpZy53c2NfY3VzdG9tRGljdGlvbmFyeUlkc3x8Q0tFRElUT1IuY29uZmlnLndzY19jdXN0b21EaWN0aW9uYXJ5SWRzfHxcIlwiO2EuY29uZmlnLndzY191c2VyRGljdGlvbmFyeU5hbWU9YS5jb25maWcud3NjX3VzZXJEaWN0aW9uYXJ5TmFtZXx8Q0tFRElUT1IuY29uZmlnLndzY191c2VyRGljdGlvbmFyeU5hbWV8fFwiXCI7YS5jb25maWcud3NjX2N1c3RvbUxvYWRlclNjcmlwdD1hLmNvbmZpZy53c2NfY3VzdG9tTG9hZGVyU2NyaXB0fHxDS0VESVRPUi5jb25maWcud3NjX2N1c3RvbUxvYWRlclNjcmlwdDtcbkNLRURJVE9SLmNvbmZpZy53c2NfY21kPWEuY29uZmlnLndzY19jbWR8fENLRURJVE9SLmNvbmZpZy53c2NfY21kfHxcInNwZWxsXCI7Q0tFRElUT1IuY29uZmlnLndzY192ZXJzaW9uPVwidjQuMy4wLW1hc3Rlci1kNzY5MjMzXCI7Q0tFRElUT1IuY29uZmlnLndzY19yZW1vdmVHbG9iYWxWYXJpYWJsZT0hMH0saW5pdDpmdW5jdGlvbihhKXt2YXIgZT1DS0VESVRPUi5lbnY7dGhpcy5wYXJzZUNvbmZpZyhhKTt0aGlzLnBhcnNlQXBpKGEpO2EuYWRkQ29tbWFuZChcImNoZWNrc3BlbGxcIixuZXcgQ0tFRElUT1IuZGlhbG9nQ29tbWFuZChcImNoZWNrc3BlbGxcIikpLm1vZGVzPXt3eXNpd3lnOiFDS0VESVRPUi5lbnYub3BlcmEmJiFDS0VESVRPUi5lbnYuYWlyJiZkb2N1bWVudC5kb21haW49PXdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSYmIShlLmllJiYoOD5lLnZlcnNpb258fGUucXVpcmtzKSl9O1widW5kZWZpbmVkXCI9PXR5cGVvZiBhLnBsdWdpbnMuc2NheXQmJmEudWkuYWRkQnV0dG9uJiZhLnVpLmFkZEJ1dHRvbihcIlNwZWxsQ2hlY2tlclwiLFxue2xhYmVsOmEubGFuZy53c2MudG9vbGJhcixjbGljazpmdW5jdGlvbihhKXt2YXIgYz1hLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FP2EuY29udGFpbmVyLmdldFRleHQoKTphLmRvY3VtZW50LmdldEJvZHkoKS5nZXRUZXh0KCk7KGM9Yy5yZXBsYWNlKC9cXHMvZyxcIlwiKSk/YS5leGVjQ29tbWFuZChcImNoZWNrc3BlbGxcIik6YWxlcnQoXCJOb3RoaW5nIHRvIGNoZWNrIVwiKX0sdG9vbGJhcjpcInNwZWxsY2hlY2tlciwxMFwifSk7Q0tFRElUT1IuZGlhbG9nLmFkZChcImNoZWNrc3BlbGxcIix0aGlzLnBhdGgrKENLRURJVE9SLmVudi5pZSYmNz49Q0tFRElUT1IuZW52LnZlcnNpb24/XCJkaWFsb2dzL3dzY19pZS5qc1wiOndpbmRvdy5wb3N0TWVzc2FnZT9cImRpYWxvZ3Mvd3NjLmpzXCI6XCJkaWFsb2dzL3dzY19pZS5qc1wiKSl9fSksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe2Z1bmN0aW9uIGIoYSl7dmFyIGM9ITE7Zy5hdHRhY2hMaXN0ZW5lcihnLFwia2V5ZG93blwiLGZ1bmN0aW9uKCl7dmFyIGI9XG5mLmdldEJvZHkoKS5nZXRFbGVtZW50c0J5VGFnKGEpO2lmKCFjKXtmb3IodmFyIGQ9MDtkPGIuY291bnQoKTtkKyspYi5nZXRJdGVtKGQpLnNldEN1c3RvbURhdGEoXCJyZXRhaW5cIiwhMCk7Yz0hMH19LG51bGwsbnVsbCwxKTtnLmF0dGFjaExpc3RlbmVyKGcsXCJrZXl1cFwiLGZ1bmN0aW9uKCl7dmFyIGI9Zi5nZXRFbGVtZW50c0J5VGFnKGEpO2MmJigxIT1iLmNvdW50KCl8fGIuZ2V0SXRlbSgwKS5nZXRDdXN0b21EYXRhKFwicmV0YWluXCIpfHxiLmdldEl0ZW0oMCkuaGFzQXR0cmlidXRlKFwiZGF0YS1ja2UtdGVtcFwiKXx8Yi5nZXRJdGVtKDApLnJlbW92ZSgxKSxjPSExKX0pfXZhciBjPXRoaXMuZWRpdG9yLGY9YS5kb2N1bWVudCxoPWYuYm9keSxrPWYuZ2V0RWxlbWVudEJ5SWQoXCJja2VfYWN0c2NycHRcIik7ayYmay5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGspOyhrPWYuZ2V0RWxlbWVudEJ5SWQoXCJja2Vfc2hpbXNjcnB0XCIpKSYmay5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGspOyhrPWYuZ2V0RWxlbWVudEJ5SWQoXCJja2VfYmFzZXRhZ3NjcnB0XCIpKSYmXG5rLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoayk7aC5jb250ZW50RWRpdGFibGU9ITA7Q0tFRElUT1IuZW52LmllJiYoaC5oaWRlRm9jdXM9ITAsaC5kaXNhYmxlZD0hMCxoLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpKTtkZWxldGUgdGhpcy5fLmlzTG9hZGluZ0RhdGE7dGhpcy4kPWg7Zj1uZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50KGYpO3RoaXMuc2V0dXAoKTt0aGlzLmZpeEluaXRpYWxTZWxlY3Rpb24oKTt2YXIgZz10aGlzO0NLRURJVE9SLmVudi5pZSYmIUNLRURJVE9SLmVudi5lZGdlJiZmLmdldERvY3VtZW50RWxlbWVudCgpLmFkZENsYXNzKGYuJC5jb21wYXRNb2RlKTtDS0VESVRPUi5lbnYuaWUmJiFDS0VESVRPUi5lbnYuZWRnZSYmYy5lbnRlck1vZGUhPUNLRURJVE9SLkVOVEVSX1A/YihcInBcIik6Q0tFRElUT1IuZW52LmVkZ2UmJmMuZW50ZXJNb2RlIT1DS0VESVRPUi5FTlRFUl9ESVYmJmIoXCJkaXZcIik7aWYoQ0tFRElUT1IuZW52LndlYmtpdHx8Q0tFRElUT1IuZW52LmllJiZcbjEwPENLRURJVE9SLmVudi52ZXJzaW9uKWYuZ2V0RG9jdW1lbnRFbGVtZW50KCkub24oXCJtb3VzZWRvd25cIixmdW5jdGlvbihhKXthLmRhdGEuZ2V0VGFyZ2V0KCkuaXMoXCJodG1sXCIpJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5lZGl0YWJsZSgpLmZvY3VzKCl9KX0pO2UoYyk7dHJ5e2MuZG9jdW1lbnQuJC5leGVjQ29tbWFuZChcIjJELXBvc2l0aW9uXCIsITEsITApfWNhdGNoKG4pe30oQ0tFRElUT1IuZW52LmdlY2tvfHxDS0VESVRPUi5lbnYuaWUmJlwiQ1NTMUNvbXBhdFwiPT1jLmRvY3VtZW50LiQuY29tcGF0TW9kZSkmJnRoaXMuYXR0YWNoTGlzdGVuZXIodGhpcyxcImtleWRvd25cIixmdW5jdGlvbihhKXt2YXIgYj1hLmRhdGEuZ2V0S2V5c3Ryb2tlKCk7aWYoMzM9PWJ8fDM0PT1iKWlmKENLRURJVE9SLmVudi5pZSlzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5nZXRTZWxlY3Rpb24oKS5zY3JvbGxJbnRvVmlldygpfSwwKTtlbHNlIGlmKGMud2luZG93LiQuaW5uZXJIZWlnaHQ+dGhpcy4kLm9mZnNldEhlaWdodCl7dmFyIGQ9XG5jLmNyZWF0ZVJhbmdlKCk7ZFszMz09Yj9cIm1vdmVUb0VsZW1lbnRFZGl0U3RhcnRcIjpcIm1vdmVUb0VsZW1lbnRFZGl0RW5kXCJdKHRoaXMpO2Quc2VsZWN0KCk7YS5kYXRhLnByZXZlbnREZWZhdWx0KCl9fSk7Q0tFRElUT1IuZW52LmllJiZ0aGlzLmF0dGFjaExpc3RlbmVyKGYsXCJibHVyXCIsZnVuY3Rpb24oKXt0cnl7Zi4kLnNlbGVjdGlvbi5lbXB0eSgpfWNhdGNoKGEpe319KTtDS0VESVRPUi5lbnYuaU9TJiZ0aGlzLmF0dGFjaExpc3RlbmVyKGYsXCJ0b3VjaGVuZFwiLGZ1bmN0aW9uKCl7YS5mb2N1cygpfSk7aD1jLmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWcoXCJ0aXRsZVwiKS5nZXRJdGVtKDApO2guZGF0YShcImNrZS10aXRsZVwiLGguZ2V0VGV4dCgpKTtDS0VESVRPUi5lbnYuaWUmJihjLmRvY3VtZW50LiQudGl0bGU9dGhpcy5fLmRvY1RpdGxlKTtDS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XCJ1bmxvYWRlZFwiPT10aGlzLnN0YXR1cyYmKHRoaXMuc3RhdHVzPVwicmVhZHlcIik7XG5jLmZpcmUoXCJjb250ZW50RG9tXCIpO3RoaXMuXy5pc1BlbmRpbmdGb2N1cyYmKGMuZm9jdXMoKSx0aGlzLl8uaXNQZW5kaW5nRm9jdXM9ITEpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtjLmZpcmUoXCJkYXRhUmVhZHlcIil9LDApfSwwLHRoaXMpfWZ1bmN0aW9uIGUoYSl7ZnVuY3Rpb24gYigpe3ZhciBlO2EuZWRpdGFibGUoKS5hdHRhY2hMaXN0ZW5lcihhLFwic2VsZWN0aW9uQ2hhbmdlXCIsZnVuY3Rpb24oKXt2YXIgYj1hLmdldFNlbGVjdGlvbigpLmdldFNlbGVjdGVkRWxlbWVudCgpO2ImJihlJiYoZS5kZXRhY2hFdmVudChcIm9ucmVzaXplc3RhcnRcIixjKSxlPW51bGwpLGIuJC5hdHRhY2hFdmVudChcIm9ucmVzaXplc3RhcnRcIixjKSxlPWIuJCl9KX1mdW5jdGlvbiBjKGEpe2EucmV0dXJuVmFsdWU9ITF9aWYoQ0tFRElUT1IuZW52LmdlY2tvKXRyeXt2YXIgZT1hLmRvY3VtZW50LiQ7ZS5leGVjQ29tbWFuZChcImVuYWJsZU9iamVjdFJlc2l6aW5nXCIsITEsIWEuY29uZmlnLmRpc2FibGVPYmplY3RSZXNpemluZyk7XG5lLmV4ZWNDb21tYW5kKFwiZW5hYmxlSW5saW5lVGFibGVFZGl0aW5nXCIsITEsIWEuY29uZmlnLmRpc2FibGVOYXRpdmVUYWJsZUhhbmRsZXMpfWNhdGNoKGgpe31lbHNlIENLRURJVE9SLmVudi5pZSYmMTE+Q0tFRElUT1IuZW52LnZlcnNpb24mJmEuY29uZmlnLmRpc2FibGVPYmplY3RSZXNpemluZyYmYihhKX1mdW5jdGlvbiBiKCl7dmFyIGE9W107aWYoODw9Q0tFRElUT1IuZG9jdW1lbnQuJC5kb2N1bWVudE1vZGUpe2EucHVzaChcImh0bWwuQ1NTMUNvbXBhdCBbY29udGVudGVkaXRhYmxlXFx4M2RmYWxzZV17bWluLWhlaWdodDowICFpbXBvcnRhbnR9XCIpO3ZhciBiPVtdLGM7Zm9yKGMgaW4gQ0tFRElUT1IuZHRkLiRyZW1vdmVFbXB0eSliLnB1c2goXCJodG1sLkNTUzFDb21wYXQgXCIrYytcIltjb250ZW50ZWRpdGFibGVcXHgzZGZhbHNlXVwiKTthLnB1c2goYi5qb2luKFwiLFwiKStcIntkaXNwbGF5OmlubGluZS1ibG9ja31cIil9ZWxzZSBDS0VESVRPUi5lbnYuZ2Vja28mJihhLnB1c2goXCJodG1se2hlaWdodDoxMDAlICFpbXBvcnRhbnR9XCIpLFxuYS5wdXNoKFwiaW1nOi1tb3otYnJva2Vuey1tb3otZm9yY2UtYnJva2VuLWltYWdlLWljb246MTttaW4td2lkdGg6MjRweDttaW4taGVpZ2h0OjI0cHh9XCIpKTthLnB1c2goXCJodG1se2N1cnNvcjp0ZXh0OypjdXJzb3I6YXV0b31cIik7YS5wdXNoKFwiaW1nLGlucHV0LHRleHRhcmVhe2N1cnNvcjpkZWZhdWx0fVwiKTtyZXR1cm4gYS5qb2luKFwiXFxuXCIpfXZhciBjO0NLRURJVE9SLnBsdWdpbnMuYWRkKFwid3lzaXd5Z2FyZWFcIix7aW5pdDpmdW5jdGlvbihhKXthLmNvbmZpZy5mdWxsUGFnZSYmYS5hZGRGZWF0dXJlKHthbGxvd2VkQ29udGVudDpcImh0bWwgaGVhZCB0aXRsZTsgc3R5bGUgW21lZGlhLHR5cGVdOyBib2R5ICgqKVtpZF07IG1ldGEgbGluayBbKl1cIixyZXF1aXJlZENvbnRlbnQ6XCJib2R5XCJ9KTthLmFkZE1vZGUoXCJ3eXNpd3lnXCIsZnVuY3Rpb24oYil7ZnVuY3Rpb24gZShmKXtmJiZmLnJlbW92ZUxpc3RlbmVyKCk7YS5lZGl0YWJsZShuZXcgYyhhLGguJC5jb250ZW50V2luZG93LmRvY3VtZW50LmJvZHkpKTtcbmEuc2V0RGF0YShhLmdldERhdGEoMSksYil9dmFyIGY9XCJkb2N1bWVudC5vcGVuKCk7XCIrKENLRURJVE9SLmVudi5pZT9cIihcIitDS0VESVRPUi50b29scy5maXhEb21haW4rXCIpKCk7XCI6XCJcIikrXCJkb2N1bWVudC5jbG9zZSgpO1wiLGY9Q0tFRElUT1IuZW52LmFpcj9cImphdmFzY3JpcHQ6dm9pZCgwKVwiOkNLRURJVE9SLmVudi5pZSYmIUNLRURJVE9SLmVudi5lZGdlP1wiamF2YXNjcmlwdDp2b2lkKGZ1bmN0aW9uKCl7XCIrZW5jb2RlVVJJQ29tcG9uZW50KGYpK1wifSgpKVwiOlwiXCIsaD1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCgnXFx4M2NpZnJhbWUgc3JjXFx4M2RcIicrZisnXCIgZnJhbWVCb3JkZXJcXHgzZFwiMFwiXFx4M2VcXHgzYy9pZnJhbWVcXHgzZScpO2guc2V0U3R5bGVzKHt3aWR0aDpcIjEwMCVcIixoZWlnaHQ6XCIxMDAlXCJ9KTtoLmFkZENsYXNzKFwiY2tlX3d5c2l3eWdfZnJhbWVcIikuYWRkQ2xhc3MoXCJja2VfcmVzZXRcIik7Zj1hLnVpLnNwYWNlKFwiY29udGVudHNcIik7Zi5hcHBlbmQoaCk7XG52YXIgaz1DS0VESVRPUi5lbnYuaWUmJiFDS0VESVRPUi5lbnYuZWRnZXx8Q0tFRElUT1IuZW52LmdlY2tvO2lmKGspaC5vbihcImxvYWRcIixlKTt2YXIgZz1hLnRpdGxlLG49YS5maXJlKFwiYXJpYUVkaXRvckhlbHBMYWJlbFwiLHt9KS5sYWJlbDtnJiYoQ0tFRElUT1IuZW52LmllJiZuJiYoZys9XCIsIFwiK24pLGguc2V0QXR0cmlidXRlKFwidGl0bGVcIixnKSk7aWYobil7dmFyIGc9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCksdj1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCgnXFx4M2NzcGFuIGlkXFx4M2RcIicrZysnXCIgY2xhc3NcXHgzZFwiY2tlX3ZvaWNlX2xhYmVsXCJcXHgzZScrbitcIlxceDNjL3NwYW5cXHgzZVwiKTtmLmFwcGVuZCh2LDEpO2guc2V0QXR0cmlidXRlKFwiYXJpYS1kZXNjcmliZWRieVwiLGcpfWEub24oXCJiZWZvcmVNb2RlVW5sb2FkXCIsZnVuY3Rpb24oYSl7YS5yZW1vdmVMaXN0ZW5lcigpO3YmJnYucmVtb3ZlKCl9KTtoLnNldEF0dHJpYnV0ZXMoe3RhYkluZGV4OmEudGFiSW5kZXgsXG5hbGxvd1RyYW5zcGFyZW5jeTpcInRydWVcIn0pOyFrJiZlKCk7YS5maXJlKFwiYXJpYVdpZGdldFwiLGgpfSl9fSk7Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5hZGRDb250ZW50c0Nzcz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmNvbmZpZyxjPWIuY29udGVudHNDc3M7Q0tFRElUT1IudG9vbHMuaXNBcnJheShjKXx8KGIuY29udGVudHNDc3M9Yz9bY106W10pO2IuY29udGVudHNDc3MucHVzaChhKX07Yz1DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7JDpmdW5jdGlvbigpe3RoaXMuYmFzZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5fLmZyYW1lTG9hZGVkSGFuZGxlcj1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbihiKXtDS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGEsMCx0aGlzLGIpfSx0aGlzKTt0aGlzLl8uZG9jVGl0bGU9dGhpcy5nZXRXaW5kb3coKS5nZXRGcmFtZSgpLmdldEF0dHJpYnV0ZShcInRpdGxlXCIpfSxiYXNlOkNLRURJVE9SLmVkaXRhYmxlLHByb3RvOntzZXREYXRhOmZ1bmN0aW9uKGEsXG5jKXt2YXIgZT10aGlzLmVkaXRvcjtpZihjKXRoaXMuc2V0SHRtbChhKSx0aGlzLmZpeEluaXRpYWxTZWxlY3Rpb24oKSxlLmZpcmUoXCJkYXRhUmVhZHlcIik7ZWxzZXt0aGlzLl8uaXNMb2FkaW5nRGF0YT0hMDtlLl8uZGF0YVN0b3JlPXtpZDoxfTt2YXIgZj1lLmNvbmZpZyxoPWYuZnVsbFBhZ2Usaz1mLmRvY1R5cGUsZz1DS0VESVRPUi50b29scy5idWlsZFN0eWxlSHRtbChiKCkpLnJlcGxhY2UoLzxzdHlsZT4vLCdcXHgzY3N0eWxlIGRhdGEtY2tlLXRlbXBcXHgzZFwiMVwiXFx4M2UnKTtofHwoZys9Q0tFRElUT1IudG9vbHMuYnVpbGRTdHlsZUh0bWwoZS5jb25maWcuY29udGVudHNDc3MpKTt2YXIgbj1mLmJhc2VIcmVmPydcXHgzY2Jhc2UgaHJlZlxceDNkXCInK2YuYmFzZUhyZWYrJ1wiIGRhdGEtY2tlLXRlbXBcXHgzZFwiMVwiIC9cXHgzZSc6XCJcIjtoJiYoYT1hLnJlcGxhY2UoLzwhRE9DVFlQRVtePl0qPi9pLGZ1bmN0aW9uKGEpe2UuZG9jVHlwZT1rPWE7cmV0dXJuXCJcIn0pLnJlcGxhY2UoLzxcXD94bWxcXHNbXlxcP10qXFw/Pi9pLFxuZnVuY3Rpb24oYSl7ZS54bWxEZWNsYXJhdGlvbj1hO3JldHVyblwiXCJ9KSk7YT1lLmRhdGFQcm9jZXNzb3IudG9IdG1sKGEpO2g/KC88Ym9keVtcXHN8Pl0vLnRlc3QoYSl8fChhPVwiXFx4M2Nib2R5XFx4M2VcIithKSwvPGh0bWxbXFxzfD5dLy50ZXN0KGEpfHwoYT1cIlxceDNjaHRtbFxceDNlXCIrYStcIlxceDNjL2h0bWxcXHgzZVwiKSwvPGhlYWRbXFxzfD5dLy50ZXN0KGEpPy88dGl0bGVbXFxzfD5dLy50ZXN0KGEpfHwoYT1hLnJlcGxhY2UoLzxoZWFkW14+XSo+LyxcIiRcXHgyNlxceDNjdGl0bGVcXHgzZVxceDNjL3RpdGxlXFx4M2VcIikpOmE9YS5yZXBsYWNlKC88aHRtbFtePl0qPi8sXCIkXFx4MjZcXHgzY2hlYWRcXHgzZVxceDNjdGl0bGVcXHgzZVxceDNjL3RpdGxlXFx4M2VcXHgzYy9oZWFkXFx4M2VcIiksbiYmKGE9YS5yZXBsYWNlKC88aGVhZFtePl0qPz4vLFwiJFxceDI2XCIrbikpLGE9YS5yZXBsYWNlKC88XFwvaGVhZFxccyo+LyxnK1wiJFxceDI2XCIpLGE9aythKTphPWYuZG9jVHlwZSsnXFx4M2NodG1sIGRpclxceDNkXCInK2YuY29udGVudHNMYW5nRGlyZWN0aW9uK1xuJ1wiIGxhbmdcXHgzZFwiJysoZi5jb250ZW50c0xhbmd1YWdlfHxlLmxhbmdDb2RlKSsnXCJcXHgzZVxceDNjaGVhZFxceDNlXFx4M2N0aXRsZVxceDNlJyt0aGlzLl8uZG9jVGl0bGUrXCJcXHgzYy90aXRsZVxceDNlXCIrbitnK1wiXFx4M2MvaGVhZFxceDNlXFx4M2Nib2R5XCIrKGYuYm9keUlkPycgaWRcXHgzZFwiJytmLmJvZHlJZCsnXCInOlwiXCIpKyhmLmJvZHlDbGFzcz8nIGNsYXNzXFx4M2RcIicrZi5ib2R5Q2xhc3MrJ1wiJzpcIlwiKStcIlxceDNlXCIrYStcIlxceDNjL2JvZHlcXHgzZVxceDNjL2h0bWxcXHgzZVwiO0NLRURJVE9SLmVudi5nZWNrbyYmKGE9YS5yZXBsYWNlKC88Ym9keS8sJ1xceDNjYm9keSBjb250ZW50ZWRpdGFibGVcXHgzZFwidHJ1ZVwiICcpLDJFND5DS0VESVRPUi5lbnYudmVyc2lvbiYmKGE9YS5yZXBsYWNlKC88Ym9keVtePl0qPi8sXCIkXFx4MjZcXHgzYyEtLSBja2UtY29udGVudC1zdGFydCAtLVxceDNlXCIpKSk7Zj0nXFx4M2NzY3JpcHQgaWRcXHgzZFwiY2tlX2FjdHNjcnB0XCIgdHlwZVxceDNkXCJ0ZXh0L2phdmFzY3JpcHRcIicrXG4oQ0tFRElUT1IuZW52LmllPycgZGVmZXJcXHgzZFwiZGVmZXJcIiAnOlwiXCIpK1wiXFx4M2V2YXIgd2FzTG9hZGVkXFx4M2QwO2Z1bmN0aW9uIG9ubG9hZCgpe2lmKCF3YXNMb2FkZWQpd2luZG93LnBhcmVudC5DS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oXCIrdGhpcy5fLmZyYW1lTG9hZGVkSGFuZGxlcitcIix3aW5kb3cpO3dhc0xvYWRlZFxceDNkMTt9XCIrKENLRURJVE9SLmVudi5pZT9cIm9ubG9hZCgpO1wiOidkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBvbmxvYWQsIGZhbHNlICk7JykrXCJcXHgzYy9zY3JpcHRcXHgzZVwiO0NLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbiYmKGYrPSdcXHgzY3NjcmlwdCBpZFxceDNkXCJja2Vfc2hpbXNjcnB0XCJcXHgzZXdpbmRvdy5wYXJlbnQuQ0tFRElUT1IudG9vbHMuZW5hYmxlSHRtbDVFbGVtZW50cyhkb2N1bWVudClcXHgzYy9zY3JpcHRcXHgzZScpO24mJkNLRURJVE9SLmVudi5pZSYmMTA+Q0tFRElUT1IuZW52LnZlcnNpb24mJlxuKGYrPSdcXHgzY3NjcmlwdCBpZFxceDNkXCJja2VfYmFzZXRhZ3NjcnB0XCJcXHgzZXZhciBiYXNlVGFnIFxceDNkIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIFwiYmFzZVwiICk7YmFzZVRhZy5ocmVmIFxceDNkIGJhc2VUYWcuaHJlZjtcXHgzYy9zY3JpcHRcXHgzZScpO2E9YS5yZXBsYWNlKC8oPz1cXHMqPFxcLyg6P2hlYWQpPikvLGYpO3RoaXMuY2xlYXJDdXN0b21EYXRhKCk7dGhpcy5jbGVhckxpc3RlbmVycygpO2UuZmlyZShcImNvbnRlbnREb21VbmxvYWRcIik7dmFyIHY9dGhpcy5nZXREb2N1bWVudCgpO3RyeXt2LndyaXRlKGEpfWNhdGNoKHIpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXt2LndyaXRlKGEpfSwwKX19fSxnZXREYXRhOmZ1bmN0aW9uKGEpe2lmKGEpcmV0dXJuIHRoaXMuZ2V0SHRtbCgpO2E9dGhpcy5lZGl0b3I7dmFyIGI9YS5jb25maWcsYz1iLmZ1bGxQYWdlLGU9YyYmYS5kb2NUeXBlLGg9YyYmYS54bWxEZWNsYXJhdGlvbixrPXRoaXMuZ2V0RG9jdW1lbnQoKSxjPWM/ay5nZXREb2N1bWVudEVsZW1lbnQoKS5nZXRPdXRlckh0bWwoKTpcbmsuZ2V0Qm9keSgpLmdldEh0bWwoKTtDS0VESVRPUi5lbnYuZ2Vja28mJmIuZW50ZXJNb2RlIT1DS0VESVRPUi5FTlRFUl9CUiYmKGM9Yy5yZXBsYWNlKC88YnI+KD89XFxzKig6PyR8PFxcL2JvZHk+KSkvLFwiXCIpKTtjPWEuZGF0YVByb2Nlc3Nvci50b0RhdGFGb3JtYXQoYyk7aCYmKGM9aCtcIlxcblwiK2MpO2UmJihjPWUrXCJcXG5cIitjKTtyZXR1cm4gY30sZm9jdXM6ZnVuY3Rpb24oKXt0aGlzLl8uaXNMb2FkaW5nRGF0YT90aGlzLl8uaXNQZW5kaW5nRm9jdXM9ITA6Yy5iYXNlUHJvdG8uZm9jdXMuY2FsbCh0aGlzKX0sZGV0YWNoOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lZGl0b3IsYj1hLmRvY3VtZW50LGU7dHJ5e2U9YS53aW5kb3cuZ2V0RnJhbWUoKX1jYXRjaChmKXt9Yy5iYXNlUHJvdG8uZGV0YWNoLmNhbGwodGhpcyk7dGhpcy5jbGVhckN1c3RvbURhdGEoKTtiLmdldERvY3VtZW50RWxlbWVudCgpLmNsZWFyQ3VzdG9tRGF0YSgpO0NLRURJVE9SLnRvb2xzLnJlbW92ZUZ1bmN0aW9uKHRoaXMuXy5mcmFtZUxvYWRlZEhhbmRsZXIpO1xuZSYmZS5nZXRQYXJlbnQoKT8oZS5jbGVhckN1c3RvbURhdGEoKSwoYT1lLnJlbW92ZUN1c3RvbURhdGEoXCJvblJlc2l6ZVwiKSkmJmEucmVtb3ZlTGlzdGVuZXIoKSxlLnJlbW92ZSgpKTpDS0VESVRPUi53YXJuKFwiZWRpdG9yLWRlc3Ryb3ktaWZyYW1lXCIpfX19KX0oKSxDS0VESVRPUi5jb25maWcuZGlzYWJsZU9iamVjdFJlc2l6aW5nPSExLENLRURJVE9SLmNvbmZpZy5kaXNhYmxlTmF0aXZlVGFibGVIYW5kbGVzPSEwLENLRURJVE9SLmNvbmZpZy5kaXNhYmxlTmF0aXZlU3BlbGxDaGVja2VyPSEwLENLRURJVE9SLmNvbmZpZy5wbHVnaW5zPVwiZGlhbG9ndWksZGlhbG9nLGExMXloZWxwLGFib3V0LGJhc2ljc3R5bGVzLGJsb2NrcXVvdGUsY2xpcGJvYXJkLHBhbmVsLGZsb2F0cGFuZWwsbWVudSxjb250ZXh0bWVudSxlbGVtZW50c3BhdGgsaW5kZW50LGluZGVudGxpc3QsbGlzdCxlbnRlcmtleSxlbnRpdGllcyxwb3B1cCxmaWxlYnJvd3NlcixmbG9hdGluZ3NwYWNlLGxpc3RibG9jayxidXR0b24scmljaGNvbWJvLGZvcm1hdCxob3Jpem9udGFscnVsZSxodG1sd3JpdGVyLGltYWdlLGZha2VvYmplY3RzLGxpbmssbWFnaWNsaW5lLG1heGltaXplLHBhc3RlZnJvbXdvcmQscGFzdGV0ZXh0LHJlbW92ZWZvcm1hdCxyZXNpemUsbWVudWJ1dHRvbixzY2F5dCxzaG93Ym9yZGVycyxzb3VyY2VhcmVhLHNwZWNpYWxjaGFyLHN0eWxlc2NvbWJvLHRhYix0YWJsZSx0YWJsZXRvb2xzLHRvb2xiYXIsdW5kbyx3c2Msd3lzaXd5Z2FyZWFcIixcbkNLRURJVE9SLmNvbmZpZy5za2luPVwibW9vbm9cIixmdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKGEsYil7dmFyIGM9Q0tFRElUT1IuZ2V0VXJsKFwicGx1Z2lucy9cIitiKTthPWEuc3BsaXQoXCIsXCIpO2Zvcih2YXIgZD0wO2Q8YS5sZW5ndGg7ZCsrKUNLRURJVE9SLnNraW4uaWNvbnNbYVtkXV09e3BhdGg6YyxvZmZzZXQ6LWFbKytkXSxiZ3NpemU6YVsrK2RdfX07Q0tFRElUT1IuZW52LmhpZHBpP2EoXCJhYm91dCwwLCxib2xkLDI0LCxpdGFsaWMsNDgsLHN0cmlrZSw3Miwsc3Vic2NyaXB0LDk2LCxzdXBlcnNjcmlwdCwxMjAsLHVuZGVybGluZSwxNDQsLGJpZGlsdHIsMTY4LCxiaWRpcnRsLDE5MiwsYmxvY2txdW90ZSwyMTYsLGNvcHktcnRsLDI0MCwsY29weSwyNjQsLGN1dC1ydGwsMjg4LCxjdXQsMzEyLCxwYXN0ZS1ydGwsMzM2LCxwYXN0ZSwzNjAsLGNvZGVzbmlwcGV0LDM4NCwsYmdjb2xvciw0MDgsLHRleHRjb2xvciw0MzIsLGNyZWF0ZWRpdiw0NTYsLGRvY3Byb3BzLXJ0bCw0ODAsLGRvY3Byb3BzLDUwNCwsZW1iZWQsNTI4LCxlbWJlZHNlbWFudGljLDU1MiwsZmluZC1ydGwsNTc2LCxmaW5kLDYwMCwscmVwbGFjZSw2MjQsLGZsYXNoLDY0OCwsYnV0dG9uLDY3MiwsY2hlY2tib3gsNjk2LCxmb3JtLDcyMCwsaGlkZGVuZmllbGQsNzQ0LCxpbWFnZWJ1dHRvbiw3NjgsLHJhZGlvLDc5Miwsc2VsZWN0LXJ0bCw4MTYsLHNlbGVjdCw4NDAsLHRleHRhcmVhLXJ0bCw4NjQsLHRleHRhcmVhLDg4OCwsdGV4dGZpZWxkLXJ0bCw5MTIsLHRleHRmaWVsZCw5MzYsLGhvcml6b250YWxydWxlLDk2MCwsaWZyYW1lLDk4NCwsaW1hZ2UsMTAwOCwsaW5kZW50LXJ0bCwxMDMyLCxpbmRlbnQsMTA1Niwsb3V0ZGVudC1ydGwsMTA4MCwsb3V0ZGVudCwxMTA0LCxqdXN0aWZ5YmxvY2ssMTEyOCwsanVzdGlmeWNlbnRlciwxMTUyLCxqdXN0aWZ5bGVmdCwxMTc2LCxqdXN0aWZ5cmlnaHQsMTIwMCwsbGFuZ3VhZ2UsMTIyNCwsYW5jaG9yLXJ0bCwxMjQ4LCxhbmNob3IsMTI3MiwsbGluaywxMjk2LCx1bmxpbmssMTMyMCwsYnVsbGV0ZWRsaXN0LXJ0bCwxMzQ0LCxidWxsZXRlZGxpc3QsMTM2OCwsbnVtYmVyZWRsaXN0LXJ0bCwxMzkyLCxudW1iZXJlZGxpc3QsMTQxNiwsbWF0aGpheCwxNDQwLCxtYXhpbWl6ZSwxNDY0LCxuZXdwYWdlLXJ0bCwxNDg4LCxuZXdwYWdlLDE1MTIsLHBhZ2VicmVhay1ydGwsMTUzNiwscGFnZWJyZWFrLDE1NjAsLHBhc3RlZnJvbXdvcmQtcnRsLDE1ODQsLHBhc3RlZnJvbXdvcmQsMTYwOCwscGFzdGV0ZXh0LXJ0bCwxNjMyLCxwYXN0ZXRleHQsMTY1NiwscGxhY2Vob2xkZXIsMTY4MCwscHJldmlldy1ydGwsMTcwNCwscHJldmlldywxNzI4LCxwcmludCwxNzUyLCxyZW1vdmVmb3JtYXQsMTc3Niwsc2F2ZSwxODAwLCxzY2F5dCwxODI0LCxzZWxlY3RhbGwsMTg0OCwsc2hvd2Jsb2Nrcy1ydGwsMTg3Miwsc2hvd2Jsb2NrcywxODk2LCxzbWlsZXksMTkyMCwsc291cmNlLXJ0bCwxOTQ0LCxzb3VyY2UsMTk2OCwsc291cmNlZGlhbG9nLXJ0bCwxOTkyLCxzb3VyY2VkaWFsb2csMjAxNiwsc3BlY2lhbGNoYXIsMjA0MCwsdGFibGUsMjA2NCwsdGVtcGxhdGVzLXJ0bCwyMDg4LCx0ZW1wbGF0ZXMsMjExMiwsdWljb2xvciwyMTM2LCxyZWRvLXJ0bCwyMTYwLCxyZWRvLDIxODQsLHVuZG8tcnRsLDIyMDgsLHVuZG8sMjIzMiwsc2ltcGxlYm94LDQ1MTIsYXV0byxzcGVsbGNoZWNrZXIsMjI4MCxcIixcblwiaWNvbnNfaGlkcGkucG5nXCIpOmEoXCJhYm91dCwwLGF1dG8sYm9sZCwyNCxhdXRvLGl0YWxpYyw0OCxhdXRvLHN0cmlrZSw3MixhdXRvLHN1YnNjcmlwdCw5NixhdXRvLHN1cGVyc2NyaXB0LDEyMCxhdXRvLHVuZGVybGluZSwxNDQsYXV0byxiaWRpbHRyLDE2OCxhdXRvLGJpZGlydGwsMTkyLGF1dG8sYmxvY2txdW90ZSwyMTYsYXV0byxjb3B5LXJ0bCwyNDAsYXV0byxjb3B5LDI2NCxhdXRvLGN1dC1ydGwsMjg4LGF1dG8sY3V0LDMxMixhdXRvLHBhc3RlLXJ0bCwzMzYsYXV0byxwYXN0ZSwzNjAsYXV0byxjb2Rlc25pcHBldCwzODQsYXV0byxiZ2NvbG9yLDQwOCxhdXRvLHRleHRjb2xvciw0MzIsYXV0byxjcmVhdGVkaXYsNDU2LGF1dG8sZG9jcHJvcHMtcnRsLDQ4MCxhdXRvLGRvY3Byb3BzLDUwNCxhdXRvLGVtYmVkLDUyOCxhdXRvLGVtYmVkc2VtYW50aWMsNTUyLGF1dG8sZmluZC1ydGwsNTc2LGF1dG8sZmluZCw2MDAsYXV0byxyZXBsYWNlLDYyNCxhdXRvLGZsYXNoLDY0OCxhdXRvLGJ1dHRvbiw2NzIsYXV0byxjaGVja2JveCw2OTYsYXV0byxmb3JtLDcyMCxhdXRvLGhpZGRlbmZpZWxkLDc0NCxhdXRvLGltYWdlYnV0dG9uLDc2OCxhdXRvLHJhZGlvLDc5MixhdXRvLHNlbGVjdC1ydGwsODE2LGF1dG8sc2VsZWN0LDg0MCxhdXRvLHRleHRhcmVhLXJ0bCw4NjQsYXV0byx0ZXh0YXJlYSw4ODgsYXV0byx0ZXh0ZmllbGQtcnRsLDkxMixhdXRvLHRleHRmaWVsZCw5MzYsYXV0byxob3Jpem9udGFscnVsZSw5NjAsYXV0byxpZnJhbWUsOTg0LGF1dG8saW1hZ2UsMTAwOCxhdXRvLGluZGVudC1ydGwsMTAzMixhdXRvLGluZGVudCwxMDU2LGF1dG8sb3V0ZGVudC1ydGwsMTA4MCxhdXRvLG91dGRlbnQsMTEwNCxhdXRvLGp1c3RpZnlibG9jaywxMTI4LGF1dG8sanVzdGlmeWNlbnRlciwxMTUyLGF1dG8sanVzdGlmeWxlZnQsMTE3NixhdXRvLGp1c3RpZnlyaWdodCwxMjAwLGF1dG8sbGFuZ3VhZ2UsMTIyNCxhdXRvLGFuY2hvci1ydGwsMTI0OCxhdXRvLGFuY2hvciwxMjcyLGF1dG8sbGluaywxMjk2LGF1dG8sdW5saW5rLDEzMjAsYXV0byxidWxsZXRlZGxpc3QtcnRsLDEzNDQsYXV0byxidWxsZXRlZGxpc3QsMTM2OCxhdXRvLG51bWJlcmVkbGlzdC1ydGwsMTM5MixhdXRvLG51bWJlcmVkbGlzdCwxNDE2LGF1dG8sbWF0aGpheCwxNDQwLGF1dG8sbWF4aW1pemUsMTQ2NCxhdXRvLG5ld3BhZ2UtcnRsLDE0ODgsYXV0byxuZXdwYWdlLDE1MTIsYXV0byxwYWdlYnJlYWstcnRsLDE1MzYsYXV0byxwYWdlYnJlYWssMTU2MCxhdXRvLHBhc3RlZnJvbXdvcmQtcnRsLDE1ODQsYXV0byxwYXN0ZWZyb213b3JkLDE2MDgsYXV0byxwYXN0ZXRleHQtcnRsLDE2MzIsYXV0byxwYXN0ZXRleHQsMTY1NixhdXRvLHBsYWNlaG9sZGVyLDE2ODAsYXV0byxwcmV2aWV3LXJ0bCwxNzA0LGF1dG8scHJldmlldywxNzI4LGF1dG8scHJpbnQsMTc1MixhdXRvLHJlbW92ZWZvcm1hdCwxNzc2LGF1dG8sc2F2ZSwxODAwLGF1dG8sc2NheXQsMTgyNCxhdXRvLHNlbGVjdGFsbCwxODQ4LGF1dG8sc2hvd2Jsb2Nrcy1ydGwsMTg3MixhdXRvLHNob3dibG9ja3MsMTg5NixhdXRvLHNtaWxleSwxOTIwLGF1dG8sc291cmNlLXJ0bCwxOTQ0LGF1dG8sc291cmNlLDE5NjgsYXV0byxzb3VyY2VkaWFsb2ctcnRsLDE5OTIsYXV0byxzb3VyY2VkaWFsb2csMjAxNixhdXRvLHNwZWNpYWxjaGFyLDIwNDAsYXV0byx0YWJsZSwyMDY0LGF1dG8sdGVtcGxhdGVzLXJ0bCwyMDg4LGF1dG8sdGVtcGxhdGVzLDIxMTIsYXV0byx1aWNvbG9yLDIxMzYsYXV0byxyZWRvLXJ0bCwyMTYwLGF1dG8scmVkbywyMTg0LGF1dG8sdW5kby1ydGwsMjIwOCxhdXRvLHVuZG8sMjIzMixhdXRvLHNpbXBsZWJveCwyMjU2LGF1dG8sc3BlbGxjaGVja2VyLDIyODAsYXV0b1wiLFxuXCJpY29ucy5wbmdcIil9KCkpfSkoKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gdmVuZG9yL2NrZWRpdG9yL2NrZWRpdG9yL2NrZWRpdG9yLmpzIiwidW5kZWZpbmVkXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vICJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQUE7QUNDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQUE7QURDQTtBQUNBOztBQUFBO0FDQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQUE7QURDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQUE7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFBQTtBQUNBOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQUE7QUFDQTtBQ0NBO0FBQ0E7QUFDQTs7QUFBQTtBRENBO0FBQ0E7QUFDQTtBQUNBOztBQUFBO0FBQ0E7O0FBQUE7QUFDQTs7QUFBQTtBQUNBOztBQUFBO0FBQ0E7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFBQTtBQUNBO0FBQ0E7O0FBQUE7QUFDQTtBQUNBOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFBQTtBQUNBOztBQUFBOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFBQTtBQUNBO0FBQ0E7O0FBQUE7QUFDQTs7QUFBQTs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQUE7QUFDQTs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUFBO0FBQ0E7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFBQTtBQUNBO0FBQ0E7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFBQTtBQUNBOztBQUFBOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFBQTtBQ0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFBQTtBRENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFBQTtBQUNBOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUFBO0FBQ0E7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQUE7QUFDQTs7QUFBQTtBQUNBOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFBQTs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQUE7QUFDQTs7QUFBQTs7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQUE7QUFDQTs7QUFBQTs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQUE7QUFDQTs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUFBOztBQUFBO0FBQ0E7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }
/******/ ]);